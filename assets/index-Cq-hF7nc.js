function LO(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function iE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sg={exports:{}},Cc={};var P1;function PO(){if(P1)return Cc;P1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Cc.Fragment=e,Cc.jsx=t,Cc.jsxs=t,Cc}var z1;function zO(){return z1||(z1=1,Sg.exports=PO()),Sg.exports}var m=zO(),Cg={exports:{}},_c={},_g={exports:{}},Eg={};var $1;function $O(){return $1||($1=1,(function(n){function e(k,F){var V=k.length;k.push(F);e:for(;0<V;){var Q=V-1>>>1,me=k[Q];if(0<r(me,F))k[Q]=F,k[V]=me,V=Q;else break e}}function t(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var F=k[0],V=k.pop();if(V!==F){k[0]=V;e:for(var Q=0,me=k.length,O=me>>>1;Q<O;){var M=2*(Q+1)-1,L=k[M],$=M+1,ie=k[$];if(0>r(L,V))$<me&&0>r(ie,L)?(k[Q]=ie,k[$]=V,Q=$):(k[Q]=L,k[M]=V,Q=M);else if($<me&&0>r(ie,V))k[Q]=ie,k[$]=V,Q=$;else break e}}return F}function r(k,F){var V=k.sortIndex-F.sortIndex;return V!==0?V:k.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],f=[],v=1,g=null,x=3,w=!1,S=!1,C=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function j(k){for(var F=t(f);F!==null;){if(F.callback===null)s(f);else if(F.startTime<=k)s(f),F.sortIndex=F.expirationTime,e(h,F);else break;F=t(f)}}function z(k){if(C=!1,j(k),!S)if(t(h)!==null)S=!0,P||(P=!0,ee());else{var F=t(f);F!==null&&J(z,F.startTime-k)}}var P=!1,I=-1,B=5,X=-1;function se(){return E?!0:!(n.unstable_now()-X<B)}function G(){if(E=!1,P){var k=n.unstable_now();X=k;var F=!0;try{e:{S=!1,C&&(C=!1,T(I),I=-1),w=!0;var V=x;try{t:{for(j(k),g=t(h);g!==null&&!(g.expirationTime>k&&se());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,x=g.priorityLevel;var me=Q(g.expirationTime<=k);if(k=n.unstable_now(),typeof me=="function"){g.callback=me,j(k),F=!0;break t}g===t(h)&&s(h),j(k)}else s(h);g=t(h)}if(g!==null)F=!0;else{var O=t(f);O!==null&&J(z,O.startTime-k),F=!1}}break e}finally{g=null,x=V,w=!1}F=void 0}}finally{F?ee():P=!1}}}var ee;if(typeof A=="function")ee=function(){A(G)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=G,ee=function(){re.postMessage(null)}}else ee=function(){N(G,0)};function J(k,F){I=N(function(){k(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(k){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var V=x;x=F;try{return k()}finally{x=V}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=x;x=k;try{return F()}finally{x=V}},n.unstable_scheduleCallback=function(k,F,V){var Q=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,k){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=V+me,k={id:v++,callback:F,priorityLevel:k,startTime:V,expirationTime:me,sortIndex:-1},V>Q?(k.sortIndex=V,e(f,k),t(h)===null&&k===t(f)&&(C?(T(I),I=-1):C=!0,J(z,V-Q))):(k.sortIndex=me,e(h,k),S||w||(S=!0,P||(P=!0,ee()))),k},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(k){var F=x;return function(){var V=x;x=F;try{return k.apply(this,arguments)}finally{x=V}}}})(Eg)),Eg}var U1;function UO(){return U1||(U1=1,_g.exports=$O()),_g.exports}var Ng={exports:{}},ze={};var B1;function BO(){if(B1)return ze;B1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function N(O,M,L){this.props=O,this.context=M,this.refs=E,this.updater=L||S}N.prototype.isReactComponent={},N.prototype.setState=function(O,M){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,M,"setState")},N.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=N.prototype;function A(O,M,L){this.props=O,this.context=M,this.refs=E,this.updater=L||S}var j=A.prototype=new T;j.constructor=A,C(j,N.prototype),j.isPureReactComponent=!0;var z=Array.isArray;function P(){}var I={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function X(O,M,L){var $=L.ref;return{$$typeof:n,type:O,key:M,ref:$!==void 0?$:null,props:L}}function se(O,M){return X(O.type,M,O.props)}function G(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function ee(O){var M={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(L){return M[L]})}var q=/\/+/g;function re(O,M){return typeof O=="object"&&O!==null&&O.key!=null?ee(""+O.key):M.toString(36)}function J(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(P,P):(O.status="pending",O.then(function(M){O.status==="pending"&&(O.status="fulfilled",O.value=M)},function(M){O.status==="pending"&&(O.status="rejected",O.reason=M)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function k(O,M,L,$,ie){var oe=typeof O;(oe==="undefined"||oe==="boolean")&&(O=null);var K=!1;if(O===null)K=!0;else switch(oe){case"bigint":case"string":case"number":K=!0;break;case"object":switch(O.$$typeof){case n:case e:K=!0;break;case v:return K=O._init,k(K(O._payload),M,L,$,ie)}}if(K)return ie=ie(O),K=$===""?"."+re(O,0):$,z(ie)?(L="",K!=null&&(L=K.replace(q,"$&/")+"/"),k(ie,M,L,"",function(we){return we})):ie!=null&&(G(ie)&&(ie=se(ie,L+(ie.key==null||O&&O.key===ie.key?"":(""+ie.key).replace(q,"$&/")+"/")+K)),M.push(ie)),1;K=0;var ue=$===""?".":$+":";if(z(O))for(var ye=0;ye<O.length;ye++)$=O[ye],oe=ue+re($,ye),K+=k($,M,L,oe,ie);else if(ye=w(O),typeof ye=="function")for(O=ye.call(O),ye=0;!($=O.next()).done;)$=$.value,oe=ue+re($,ye++),K+=k($,M,L,oe,ie);else if(oe==="object"){if(typeof O.then=="function")return k(J(O),M,L,$,ie);throw M=String(O),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return K}function F(O,M,L){if(O==null)return O;var $=[],ie=0;return k(O,$,"","",function(oe){return M.call(L,oe,ie++)}),$}function V(O){if(O._status===-1){var M=O._result;M=M(),M.then(function(L){(O._status===0||O._status===-1)&&(O._status=1,O._result=L)},function(L){(O._status===0||O._status===-1)&&(O._status=2,O._result=L)}),O._status===-1&&(O._status=0,O._result=M)}if(O._status===1)return O._result.default;throw O._result}var Q=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},me={map:F,forEach:function(O,M,L){F(O,function(){M.apply(this,arguments)},L)},count:function(O){var M=0;return F(O,function(){M++}),M},toArray:function(O){return F(O,function(M){return M})||[]},only:function(O){if(!G(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ze.Activity=g,ze.Children=me,ze.Component=N,ze.Fragment=t,ze.Profiler=r,ze.PureComponent=A,ze.StrictMode=s,ze.Suspense=h,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ze.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},ze.cache=function(O){return function(){return O.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(O,M,L){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var $=C({},O.props),ie=O.key;if(M!=null)for(oe in M.key!==void 0&&(ie=""+M.key),M)!B.call(M,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&M.ref===void 0||($[oe]=M[oe]);var oe=arguments.length-2;if(oe===1)$.children=L;else if(1<oe){for(var K=Array(oe),ue=0;ue<oe;ue++)K[ue]=arguments[ue+2];$.children=K}return X(O.type,ie,$)},ze.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},ze.createElement=function(O,M,L){var $,ie={},oe=null;if(M!=null)for($ in M.key!==void 0&&(oe=""+M.key),M)B.call(M,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ie[$]=M[$]);var K=arguments.length-2;if(K===1)ie.children=L;else if(1<K){for(var ue=Array(K),ye=0;ye<K;ye++)ue[ye]=arguments[ye+2];ie.children=ue}if(O&&O.defaultProps)for($ in K=O.defaultProps,K)ie[$]===void 0&&(ie[$]=K[$]);return X(O,oe,ie)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(O){return{$$typeof:u,render:O}},ze.isValidElement=G,ze.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:V}},ze.memo=function(O,M){return{$$typeof:f,type:O,compare:M===void 0?null:M}},ze.startTransition=function(O){var M=I.T,L={};I.T=L;try{var $=O(),ie=I.S;ie!==null&&ie(L,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(P,Q)}catch(oe){Q(oe)}finally{M!==null&&L.types!==null&&(M.types=L.types),I.T=M}},ze.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ze.use=function(O){return I.H.use(O)},ze.useActionState=function(O,M,L){return I.H.useActionState(O,M,L)},ze.useCallback=function(O,M){return I.H.useCallback(O,M)},ze.useContext=function(O){return I.H.useContext(O)},ze.useDebugValue=function(){},ze.useDeferredValue=function(O,M){return I.H.useDeferredValue(O,M)},ze.useEffect=function(O,M){return I.H.useEffect(O,M)},ze.useEffectEvent=function(O){return I.H.useEffectEvent(O)},ze.useId=function(){return I.H.useId()},ze.useImperativeHandle=function(O,M,L){return I.H.useImperativeHandle(O,M,L)},ze.useInsertionEffect=function(O,M){return I.H.useInsertionEffect(O,M)},ze.useLayoutEffect=function(O,M){return I.H.useLayoutEffect(O,M)},ze.useMemo=function(O,M){return I.H.useMemo(O,M)},ze.useOptimistic=function(O,M){return I.H.useOptimistic(O,M)},ze.useReducer=function(O,M,L){return I.H.useReducer(O,M,L)},ze.useRef=function(O){return I.H.useRef(O)},ze.useState=function(O){return I.H.useState(O)},ze.useSyncExternalStore=function(O,M,L){return I.H.useSyncExternalStore(O,M,L)},ze.useTransition=function(){return I.H.useTransition()},ze.version="19.2.3",ze}var V1;function M0(){return V1||(V1=1,Ng.exports=BO()),Ng.exports}var Tg={exports:{}},Sn={};var F1;function VO(){if(F1)return Sn;F1=1;var n=M0();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,f,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:h,containerInfo:f,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(h,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,v)},Sn.flushSync=function(h){var f=c.T,v=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=v,s.d.f()}},Sn.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},Sn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Sn.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var v=f.as,g=u(v,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):v==="script"&&s.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sn.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=u(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},Sn.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,g=u(v,f.crossOrigin);s.d.L(h,v,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sn.preloadModule=function(h,f){if(typeof h=="string")if(f){var v=u(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},Sn.requestFormReset=function(h){s.d.r(h)},Sn.unstable_batchedUpdates=function(h,f){return h(f)},Sn.useFormState=function(h,f,v){return c.H.useFormState(h,f,v)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var H1;function rE(){if(H1)return Tg.exports;H1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=VO(),Tg.exports}var W1;function FO(){if(W1)return _c;W1=1;var n=UO(),e=M0(),t=rE();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(s(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(s(188));return a!==i?null:i}for(var l=i,d=a;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){l=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return h(y),i;if(b===d)return h(y),a;b=b.sibling}throw Error(s(188))}if(l.return!==d.return)l=y,d=b;else{for(var _=!1,R=y.child;R;){if(R===l){_=!0,l=y,d=b;break}if(R===d){_=!0,d=y,l=b;break}R=R.sibling}if(!_){for(R=b.child;R;){if(R===l){_=!0,l=b,d=y;break}if(R===d){_=!0,d=b,l=y;break}R=R.sibling}if(!_)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var q=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case P:return"SuspenseList";case X:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case A:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case j:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return a=i.displayName||null,a!==null?a:re(i.type)||"Memo";case B:a=i._payload,i=i._init;try{return re(i(a))}catch{}}return null}var J=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Q=[],me=-1;function O(i){return{current:i}}function M(i){0>me||(i.current=Q[me],Q[me]=null,me--)}function L(i,a){me++,Q[me]=i.current,i.current=a}var $=O(null),ie=O(null),oe=O(null),K=O(null);function ue(i,a){switch(L(oe,a),L(ie,i),L($,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?a1(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=a1(a),i=o1(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}M($),L($,i)}function ye(){M($),M(ie),M(oe)}function we(i){i.memoizedState!==null&&L(K,i);var a=$.current,l=o1(a,i.type);a!==l&&(L(ie,i),L($,l))}function Ve(i){ie.current===i&&(M($),M(ie)),K.current===i&&(M(K),bc._currentValue=V)}var We,xt;function ct(i){if(We===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);We=a&&a[1]||"",xt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+We+i+xt}var At=!1;function Le(i,a){if(!i||At)return"";At=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ce){var ae=ce}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(ce){ae=ce}i.call(pe.prototype)}}else{try{throw Error()}catch(ce){ae=ce}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ce){if(ce&&ae&&typeof ce.stack=="string")return[ce.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),_=b[0],R=b[1];if(_&&R){var U=_.split(`
`),ne=R.split(`
`);for(y=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ne.length&&!ne[y].includes("DetermineComponentFrameRoot");)y++;if(d===U.length||y===ne.length)for(d=U.length-1,y=ne.length-1;1<=d&&0<=y&&U[d]!==ne[y];)y--;for(;1<=d&&0<=y;d--,y--)if(U[d]!==ne[y]){if(d!==1||y!==1)do if(d--,y--,0>y||U[d]!==ne[y]){var de=`
`+U[d].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=d&&0<=y);break}}}finally{At=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ct(l):""}function Et(i,a){switch(i.tag){case 26:case 27:case 5:return ct(i.type);case 16:return ct("Lazy");case 13:return i.child!==a&&a!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Le(i.type,!1);case 11:return Le(i.type.render,!1);case 1:return Le(i.type,!0);case 31:return ct("Activity");default:return""}}function qt(i){try{var a="",l=null;do a+=Et(i,l),l=i,i=i.return;while(i);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Xe=Object.prototype.hasOwnProperty,pt=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,ut=n.unstable_shouldYield,_n=n.unstable_requestPaint,Nt=n.unstable_now,Fs=n.unstable_getCurrentPriorityLevel,un=n.unstable_ImmediatePriority,rn=n.unstable_UserBlockingPriority,Ut=n.unstable_NormalPriority,En=n.unstable_LowPriority,vn=n.unstable_IdlePriority,yn=n.log,bn=n.unstable_setDisableYieldValue,hs=null,Bt=null;function jt(i){if(typeof yn=="function"&&bn(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(hs,i)}catch{}}var kt=Math.clz32?Math.clz32:dn,Qi=Math.log,it=Math.LN2;function dn(i){return i>>>=0,i===0?32:31-(Qi(i)/it|0)|0}var an=256,fs=262144,Tt=4194304;function wt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _e(i,a,l){var d=i.pendingLanes;if(d===0)return 0;var y=0,b=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var R=d&134217727;return R!==0?(d=R&~b,d!==0?y=wt(d):(_&=R,_!==0?y=wt(_):l||(l=R&~i,l!==0&&(y=wt(l))))):(R=d&~b,R!==0?y=wt(R):_!==0?y=wt(_):l||(l=d&~i,l!==0&&(y=wt(l)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,l=a&-a,b>=l||b===32&&(l&4194048)!==0)?a:y}function Ge(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ke(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var i=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),i}function Mt(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function rt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function st(i,a,l,d,y,b){var _=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,U=i.expirationTimes,ne=i.hiddenUpdates;for(l=_&~l;0<l;){var de=31-kt(l),pe=1<<de;R[de]=0,U[de]=-1;var ae=ne[de];if(ae!==null)for(ne[de]=null,de=0;de<ae.length;de++){var ce=ae[de];ce!==null&&(ce.lane&=-536870913)}l&=~pe}d!==0&&on(i,d,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(_&~a))}function on(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var d=31-kt(a);i.entangledLanes|=a,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function dt(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var d=31-kt(l),y=1<<d;y&a|i[d]&a&&(i[d]|=a),l&=~y}}function ht(i,a){var l=a&-a;return l=(l&42)!==0?1:On(l),(l&(i.suspendedLanes|a))!==0?0:l}function On(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nn(){var i=F.p;return i!==0?i:(i=window.event,i===void 0?32:A1(i.type))}function Zn(i,a){var l=F.p;try{return F.p=i,a()}finally{F.p=l}}var Dn=Math.random().toString(36).slice(2),zt="__reactFiber$"+Dn,xn="__reactProps$"+Dn,fi="__reactContainer$"+Dn,sa="__reactEvents$"+Dn,$u="__reactListeners$"+Dn,to="__reactHandles$"+Dn,ia="__reactResources$"+Dn,ra="__reactMarker$"+Dn;function Al(i){delete i[zt],delete i[xn],delete i[sa],delete i[$u],delete i[to]}function Zi(i){var a=i[zt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[fi]||l[zt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=m1(i);i!==null;){if(l=i[zt])return l;i=m1(i)}return a}i=l,l=i.parentNode}return null}function er(i){if(i=i[zt]||i[fi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Hs(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function wn(i){var a=i[ia];return a||(a=i[ia]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(i){i[ra]=!0}var mi=new Set,pi={};function Ws(i,a){gi(i,a),gi(i+"Capture",a)}function gi(i,a){for(pi[i]=a,i=0;i<a.length;i++)mi.add(a[i])}var Uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},tr={};function jl(i){return Xe.call(tr,i)?!0:Xe.call(no,i)?!1:Uu.test(i)?tr[i]=!0:(no[i]=!0,!1)}function aa(i,a,l){if(jl(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function oa(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function es(i,a,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+d)}}function In(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Bu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function _m(i,a,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(_){l=""+_,b.call(this,_)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function kl(i){if(!i._valueTracker){var a=Bu(i)?"checked":"value";i._valueTracker=_m(i,a,""+i[a])}}function Vu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return i&&(d=Bu(i)?i.checked?"true":"false":i.value),i=d,i!==l?(a.setValue(i),!0):!1}function so(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Em=/[\n"\\]/g;function Ln(i){return i.replace(Em,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ol(i,a,l,d,y,b,_,R){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),a!=null?_==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+In(a)):i.value!==""+In(a)&&(i.value=""+In(a)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),a!=null?Dl(i,_,In(a)):l!=null?Dl(i,_,In(l)):d!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+In(R):i.removeAttribute("name")}function Fu(i,a,l,d,y,b,_,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){kl(i);return}l=l!=null?""+In(l):"",a=a!=null?""+In(a):l,R||a===i.value||(i.value=a),i.defaultValue=a}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=R?i.checked:!!d,i.defaultChecked=!!d,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),kl(i)}function Dl(i,a,l){a==="number"&&so(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function vi(i,a,l,d){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&d&&(i[l].defaultSelected=!0)}else{for(l=""+In(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function la(i,a,l){if(a!=null&&(a=""+In(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+In(l):""}function Hu(i,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(s(92));if(J(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=In(a),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),kl(i)}function yi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(i,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":d?i.setProperty(a,l):typeof l!="number"||l===0||Wu.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function ca(i,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in a)d=a[y],a.hasOwnProperty(y)&&l[y]!==d&&Il(i,y,d)}else for(var b in a)a.hasOwnProperty(b)&&Il(i,b,a[b])}function Ll(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sr(i){return Gu.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ms(){}var ua=null;function ir(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bi=null,rr=null;function Pl(i){var a=er(i);if(a&&(i=a.stateNode)){var l=i[xn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ol(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ln(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==i&&d.form===i.form){var y=d[xn]||null;if(!y)throw Error(s(90));Ol(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===i.form&&Vu(d)}break e;case"textarea":la(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&vi(i,!!l.multiple,a,!1)}}}var zl=!1;function qu(i,a,l){if(zl)return i(a,l);zl=!0;try{var d=i(a);return d}finally{if(zl=!1,(bi!==null||rr!==null)&&(Ad(),bi&&(a=bi,i=rr,rr=bi=null,Pl(a),i)))for(a=0;a<i.length;a++)Pl(i[a])}}function da(i,a){var l=i.stateNode;if(l===null)return null;var d=l[xn]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=!1;if(ks)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){$l=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{$l=!1}var ps=null,io=null,fa=null;function Yu(){if(fa)return fa;var i,a=io,l=a.length,d,y="value"in ps?ps.value:ps.textContent,b=y.length;for(i=0;i<l&&a[i]===y[i];i++);var _=l-i;for(d=1;d<=_&&a[l-d]===y[b-d];d++);return fa=y.slice(i,1<d?1-d:void 0)}function ro(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function D(){return!0}function W(){return!1}function Z(i){function a(l,d,y,b,_){this._reactName=l,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=_,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?D:W,this.isPropagationStopped=W,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=D)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=D)},persist:function(){},isPersistent:D}),a}var he={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ge=Z(he),xe=g({},he,{view:0,detail:0}),Oe=Z(xe),Ee,Se,Fe,qe=g({},xe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fe&&(Fe&&i.type==="mousemove"?(Ee=i.screenX-Fe.screenX,Se=i.screenY-Fe.screenY):Se=Ee=0,Fe=i),Ee)},movementY:function(i){return"movementY"in i?i.movementY:Se}}),Gs=Z(qe),ao=g({},qe,{dataTransfer:0}),ma=Z(ao),gt=g({},xe,{relatedTarget:0}),xi=Z(gt),Nm=g({},he,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=Z(Nm),Uj=g({},he,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Bj=Z(Uj),Vj=g({},he,{data:0}),ub=Z(Vj),Fj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gj(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Wj[i])?!!a[i]:!1}function Tm(){return Gj}var qj=g({},xe,{key:function(i){if(i.key){var a=Fj[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hj[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(i){return i.type==="keypress"?ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Yj=Z(qj),Kj=g({},qe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),db=Z(Kj),Xj=g({},xe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),Jj=Z(Xj),Qj=g({},he,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zj=Z(Qj),ek=g({},qe,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tk=Z(ek),nk=g({},he,{newState:0,oldState:0}),sk=Z(nk),ik=[9,13,27,32],Mm=ks&&"CompositionEvent"in window,Ul=null;ks&&"documentMode"in document&&(Ul=document.documentMode);var rk=ks&&"TextEvent"in window&&!Ul,hb=ks&&(!Mm||Ul&&8<Ul&&11>=Ul),fb=" ",mb=!1;function pb(i,a){switch(i){case"keyup":return ik.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oo=!1;function ak(i,a){switch(i){case"compositionend":return gb(a);case"keypress":return a.which!==32?null:(mb=!0,fb);case"textInput":return i=a.data,i===fb&&mb?null:i;default:return null}}function ok(i,a){if(oo)return i==="compositionend"||!Mm&&pb(i,a)?(i=Yu(),fa=io=ps=null,oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return hb&&a.locale!=="ko"?null:a.data;default:return null}}var lk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vb(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!lk[i.type]:a==="textarea"}function yb(i,a,l,d){bi?rr?rr.push(d):rr=[d]:bi=d,a=Pd(a,"onChange"),0<a.length&&(l=new ge("onChange","change",null,l,d),i.push({event:l,listeners:a}))}var Bl=null,Vl=null;function ck(i){e1(i,0)}function Ku(i){var a=Hs(i);if(Vu(a))return i}function bb(i,a){if(i==="change")return a}var xb=!1;if(ks){var Rm;if(ks){var Am="oninput"in document;if(!Am){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),Am=typeof wb.oninput=="function"}Rm=Am}else Rm=!1;xb=Rm&&(!document.documentMode||9<document.documentMode)}function Sb(){Bl&&(Bl.detachEvent("onpropertychange",Cb),Vl=Bl=null)}function Cb(i){if(i.propertyName==="value"&&Ku(Vl)){var a=[];yb(a,Vl,i,ir(i)),qu(ck,a)}}function uk(i,a,l){i==="focusin"?(Sb(),Bl=a,Vl=l,Bl.attachEvent("onpropertychange",Cb)):i==="focusout"&&Sb()}function dk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ku(Vl)}function hk(i,a){if(i==="click")return Ku(a)}function fk(i,a){if(i==="input"||i==="change")return Ku(a)}function mk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ts=typeof Object.is=="function"?Object.is:mk;function Fl(i,a){if(ts(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var y=l[d];if(!Xe.call(a,y)||!ts(i[y],a[y]))return!1}return!0}function _b(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Eb(i,a){var l=_b(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=a&&d>=a)return{node:l,offset:a-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_b(l)}}function Nb(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Nb(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Tb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=so(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=so(i.document)}return a}function jm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var pk=ks&&"documentMode"in document&&11>=document.documentMode,lo=null,km=null,Hl=null,Om=!1;function Mb(i,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Om||lo==null||lo!==so(d)||(d=lo,"selectionStart"in d&&jm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Hl&&Fl(Hl,d)||(Hl=d,d=Pd(km,"onSelect"),0<d.length&&(a=new ge("onSelect","select",null,a,l),i.push({event:a,listeners:d}),a.target=lo)))}function pa(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var co={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Dm={},Rb={};ks&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ga(i){if(Dm[i])return Dm[i];if(!co[i])return i;var a=co[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Rb)return Dm[i]=a[l];return i}var Ab=ga("animationend"),jb=ga("animationiteration"),kb=ga("animationstart"),gk=ga("transitionrun"),vk=ga("transitionstart"),yk=ga("transitioncancel"),Ob=ga("transitionend"),Db=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function Os(i,a){Db.set(i,a),Ws(a,[i])}var Xu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},gs=[],uo=0,Lm=0;function Ju(){for(var i=uo,a=Lm=uo=0;a<i;){var l=gs[a];gs[a++]=null;var d=gs[a];gs[a++]=null;var y=gs[a];gs[a++]=null;var b=gs[a];if(gs[a++]=null,d!==null&&y!==null){var _=d.pending;_===null?y.next=y:(y.next=_.next,_.next=y),d.pending=y}b!==0&&Ib(l,y,b)}}function Qu(i,a,l,d){gs[uo++]=i,gs[uo++]=a,gs[uo++]=l,gs[uo++]=d,Lm|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Pm(i,a,l,d){return Qu(i,a,l,d),Zu(i)}function va(i,a){return Qu(i,null,null,a),Zu(i)}function Ib(i,a,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var y=!1,b=i.return;b!==null;)b.childLanes|=l,d=b.alternate,d!==null&&(d.childLanes|=l),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&a!==null&&(y=31-kt(l),i=b.hiddenUpdates,d=i[y],d===null?i[y]=[a]:d.push(a),a.lane=l|536870912),b):null}function Zu(i){if(50<hc)throw hc=0,Gp=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ho={};function bk(i,a,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(i,a,l,d){return new bk(i,a,l,d)}function zm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wi(i,a){var l=i.alternate;return l===null?(l=ns(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Lb(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function ed(i,a,l,d,y,b){var _=0;if(d=i,typeof i=="function")zm(i)&&(_=1);else if(typeof i=="string")_=_O(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case X:return i=ns(31,l,a,y),i.elementType=X,i.lanes=b,i;case C:return ya(l.children,y,b,a);case E:_=8,y|=24;break;case N:return i=ns(12,l,a,y|2),i.elementType=N,i.lanes=b,i;case z:return i=ns(13,l,a,y),i.elementType=z,i.lanes=b,i;case P:return i=ns(19,l,a,y),i.elementType=P,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:_=10;break e;case T:_=9;break e;case j:_=11;break e;case I:_=14;break e;case B:_=16,d=null;break e}_=29,l=Error(s(130,i===null?"null":typeof i,"")),d=null}return a=ns(_,l,a,y),a.elementType=i,a.type=d,a.lanes=b,a}function ya(i,a,l,d){return i=ns(7,i,d,a),i.lanes=l,i}function $m(i,a,l){return i=ns(6,i,null,a),i.lanes=l,i}function Pb(i){var a=ns(18,null,null,0);return a.stateNode=i,a}function Um(i,a,l){return a=ns(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var zb=new WeakMap;function vs(i,a){if(typeof i=="object"&&i!==null){var l=zb.get(i);return l!==void 0?l:(a={value:i,source:a,stack:qt(a)},zb.set(i,a),a)}return{value:i,source:a,stack:qt(a)}}var fo=[],mo=0,td=null,Wl=0,ys=[],bs=0,ar=null,qs=1,Ys="";function Si(i,a){fo[mo++]=Wl,fo[mo++]=td,td=i,Wl=a}function $b(i,a,l){ys[bs++]=qs,ys[bs++]=Ys,ys[bs++]=ar,ar=i;var d=qs;i=Ys;var y=32-kt(d)-1;d&=~(1<<y),l+=1;var b=32-kt(a)+y;if(30<b){var _=y-y%5;b=(d&(1<<_)-1).toString(32),d>>=_,y-=_,qs=1<<32-kt(a)+y|l<<y|d,Ys=b+i}else qs=1<<b|l<<y|d,Ys=i}function Bm(i){i.return!==null&&(Si(i,1),$b(i,1,0))}function Vm(i){for(;i===td;)td=fo[--mo],fo[mo]=null,Wl=fo[--mo],fo[mo]=null;for(;i===ar;)ar=ys[--bs],ys[bs]=null,Ys=ys[--bs],ys[bs]=null,qs=ys[--bs],ys[bs]=null}function Ub(i,a){ys[bs++]=qs,ys[bs++]=Ys,ys[bs++]=ar,qs=a.id,Ys=a.overflow,ar=i}var hn=null,Dt=null,et=!1,or=null,xs=!1,Fm=Error(s(519));function lr(i){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl(vs(a,i)),Fm}function Bb(i){var a=i.stateNode,l=i.type,d=i.memoizedProps;switch(a[zt]=i,a[xn]=d,l){case"dialog":Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":case"embed":Ke("load",a);break;case"video":case"audio":for(l=0;l<mc.length;l++)Ke(mc[l],a);break;case"source":Ke("error",a);break;case"img":case"image":case"link":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"input":Ke("invalid",a),Fu(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ke("invalid",a);break;case"textarea":Ke("invalid",a),Hu(a,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||i1(a.textContent,l)?(d.popover!=null&&(Ke("beforetoggle",a),Ke("toggle",a)),d.onScroll!=null&&Ke("scroll",a),d.onScrollEnd!=null&&Ke("scrollend",a),d.onClick!=null&&(a.onclick=ms),a=!0):a=!1,a||lr(i,!0)}function Vb(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:hn=hn.return}}function po(i){if(i!==hn)return!1;if(!et)return Vb(i),et=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||og(i.type,i.memoizedProps)),l=!l),l&&Dt&&lr(i),Vb(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Dt=f1(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Dt=f1(i)}else a===27?(a=Dt,Sr(i.type)?(i=hg,hg=null,Dt=i):Dt=a):Dt=hn?Ss(i.stateNode.nextSibling):null;return!0}function ba(){Dt=hn=null,et=!1}function Hm(){var i=or;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),or=null),i}function Gl(i){or===null?or=[i]:or.push(i)}var Wm=O(null),xa=null,Ci=null;function cr(i,a,l){L(Wm,a._currentValue),a._currentValue=l}function _i(i){i._currentValue=Wm.current,M(Wm)}function Gm(i,a,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),i===l)break;i=i.return}}function qm(i,a,l,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var _=y.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=y;for(var U=0;U<a.length;U++)if(R.context===a[U]){b.lanes|=l,R=b.alternate,R!==null&&(R.lanes|=l),Gm(b.return,l,i),d||(_=null);break e}b=R.next}}else if(y.tag===18){if(_=y.return,_===null)throw Error(s(341));_.lanes|=l,b=_.alternate,b!==null&&(b.lanes|=l),Gm(_,l,i),_=null}else _=y.child;if(_!==null)_.return=y;else for(_=y;_!==null;){if(_===i){_=null;break}if(y=_.sibling,y!==null){y.return=_.return,_=y;break}_=_.return}y=_}}function go(i,a,l,d){i=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var _=y.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var R=y.type;ts(y.pendingProps.value,_.value)||(i!==null?i.push(R):i=[R])}}else if(y===K.current){if(_=y.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(bc):i=[bc])}y=y.return}i!==null&&qm(a,i,l,d),a.flags|=262144}function nd(i){for(i=i.firstContext;i!==null;){if(!ts(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function wa(i){xa=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fn(i){return Fb(xa,i)}function sd(i,a){return xa===null&&wa(i),Fb(i,a)}function Fb(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ci===null){if(i===null)throw Error(s(308));Ci=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ci=Ci.next=a;return l}var xk=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},wk=n.unstable_scheduleCallback,Sk=n.unstable_NormalPriority,Yt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ym(){return{controller:new xk,data:new Map,refCount:0}}function ql(i){i.refCount--,i.refCount===0&&wk(Sk,function(){i.controller.abort()})}var Yl=null,Km=0,vo=0,yo=null;function Ck(i,a){if(Yl===null){var l=Yl=[];Km=0,vo=Qp(),yo={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Km++,a.then(Hb,Hb),a}function Hb(){if(--Km===0&&Yl!==null){yo!==null&&(yo.status="fulfilled");var i=Yl;Yl=null,vo=0,yo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function _k(i,a){var l=[],d={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){d.status="fulfilled",d.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(d.status="rejected",d.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),d}var Wb=k.S;k.S=function(i,a){Mw=Nt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Ck(i,a),Wb!==null&&Wb(i,a)};var Sa=O(null);function Xm(){var i=Sa.current;return i!==null?i:St.pooledCache}function id(i,a){a===null?L(Sa,Sa.current):L(Sa,a.pool)}function Gb(){var i=Xm();return i===null?null:{parent:Yt._currentValue,pool:i}}var bo=Error(s(460)),Jm=Error(s(474)),rd=Error(s(542)),ad={then:function(){}};function qb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(ms,ms),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xb(i),i;default:if(typeof a.status=="string")a.then(ms,ms);else{if(i=St,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(d){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=d}},function(d){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xb(i),i}throw _a=a,bo}}function Ca(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(_a=l,bo):l}}var _a=null;function Kb(){if(_a===null)throw Error(s(459));var i=_a;return _a=null,i}function Xb(i){if(i===bo||i===rd)throw Error(s(483))}var xo=null,Kl=0;function od(i){var a=Kl;return Kl+=1,xo===null&&(xo=[]),Yb(xo,i,a)}function Xl(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ld(i,a){throw a.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Jb(i){function a(Y,H){if(i){var te=Y.deletions;te===null?(Y.deletions=[H],Y.flags|=16):te.push(H)}}function l(Y,H){if(!i)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function d(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function y(Y,H){return Y=wi(Y,H),Y.index=0,Y.sibling=null,Y}function b(Y,H,te){return Y.index=te,i?(te=Y.alternate,te!==null?(te=te.index,te<H?(Y.flags|=67108866,H):te):(Y.flags|=67108866,H)):(Y.flags|=1048576,H)}function _(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,H,te,fe){return H===null||H.tag!==6?(H=$m(te,Y.mode,fe),H.return=Y,H):(H=y(H,te),H.return=Y,H)}function U(Y,H,te,fe){var je=te.type;return je===C?de(Y,H,te.props.children,fe,te.key):H!==null&&(H.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===B&&Ca(je)===H.type)?(H=y(H,te.props),Xl(H,te),H.return=Y,H):(H=ed(te.type,te.key,te.props,null,Y.mode,fe),Xl(H,te),H.return=Y,H)}function ne(Y,H,te,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==te.containerInfo||H.stateNode.implementation!==te.implementation?(H=Um(te,Y.mode,fe),H.return=Y,H):(H=y(H,te.children||[]),H.return=Y,H)}function de(Y,H,te,fe,je){return H===null||H.tag!==7?(H=ya(te,Y.mode,fe,je),H.return=Y,H):(H=y(H,te),H.return=Y,H)}function pe(Y,H,te){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=$m(""+H,Y.mode,te),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return te=ed(H.type,H.key,H.props,null,Y.mode,te),Xl(te,H),te.return=Y,te;case S:return H=Um(H,Y.mode,te),H.return=Y,H;case B:return H=Ca(H),pe(Y,H,te)}if(J(H)||ee(H))return H=ya(H,Y.mode,te,null),H.return=Y,H;if(typeof H.then=="function")return pe(Y,od(H),te);if(H.$$typeof===A)return pe(Y,sd(Y,H),te);ld(Y,H)}return null}function ae(Y,H,te,fe){var je=H!==null?H.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return je!==null?null:R(Y,H,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return te.key===je?U(Y,H,te,fe):null;case S:return te.key===je?ne(Y,H,te,fe):null;case B:return te=Ca(te),ae(Y,H,te,fe)}if(J(te)||ee(te))return je!==null?null:de(Y,H,te,fe,null);if(typeof te.then=="function")return ae(Y,H,od(te),fe);if(te.$$typeof===A)return ae(Y,H,sd(Y,te),fe);ld(Y,te)}return null}function ce(Y,H,te,fe,je){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Y=Y.get(te)||null,R(H,Y,""+fe,je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return Y=Y.get(fe.key===null?te:fe.key)||null,U(H,Y,fe,je);case S:return Y=Y.get(fe.key===null?te:fe.key)||null,ne(H,Y,fe,je);case B:return fe=Ca(fe),ce(Y,H,te,fe,je)}if(J(fe)||ee(fe))return Y=Y.get(te)||null,de(H,Y,fe,je,null);if(typeof fe.then=="function")return ce(Y,H,te,od(fe),je);if(fe.$$typeof===A)return ce(Y,H,te,sd(H,fe),je);ld(H,fe)}return null}function Ne(Y,H,te,fe){for(var je=null,at=null,Re=H,Be=H=0,Ze=null;Re!==null&&Be<te.length;Be++){Re.index>Be?(Ze=Re,Re=null):Ze=Re.sibling;var ot=ae(Y,Re,te[Be],fe);if(ot===null){Re===null&&(Re=Ze);break}i&&Re&&ot.alternate===null&&a(Y,Re),H=b(ot,H,Be),at===null?je=ot:at.sibling=ot,at=ot,Re=Ze}if(Be===te.length)return l(Y,Re),et&&Si(Y,Be),je;if(Re===null){for(;Be<te.length;Be++)Re=pe(Y,te[Be],fe),Re!==null&&(H=b(Re,H,Be),at===null?je=Re:at.sibling=Re,at=Re);return et&&Si(Y,Be),je}for(Re=d(Re);Be<te.length;Be++)Ze=ce(Re,Y,Be,te[Be],fe),Ze!==null&&(i&&Ze.alternate!==null&&Re.delete(Ze.key===null?Be:Ze.key),H=b(Ze,H,Be),at===null?je=Ze:at.sibling=Ze,at=Ze);return i&&Re.forEach(function(Tr){return a(Y,Tr)}),et&&Si(Y,Be),je}function De(Y,H,te,fe){if(te==null)throw Error(s(151));for(var je=null,at=null,Re=H,Be=H=0,Ze=null,ot=te.next();Re!==null&&!ot.done;Be++,ot=te.next()){Re.index>Be?(Ze=Re,Re=null):Ze=Re.sibling;var Tr=ae(Y,Re,ot.value,fe);if(Tr===null){Re===null&&(Re=Ze);break}i&&Re&&Tr.alternate===null&&a(Y,Re),H=b(Tr,H,Be),at===null?je=Tr:at.sibling=Tr,at=Tr,Re=Ze}if(ot.done)return l(Y,Re),et&&Si(Y,Be),je;if(Re===null){for(;!ot.done;Be++,ot=te.next())ot=pe(Y,ot.value,fe),ot!==null&&(H=b(ot,H,Be),at===null?je=ot:at.sibling=ot,at=ot);return et&&Si(Y,Be),je}for(Re=d(Re);!ot.done;Be++,ot=te.next())ot=ce(Re,Y,Be,ot.value,fe),ot!==null&&(i&&ot.alternate!==null&&Re.delete(ot.key===null?Be:ot.key),H=b(ot,H,Be),at===null?je=ot:at.sibling=ot,at=ot);return i&&Re.forEach(function(IO){return a(Y,IO)}),et&&Si(Y,Be),je}function bt(Y,H,te,fe){if(typeof te=="object"&&te!==null&&te.type===C&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case w:e:{for(var je=te.key;H!==null;){if(H.key===je){if(je=te.type,je===C){if(H.tag===7){l(Y,H.sibling),fe=y(H,te.props.children),fe.return=Y,Y=fe;break e}}else if(H.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===B&&Ca(je)===H.type){l(Y,H.sibling),fe=y(H,te.props),Xl(fe,te),fe.return=Y,Y=fe;break e}l(Y,H);break}else a(Y,H);H=H.sibling}te.type===C?(fe=ya(te.props.children,Y.mode,fe,te.key),fe.return=Y,Y=fe):(fe=ed(te.type,te.key,te.props,null,Y.mode,fe),Xl(fe,te),fe.return=Y,Y=fe)}return _(Y);case S:e:{for(je=te.key;H!==null;){if(H.key===je)if(H.tag===4&&H.stateNode.containerInfo===te.containerInfo&&H.stateNode.implementation===te.implementation){l(Y,H.sibling),fe=y(H,te.children||[]),fe.return=Y,Y=fe;break e}else{l(Y,H);break}else a(Y,H);H=H.sibling}fe=Um(te,Y.mode,fe),fe.return=Y,Y=fe}return _(Y);case B:return te=Ca(te),bt(Y,H,te,fe)}if(J(te))return Ne(Y,H,te,fe);if(ee(te)){if(je=ee(te),typeof je!="function")throw Error(s(150));return te=je.call(te),De(Y,H,te,fe)}if(typeof te.then=="function")return bt(Y,H,od(te),fe);if(te.$$typeof===A)return bt(Y,H,sd(Y,te),fe);ld(Y,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,H!==null&&H.tag===6?(l(Y,H.sibling),fe=y(H,te),fe.return=Y,Y=fe):(l(Y,H),fe=$m(te,Y.mode,fe),fe.return=Y,Y=fe),_(Y)):l(Y,H)}return function(Y,H,te,fe){try{Kl=0;var je=bt(Y,H,te,fe);return xo=null,je}catch(Re){if(Re===bo||Re===rd)throw Re;var at=ns(29,Re,null,Y.mode);return at.lanes=fe,at.return=Y,at}}}var Ea=Jb(!0),Qb=Jb(!1),ur=!1;function Qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function dr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function hr(i,a,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(lt&2)!==0){var y=d.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),d.pending=a,a=Zu(i),Ib(i,null,l),a}return Qu(i,d,a,l),Zu(i)}function Jl(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,dt(i,l)}}function ep(i,a){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=_:b=b.next=_,l=l.next}while(l!==null);b===null?y=b=a:b=b.next=a}else y=b=a;l={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var tp=!1;function Ql(){if(tp){var i=yo;if(i!==null)throw i}}function Zl(i,a,l,d){tp=!1;var y=i.updateQueue;ur=!1;var b=y.firstBaseUpdate,_=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var U=R,ne=U.next;U.next=null,_===null?b=ne:_.next=ne,_=U;var de=i.alternate;de!==null&&(de=de.updateQueue,R=de.lastBaseUpdate,R!==_&&(R===null?de.firstBaseUpdate=ne:R.next=ne,de.lastBaseUpdate=U))}if(b!==null){var pe=y.baseState;_=0,de=ne=U=null,R=b;do{var ae=R.lane&-536870913,ce=ae!==R.lane;if(ce?(Qe&ae)===ae:(d&ae)===ae){ae!==0&&ae===vo&&(tp=!0),de!==null&&(de=de.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ne=i,De=R;ae=a;var bt=l;switch(De.tag){case 1:if(Ne=De.payload,typeof Ne=="function"){pe=Ne.call(bt,pe,ae);break e}pe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=De.payload,ae=typeof Ne=="function"?Ne.call(bt,pe,ae):Ne,ae==null)break e;pe=g({},pe,ae);break e;case 2:ur=!0}}ae=R.callback,ae!==null&&(i.flags|=64,ce&&(i.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[ae]:ce.push(ae))}else ce={lane:ae,tag:R.tag,payload:R.payload,callback:R.callback,next:null},de===null?(ne=de=ce,U=pe):de=de.next=ce,_|=ae;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;ce=R,R=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);de===null&&(U=pe),y.baseState=U,y.firstBaseUpdate=ne,y.lastBaseUpdate=de,b===null&&(y.shared.lanes=0),vr|=_,i.lanes=_,i.memoizedState=pe}}function Zb(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function ex(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Zb(l[i],a)}var wo=O(null),cd=O(0);function tx(i,a){i=Oi,L(cd,i),L(wo,a),Oi=i|a.baseLanes}function np(){L(cd,Oi),L(wo,wo.current)}function sp(){Oi=cd.current,M(wo),M(cd)}var ss=O(null),ws=null;function fr(i){var a=i.alternate;L(Ht,Ht.current&1),L(ss,i),ws===null&&(a===null||wo.current!==null||a.memoizedState!==null)&&(ws=i)}function ip(i){L(Ht,Ht.current),L(ss,i),ws===null&&(ws=i)}function nx(i){i.tag===22?(L(Ht,Ht.current),L(ss,i),ws===null&&(ws=i)):mr()}function mr(){L(Ht,Ht.current),L(ss,ss.current)}function is(i){M(ss),ws===i&&(ws=null),M(Ht)}var Ht=O(0);function ud(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ug(l)||dg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ei=0,$e=null,vt=null,Kt=null,dd=!1,So=!1,Na=!1,hd=0,ec=0,Co=null,Ek=0;function Vt(){throw Error(s(321))}function rp(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!ts(i[l],a[l]))return!1;return!0}function ap(i,a,l,d,y,b){return Ei=b,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=i===null||i.memoizedState===null?$x:wp,Na=!1,b=l(d,y),Na=!1,So&&(b=ix(a,l,d,y)),sx(i),b}function sx(i){k.H=sc;var a=vt!==null&&vt.next!==null;if(Ei=0,Kt=vt=$e=null,dd=!1,ec=0,Co=null,a)throw Error(s(300));i===null||Xt||(i=i.dependencies,i!==null&&nd(i)&&(Xt=!0))}function ix(i,a,l,d){$e=i;var y=0;do{if(So&&(Co=null),ec=0,So=!1,25<=y)throw Error(s(301));if(y+=1,Kt=vt=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}k.H=Ux,b=a(l,d)}while(So);return b}function Nk(){var i=k.H,a=i.useState()[0];return a=typeof a.then=="function"?tc(a):a,i=i.useState()[0],(vt!==null?vt.memoizedState:null)!==i&&($e.flags|=1024),a}function op(){var i=hd!==0;return hd=0,i}function lp(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function cp(i){if(dd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}dd=!1}Ei=0,Kt=vt=$e=null,So=!1,ec=hd=0,Co=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?$e.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Wt(){if(vt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var a=Kt===null?$e.memoizedState:Kt.next;if(a!==null)Kt=a,vt=i;else{if(i===null)throw $e.alternate===null?Error(s(467)):Error(s(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Kt===null?$e.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(i){var a=ec;return ec+=1,Co===null&&(Co=[]),i=Yb(Co,i,a),a=$e,(Kt===null?a.memoizedState:Kt.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?$x:wp),i}function md(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tc(i);if(i.$$typeof===A)return fn(i)}throw Error(s(438,String(i)))}function up(i){var a=null,l=$e.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=$e.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=fd(),$e.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),d=0;d<i;d++)l[d]=se;return a.index++,l}function Ni(i,a){return typeof a=="function"?a(i):a}function pd(i){var a=Wt();return dp(a,vt,i)}function dp(i,a,l){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var y=i.baseQueue,b=d.pending;if(b!==null){if(y!==null){var _=y.next;y.next=b.next,b.next=_}a.baseQueue=y=b,d.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{a=y.next;var R=_=null,U=null,ne=a,de=!1;do{var pe=ne.lane&-536870913;if(pe!==ne.lane?(Qe&pe)===pe:(Ei&pe)===pe){var ae=ne.revertLane;if(ae===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),pe===vo&&(de=!0);else if((Ei&ae)===ae){ne=ne.next,ae===vo&&(de=!0);continue}else pe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(R=U=pe,_=b):U=U.next=pe,$e.lanes|=ae,vr|=ae;pe=ne.action,Na&&l(b,pe),b=ne.hasEagerState?ne.eagerState:l(b,pe)}else ae={lane:pe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(R=U=ae,_=b):U=U.next=ae,$e.lanes|=pe,vr|=pe;ne=ne.next}while(ne!==null&&ne!==a);if(U===null?_=b:U.next=R,!ts(b,i.memoizedState)&&(Xt=!0,de&&(l=yo,l!==null)))throw l;i.memoizedState=b,i.baseState=_,i.baseQueue=U,d.lastRenderedState=b}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function hp(i){var a=Wt(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=l.dispatch,y=l.pending,b=a.memoizedState;if(y!==null){l.pending=null;var _=y=y.next;do b=i(b,_.action),_=_.next;while(_!==y);ts(b,a.memoizedState)||(Xt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),l.lastRenderedState=b}return[b,d]}function rx(i,a,l){var d=$e,y=Wt(),b=et;if(b){if(l===void 0)throw Error(s(407));l=l()}else l=a();var _=!ts((vt||y).memoizedState,l);if(_&&(y.memoizedState=l,Xt=!0),y=y.queue,pp(lx.bind(null,d,y,i),[i]),y.getSnapshot!==a||_||Kt!==null&&Kt.memoizedState.tag&1){if(d.flags|=2048,_o(9,{destroy:void 0},ox.bind(null,d,y,l,a),null),St===null)throw Error(s(349));b||(Ei&127)!==0||ax(d,a,l)}return l}function ax(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=$e.updateQueue,a===null?(a=fd(),$e.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function ox(i,a,l,d){a.value=l,a.getSnapshot=d,cx(a)&&ux(i)}function lx(i,a,l){return l(function(){cx(a)&&ux(i)})}function cx(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!ts(i,l)}catch{return!0}}function ux(i){var a=va(i,2);a!==null&&Bn(a,i,2)}function fp(i){var a=Tn();if(typeof i=="function"){var l=i;if(i=l(),Na){jt(!0);try{l()}finally{jt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:i},a}function dx(i,a,l,d){return i.baseState=l,dp(i,vt,typeof d=="function"?d:Ni)}function Tk(i,a,l,d,y){if(yd(i))throw Error(s(485));if(i=a.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){b.listeners.push(_)}};k.T!==null?l(!0):b.isTransition=!1,d(b),l=a.pending,l===null?(b.next=a.pending=b,hx(a,b)):(b.next=l.next,a.pending=l.next=b)}}function hx(i,a){var l=a.action,d=a.payload,y=i.state;if(a.isTransition){var b=k.T,_={};k.T=_;try{var R=l(y,d),U=k.S;U!==null&&U(_,R),fx(i,a,R)}catch(ne){mp(i,a,ne)}finally{b!==null&&_.types!==null&&(b.types=_.types),k.T=b}}else try{b=l(y,d),fx(i,a,b)}catch(ne){mp(i,a,ne)}}function fx(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){mx(i,a,d)},function(d){return mp(i,a,d)}):mx(i,a,l)}function mx(i,a,l){a.status="fulfilled",a.value=l,px(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,hx(i,l)))}function mp(i,a,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,px(a),a=a.next;while(a!==d)}i.action=null}function px(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function gx(i,a){return a}function vx(i,a){if(et){var l=St.formState;if(l!==null){e:{var d=$e;if(et){if(Dt){t:{for(var y=Dt,b=xs;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ss(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Dt=Ss(y.nextSibling),d=y.data==="F!";break e}}lr(d)}d=!1}d&&(a=l[0])}}return l=Tn(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gx,lastRenderedState:a},l.queue=d,l=Lx.bind(null,$e,d),d.dispatch=l,d=fp(!1),b=xp.bind(null,$e,!1,d.queue),d=Tn(),y={state:a,dispatch:null,action:i,pending:null},d.queue=y,l=Tk.bind(null,$e,y,b,l),y.dispatch=l,d.memoizedState=i,[a,l,!1]}function yx(i){var a=Wt();return bx(a,vt,i)}function bx(i,a,l){if(a=dp(i,a,gx)[0],i=pd(Ni)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=tc(a)}catch(_){throw _===bo?rd:_}else d=a;a=Wt();var y=a.queue,b=y.dispatch;return l!==a.memoizedState&&($e.flags|=2048,_o(9,{destroy:void 0},Mk.bind(null,y,l),null)),[d,b,i]}function Mk(i,a){i.action=a}function xx(i){var a=Wt(),l=vt;if(l!==null)return bx(a,l,i);Wt(),a=a.memoizedState,l=Wt();var d=l.queue.dispatch;return l.memoizedState=i,[a,d,!1]}function _o(i,a,l,d){return i={tag:i,create:l,deps:d,inst:a,next:null},a=$e.updateQueue,a===null&&(a=fd(),$e.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,a.lastEffect=i),i}function wx(){return Wt().memoizedState}function gd(i,a,l,d){var y=Tn();$e.flags|=i,y.memoizedState=_o(1|a,{destroy:void 0},l,d===void 0?null:d)}function vd(i,a,l,d){var y=Wt();d=d===void 0?null:d;var b=y.memoizedState.inst;vt!==null&&d!==null&&rp(d,vt.memoizedState.deps)?y.memoizedState=_o(a,b,l,d):($e.flags|=i,y.memoizedState=_o(1|a,b,l,d))}function Sx(i,a){gd(8390656,8,i,a)}function pp(i,a){vd(2048,8,i,a)}function Rk(i){$e.flags|=4;var a=$e.updateQueue;if(a===null)a=fd(),$e.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Cx(i){var a=Wt().memoizedState;return Rk({ref:a,nextImpl:i}),function(){if((lt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function _x(i,a){return vd(4,2,i,a)}function Ex(i,a){return vd(4,4,i,a)}function Nx(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Tx(i,a,l){l=l!=null?l.concat([i]):null,vd(4,4,Nx.bind(null,a,i),l)}function gp(){}function Mx(i,a){var l=Wt();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&rp(a,d[1])?d[0]:(l.memoizedState=[i,a],i)}function Rx(i,a){var l=Wt();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&rp(a,d[1]))return d[0];if(d=i(),Na){jt(!0);try{i()}finally{jt(!1)}}return l.memoizedState=[d,a],d}function vp(i,a,l){return l===void 0||(Ei&1073741824)!==0&&(Qe&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=Aw(),$e.lanes|=i,vr|=i,l)}function Ax(i,a,l,d){return ts(l,a)?l:wo.current!==null?(i=vp(i,l,d),ts(i,a)||(Xt=!0),i):(Ei&42)===0||(Ei&1073741824)!==0&&(Qe&261930)===0?(Xt=!0,i.memoizedState=l):(i=Aw(),$e.lanes|=i,vr|=i,a)}function jx(i,a,l,d,y){var b=F.p;F.p=b!==0&&8>b?b:8;var _=k.T,R={};k.T=R,xp(i,!1,a,l);try{var U=y(),ne=k.S;if(ne!==null&&ne(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var de=_k(U,d);nc(i,a,de,os(i))}else nc(i,a,d,os(i))}catch(pe){nc(i,a,{then:function(){},status:"rejected",reason:pe},os())}finally{F.p=b,_!==null&&R.types!==null&&(_.types=R.types),k.T=_}}function Ak(){}function yp(i,a,l,d){if(i.tag!==5)throw Error(s(476));var y=kx(i).queue;jx(i,y,a,V,l===null?Ak:function(){return Ox(i),l(d)})}function kx(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:V},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Ox(i){var a=kx(i);a.next===null&&(a=i.alternate.memoizedState),nc(i,a.next.queue,{},os())}function bp(){return fn(bc)}function Dx(){return Wt().memoizedState}function Ix(){return Wt().memoizedState}function jk(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=os();i=dr(l);var d=hr(a,i,l);d!==null&&(Bn(d,a,l),Jl(d,a,l)),a={cache:Ym()},i.payload=a;return}a=a.return}}function kk(i,a,l){var d=os();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yd(i)?Px(a,l):(l=Pm(i,a,l,d),l!==null&&(Bn(l,i,d),zx(l,a,d)))}function Lx(i,a,l){var d=os();nc(i,a,l,d)}function nc(i,a,l,d){var y={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(yd(i))Px(a,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var _=a.lastRenderedState,R=b(_,l);if(y.hasEagerState=!0,y.eagerState=R,ts(R,_))return Qu(i,a,y,0),St===null&&Ju(),!1}catch{}if(l=Pm(i,a,y,d),l!==null)return Bn(l,i,d),zx(l,a,d),!0}return!1}function xp(i,a,l,d){if(d={lane:2,revertLane:Qp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},yd(i)){if(a)throw Error(s(479))}else a=Pm(i,l,d,2),a!==null&&Bn(a,i,2)}function yd(i){var a=i.alternate;return i===$e||a!==null&&a===$e}function Px(i,a){So=dd=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function zx(i,a,l){if((l&4194048)!==0){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,dt(i,l)}}var sc={readContext:fn,use:md,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};sc.useEffectEvent=Vt;var $x={readContext:fn,use:md,useCallback:function(i,a){return Tn().memoizedState=[i,a===void 0?null:a],i},useContext:fn,useEffect:Sx,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,gd(4194308,4,Nx.bind(null,a,i),l)},useLayoutEffect:function(i,a){return gd(4194308,4,i,a)},useInsertionEffect:function(i,a){gd(4,2,i,a)},useMemo:function(i,a){var l=Tn();a=a===void 0?null:a;var d=i();if(Na){jt(!0);try{i()}finally{jt(!1)}}return l.memoizedState=[d,a],d},useReducer:function(i,a,l){var d=Tn();if(l!==void 0){var y=l(a);if(Na){jt(!0);try{l(a)}finally{jt(!1)}}}else y=a;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=kk.bind(null,$e,i),[d.memoizedState,i]},useRef:function(i){var a=Tn();return i={current:i},a.memoizedState=i},useState:function(i){i=fp(i);var a=i.queue,l=Lx.bind(null,$e,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:gp,useDeferredValue:function(i,a){var l=Tn();return vp(l,i,a)},useTransition:function(){var i=fp(!1);return i=jx.bind(null,$e,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var d=$e,y=Tn();if(et){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),St===null)throw Error(s(349));(Qe&127)!==0||ax(d,a,l)}y.memoizedState=l;var b={value:l,getSnapshot:a};return y.queue=b,Sx(lx.bind(null,d,b,i),[i]),d.flags|=2048,_o(9,{destroy:void 0},ox.bind(null,d,b,l,a),null),l},useId:function(){var i=Tn(),a=St.identifierPrefix;if(et){var l=Ys,d=qs;l=(d&~(1<<32-kt(d)-1)).toString(32)+l,a="_"+a+"R_"+l,l=hd++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Ek++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:bp,useFormState:vx,useActionState:vx,useOptimistic:function(i){var a=Tn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=xp.bind(null,$e,!0,l),l.dispatch=a,[i,a]},useMemoCache:up,useCacheRefresh:function(){return Tn().memoizedState=jk.bind(null,$e)},useEffectEvent:function(i){var a=Tn(),l={impl:i};return a.memoizedState=l,function(){if((lt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},wp={readContext:fn,use:md,useCallback:Mx,useContext:fn,useEffect:pp,useImperativeHandle:Tx,useInsertionEffect:_x,useLayoutEffect:Ex,useMemo:Rx,useReducer:pd,useRef:wx,useState:function(){return pd(Ni)},useDebugValue:gp,useDeferredValue:function(i,a){var l=Wt();return Ax(l,vt.memoizedState,i,a)},useTransition:function(){var i=pd(Ni)[0],a=Wt().memoizedState;return[typeof i=="boolean"?i:tc(i),a]},useSyncExternalStore:rx,useId:Dx,useHostTransitionStatus:bp,useFormState:yx,useActionState:yx,useOptimistic:function(i,a){var l=Wt();return dx(l,vt,i,a)},useMemoCache:up,useCacheRefresh:Ix};wp.useEffectEvent=Cx;var Ux={readContext:fn,use:md,useCallback:Mx,useContext:fn,useEffect:pp,useImperativeHandle:Tx,useInsertionEffect:_x,useLayoutEffect:Ex,useMemo:Rx,useReducer:hp,useRef:wx,useState:function(){return hp(Ni)},useDebugValue:gp,useDeferredValue:function(i,a){var l=Wt();return vt===null?vp(l,i,a):Ax(l,vt.memoizedState,i,a)},useTransition:function(){var i=hp(Ni)[0],a=Wt().memoizedState;return[typeof i=="boolean"?i:tc(i),a]},useSyncExternalStore:rx,useId:Dx,useHostTransitionStatus:bp,useFormState:xx,useActionState:xx,useOptimistic:function(i,a){var l=Wt();return vt!==null?dx(l,vt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:up,useCacheRefresh:Ix};Ux.useEffectEvent=Cx;function Sp(i,a,l,d){a=i.memoizedState,l=l(d,a),l=l==null?a:g({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Cp={enqueueSetState:function(i,a,l){i=i._reactInternals;var d=os(),y=dr(d);y.payload=a,l!=null&&(y.callback=l),a=hr(i,y,d),a!==null&&(Bn(a,i,d),Jl(a,i,d))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var d=os(),y=dr(d);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=hr(i,y,d),a!==null&&(Bn(a,i,d),Jl(a,i,d))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=os(),d=dr(l);d.tag=2,a!=null&&(d.callback=a),a=hr(i,d,l),a!==null&&(Bn(a,i,l),Jl(a,i,l))}};function Bx(i,a,l,d,y,b,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,_):a.prototype&&a.prototype.isPureReactComponent?!Fl(l,d)||!Fl(y,b):!0}function Vx(i,a,l,d){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==i&&Cp.enqueueReplaceState(a,a.state,null)}function Ta(i,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(i=i.defaultProps){l===a&&(l=g({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function Fx(i){Xu(i)}function Hx(i){console.error(i)}function Wx(i){Xu(i)}function bd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Gx(i,a,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function _p(i,a,l){return l=dr(l),l.tag=3,l.payload={element:null},l.callback=function(){bd(i,a)},l}function qx(i){return i=dr(i),i.tag=3,i}function Yx(i,a,l,d){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;i.payload=function(){return y(b)},i.callback=function(){Gx(a,l,d)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Gx(a,l,d),typeof y!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var R=d.stack;this.componentDidCatch(d.value,{componentStack:R!==null?R:""})})}function Ok(i,a,l,d,y){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&go(a,l,y,!0),l=ss.current,l!==null){switch(l.tag){case 31:case 13:return ws===null?jd():l.alternate===null&&Ft===0&&(Ft=3),l.flags&=-257,l.flags|=65536,l.lanes=y,d===ad?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),Kp(i,d,y)),!1;case 22:return l.flags|=65536,d===ad?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),Kp(i,d,y)),!1}throw Error(s(435,l.tag))}return Kp(i,d,y),jd(),!1}if(et)return a=ss.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,d!==Fm&&(i=Error(s(422),{cause:d}),Gl(vs(i,l)))):(d!==Fm&&(a=Error(s(423),{cause:d}),Gl(vs(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=vs(d,l),y=_p(i.stateNode,d,y),ep(i,y),Ft!==4&&(Ft=2)),!1;var b=Error(s(520),{cause:d});if(b=vs(b,l),dc===null?dc=[b]:dc.push(b),Ft!==4&&(Ft=2),a===null)return!0;d=vs(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=_p(l.stateNode,d,i),ep(l,i),!1;case 1:if(a=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yr===null||!yr.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=qx(y),Yx(y,i,l,d),ep(l,y),!1}l=l.return}while(l!==null);return!1}var Ep=Error(s(461)),Xt=!1;function mn(i,a,l,d){a.child=i===null?Qb(a,null,l,d):Ea(a,i.child,l,d)}function Kx(i,a,l,d,y){l=l.render;var b=a.ref;if("ref"in d){var _={};for(var R in d)R!=="ref"&&(_[R]=d[R])}else _=d;return wa(a),d=ap(i,a,l,_,b,y),R=op(),i!==null&&!Xt?(lp(i,a,y),Ti(i,a,y)):(et&&R&&Bm(a),a.flags|=1,mn(i,a,d,y),a.child)}function Xx(i,a,l,d,y){if(i===null){var b=l.type;return typeof b=="function"&&!zm(b)&&b.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=b,Jx(i,a,b,d,y)):(i=ed(l.type,null,d,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!Op(i,y)){var _=b.memoizedProps;if(l=l.compare,l=l!==null?l:Fl,l(_,d)&&i.ref===a.ref)return Ti(i,a,y)}return a.flags|=1,i=wi(b,d),i.ref=a.ref,i.return=a,a.child=i}function Jx(i,a,l,d,y){if(i!==null){var b=i.memoizedProps;if(Fl(b,d)&&i.ref===a.ref)if(Xt=!1,a.pendingProps=d=b,Op(i,y))(i.flags&131072)!==0&&(Xt=!0);else return a.lanes=i.lanes,Ti(i,a,y)}return Np(i,a,l,d,y)}function Qx(i,a,l,d){var y=d.children,b=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,i!==null){for(d=a.child=i.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,a.child=null;return Zx(i,a,b,l,d)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&id(a,b!==null?b.cachePool:null),b!==null?tx(a,b):np(),nx(a);else return d=a.lanes=536870912,Zx(i,a,b!==null?b.baseLanes|l:l,l,d)}else b!==null?(id(a,b.cachePool),tx(a,b),mr(),a.memoizedState=null):(i!==null&&id(a,null),np(),mr());return mn(i,a,y,l),a.child}function ic(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Zx(i,a,l,d,y){var b=Xm();return b=b===null?null:{parent:Yt._currentValue,pool:b},a.memoizedState={baseLanes:l,cachePool:b},i!==null&&id(a,null),np(),nx(a),i!==null&&go(i,a,d,!0),a.childLanes=y,null}function xd(i,a){return a=Sd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function ew(i,a,l){return Ea(a,i.child,null,l),i=xd(a,a.pendingProps),i.flags|=2,is(a),a.memoizedState=null,i}function Dk(i,a,l){var d=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(et){if(d.mode==="hidden")return i=xd(a,d),a.lanes=536870912,ic(null,i);if(ip(a),(i=Dt)?(i=h1(i,xs),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ar!==null?{id:qs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},l=Pb(i),l.return=a,a.child=l,hn=a,Dt=null)):i=null,i===null)throw lr(a);return a.lanes=536870912,null}return xd(a,d)}var b=i.memoizedState;if(b!==null){var _=b.dehydrated;if(ip(a),y)if(a.flags&256)a.flags&=-257,a=ew(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(s(558));else if(Xt||go(i,a,l,!1),y=(l&i.childLanes)!==0,Xt||y){if(d=St,d!==null&&(_=ht(d,l),_!==0&&_!==b.retryLane))throw b.retryLane=_,va(i,_),Bn(d,i,_),Ep;jd(),a=ew(i,a,l)}else i=b.treeContext,Dt=Ss(_.nextSibling),hn=a,et=!0,or=null,xs=!1,i!==null&&Ub(a,i),a=xd(a,d),a.flags|=4096;return a}return i=wi(i.child,{mode:d.mode,children:d.children}),i.ref=a.ref,a.child=i,i.return=a,i}function wd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Np(i,a,l,d,y){return wa(a),l=ap(i,a,l,d,void 0,y),d=op(),i!==null&&!Xt?(lp(i,a,y),Ti(i,a,y)):(et&&d&&Bm(a),a.flags|=1,mn(i,a,l,y),a.child)}function tw(i,a,l,d,y,b){return wa(a),a.updateQueue=null,l=ix(a,d,l,y),sx(i),d=op(),i!==null&&!Xt?(lp(i,a,b),Ti(i,a,b)):(et&&d&&Bm(a),a.flags|=1,mn(i,a,l,b),a.child)}function nw(i,a,l,d,y){if(wa(a),a.stateNode===null){var b=ho,_=l.contextType;typeof _=="object"&&_!==null&&(b=fn(_)),b=new l(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Cp,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},Qm(a),_=l.contextType,b.context=typeof _=="object"&&_!==null?fn(_):ho,b.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Sp(a,l,_,d),b.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(_=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),_!==b.state&&Cp.enqueueReplaceState(b,b.state,null),Zl(a,d,b,y),Ql(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(i===null){b=a.stateNode;var R=a.memoizedProps,U=Ta(l,R);b.props=U;var ne=b.context,de=l.contextType;_=ho,typeof de=="object"&&de!==null&&(_=fn(de));var pe=l.getDerivedStateFromProps;de=typeof pe=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,de||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||ne!==_)&&Vx(a,b,d,_),ur=!1;var ae=a.memoizedState;b.state=ae,Zl(a,d,b,y),Ql(),ne=a.memoizedState,R||ae!==ne||ur?(typeof pe=="function"&&(Sp(a,l,pe,d),ne=a.memoizedState),(U=ur||Bx(a,l,U,d,ae,ne,_))?(de||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ne),b.props=d,b.state=ne,b.context=_,d=U):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,Zm(i,a),_=a.memoizedProps,de=Ta(l,_),b.props=de,pe=a.pendingProps,ae=b.context,ne=l.contextType,U=ho,typeof ne=="object"&&ne!==null&&(U=fn(ne)),R=l.getDerivedStateFromProps,(ne=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==pe||ae!==U)&&Vx(a,b,d,U),ur=!1,ae=a.memoizedState,b.state=ae,Zl(a,d,b,y),Ql();var ce=a.memoizedState;_!==pe||ae!==ce||ur||i!==null&&i.dependencies!==null&&nd(i.dependencies)?(typeof R=="function"&&(Sp(a,l,R,d),ce=a.memoizedState),(de=ur||Bx(a,l,de,d,ae,ce,U)||i!==null&&i.dependencies!==null&&nd(i.dependencies))?(ne||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ce,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ce,U)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ce),b.props=d,b.state=ce,b.context=U,d=de):(typeof b.componentDidUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&ae===i.memoizedState||(a.flags|=1024),d=!1)}return b=d,wd(i,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&d?(a.child=Ea(a,i.child,null,y),a.child=Ea(a,null,l,y)):mn(i,a,l,y),a.memoizedState=b.state,i=a.child):i=Ti(i,a,y),i}function sw(i,a,l,d){return ba(),a.flags|=256,mn(i,a,l,d),a.child}var Tp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mp(i){return{baseLanes:i,cachePool:Gb()}}function Rp(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=as),i}function iw(i,a,l){var d=a.pendingProps,y=!1,b=(a.flags&128)!==0,_;if((_=b)||(_=i!==null&&i.memoizedState===null?!1:(Ht.current&2)!==0),_&&(y=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,i===null){if(et){if(y?fr(a):mr(),(i=Dt)?(i=h1(i,xs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:ar!==null?{id:qs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},l=Pb(i),l.return=a,a.child=l,hn=a,Dt=null)):i=null,i===null)throw lr(a);return dg(i)?a.lanes=32:a.lanes=536870912,null}var R=d.children;return d=d.fallback,y?(mr(),y=a.mode,R=Sd({mode:"hidden",children:R},y),d=ya(d,y,l,null),R.return=a,d.return=a,R.sibling=d,a.child=R,d=a.child,d.memoizedState=Mp(l),d.childLanes=Rp(i,_,l),a.memoizedState=Tp,ic(null,d)):(fr(a),Ap(a,R))}var U=i.memoizedState;if(U!==null&&(R=U.dehydrated,R!==null)){if(b)a.flags&256?(fr(a),a.flags&=-257,a=jp(i,a,l)):a.memoizedState!==null?(mr(),a.child=i.child,a.flags|=128,a=null):(mr(),R=d.fallback,y=a.mode,d=Sd({mode:"visible",children:d.children},y),R=ya(R,y,l,null),R.flags|=2,d.return=a,R.return=a,d.sibling=R,a.child=d,Ea(a,i.child,null,l),d=a.child,d.memoizedState=Mp(l),d.childLanes=Rp(i,_,l),a.memoizedState=Tp,a=ic(null,d));else if(fr(a),dg(R)){if(_=R.nextSibling&&R.nextSibling.dataset,_)var ne=_.dgst;_=ne,d=Error(s(419)),d.stack="",d.digest=_,Gl({value:d,source:null,stack:null}),a=jp(i,a,l)}else if(Xt||go(i,a,l,!1),_=(l&i.childLanes)!==0,Xt||_){if(_=St,_!==null&&(d=ht(_,l),d!==0&&d!==U.retryLane))throw U.retryLane=d,va(i,d),Bn(_,i,d),Ep;ug(R)||jd(),a=jp(i,a,l)}else ug(R)?(a.flags|=192,a.child=i.child,a=null):(i=U.treeContext,Dt=Ss(R.nextSibling),hn=a,et=!0,or=null,xs=!1,i!==null&&Ub(a,i),a=Ap(a,d.children),a.flags|=4096);return a}return y?(mr(),R=d.fallback,y=a.mode,U=i.child,ne=U.sibling,d=wi(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,ne!==null?R=wi(ne,R):(R=ya(R,y,l,null),R.flags|=2),R.return=a,d.return=a,d.sibling=R,a.child=d,ic(null,d),d=a.child,R=i.child.memoizedState,R===null?R=Mp(l):(y=R.cachePool,y!==null?(U=Yt._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=Gb(),R={baseLanes:R.baseLanes|l,cachePool:y}),d.memoizedState=R,d.childLanes=Rp(i,_,l),a.memoizedState=Tp,ic(i.child,d)):(fr(a),l=i.child,i=l.sibling,l=wi(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,i!==null&&(_=a.deletions,_===null?(a.deletions=[i],a.flags|=16):_.push(i)),a.child=l,a.memoizedState=null,l)}function Ap(i,a){return a=Sd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Sd(i,a){return i=ns(22,i,null,a),i.lanes=0,i}function jp(i,a,l){return Ea(a,i.child,null,l),i=Ap(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function rw(i,a,l){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a),Gm(i.return,a,l)}function kp(i,a,l,d,y,b){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:y,treeForkCount:b}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=d,_.tail=l,_.tailMode=y,_.treeForkCount=b)}function aw(i,a,l){var d=a.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var _=Ht.current,R=(_&2)!==0;if(R?(_=_&1|2,a.flags|=128):_&=1,L(Ht,_),mn(i,a,d,l),d=et?Wl:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&rw(i,l,a);else if(i.tag===19)rw(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&ud(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),kp(a,!1,y,l,b,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&ud(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}kp(a,!0,l,null,b,d);break;case"together":kp(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Ti(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),vr|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(go(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,l=wi(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=wi(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Op(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&nd(i)))}function Ik(i,a,l){switch(a.tag){case 3:ue(a,a.stateNode.containerInfo),cr(a,Yt,i.memoizedState.cache),ba();break;case 27:case 5:we(a);break;case 4:ue(a,a.stateNode.containerInfo);break;case 10:cr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,ip(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(fr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?iw(i,a,l):(fr(a),i=Ti(i,a,l),i!==null?i.sibling:null);fr(a);break;case 19:var y=(i.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(go(i,a,l,!1),d=(l&a.childLanes)!==0),y){if(d)return aw(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),L(Ht,Ht.current),d)break;return null;case 22:return a.lanes=0,Qx(i,a,l,a.pendingProps);case 24:cr(a,Yt,i.memoizedState.cache)}return Ti(i,a,l)}function ow(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Xt=!0;else{if(!Op(i,l)&&(a.flags&128)===0)return Xt=!1,Ik(i,a,l);Xt=(i.flags&131072)!==0}else Xt=!1,et&&(a.flags&1048576)!==0&&$b(a,Wl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(i=Ca(a.elementType),a.type=i,typeof i=="function")zm(i)?(d=Ta(i,d),a.tag=1,a=nw(null,a,i,d,l)):(a.tag=0,a=Np(null,a,i,d,l));else{if(i!=null){var y=i.$$typeof;if(y===j){a.tag=11,a=Kx(null,a,i,d,l);break e}else if(y===I){a.tag=14,a=Xx(null,a,i,d,l);break e}}throw a=re(i)||i,Error(s(306,a,""))}}return a;case 0:return Np(i,a,a.type,a.pendingProps,l);case 1:return d=a.type,y=Ta(d,a.pendingProps),nw(i,a,d,y,l);case 3:e:{if(ue(a,a.stateNode.containerInfo),i===null)throw Error(s(387));d=a.pendingProps;var b=a.memoizedState;y=b.element,Zm(i,a),Zl(a,d,null,l);var _=a.memoizedState;if(d=_.cache,cr(a,Yt,d),d!==b.cache&&qm(a,[Yt],l,!0),Ql(),d=_.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=sw(i,a,d,l);break e}else if(d!==y){y=vs(Error(s(424)),a),Gl(y),a=sw(i,a,d,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Dt=Ss(i.firstChild),hn=a,et=!0,or=null,xs=!0,l=Qb(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ba(),d===y){a=Ti(i,a,l);break e}mn(i,a,d,l)}a=a.child}return a;case 26:return wd(i,a),i===null?(l=y1(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,i=a.pendingProps,d=zd(oe.current).createElement(l),d[zt]=a,d[xn]=i,pn(d,l,i),Ot(d),a.stateNode=d):a.memoizedState=y1(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return we(a),i===null&&et&&(d=a.stateNode=p1(a.type,a.pendingProps,oe.current),hn=a,xs=!0,y=Dt,Sr(a.type)?(hg=y,Dt=Ss(d.firstChild)):Dt=y),mn(i,a,a.pendingProps.children,l),wd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&et&&((y=d=Dt)&&(d=dO(d,a.type,a.pendingProps,xs),d!==null?(a.stateNode=d,hn=a,Dt=Ss(d.firstChild),xs=!1,y=!0):y=!1),y||lr(a)),we(a),y=a.type,b=a.pendingProps,_=i!==null?i.memoizedProps:null,d=b.children,og(y,b)?d=null:_!==null&&og(y,_)&&(a.flags|=32),a.memoizedState!==null&&(y=ap(i,a,Nk,null,null,l),bc._currentValue=y),wd(i,a),mn(i,a,d,l),a.child;case 6:return i===null&&et&&((i=l=Dt)&&(l=hO(l,a.pendingProps,xs),l!==null?(a.stateNode=l,hn=a,Dt=null,i=!0):i=!1),i||lr(a)),null;case 13:return iw(i,a,l);case 4:return ue(a,a.stateNode.containerInfo),d=a.pendingProps,i===null?a.child=Ea(a,null,d,l):mn(i,a,d,l),a.child;case 11:return Kx(i,a,a.type,a.pendingProps,l);case 7:return mn(i,a,a.pendingProps,l),a.child;case 8:return mn(i,a,a.pendingProps.children,l),a.child;case 12:return mn(i,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,cr(a,a.type,d.value),mn(i,a,d.children,l),a.child;case 9:return y=a.type._context,d=a.pendingProps.children,wa(a),y=fn(y),d=d(y),a.flags|=1,mn(i,a,d,l),a.child;case 14:return Xx(i,a,a.type,a.pendingProps,l);case 15:return Jx(i,a,a.type,a.pendingProps,l);case 19:return aw(i,a,l);case 31:return Dk(i,a,l);case 22:return Qx(i,a,l,a.pendingProps);case 24:return wa(a),d=fn(Yt),i===null?(y=Xm(),y===null&&(y=St,b=Ym(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),a.memoizedState={parent:d,cache:y},Qm(a),cr(a,Yt,y)):((i.lanes&l)!==0&&(Zm(i,a),Zl(a,null,null,l),Ql()),y=i.memoizedState,b=a.memoizedState,y.parent!==d?(y={parent:d,cache:d},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),cr(a,Yt,d)):(d=b.cache,cr(a,Yt,d),d!==y.cache&&qm(a,[Yt],l,!0))),mn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Mi(i){i.flags|=4}function Dp(i,a,l,d,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Dw())i.flags|=8192;else throw _a=ad,Jm}else i.flags&=-16777217}function lw(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!C1(a))if(Dw())i.flags|=8192;else throw _a=ad,Jm}function Cd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Je():536870912,i.lanes|=a,Mo|=a)}function rc(i,a){if(!et)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function It(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=l,a}function Lk(i,a,l){var d=a.pendingProps;switch(Vm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return l=a.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),_i(Yt),ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(po(a)?Mi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hm())),It(a),null;case 26:var y=a.type,b=a.memoizedState;return i===null?(Mi(a),b!==null?(It(a),lw(a,b)):(It(a),Dp(a,y,null,d,l))):b?b!==i.memoizedState?(Mi(a),It(a),lw(a,b)):(It(a),a.flags&=-16777217):(i=i.memoizedProps,i!==d&&Mi(a),It(a),Dp(a,y,i,d,l)),null;case 27:if(Ve(a),l=oe.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Mi(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return It(a),null}i=$.current,po(a)?Bb(a):(i=p1(y,d,l),a.stateNode=i,Mi(a))}return It(a),null;case 5:if(Ve(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Mi(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return It(a),null}if(b=$.current,po(a))Bb(a);else{var _=zd(oe.current);switch(b){case 1:b=_.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=_.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=_.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=_.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?_.createElement("select",{is:d.is}):_.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?_.createElement(y,{is:d.is}):_.createElement(y)}}b[zt]=a,b[xn]=d;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)b.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=b;e:switch(pn(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Mi(a)}}return It(a),Dp(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==d&&Mi(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(i=oe.current,po(a)){if(i=a.stateNode,l=a.memoizedProps,d=null,y=hn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[zt]=a,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||i1(i.nodeValue,l)),i||lr(a,!0)}else i=zd(i).createTextNode(d),i[zt]=a,a.stateNode=i}return It(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(d=po(a),l!==null){if(i===null){if(!d)throw Error(s(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[zt]=a}else ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),i=!1}else l=Hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(is(a),a):(is(a),null);if((a.flags&128)!==0)throw Error(s(558))}return It(a),null;case 13:if(d=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=po(a),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(s(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[zt]=a}else ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),y=!1}else y=Hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(is(a),a):(is(a),null)}return is(a),(a.flags&128)!==0?(a.lanes=l,a):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=a.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),Cd(a,a.updateQueue),It(a),null);case 4:return ye(),i===null&&ng(a.stateNode.containerInfo),It(a),null;case 10:return _i(a.type),It(a),null;case 19:if(M(Ht),d=a.memoizedState,d===null)return It(a),null;if(y=(a.flags&128)!==0,b=d.rendering,b===null)if(y)rc(d,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=ud(i),b!==null){for(a.flags|=128,rc(d,!1),i=b.updateQueue,a.updateQueue=i,Cd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Lb(l,i),l=l.sibling;return L(Ht,Ht.current&1|2),et&&Si(a,d.treeForkCount),a.child}i=i.sibling}d.tail!==null&&Nt()>Md&&(a.flags|=128,y=!0,rc(d,!1),a.lanes=4194304)}else{if(!y)if(i=ud(b),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,Cd(a,i),rc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!et)return It(a),null}else 2*Nt()-d.renderingStartTime>Md&&l!==536870912&&(a.flags|=128,y=!0,rc(d,!1),a.lanes=4194304);d.isBackwards?(b.sibling=a.child,a.child=b):(i=d.last,i!==null?i.sibling=b:a.child=b,d.last=b)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Nt(),i.sibling=null,l=Ht.current,L(Ht,y?l&1|2:l&1),et&&Si(a,d.treeForkCount),i):(It(a),null);case 22:case 23:return is(a),sp(),d=a.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),l=a.updateQueue,l!==null&&Cd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),i!==null&&M(Sa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),_i(Yt),It(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function Pk(i,a){switch(Vm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return _i(Yt),ye(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ve(a),null;case 31:if(a.memoizedState!==null){if(is(a),a.alternate===null)throw Error(s(340));ba()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(is(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ba()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return M(Ht),null;case 4:return ye(),null;case 10:return _i(a.type),null;case 22:case 23:return is(a),sp(),i!==null&&M(Sa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return _i(Yt),null;case 25:return null;default:return null}}function cw(i,a){switch(Vm(a),a.tag){case 3:_i(Yt),ye();break;case 26:case 27:case 5:Ve(a);break;case 4:ye();break;case 31:a.memoizedState!==null&&is(a);break;case 13:is(a);break;case 19:M(Ht);break;case 10:_i(a.type);break;case 22:case 23:is(a),sp(),i!==null&&M(Sa);break;case 24:_i(Yt)}}function ac(i,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&i)===i){d=void 0;var b=l.create,_=l.inst;d=b(),_.destroy=d}l=l.next}while(l!==y)}}catch(R){mt(a,a.return,R)}}function pr(i,a,l){try{var d=a.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&i)===i){var _=d.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,y=a;var U=l,ne=R;try{ne()}catch(de){mt(y,U,de)}}}d=d.next}while(d!==b)}}catch(de){mt(a,a.return,de)}}function uw(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{ex(a,l)}catch(d){mt(i,i.return,d)}}}function dw(i,a,l){l.props=Ta(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){mt(i,a,d)}}function oc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(y){mt(i,a,y)}}function Ks(i,a){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(y){mt(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){mt(i,a,y)}else l.current=null}function hw(i){var a=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(y){mt(i,i.return,y)}}function Ip(i,a,l){try{var d=i.stateNode;rO(d,i.type,l,a),d[xn]=a}catch(y){mt(i,i.return,y)}}function fw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Sr(i.type)||i.tag===4}function Lp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||fw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Sr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pp(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ms));else if(d!==4&&(d===27&&Sr(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Pp(i,a,l),i=i.sibling;i!==null;)Pp(i,a,l),i=i.sibling}function _d(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(d!==4&&(d===27&&Sr(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(_d(i,a,l),i=i.sibling;i!==null;)_d(i,a,l),i=i.sibling}function mw(i){var a=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);pn(a,d,l),a[zt]=i,a[xn]=l}catch(b){mt(i,i.return,b)}}var Ri=!1,Jt=!1,zp=!1,pw=typeof WeakSet=="function"?WeakSet:Set,ln=null;function zk(i,a){if(i=i.containerInfo,rg=Wd,i=Tb(i),jm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var _=0,R=-1,U=-1,ne=0,de=0,pe=i,ae=null;t:for(;;){for(var ce;pe!==l||y!==0&&pe.nodeType!==3||(R=_+y),pe!==b||d!==0&&pe.nodeType!==3||(U=_+d),pe.nodeType===3&&(_+=pe.nodeValue.length),(ce=pe.firstChild)!==null;)ae=pe,pe=ce;for(;;){if(pe===i)break t;if(ae===l&&++ne===y&&(R=_),ae===b&&++de===d&&(U=_),(ce=pe.nextSibling)!==null)break;pe=ae,ae=pe.parentNode}pe=ce}l=R===-1||U===-1?null:{start:R,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(ag={focusedElem:i,selectionRange:l},Wd=!1,ln=a;ln!==null;)if(a=ln,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ln=i;else for(;ln!==null;){switch(a=ln,b=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,l=a,y=b.memoizedProps,b=b.memoizedState,d=l.stateNode;try{var Ne=Ta(l.type,y);i=d.getSnapshotBeforeUpdate(Ne,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(De){mt(l,l.return,De)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)cg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,ln=i;break}ln=a.return}}function gw(i,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:ji(i,l),d&4&&ac(5,l);break;case 1:if(ji(i,l),d&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(_){mt(l,l.return,_)}else{var y=Ta(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(_){mt(l,l.return,_)}}d&64&&uw(l),d&512&&oc(l,l.return);break;case 3:if(ji(i,l),d&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ex(i,a)}catch(_){mt(l,l.return,_)}}break;case 27:a===null&&d&4&&mw(l);case 26:case 5:ji(i,l),a===null&&d&4&&hw(l),d&512&&oc(l,l.return);break;case 12:ji(i,l);break;case 31:ji(i,l),d&4&&bw(i,l);break;case 13:ji(i,l),d&4&&xw(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=qk.bind(null,l),fO(i,l))));break;case 22:if(d=l.memoizedState!==null||Ri,!d){a=a!==null&&a.memoizedState!==null||Jt,y=Ri;var b=Jt;Ri=d,(Jt=a)&&!b?ki(i,l,(l.subtreeFlags&8772)!==0):ji(i,l),Ri=y,Jt=b}break;case 30:break;default:ji(i,l)}}function vw(i){var a=i.alternate;a!==null&&(i.alternate=null,vw(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Al(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $t=null,Pn=!1;function Ai(i,a,l){for(l=l.child;l!==null;)yw(i,a,l),l=l.sibling}function yw(i,a,l){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(hs,l)}catch{}switch(l.tag){case 26:Jt||Ks(l,a),Ai(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jt||Ks(l,a);var d=$t,y=Pn;Sr(l.type)&&($t=l.stateNode,Pn=!1),Ai(i,a,l),gc(l.stateNode),$t=d,Pn=y;break;case 5:Jt||Ks(l,a);case 6:if(d=$t,y=Pn,$t=null,Ai(i,a,l),$t=d,Pn=y,$t!==null)if(Pn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(l.stateNode)}catch(b){mt(l,a,b)}else try{$t.removeChild(l.stateNode)}catch(b){mt(l,a,b)}break;case 18:$t!==null&&(Pn?(i=$t,u1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Lo(i)):u1($t,l.stateNode));break;case 4:d=$t,y=Pn,$t=l.stateNode.containerInfo,Pn=!0,Ai(i,a,l),$t=d,Pn=y;break;case 0:case 11:case 14:case 15:pr(2,l,a),Jt||pr(4,l,a),Ai(i,a,l);break;case 1:Jt||(Ks(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&dw(l,a,d)),Ai(i,a,l);break;case 21:Ai(i,a,l);break;case 22:Jt=(d=Jt)||l.memoizedState!==null,Ai(i,a,l),Jt=d;break;default:Ai(i,a,l)}}function bw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Lo(i)}catch(l){mt(a,a.return,l)}}}function xw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Lo(i)}catch(l){mt(a,a.return,l)}}function $k(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new pw),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new pw),a;default:throw Error(s(435,i.tag))}}function Ed(i,a){var l=$k(i);a.forEach(function(d){if(!l.has(d)){l.add(d);var y=Yk.bind(null,i,d);d.then(y,y)}})}function zn(i,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var y=l[d],b=i,_=a,R=_;e:for(;R!==null;){switch(R.tag){case 27:if(Sr(R.type)){$t=R.stateNode,Pn=!1;break e}break;case 5:$t=R.stateNode,Pn=!1;break e;case 3:case 4:$t=R.stateNode.containerInfo,Pn=!0;break e}R=R.return}if($t===null)throw Error(s(160));yw(b,_,y),$t=null,Pn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ww(a,i),a=a.sibling}var Ds=null;function ww(i,a){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zn(a,i),$n(i),d&4&&(pr(3,i,i.return),ac(3,i),pr(5,i,i.return));break;case 1:zn(a,i),$n(i),d&512&&(Jt||l===null||Ks(l,l.return)),d&64&&Ri&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var y=Ds;if(zn(a,i),$n(i),d&512&&(Jt||l===null||Ks(l,l.return)),d&4){var b=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ra]||b[zt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),pn(b,d,l),b[zt]=i,Ot(b),d=b;break e;case"link":var _=w1("link","href",y).get(d+(l.href||""));if(_){for(var R=0;R<_.length;R++)if(b=_[R],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(R,1);break t}}b=y.createElement(d),pn(b,d,l),y.head.appendChild(b);break;case"meta":if(_=w1("meta","content",y).get(d+(l.content||""))){for(R=0;R<_.length;R++)if(b=_[R],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(R,1);break t}}b=y.createElement(d),pn(b,d,l),y.head.appendChild(b);break;default:throw Error(s(468,d))}b[zt]=i,Ot(b),d=b}i.stateNode=d}else S1(y,i.type,i.stateNode);else i.stateNode=x1(y,d,i.memoizedProps);else b!==d?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,d===null?S1(y,i.type,i.stateNode):x1(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Ip(i,i.memoizedProps,l.memoizedProps)}break;case 27:zn(a,i),$n(i),d&512&&(Jt||l===null||Ks(l,l.return)),l!==null&&d&4&&Ip(i,i.memoizedProps,l.memoizedProps);break;case 5:if(zn(a,i),$n(i),d&512&&(Jt||l===null||Ks(l,l.return)),i.flags&32){y=i.stateNode;try{yi(y,"")}catch(Ne){mt(i,i.return,Ne)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,Ip(i,y,l!==null?l.memoizedProps:y)),d&1024&&(zp=!0);break;case 6:if(zn(a,i),$n(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(Ne){mt(i,i.return,Ne)}}break;case 3:if(Bd=null,y=Ds,Ds=$d(a.containerInfo),zn(a,i),Ds=y,$n(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Lo(a.containerInfo)}catch(Ne){mt(i,i.return,Ne)}zp&&(zp=!1,Sw(i));break;case 4:d=Ds,Ds=$d(i.stateNode.containerInfo),zn(a,i),$n(i),Ds=d;break;case 12:zn(a,i),$n(i);break;case 31:zn(a,i),$n(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ed(i,d)));break;case 13:zn(a,i),$n(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=Nt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ed(i,d)));break;case 22:y=i.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,ne=Ri,de=Jt;if(Ri=ne||y,Jt=de||U,zn(a,i),Jt=de,Ri=ne,$n(i),d&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||U||Ri||Jt||Ma(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){U=l=a;try{if(b=U.stateNode,y)_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{R=U.stateNode;var pe=U.memoizedProps.style,ae=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;R.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Ne){mt(U,U.return,Ne)}}}else if(a.tag===6){if(l===null){U=a;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(Ne){mt(U,U.return,Ne)}}}else if(a.tag===18){if(l===null){U=a;try{var ce=U.stateNode;y?d1(ce,!0):d1(U.stateNode,!1)}catch(Ne){mt(U,U.return,Ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Ed(i,l))));break;case 19:zn(a,i),$n(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ed(i,d)));break;case 30:break;case 21:break;default:zn(a,i),$n(i)}}function $n(i){var a=i.flags;if(a&2){try{for(var l,d=i.return;d!==null;){if(fw(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var y=l.stateNode,b=Lp(i);_d(i,b,y);break;case 5:var _=l.stateNode;l.flags&32&&(yi(_,""),l.flags&=-33);var R=Lp(i);_d(i,R,_);break;case 3:case 4:var U=l.stateNode.containerInfo,ne=Lp(i);Pp(i,ne,U);break;default:throw Error(s(161))}}catch(de){mt(i,i.return,de)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Sw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Sw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ji(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gw(i,a.alternate,a),a=a.sibling}function Ma(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:pr(4,a,a.return),Ma(a);break;case 1:Ks(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&dw(a,a.return,l),Ma(a);break;case 27:gc(a.stateNode);case 26:case 5:Ks(a,a.return),Ma(a);break;case 22:a.memoizedState===null&&Ma(a);break;case 30:Ma(a);break;default:Ma(a)}i=i.sibling}}function ki(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,y=i,b=a,_=b.flags;switch(b.tag){case 0:case 11:case 15:ki(y,b,l),ac(4,b);break;case 1:if(ki(y,b,l),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ne){mt(d,d.return,ne)}if(d=b,y=d.updateQueue,y!==null){var R=d.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)Zb(U[y],R)}catch(ne){mt(d,d.return,ne)}}l&&_&64&&uw(b),oc(b,b.return);break;case 27:mw(b);case 26:case 5:ki(y,b,l),l&&d===null&&_&4&&hw(b),oc(b,b.return);break;case 12:ki(y,b,l);break;case 31:ki(y,b,l),l&&_&4&&bw(y,b);break;case 13:ki(y,b,l),l&&_&4&&xw(y,b);break;case 22:b.memoizedState===null&&ki(y,b,l),oc(b,b.return);break;case 30:break;default:ki(y,b,l)}a=a.sibling}}function $p(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ql(l))}function Up(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ql(i))}function Is(i,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Cw(i,a,l,d),a=a.sibling}function Cw(i,a,l,d){var y=a.flags;switch(a.tag){case 0:case 11:case 15:Is(i,a,l,d),y&2048&&ac(9,a);break;case 1:Is(i,a,l,d);break;case 3:Is(i,a,l,d),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ql(i)));break;case 12:if(y&2048){Is(i,a,l,d),i=a.stateNode;try{var b=a.memoizedProps,_=b.id,R=b.onPostCommit;typeof R=="function"&&R(_,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){mt(a,a.return,U)}}else Is(i,a,l,d);break;case 31:Is(i,a,l,d);break;case 13:Is(i,a,l,d);break;case 23:break;case 22:b=a.stateNode,_=a.alternate,a.memoizedState!==null?b._visibility&2?Is(i,a,l,d):lc(i,a):b._visibility&2?Is(i,a,l,d):(b._visibility|=2,Eo(i,a,l,d,(a.subtreeFlags&10256)!==0||!1)),y&2048&&$p(_,a);break;case 24:Is(i,a,l,d),y&2048&&Up(a.alternate,a);break;default:Is(i,a,l,d)}}function Eo(i,a,l,d,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=i,_=a,R=l,U=d,ne=_.flags;switch(_.tag){case 0:case 11:case 15:Eo(b,_,R,U,y),ac(8,_);break;case 23:break;case 22:var de=_.stateNode;_.memoizedState!==null?de._visibility&2?Eo(b,_,R,U,y):lc(b,_):(de._visibility|=2,Eo(b,_,R,U,y)),y&&ne&2048&&$p(_.alternate,_);break;case 24:Eo(b,_,R,U,y),y&&ne&2048&&Up(_.alternate,_);break;default:Eo(b,_,R,U,y)}a=a.sibling}}function lc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,d=a,y=d.flags;switch(d.tag){case 22:lc(l,d),y&2048&&$p(d.alternate,d);break;case 24:lc(l,d),y&2048&&Up(d.alternate,d);break;default:lc(l,d)}a=a.sibling}}var cc=8192;function No(i,a,l){if(i.subtreeFlags&cc)for(i=i.child;i!==null;)_w(i,a,l),i=i.sibling}function _w(i,a,l){switch(i.tag){case 26:No(i,a,l),i.flags&cc&&i.memoizedState!==null&&EO(l,Ds,i.memoizedState,i.memoizedProps);break;case 5:No(i,a,l);break;case 3:case 4:var d=Ds;Ds=$d(i.stateNode.containerInfo),No(i,a,l),Ds=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=cc,cc=16777216,No(i,a,l),cc=d):No(i,a,l));break;default:No(i,a,l)}}function Ew(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function uc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];ln=d,Tw(d,i)}Ew(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nw(i),i=i.sibling}function Nw(i){switch(i.tag){case 0:case 11:case 15:uc(i),i.flags&2048&&pr(9,i,i.return);break;case 3:uc(i);break;case 12:uc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Nd(i)):uc(i);break;default:uc(i)}}function Nd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];ln=d,Tw(d,i)}Ew(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:pr(8,a,a.return),Nd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Nd(a));break;default:Nd(a)}i=i.sibling}}function Tw(i,a){for(;ln!==null;){var l=ln;switch(l.tag){case 0:case 11:case 15:pr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ql(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,ln=d;else e:for(l=i;ln!==null;){d=ln;var y=d.sibling,b=d.return;if(vw(d),d===l){ln=null;break e}if(y!==null){y.return=b,ln=y;break e}ln=b}}}var Uk={getCacheForType:function(i){var a=fn(Yt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return fn(Yt).controller.signal}},Bk=typeof WeakMap=="function"?WeakMap:Map,lt=0,St=null,Ye=null,Qe=0,ft=0,rs=null,gr=!1,To=!1,Bp=!1,Oi=0,Ft=0,vr=0,Ra=0,Vp=0,as=0,Mo=0,dc=null,Un=null,Fp=!1,Td=0,Mw=0,Md=1/0,Rd=null,yr=null,en=0,br=null,Ro=null,Di=0,Hp=0,Wp=null,Rw=null,hc=0,Gp=null;function os(){return(lt&2)!==0&&Qe!==0?Qe&-Qe:k.T!==null?Qp():Nn()}function Aw(){if(as===0)if((Qe&536870912)===0||et){var i=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),as=i}else as=536870912;return i=ss.current,i!==null&&(i.flags|=32),as}function Bn(i,a,l){(i===St&&(ft===2||ft===9)||i.cancelPendingCommit!==null)&&(Ao(i,0),xr(i,Qe,as,!1)),rt(i,l),((lt&2)===0||i!==St)&&(i===St&&((lt&2)===0&&(Ra|=l),Ft===4&&xr(i,Qe,as,!1)),Xs(i))}function jw(i,a,l){if((lt&6)!==0)throw Error(s(327));var d=!l&&(a&127)===0&&(a&i.expiredLanes)===0||Ge(i,a),y=d?Hk(i,a):Yp(i,a,!0),b=d;do{if(y===0){To&&!d&&xr(i,a,0,!1);break}else{if(l=i.current.alternate,b&&!Vk(l)){y=Yp(i,a,!1),b=!1;continue}if(y===2){if(b=a,i.errorRecoveryDisabledLanes&b)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var R=i;y=dc;var U=R.current.memoizedState.isDehydrated;if(U&&(Ao(R,_).flags|=256),_=Yp(R,_,!1),_!==2){if(Bp&&!U){R.errorRecoveryDisabledLanes|=b,Ra|=b,y=4;break e}b=Un,Un=y,b!==null&&(Un===null?Un=b:Un.push.apply(Un,b))}y=_}if(b=!1,y!==2)continue}}if(y===1){Ao(i,0),xr(i,a,0,!0);break}e:{switch(d=i,b=y,b){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:xr(d,a,as,!gr);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(y=Td+300-Nt(),10<y)){if(xr(d,a,as,!gr),_e(d,0,!0)!==0)break e;Di=a,d.timeoutHandle=l1(kw.bind(null,d,l,Un,Rd,Fp,a,as,Ra,Mo,gr,b,"Throttled",-0,0),y);break e}kw(d,l,Un,Rd,Fp,a,as,Ra,Mo,gr,b,null,-0,0)}}break}while(!0);Xs(i)}function kw(i,a,l,d,y,b,_,R,U,ne,de,pe,ae,ce){if(i.timeoutHandle=-1,pe=a.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ms},_w(a,b,pe);var Ne=(b&62914560)===b?Td-Nt():(b&4194048)===b?Mw-Nt():0;if(Ne=NO(pe,Ne),Ne!==null){Di=b,i.cancelPendingCommit=Ne(Uw.bind(null,i,a,b,l,d,y,_,R,U,de,pe,null,ae,ce)),xr(i,b,_,!ne);return}}Uw(i,a,b,l,d,y,_,R,U)}function Vk(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var y=l[d],b=y.getSnapshot;y=y.value;try{if(!ts(b(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xr(i,a,l,d){a&=~Vp,a&=~Ra,i.suspendedLanes|=a,i.pingedLanes&=~a,d&&(i.warmLanes|=a),d=i.expirationTimes;for(var y=a;0<y;){var b=31-kt(y),_=1<<b;d[b]=-1,y&=~_}l!==0&&on(i,l,a)}function Ad(){return(lt&6)===0?(fc(0),!1):!0}function qp(){if(Ye!==null){if(ft===0)var i=Ye.return;else i=Ye,Ci=xa=null,cp(i),xo=null,Kl=0,i=Ye;for(;i!==null;)cw(i.alternate,i),i=i.return;Ye=null}}function Ao(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,lO(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Di=0,qp(),St=i,Ye=l=wi(i.current,null),Qe=a,ft=0,rs=null,gr=!1,To=Ge(i,a),Bp=!1,Mo=as=Vp=Ra=vr=Ft=0,Un=dc=null,Fp=!1,(a&8)!==0&&(a|=a&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=a;0<d;){var y=31-kt(d),b=1<<y;a|=i[y],d&=~b}return Oi=a,Ju(),l}function Ow(i,a){$e=null,k.H=sc,a===bo||a===rd?(a=Kb(),ft=3):a===Jm?(a=Kb(),ft=4):ft=a===Ep?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,rs=a,Ye===null&&(Ft=1,bd(i,vs(a,i.current)))}function Dw(){var i=ss.current;return i===null?!0:(Qe&4194048)===Qe?ws===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?i===ws:!1}function Iw(){var i=k.H;return k.H=sc,i===null?sc:i}function Lw(){var i=k.A;return k.A=Uk,i}function jd(){Ft=4,gr||(Qe&4194048)!==Qe&&ss.current!==null||(To=!0),(vr&134217727)===0&&(Ra&134217727)===0||St===null||xr(St,Qe,as,!1)}function Yp(i,a,l){var d=lt;lt|=2;var y=Iw(),b=Lw();(St!==i||Qe!==a)&&(Rd=null,Ao(i,a)),a=!1;var _=Ft;e:do try{if(ft!==0&&Ye!==null){var R=Ye,U=rs;switch(ft){case 8:qp(),_=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(a=!0);var ne=ft;if(ft=0,rs=null,jo(i,R,U,ne),l&&To){_=0;break e}break;default:ne=ft,ft=0,rs=null,jo(i,R,U,ne)}}Fk(),_=Ft;break}catch(de){Ow(i,de)}while(!0);return a&&i.shellSuspendCounter++,Ci=xa=null,lt=d,k.H=y,k.A=b,Ye===null&&(St=null,Qe=0,Ju()),_}function Fk(){for(;Ye!==null;)Pw(Ye)}function Hk(i,a){var l=lt;lt|=2;var d=Iw(),y=Lw();St!==i||Qe!==a?(Rd=null,Md=Nt()+500,Ao(i,a)):To=Ge(i,a);e:do try{if(ft!==0&&Ye!==null){a=Ye;var b=rs;t:switch(ft){case 1:ft=0,rs=null,jo(i,a,b,1);break;case 2:case 9:if(qb(b)){ft=0,rs=null,zw(a);break}a=function(){ft!==2&&ft!==9||St!==i||(ft=7),Xs(i)},b.then(a,a);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:qb(b)?(ft=0,rs=null,zw(a)):(ft=0,rs=null,jo(i,a,b,7));break;case 5:var _=null;switch(Ye.tag){case 26:_=Ye.memoizedState;case 5:case 27:var R=Ye;if(_?C1(_):R.stateNode.complete){ft=0,rs=null;var U=R.sibling;if(U!==null)Ye=U;else{var ne=R.return;ne!==null?(Ye=ne,kd(ne)):Ye=null}break t}}ft=0,rs=null,jo(i,a,b,5);break;case 6:ft=0,rs=null,jo(i,a,b,6);break;case 8:qp(),Ft=6;break e;default:throw Error(s(462))}}Wk();break}catch(de){Ow(i,de)}while(!0);return Ci=xa=null,k.H=d,k.A=y,lt=l,Ye!==null?0:(St=null,Qe=0,Ju(),Ft)}function Wk(){for(;Ye!==null&&!ut();)Pw(Ye)}function Pw(i){var a=ow(i.alternate,i,Oi);i.memoizedProps=i.pendingProps,a===null?kd(i):Ye=a}function zw(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=tw(l,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=tw(l,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:cp(a);default:cw(l,a),a=Ye=Lb(a,Oi),a=ow(l,a,Oi)}i.memoizedProps=i.pendingProps,a===null?kd(i):Ye=a}function jo(i,a,l,d){Ci=xa=null,cp(a),xo=null,Kl=0;var y=a.return;try{if(Ok(i,y,a,l,Qe)){Ft=1,bd(i,vs(l,i.current)),Ye=null;return}}catch(b){if(y!==null)throw Ye=y,b;Ft=1,bd(i,vs(l,i.current)),Ye=null;return}a.flags&32768?(et||d===1?i=!0:To||(Qe&536870912)!==0?i=!1:(gr=i=!0,(d===2||d===9||d===3||d===6)&&(d=ss.current,d!==null&&d.tag===13&&(d.flags|=16384))),$w(a,i)):kd(a)}function kd(i){var a=i;do{if((a.flags&32768)!==0){$w(a,gr);return}i=a.return;var l=Lk(a.alternate,a,Oi);if(l!==null){Ye=l;return}if(a=a.sibling,a!==null){Ye=a;return}Ye=a=i}while(a!==null);Ft===0&&(Ft=5)}function $w(i,a){do{var l=Pk(i.alternate,i);if(l!==null){l.flags&=32767,Ye=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Ye=i;return}Ye=i=l}while(i!==null);Ft=6,Ye=null}function Uw(i,a,l,d,y,b,_,R,U){i.cancelPendingCommit=null;do Od();while(en!==0);if((lt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(b=a.lanes|a.childLanes,b|=Lm,st(i,l,b,_,R,U),i===St&&(Ye=St=null,Qe=0),Ro=a,br=i,Di=l,Hp=b,Wp=y,Rw=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Kk(Ut,function(){return Ww(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=k.T,k.T=null,y=F.p,F.p=2,_=lt,lt|=4;try{zk(i,a,l)}finally{lt=_,F.p=y,k.T=d}}en=1,Bw(),Vw(),Fw()}}function Bw(){if(en===1){en=0;var i=br,a=Ro,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var d=F.p;F.p=2;var y=lt;lt|=4;try{ww(a,i);var b=ag,_=Tb(i.containerInfo),R=b.focusedElem,U=b.selectionRange;if(_!==R&&R&&R.ownerDocument&&Nb(R.ownerDocument.documentElement,R)){if(U!==null&&jm(R)){var ne=U.start,de=U.end;if(de===void 0&&(de=ne),"selectionStart"in R)R.selectionStart=ne,R.selectionEnd=Math.min(de,R.value.length);else{var pe=R.ownerDocument||document,ae=pe&&pe.defaultView||window;if(ae.getSelection){var ce=ae.getSelection(),Ne=R.textContent.length,De=Math.min(U.start,Ne),bt=U.end===void 0?De:Math.min(U.end,Ne);!ce.extend&&De>bt&&(_=bt,bt=De,De=_);var Y=Eb(R,De),H=Eb(R,bt);if(Y&&H&&(ce.rangeCount!==1||ce.anchorNode!==Y.node||ce.anchorOffset!==Y.offset||ce.focusNode!==H.node||ce.focusOffset!==H.offset)){var te=pe.createRange();te.setStart(Y.node,Y.offset),ce.removeAllRanges(),De>bt?(ce.addRange(te),ce.extend(H.node,H.offset)):(te.setEnd(H.node,H.offset),ce.addRange(te))}}}}for(pe=[],ce=R;ce=ce.parentNode;)ce.nodeType===1&&pe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<pe.length;R++){var fe=pe[R];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Wd=!!rg,ag=rg=null}finally{lt=y,F.p=d,k.T=l}}i.current=a,en=2}}function Vw(){if(en===2){en=0;var i=br,a=Ro,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var d=F.p;F.p=2;var y=lt;lt|=4;try{gw(i,a.alternate,a)}finally{lt=y,F.p=d,k.T=l}}en=3}}function Fw(){if(en===4||en===3){en=0,_n();var i=br,a=Ro,l=Di,d=Rw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,Ro=br=null,Hw(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(yr=null),Zt(l),a=a.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(hs,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=k.T,y=F.p,F.p=2,k.T=null;try{for(var b=i.onRecoverableError,_=0;_<d.length;_++){var R=d[_];b(R.value,{componentStack:R.stack})}}finally{k.T=a,F.p=y}}(Di&3)!==0&&Od(),Xs(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===Gp?hc++:(hc=0,Gp=i):hc=0,fc(0)}}function Hw(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,ql(a)))}function Od(){return Bw(),Vw(),Fw(),Ww()}function Ww(){if(en!==5)return!1;var i=br,a=Hp;Hp=0;var l=Zt(Di),d=k.T,y=F.p;try{F.p=32>l?32:l,k.T=null,l=Wp,Wp=null;var b=br,_=Di;if(en=0,Ro=br=null,Di=0,(lt&6)!==0)throw Error(s(331));var R=lt;if(lt|=4,Nw(b.current),Cw(b,b.current,_,l),lt=R,fc(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(hs,b)}catch{}return!0}finally{F.p=y,k.T=d,Hw(i,a)}}function Gw(i,a,l){a=vs(l,a),a=_p(i.stateNode,a,2),i=hr(i,a,2),i!==null&&(rt(i,2),Xs(i))}function mt(i,a,l){if(i.tag===3)Gw(i,i,l);else for(;a!==null;){if(a.tag===3){Gw(a,i,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(yr===null||!yr.has(d))){i=vs(l,i),l=qx(2),d=hr(a,l,2),d!==null&&(Yx(l,d,a,i),rt(d,2),Xs(d));break}}a=a.return}}function Kp(i,a,l){var d=i.pingCache;if(d===null){d=i.pingCache=new Bk;var y=new Set;d.set(a,y)}else y=d.get(a),y===void 0&&(y=new Set,d.set(a,y));y.has(l)||(Bp=!0,y.add(l),i=Gk.bind(null,i,a,l),a.then(i,i))}function Gk(i,a,l){var d=i.pingCache;d!==null&&d.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,St===i&&(Qe&l)===l&&(Ft===4||Ft===3&&(Qe&62914560)===Qe&&300>Nt()-Td?(lt&2)===0&&Ao(i,0):Vp|=l,Mo===Qe&&(Mo=0)),Xs(i)}function qw(i,a){a===0&&(a=Je()),i=va(i,a),i!==null&&(rt(i,a),Xs(i))}function qk(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),qw(i,l)}function Yk(i,a){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(a),qw(i,l)}function Kk(i,a){return pt(i,a)}var Dd=null,ko=null,Xp=!1,Id=!1,Jp=!1,wr=0;function Xs(i){i!==ko&&i.next===null&&(ko===null?Dd=ko=i:ko=ko.next=i),Id=!0,Xp||(Xp=!0,Jk())}function fc(i,a){if(!Jp&&Id){Jp=!0;do for(var l=!1,d=Dd;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var _=d.suspendedLanes,R=d.pingedLanes;b=(1<<31-kt(42|i)+1)-1,b&=y&~(_&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,Jw(d,b))}else b=Qe,b=_e(d,d===St?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Ge(d,b)||(l=!0,Jw(d,b));d=d.next}while(l);Jp=!1}}function Xk(){Yw()}function Yw(){Id=Xp=!1;var i=0;wr!==0&&oO()&&(i=wr);for(var a=Nt(),l=null,d=Dd;d!==null;){var y=d.next,b=Kw(d,a);b===0?(d.next=null,l===null?Dd=y:l.next=y,y===null&&(ko=l)):(l=d,(i!==0||(b&3)!==0)&&(Id=!0)),d=y}en!==0&&en!==5||fc(i),wr!==0&&(wr=0)}function Kw(i,a){for(var l=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var _=31-kt(b),R=1<<_,U=y[_];U===-1?((R&l)===0||(R&d)!==0)&&(y[_]=ke(R,a)):U<=a&&(i.expiredLanes|=R),b&=~R}if(a=St,l=Qe,l=_e(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===a&&(ft===2||ft===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Qt(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ge(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(d!==null&&Qt(d),Zt(l)){case 2:case 8:l=rn;break;case 32:l=Ut;break;case 268435456:l=vn;break;default:l=Ut}return d=Xw.bind(null,i),l=pt(l,d),i.callbackPriority=a,i.callbackNode=l,a}return d!==null&&d!==null&&Qt(d),i.callbackPriority=2,i.callbackNode=null,2}function Xw(i,a){if(en!==0&&en!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Od()&&i.callbackNode!==l)return null;var d=Qe;return d=_e(i,i===St?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(jw(i,d,a),Kw(i,Nt()),i.callbackNode!=null&&i.callbackNode===l?Xw.bind(null,i):null)}function Jw(i,a){if(Od())return null;jw(i,a,!0)}function Jk(){cO(function(){(lt&6)!==0?pt(un,Xk):Yw()})}function Qp(){if(wr===0){var i=vo;i===0&&(i=an,an<<=1,(an&261888)===0&&(an=256)),wr=i}return wr}function Qw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:sr(""+i)}function Zw(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Qk(i,a,l,d,y){if(a==="submit"&&l&&l.stateNode===y){var b=Qw((y[xn]||null).action),_=d.submitter;_&&(a=(a=_[xn]||null)?Qw(a.formAction):_.getAttribute("formAction"),a!==null&&(b=a,_=null));var R=new ge("action","action",null,d,y);i.push({event:R,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(wr!==0){var U=_?Zw(y,_):new FormData(y);yp(l,{pending:!0,data:U,method:y.method,action:b},null,U)}}else typeof b=="function"&&(R.preventDefault(),U=_?Zw(y,_):new FormData(y),yp(l,{pending:!0,data:U,method:y.method,action:b},b,U))},currentTarget:y}]})}}for(var Zp=0;Zp<Im.length;Zp++){var eg=Im[Zp],Zk=eg.toLowerCase(),eO=eg[0].toUpperCase()+eg.slice(1);Os(Zk,"on"+eO)}Os(Ab,"onAnimationEnd"),Os(jb,"onAnimationIteration"),Os(kb,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(gk,"onTransitionRun"),Os(vk,"onTransitionStart"),Os(yk,"onTransitionCancel"),Os(Ob,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function e1(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],y=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var _=d.length-1;0<=_;_--){var R=d[_],U=R.instance,ne=R.currentTarget;if(R=R.listener,U!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=ne;try{b(y)}catch(de){Xu(de)}y.currentTarget=null,b=U}else for(_=0;_<d.length;_++){if(R=d[_],U=R.instance,ne=R.currentTarget,R=R.listener,U!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=ne;try{b(y)}catch(de){Xu(de)}y.currentTarget=null,b=U}}}}function Ke(i,a){var l=a[sa];l===void 0&&(l=a[sa]=new Set);var d=i+"__bubble";l.has(d)||(t1(a,i,2,!1),l.add(d))}function tg(i,a,l){var d=0;a&&(d|=4),t1(l,i,d,a)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function ng(i){if(!i[Ld]){i[Ld]=!0,mi.forEach(function(l){l!=="selectionchange"&&(tO.has(l)||tg(l,!1,i),tg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ld]||(a[Ld]=!0,tg("selectionchange",!1,a))}}function t1(i,a,l,d){switch(A1(a)){case 2:var y=RO;break;case 8:y=AO;break;default:y=vg}l=y.bind(null,a,l,i),y=void 0,!$l||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function sg(i,a,l,d,y){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var _=d.tag;if(_===3||_===4){var R=d.stateNode.containerInfo;if(R===y)break;if(_===4)for(_=d.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===y)return;_=_.return}for(;R!==null;){if(_=Zi(R),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){d=b=_;continue e}R=R.parentNode}}d=d.return}qu(function(){var ne=b,de=ir(l),pe=[];e:{var ae=Db.get(i);if(ae!==void 0){var ce=ge,Ne=i;switch(i){case"keypress":if(ro(l)===0)break e;case"keydown":case"keyup":ce=Yj;break;case"focusin":Ne="focus",ce=xi;break;case"focusout":Ne="blur",ce=xi;break;case"beforeblur":case"afterblur":ce=xi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Jj;break;case Ab:case jb:case kb:ce=$j;break;case Ob:ce=Zj;break;case"scroll":case"scrollend":ce=Oe;break;case"wheel":ce=tk;break;case"copy":case"cut":case"paste":ce=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=db;break;case"toggle":case"beforetoggle":ce=sk}var De=(a&4)!==0,bt=!De&&(i==="scroll"||i==="scrollend"),Y=De?ae!==null?ae+"Capture":null:ae;De=[];for(var H=ne,te;H!==null;){var fe=H;if(te=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||te===null||Y===null||(fe=da(H,Y),fe!=null&&De.push(pc(H,fe,te))),bt)break;H=H.return}0<De.length&&(ae=new ce(ae,Ne,null,l,de),pe.push({event:ae,listeners:De}))}}if((a&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",ae&&l!==ua&&(Ne=l.relatedTarget||l.fromElement)&&(Zi(Ne)||Ne[fi]))break e;if((ce||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,ce?(Ne=l.relatedTarget||l.toElement,ce=ne,Ne=Ne?Zi(Ne):null,Ne!==null&&(bt=o(Ne),De=Ne.tag,Ne!==bt||De!==5&&De!==27&&De!==6)&&(Ne=null)):(ce=null,Ne=ne),ce!==Ne)){if(De=Gs,fe="onMouseLeave",Y="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(De=db,fe="onPointerLeave",Y="onPointerEnter",H="pointer"),bt=ce==null?ae:Hs(ce),te=Ne==null?ae:Hs(Ne),ae=new De(fe,H+"leave",ce,l,de),ae.target=bt,ae.relatedTarget=te,fe=null,Zi(de)===ne&&(De=new De(Y,H+"enter",Ne,l,de),De.target=te,De.relatedTarget=bt,fe=De),bt=fe,ce&&Ne)t:{for(De=nO,Y=ce,H=Ne,te=0,fe=Y;fe;fe=De(fe))te++;fe=0;for(var je=H;je;je=De(je))fe++;for(;0<te-fe;)Y=De(Y),te--;for(;0<fe-te;)H=De(H),fe--;for(;te--;){if(Y===H||H!==null&&Y===H.alternate){De=Y;break t}Y=De(Y),H=De(H)}De=null}else De=null;ce!==null&&n1(pe,ae,ce,De,!1),Ne!==null&&bt!==null&&n1(pe,bt,Ne,De,!0)}}e:{if(ae=ne?Hs(ne):window,ce=ae.nodeName&&ae.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ae.type==="file")var at=bb;else if(vb(ae))if(xb)at=fk;else{at=dk;var Re=uk}else ce=ae.nodeName,!ce||ce.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Ll(ne.elementType)&&(at=bb):at=hk;if(at&&(at=at(i,ne))){yb(pe,at,l,de);break e}Re&&Re(i,ae,ne),i==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&Dl(ae,"number",ae.value)}switch(Re=ne?Hs(ne):window,i){case"focusin":(vb(Re)||Re.contentEditable==="true")&&(lo=Re,km=ne,Hl=null);break;case"focusout":Hl=km=lo=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,Mb(pe,l,de);break;case"selectionchange":if(pk)break;case"keydown":case"keyup":Mb(pe,l,de)}var Be;if(Mm)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else oo?pb(i,l)&&(Ze="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(hb&&l.locale!=="ko"&&(oo||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&oo&&(Be=Yu()):(ps=de,io="value"in ps?ps.value:ps.textContent,oo=!0)),Re=Pd(ne,Ze),0<Re.length&&(Ze=new ub(Ze,i,null,l,de),pe.push({event:Ze,listeners:Re}),Be?Ze.data=Be:(Be=gb(l),Be!==null&&(Ze.data=Be)))),(Be=rk?ak(i,l):ok(i,l))&&(Ze=Pd(ne,"onBeforeInput"),0<Ze.length&&(Re=new ub("onBeforeInput","beforeinput",null,l,de),pe.push({event:Re,listeners:Ze}),Re.data=Be)),Qk(pe,i,ne,l,de)}e1(pe,a)})}function pc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Pd(i,a){for(var l=a+"Capture",d=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=da(i,l),y!=null&&d.unshift(pc(i,y,b)),y=da(i,a),y!=null&&d.push(pc(i,y,b))),i.tag===3)return d;i=i.return}return[]}function nO(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function n1(i,a,l,d,y){for(var b=a._reactName,_=[];l!==null&&l!==d;){var R=l,U=R.alternate,ne=R.stateNode;if(R=R.tag,U!==null&&U===d)break;R!==5&&R!==26&&R!==27||ne===null||(U=ne,y?(ne=da(l,b),ne!=null&&_.unshift(pc(l,ne,U))):y||(ne=da(l,b),ne!=null&&_.push(pc(l,ne,U)))),l=l.return}_.length!==0&&i.push({event:a,listeners:_})}var sO=/\r\n?/g,iO=/\u0000|\uFFFD/g;function s1(i){return(typeof i=="string"?i:""+i).replace(sO,`
`).replace(iO,"")}function i1(i,a){return a=s1(a),s1(i)===a}function yt(i,a,l,d,y,b){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||yi(i,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&yi(i,""+d);break;case"className":oa(i,"class",d);break;case"tabIndex":oa(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(i,l,d);break;case"style":ca(i,d,b);break;case"data":if(a!=="object"){oa(i,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=sr(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(a!=="input"&&yt(i,a,"name",y.name,y,null),yt(i,a,"formEncType",y.formEncType,y,null),yt(i,a,"formMethod",y.formMethod,y,null),yt(i,a,"formTarget",y.formTarget,y,null)):(yt(i,a,"encType",y.encType,y,null),yt(i,a,"method",y.method,y,null),yt(i,a,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=sr(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=ms);break;case"onScroll":d!=null&&Ke("scroll",i);break;case"onScrollEnd":d!=null&&Ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=sr(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":Ke("beforetoggle",i),Ke("toggle",i),aa(i,"popover",d);break;case"xlinkActuate":es(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":es(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":es(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":es(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":es(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":es(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":es(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":es(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":es(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":aa(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=nr.get(l)||l,aa(i,l,d))}}function ig(i,a,l,d,y,b){switch(l){case"style":ca(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(y.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof d=="string"?yi(i,d):(typeof d=="number"||typeof d=="bigint")&&yi(i,""+d);break;case"onScroll":d!=null&&Ke("scroll",i);break;case"onScrollEnd":d!=null&&Ke("scrollend",i);break;case"onClick":d!=null&&(i.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),b=i[xn]||null,b=b!=null?b[l]:null,typeof b=="function"&&i.removeEventListener(a,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,d,y);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):aa(i,l,d)}}}function pn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",i),Ke("load",i);var d=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var _=l[b];if(_!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:yt(i,a,b,_,l,null)}}y&&yt(i,a,"srcSet",l.srcSet,l,null),d&&yt(i,a,"src",l.src,l,null);return;case"input":Ke("invalid",i);var R=b=_=y=null,U=null,ne=null;for(d in l)if(l.hasOwnProperty(d)){var de=l[d];if(de!=null)switch(d){case"name":y=de;break;case"type":_=de;break;case"checked":U=de;break;case"defaultChecked":ne=de;break;case"value":b=de;break;case"defaultValue":R=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,a));break;default:yt(i,a,d,de,l,null)}}Fu(i,b,R,U,ne,_,y,!1);return;case"select":Ke("invalid",i),d=_=b=null;for(y in l)if(l.hasOwnProperty(y)&&(R=l[y],R!=null))switch(y){case"value":b=R;break;case"defaultValue":_=R;break;case"multiple":d=R;default:yt(i,a,y,R,l,null)}a=b,l=_,i.multiple=!!d,a!=null?vi(i,!!d,a,!1):l!=null&&vi(i,!!d,l,!0);return;case"textarea":Ke("invalid",i),b=y=d=null;for(_ in l)if(l.hasOwnProperty(_)&&(R=l[_],R!=null))switch(_){case"value":d=R;break;case"defaultValue":y=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:yt(i,a,_,R,l,null)}Hu(i,d,y,b);return;case"option":for(U in l)l.hasOwnProperty(U)&&(d=l[U],d!=null)&&(U==="selected"?i.selected=d&&typeof d!="function"&&typeof d!="symbol":yt(i,a,U,d,l,null));return;case"dialog":Ke("beforetoggle",i),Ke("toggle",i),Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":Ke("load",i);break;case"video":case"audio":for(d=0;d<mc.length;d++)Ke(mc[d],i);break;case"image":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"embed":case"source":case"link":Ke("error",i),Ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(d=l[ne],d!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:yt(i,a,ne,d,l,null)}return;default:if(Ll(a)){for(de in l)l.hasOwnProperty(de)&&(d=l[de],d!==void 0&&ig(i,a,de,d,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(d=l[R],d!=null&&yt(i,a,R,d,l,null))}function rO(i,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,_=null,R=null,U=null,ne=null,de=null;for(ce in l){var pe=l[ce];if(l.hasOwnProperty(ce)&&pe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":U=pe;default:d.hasOwnProperty(ce)||yt(i,a,ce,null,d,pe)}}for(var ae in d){var ce=d[ae];if(pe=l[ae],d.hasOwnProperty(ae)&&(ce!=null||pe!=null))switch(ae){case"type":b=ce;break;case"name":y=ce;break;case"checked":ne=ce;break;case"defaultChecked":de=ce;break;case"value":_=ce;break;case"defaultValue":R=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,a));break;default:ce!==pe&&yt(i,a,ae,ce,d,pe)}}Ol(i,_,R,U,ne,de,b,y);return;case"select":ce=_=R=ae=null;for(b in l)if(U=l[b],l.hasOwnProperty(b)&&U!=null)switch(b){case"value":break;case"multiple":ce=U;default:d.hasOwnProperty(b)||yt(i,a,b,null,d,U)}for(y in d)if(b=d[y],U=l[y],d.hasOwnProperty(y)&&(b!=null||U!=null))switch(y){case"value":ae=b;break;case"defaultValue":R=b;break;case"multiple":_=b;default:b!==U&&yt(i,a,y,b,d,U)}a=R,l=_,d=ce,ae!=null?vi(i,!!l,ae,!1):!!d!=!!l&&(a!=null?vi(i,!!l,a,!0):vi(i,!!l,l?[]:"",!1));return;case"textarea":ce=ae=null;for(R in l)if(y=l[R],l.hasOwnProperty(R)&&y!=null&&!d.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:yt(i,a,R,null,d,y)}for(_ in d)if(y=d[_],b=l[_],d.hasOwnProperty(_)&&(y!=null||b!=null))switch(_){case"value":ae=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==b&&yt(i,a,_,y,d,b)}la(i,ae,ce);return;case"option":for(var Ne in l)ae=l[Ne],l.hasOwnProperty(Ne)&&ae!=null&&!d.hasOwnProperty(Ne)&&(Ne==="selected"?i.selected=!1:yt(i,a,Ne,null,d,ae));for(U in d)ae=d[U],ce=l[U],d.hasOwnProperty(U)&&ae!==ce&&(ae!=null||ce!=null)&&(U==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":yt(i,a,U,ae,d,ce));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in l)ae=l[De],l.hasOwnProperty(De)&&ae!=null&&!d.hasOwnProperty(De)&&yt(i,a,De,null,d,ae);for(ne in d)if(ae=d[ne],ce=l[ne],d.hasOwnProperty(ne)&&ae!==ce&&(ae!=null||ce!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,a));break;default:yt(i,a,ne,ae,d,ce)}return;default:if(Ll(a)){for(var bt in l)ae=l[bt],l.hasOwnProperty(bt)&&ae!==void 0&&!d.hasOwnProperty(bt)&&ig(i,a,bt,void 0,d,ae);for(de in d)ae=d[de],ce=l[de],!d.hasOwnProperty(de)||ae===ce||ae===void 0&&ce===void 0||ig(i,a,de,ae,d,ce);return}}for(var Y in l)ae=l[Y],l.hasOwnProperty(Y)&&ae!=null&&!d.hasOwnProperty(Y)&&yt(i,a,Y,null,d,ae);for(pe in d)ae=d[pe],ce=l[pe],!d.hasOwnProperty(pe)||ae===ce||ae==null&&ce==null||yt(i,a,pe,ae,d,ce)}function r1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aO(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var y=l[d],b=y.transferSize,_=y.initiatorType,R=y.duration;if(b&&R&&r1(_)){for(_=0,R=y.responseEnd,d+=1;d<l.length;d++){var U=l[d],ne=U.startTime;if(ne>R)break;var de=U.transferSize,pe=U.initiatorType;de&&r1(pe)&&(U=U.responseEnd,_+=de*(U<R?1:(R-ne)/(U-ne)))}if(--d,a+=8*(b+_)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var rg=null,ag=null;function zd(i){return i.nodeType===9?i:i.ownerDocument}function a1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o1(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function og(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var lg=null;function oO(){var i=window.event;return i&&i.type==="popstate"?i===lg?!1:(lg=i,!0):(lg=null,!1)}var l1=typeof setTimeout=="function"?setTimeout:void 0,lO=typeof clearTimeout=="function"?clearTimeout:void 0,c1=typeof Promise=="function"?Promise:void 0,cO=typeof queueMicrotask=="function"?queueMicrotask:typeof c1<"u"?function(i){return c1.resolve(null).then(i).catch(uO)}:l1;function uO(i){setTimeout(function(){throw i})}function Sr(i){return i==="head"}function u1(i,a){var l=a,d=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(y),Lo(a);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")gc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,gc(l);for(var b=l.firstChild;b;){var _=b.nextSibling,R=b.nodeName;b[ra]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=_}}else l==="body"&&gc(i.ownerDocument.body);l=y}while(l);Lo(a)}function d1(i,a){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function cg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cg(l),Al(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function dO(i,a,l,d){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[ra])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Ss(i.nextSibling),i===null)break}return null}function hO(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ss(i.nextSibling),i===null))return null;return i}function h1(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ss(i.nextSibling),i===null))return null;return i}function ug(i){return i.data==="$?"||i.data==="$~"}function dg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function fO(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function Ss(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var hg=null;function f1(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return Ss(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function m1(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function p1(i,a,l){switch(a=zd(l),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function gc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Al(i)}var Cs=new Map,g1=new Set;function $d(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ii=F.d;F.d={f:mO,r:pO,D:gO,C:vO,L:yO,m:bO,X:wO,S:xO,M:SO};function mO(){var i=Ii.f(),a=Ad();return i||a}function pO(i){var a=er(i);a!==null&&a.tag===5&&a.type==="form"?Ox(a):Ii.r(i)}var Oo=typeof document>"u"?null:document;function v1(i,a,l){var d=Oo;if(d&&typeof a=="string"&&a){var y=Ln(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),g1.has(y)||(g1.add(y),i={rel:i,crossOrigin:l,href:a},d.querySelector(y)===null&&(a=d.createElement("link"),pn(a,"link",i),Ot(a),d.head.appendChild(a)))}}function gO(i){Ii.D(i),v1("dns-prefetch",i,null)}function vO(i,a){Ii.C(i,a),v1("preconnect",i,a)}function yO(i,a,l){Ii.L(i,a,l);var d=Oo;if(d&&i&&a){var y='link[rel="preload"][as="'+Ln(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Ln(l.imageSizes)+'"]')):y+='[href="'+Ln(i)+'"]';var b=y;switch(a){case"style":b=Do(i);break;case"script":b=Io(i)}Cs.has(b)||(i=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Cs.set(b,i),d.querySelector(y)!==null||a==="style"&&d.querySelector(vc(b))||a==="script"&&d.querySelector(yc(b))||(a=d.createElement("link"),pn(a,"link",i),Ot(a),d.head.appendChild(a)))}}function bO(i,a){Ii.m(i,a);var l=Oo;if(l&&i){var d=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ln(d)+'"][href="'+Ln(i)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Io(i)}if(!Cs.has(b)&&(i=g({rel:"modulepreload",href:i},a),Cs.set(b,i),l.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yc(b)))return}d=l.createElement("link"),pn(d,"link",i),Ot(d),l.head.appendChild(d)}}}function xO(i,a,l){Ii.S(i,a,l);var d=Oo;if(d&&i){var y=wn(d).hoistableStyles,b=Do(i);a=a||"default";var _=y.get(b);if(!_){var R={loading:0,preload:null};if(_=d.querySelector(vc(b)))R.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Cs.get(b))&&fg(i,l);var U=_=d.createElement("link");Ot(U),pn(U,"link",i),U._p=new Promise(function(ne,de){U.onload=ne,U.onerror=de}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Ud(_,a,d)}_={type:"stylesheet",instance:_,count:1,state:R},y.set(b,_)}}}function wO(i,a){Ii.X(i,a);var l=Oo;if(l&&i){var d=wn(l).hoistableScripts,y=Io(i),b=d.get(y);b||(b=l.querySelector(yc(y)),b||(i=g({src:i,async:!0},a),(a=Cs.get(y))&&mg(i,a),b=l.createElement("script"),Ot(b),pn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function SO(i,a){Ii.M(i,a);var l=Oo;if(l&&i){var d=wn(l).hoistableScripts,y=Io(i),b=d.get(y);b||(b=l.querySelector(yc(y)),b||(i=g({src:i,async:!0,type:"module"},a),(a=Cs.get(y))&&mg(i,a),b=l.createElement("script"),Ot(b),pn(b,"link",i),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function y1(i,a,l,d){var y=(y=oe.current)?$d(y):null;if(!y)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Do(l.href),l=wn(y).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Do(l.href);var b=wn(y).hoistableStyles,_=b.get(i);if(_||(y=y.ownerDocument||y,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,_),(b=y.querySelector(vc(i)))&&!b._p&&(_.instance=b,_.state.loading=5),Cs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Cs.set(i,l),b||CO(y,i,l,_.state))),a&&d===null)throw Error(s(528,""));return _}if(a&&d!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Io(l),l=wn(y).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Do(i){return'href="'+Ln(i)+'"'}function vc(i){return'link[rel="stylesheet"]['+i+"]"}function b1(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function CO(i,a,l,d){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=i.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),pn(a,"link",l),Ot(a),i.head.appendChild(a))}function Io(i){return'[src="'+Ln(i)+'"]'}function yc(i){return"script[async]"+i}function x1(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=i.querySelector('style[data-href~="'+Ln(l.href)+'"]');if(d)return a.instance=d,Ot(d),d;var y=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ot(d),pn(d,"style",y),Ud(d,l.precedence,i),a.instance=d;case"stylesheet":y=Do(l.href);var b=i.querySelector(vc(y));if(b)return a.state.loading|=4,a.instance=b,Ot(b),b;d=b1(l),(y=Cs.get(y))&&fg(d,y),b=(i.ownerDocument||i).createElement("link"),Ot(b);var _=b;return _._p=new Promise(function(R,U){_.onload=R,_.onerror=U}),pn(b,"link",d),a.state.loading|=4,Ud(b,l.precedence,i),a.instance=b;case"script":return b=Io(l.src),(y=i.querySelector(yc(b)))?(a.instance=y,Ot(y),y):(d=l,(y=Cs.get(b))&&(d=g({},l),mg(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),Ot(y),pn(y,"link",d),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Ud(d,l.precedence,i));return a.instance}function Ud(i,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,_=0;_<d.length;_++){var R=d[_];if(R.dataset.precedence===a)b=R;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function fg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function mg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Bd=null;function w1(i,a,l){if(Bd===null){var d=new Map,y=Bd=new Map;y.set(l,d)}else y=Bd,d=y.get(l),d||(d=new Map,y.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var b=l[y];if(!(b[ra]||b[zt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var _=b.getAttribute(a)||"";_=i+_;var R=d.get(_);R?R.push(b):d.set(_,[b])}}return d}function S1(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function _O(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function C1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function EO(i,a,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Do(d.href),b=a.querySelector(vc(y));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Vd.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=b,Ot(b);return}b=a.ownerDocument||a,d=b1(d),(y=Cs.get(y))&&fg(d,y),b=b.createElement("link"),Ot(b);var _=b;_._p=new Promise(function(R,U){_.onload=R,_.onerror=U}),pn(b,"link",d),l.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Vd.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var pg=0;function NO(i,a){return i.stylesheets&&i.count===0&&Hd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&Hd(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+a);0<i.imgBytes&&pg===0&&(pg=62500*aO());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Hd(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>pg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fd=null;function Hd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fd=new Map,a.forEach(TO,i),Fd=null,Vd.call(i))}function TO(i,a){if(!(a.state.loading&4)){var l=Fd.get(i);if(l)var d=l.get(null);else{l=new Map,Fd.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var _=y[b];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),d=_)}d&&l.set(null,d)}y=a.instance,_=y.getAttribute("data-precedence"),b=l.get(_)||d,b===d&&l.set(null,y),l.set(_,y),this.count++,d=Vd.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var bc={$$typeof:A,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function MO(i,a,l,d,y,b,_,R,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function _1(i,a,l,d,y,b,_,R,U,ne,de,pe){return i=new MO(i,a,l,_,U,ne,de,pe,R),a=1,b===!0&&(a|=24),b=ns(3,null,null,a),i.current=b,b.stateNode=i,a=Ym(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:l,cache:a},Qm(b),i}function E1(i){return i?(i=ho,i):ho}function N1(i,a,l,d,y,b){y=E1(y),d.context===null?d.context=y:d.pendingContext=y,d=dr(a),d.payload={element:l},b=b===void 0?null:b,b!==null&&(d.callback=b),l=hr(i,d,a),l!==null&&(Bn(l,i,a),Jl(l,i,a))}function T1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function gg(i,a){T1(i,a),(i=i.alternate)&&T1(i,a)}function M1(i){if(i.tag===13||i.tag===31){var a=va(i,67108864);a!==null&&Bn(a,i,67108864),gg(i,67108864)}}function R1(i){if(i.tag===13||i.tag===31){var a=os();a=On(a);var l=va(i,a);l!==null&&Bn(l,i,a),gg(i,a)}}var Wd=!0;function RO(i,a,l,d){var y=k.T;k.T=null;var b=F.p;try{F.p=2,vg(i,a,l,d)}finally{F.p=b,k.T=y}}function AO(i,a,l,d){var y=k.T;k.T=null;var b=F.p;try{F.p=8,vg(i,a,l,d)}finally{F.p=b,k.T=y}}function vg(i,a,l,d){if(Wd){var y=yg(d);if(y===null)sg(i,a,d,Gd,l),j1(i,d);else if(kO(y,i,a,l,d))d.stopPropagation();else if(j1(i,d),a&4&&-1<jO.indexOf(i)){for(;y!==null;){var b=er(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var _=wt(b.pendingLanes);if(_!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var U=1<<31-kt(_);R.entanglements[1]|=U,_&=~U}Xs(b),(lt&6)===0&&(Md=Nt()+500,fc(0))}}break;case 31:case 13:R=va(b,2),R!==null&&Bn(R,b,2),Ad(),gg(b,2)}if(b=yg(d),b===null&&sg(i,a,d,Gd,l),b===y)break;y=b}y!==null&&d.stopPropagation()}else sg(i,a,d,null,l)}}function yg(i){return i=ir(i),bg(i)}var Gd=null;function bg(i){if(Gd=null,i=Zi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Gd=i,null}function A1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fs()){case un:return 2;case rn:return 8;case Ut:case En:return 32;case vn:return 268435456;default:return 32}default:return 32}}var xg=!1,Cr=null,_r=null,Er=null,xc=new Map,wc=new Map,Nr=[],jO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j1(i,a){switch(i){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":xc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(a.pointerId)}}function Sc(i,a,l,d,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},a!==null&&(a=er(a),a!==null&&M1(a)),i):(i.eventSystemFlags|=d,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function kO(i,a,l,d,y){switch(a){case"focusin":return Cr=Sc(Cr,i,a,l,d,y),!0;case"dragenter":return _r=Sc(_r,i,a,l,d,y),!0;case"mouseover":return Er=Sc(Er,i,a,l,d,y),!0;case"pointerover":var b=y.pointerId;return xc.set(b,Sc(xc.get(b)||null,i,a,l,d,y)),!0;case"gotpointercapture":return b=y.pointerId,wc.set(b,Sc(wc.get(b)||null,i,a,l,d,y)),!0}return!1}function k1(i){var a=Zi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,Zn(i.priority,function(){R1(l)});return}}else if(a===31){if(a=u(l),a!==null){i.blockedOn=a,Zn(i.priority,function(){R1(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function qd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=yg(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ua=d,l.target.dispatchEvent(d),ua=null}else return a=er(l),a!==null&&M1(a),i.blockedOn=l,!1;a.shift()}return!0}function O1(i,a,l){qd(i)&&l.delete(a)}function OO(){xg=!1,Cr!==null&&qd(Cr)&&(Cr=null),_r!==null&&qd(_r)&&(_r=null),Er!==null&&qd(Er)&&(Er=null),xc.forEach(O1),wc.forEach(O1)}function Yd(i,a){i.blockedOn===a&&(i.blockedOn=null,xg||(xg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OO)))}var Kd=null;function D1(i){Kd!==i&&(Kd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kd===i&&(Kd=null);for(var a=0;a<i.length;a+=3){var l=i[a],d=i[a+1],y=i[a+2];if(typeof d!="function"){if(bg(d||l)===null)continue;break}var b=er(l);b!==null&&(i.splice(a,3),a-=3,yp(b,{pending:!0,data:y,method:l.method,action:d},d,y))}}))}function Lo(i){function a(U){return Yd(U,i)}Cr!==null&&Yd(Cr,i),_r!==null&&Yd(_r,i),Er!==null&&Yd(Er,i),xc.forEach(a),wc.forEach(a);for(var l=0;l<Nr.length;l++){var d=Nr[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Nr.length&&(l=Nr[0],l.blockedOn===null);)k1(l),l.blockedOn===null&&Nr.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var y=l[d],b=l[d+1],_=y[xn]||null;if(typeof b=="function")_||D1(l);else if(_){var R=null;if(b&&b.hasAttribute("formAction")){if(y=b,_=b[xn]||null)R=_.formAction;else if(bg(y)!==null)continue}else R=_.action;typeof R=="function"?l[d+1]=R:(l.splice(d,3),d-=3),D1(l)}}}function I1(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(_){return y=_})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function wg(i){this._internalRoot=i}Xd.prototype.render=wg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,d=os();N1(l,d,i,a,null,null)},Xd.prototype.unmount=wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;N1(i.current,2,null,i,null,null),Ad(),a[fi]=null}};function Xd(i){this._internalRoot=i}Xd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Nn();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Nr.length&&a!==0&&a<Nr[l].priority;l++);Nr.splice(l,0,i),l===0&&k1(i)}};var L1=e.version;if(L1!=="19.2.3")throw Error(s(527,L1,"19.2.3"));F.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var DO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{hs=Jd.inject(DO),Bt=Jd}catch{}}return _c.createRoot=function(i,a){if(!r(i))throw Error(s(299));var l=!1,d="",y=Fx,b=Hx,_=Wx;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=_1(i,1,!1,null,null,l,d,null,y,b,_,I1),i[fi]=a.current,ng(i),new wg(a)},_c.hydrateRoot=function(i,a,l){if(!r(i))throw Error(s(299));var d=!1,y="",b=Fx,_=Hx,R=Wx,U=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(U=l.formState)),a=_1(i,1,!0,a,l??null,d,y,U,b,_,R,I1),a.context=E1(null),l=a.current,d=os(),d=On(d),y=dr(d),y.callback=null,hr(l,y,d),l=d,a.current.lanes=l,rt(a,l),Xs(a),i[fi]=a.current,ng(i),new Xd(a)},_c.version="19.2.3",_c}var G1;function HO(){if(G1)return Cg.exports;G1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cg.exports=FO(),Cg.exports}var WO=HO(),p=M0();const ve=iE(p),R0=LO({__proto__:null,default:ve},[p]);let GO={data:""},qO=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||GO},YO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,KO=/\/\*[^]*?\*\/|  +/g,q1=/\n+/g,Dr=(n,e)=>{let t="",s="",r="";for(let o in n){let c=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+c+";":s+=o[1]=="f"?Dr(c,o):o+"{"+Dr(c,o[1]=="k"?"":e)+"}":typeof c=="object"?s+=Dr(c,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Dr.p?Dr.p(o,c):o+":"+c+";")}return t+(e&&r?e+"{"+r+"}":r)+s},Li={},aE=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+aE(n[t]);return e}return n},XO=(n,e,t,s,r)=>{let o=aE(n),c=Li[o]||(Li[o]=(h=>{let f=0,v=11;for(;f<h.length;)v=101*v+h.charCodeAt(f++)>>>0;return"go"+v})(o));if(!Li[c]){let h=o!==n?n:(f=>{let v,g,x=[{}];for(;v=YO.exec(f.replace(KO,""));)v[4]?x.shift():v[3]?(g=v[3].replace(q1," ").trim(),x.unshift(x[0][g]=x[0][g]||{})):x[0][v[1]]=v[2].replace(q1," ").trim();return x[0]})(n);Li[c]=Dr(r?{["@keyframes "+c]:h}:h,t?"":"."+c)}let u=t&&Li.g?Li.g:null;return t&&(Li.g=Li[c]),((h,f,v,g)=>{g?f.data=f.data.replace(g,h):f.data.indexOf(h)===-1&&(f.data=v?h+f.data:f.data+h)})(Li[c],e,s,u),c},JO=(n,e,t)=>n.reduce((s,r,o)=>{let c=e[o];if(c&&c.call){let u=c(t),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":Dr(u,""):u===!1?"":u}return s+r+(c??"")},"");function Mf(n){let e=this||{},t=n.call?n(e.p):n;return XO(t.unshift?t.raw?JO(t,[].slice.call(arguments,1),e.p):t.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):t,qO(e.target),e.g,e.o,e.k)}let oE,Iv,Lv;Mf.bind({g:1});let Wi=Mf.bind({k:1});function QO(n,e,t,s){Dr.p=e,oE=n,Iv=t,Lv=s}function Qr(n,e){let t=this||{};return function(){let s=arguments;function r(o,c){let u=Object.assign({},o),h=u.className||r.className;t.p=Object.assign({theme:Iv&&Iv()},u),t.o=/ *go\d+/.test(h),u.className=Mf.apply(t,s)+(h?" "+h:"");let f=n;return n[0]&&(f=u.as||n,delete u.as),Lv&&f[0]&&Lv(u),oE(f,u)}return r}}var ZO=n=>typeof n=="function",Xh=(n,e)=>ZO(n)?n(e):n,eD=(()=>{let n=0;return()=>(++n).toString()})(),lE=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),tD=20,A0="default",cE=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return cE(n,{type:n.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(c=>c.id===r||r===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Ah=[],uE={toasts:[],pausedAt:void 0,settings:{toastLimit:tD}},ni={},dE=(n,e=A0)=>{ni[e]=cE(ni[e]||uE,n),Ah.forEach(([t,s])=>{t===e&&s(ni[e])})},hE=n=>Object.keys(ni).forEach(e=>dE(n,e)),nD=n=>Object.keys(ni).find(e=>ni[e].toasts.some(t=>t.id===n)),Rf=(n=A0)=>e=>{dE(e,n)},sD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iD=(n={},e=A0)=>{let[t,s]=p.useState(ni[e]||uE),r=p.useRef(ni[e]);p.useEffect(()=>(r.current!==ni[e]&&s(ni[e]),Ah.push([e,s]),()=>{let c=Ah.findIndex(([u])=>u===e);c>-1&&Ah.splice(c,1)}),[e]);let o=t.toasts.map(c=>{var u,h,f;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((u=n[c.type])==null?void 0:u.removeDelay)||n?.removeDelay,duration:c.duration||((h=n[c.type])==null?void 0:h.duration)||n?.duration||sD[c.type],style:{...n.style,...(f=n[c.type])==null?void 0:f.style,...c.style}}});return{...t,toasts:o}},rD=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||eD()}),uu=n=>(e,t)=>{let s=rD(e,n,t);return Rf(s.toasterId||nD(s.id))({type:2,toast:s}),s.id},sn=(n,e)=>uu("blank")(n,e);sn.error=uu("error");sn.success=uu("success");sn.loading=uu("loading");sn.custom=uu("custom");sn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Rf(e)(t):hE(t)};sn.dismissAll=n=>sn.dismiss(void 0,n);sn.remove=(n,e)=>{let t={type:4,toastId:n};e?Rf(e)(t):hE(t)};sn.removeAll=n=>sn.remove(void 0,n);sn.promise=(n,e,t)=>{let s=sn.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let o=e.success?Xh(e.success,r):void 0;return o?sn.success(o,{id:s,...t,...t?.success}):sn.dismiss(s),r}).catch(r=>{let o=e.error?Xh(e.error,r):void 0;o?sn.error(o,{id:s,...t,...t?.error}):sn.dismiss(s)}),n};var aD=1e3,oD=(n,e="default")=>{let{toasts:t,pausedAt:s}=iD(n,e),r=p.useRef(new Map).current,o=p.useCallback((g,x=aD)=>{if(r.has(g))return;let w=setTimeout(()=>{r.delete(g),c({type:4,toastId:g})},x);r.set(g,w)},[]);p.useEffect(()=>{if(s)return;let g=Date.now(),x=t.map(w=>{if(w.duration===1/0)return;let S=(w.duration||0)+w.pauseDuration-(g-w.createdAt);if(S<0){w.visible&&sn.dismiss(w.id);return}return setTimeout(()=>sn.dismiss(w.id,e),S)});return()=>{x.forEach(w=>w&&clearTimeout(w))}},[t,s,e]);let c=p.useCallback(Rf(e),[e]),u=p.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=p.useCallback((g,x)=>{c({type:1,toast:{id:g,height:x}})},[c]),f=p.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),v=p.useCallback((g,x)=>{let{reverseOrder:w=!1,gutter:S=8,defaultPosition:C}=x||{},E=t.filter(A=>(A.position||C)===(g.position||C)&&A.height),N=E.findIndex(A=>A.id===g.id),T=E.filter((A,j)=>j<N&&A.visible).length;return E.filter(A=>A.visible).slice(...w?[T+1]:[0,T]).reduce((A,j)=>A+(j.height||0)+S,0)},[t]);return p.useEffect(()=>{t.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let x=r.get(g.id);x&&(clearTimeout(x),r.delete(g.id))}})},[t,o]),{toasts:t,handlers:{updateHeight:h,startPause:u,endPause:f,calculateOffset:v}}},lD=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cD=Wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uD=Wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,dD=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${uD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hD=Wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,fD=Qr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${hD} 1s linear infinite;
`,mD=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pD=Wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gD=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vD=Qr("div")`
  position: absolute;
`,yD=Qr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bD=Wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xD=Qr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wD=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?p.createElement(xD,null,e):e:t==="blank"?null:p.createElement(yD,null,p.createElement(fD,{...s}),t!=="loading"&&p.createElement(vD,null,t==="error"?p.createElement(dD,{...s}):p.createElement(gD,{...s})))},SD=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,CD=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,_D="0%{opacity:0;} 100%{opacity:1;}",ED="0%{opacity:1;} 100%{opacity:0;}",ND=Qr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,TD=Qr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MD=(n,e)=>{let t=n.includes("top")?1:-1,[s,r]=lE()?[_D,ED]:[SD(t),CD(t)];return{animation:e?`${Wi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wi(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},RD=p.memo(({toast:n,position:e,style:t,children:s})=>{let r=n.height?MD(n.position||e||"top-center",n.visible):{opacity:0},o=p.createElement(wD,{toast:n}),c=p.createElement(TD,{...n.ariaProps},Xh(n.message,n));return p.createElement(ND,{className:n.className,style:{...r,...t,...n.style}},typeof s=="function"?s({icon:o,message:c}):p.createElement(p.Fragment,null,o,c))});QO(p.createElement);var AD=({id:n,className:e,style:t,onHeightUpdate:s,children:r})=>{let o=p.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;s(n,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return p.createElement("div",{ref:o,className:e,style:t},r)},jD=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...r}},kD=Mf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qd=16,OD=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:r,toasterId:o,containerStyle:c,containerClassName:u})=>{let{toasts:h,handlers:f}=oD(t,o);return p.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Qd,left:Qd,right:Qd,bottom:Qd,pointerEvents:"none",...c},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(v=>{let g=v.position||e,x=f.calculateOffset(v,{reverseOrder:n,gutter:s,defaultPosition:e}),w=jD(g,x);return p.createElement(AD,{id:v.id,key:v.id,onHeightUpdate:f.updateHeight,className:v.visible?kD:"",style:w},v.type==="custom"?Xh(v.message,v):r?r(v):p.createElement(RD,{toast:v,position:g}))}))},Mg=sn;const DD="modulepreload",ID=function(n){return"/PolishedCharts/"+n},Y1={},Gn=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let f=function(v){return Promise.all(v.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=f;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");r=f(t.map(v=>{if(v=ID(v),v in Y1)return;Y1[v]=!0;const g=v.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":DD,g||(w.as="script"),w.crossOrigin="",w.href=v,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((S,C)=>{w.addEventListener("load",S),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return r.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},LD={maxSize:100,ttl:3e5,memoryBudget:100*1024*1024};function PD(n,e,t="1d"){if(!n||!e)return{from:n,to:e};const s=new Date(e),r=new Date(n),o=new Date,c=s.getHours()===0&&s.getMinutes()===0&&s.getSeconds()===0&&s.getMilliseconds()===0;if(!((o.getTime()-s.getTime())/(1440*60*1e3)<7||c))return{from:n,to:e};const f=zD(s,t);return{from:new Date(f.getTime()-(s.getTime()-r.getTime())).toISOString(),to:f.toISOString()}}function zD(n,e){const t=new Date(n);switch(e){case"1d":case"1wk":t.setHours(23,59,59,999);break;case"1h":case"4h":t.setMinutes(59,59,999);break;case"1m":case"2m":case"5m":case"15m":case"30m":t.setSeconds(59,999);break}return t}function Rg(n,e,t,s,r,o){const c=Object.entries(s).sort((v,g)=>v[0].localeCompare(g[0])).map(([v,g])=>`${v}=${g}`).join("&"),u=PD(r,o,e),h=u.from&&u.to?`:${u.from}:${u.to}`:"";return`${n.toLowerCase()}:${e}:${t}:${c}${h}`}function Ag(n){const e=n.data_points||0,t=Object.keys(n.data).length;return e*t*16+1e3}class $D{cache=new Map;config;currentMemory=0;constructor(e={}){this.config={...LD,...e}}get(e,t,s,r,o,c){const u=Rg(e,t,s,r,o,c),h=this.cache.get(u);if(!h)return null;const f=Date.now();return f-h.timestamp>this.config.ttl?(this.remove(u),null):(h.accessCount++,h.lastAccess=f,h.data)}set(e,t,s,r,o,c,u){const h=Rg(e,t,s,r,c,u),f=Ag(o),v=this.cache.get(h);for(v&&(this.currentMemory-=Ag(v.data));(this.cache.size>=this.config.maxSize||this.currentMemory+f>this.config.memoryBudget)&&this.cache.size>0;)this.evictLRU();const g=o.timestamps&&o.timestamps.length>0?new Date(o.timestamps[o.timestamps.length-1]*1e3).toISOString():"";this.cache.set(h,{data:o,timestamp:Date.now(),dataTimestamp:g,accessCount:0,lastAccess:Date.now()}),this.currentMemory+=f}remove(e){const t=this.cache.get(e);t&&(this.currentMemory-=Ag(t.data),this.cache.delete(e))}evictLRU(){let e=null,t=1/0;for(const[s,r]of this.cache.entries())r.lastAccess<t&&(t=r.lastAccess,e=s);e&&this.remove(e)}invalidate(e){const t=e.toLowerCase()+":",s=[];for(const r of this.cache.keys())r.startsWith(t)&&s.push(r);for(const r of s)this.remove(r)}clear(){this.cache.clear(),this.currentMemory=0}has(e,t,s,r,o,c){const u=Rg(e,t,s,r,o,c),h=this.cache.get(u);return h?Date.now()-h.timestamp>this.config.ttl?(this.remove(u),!1):!0:!1}getStats(){return{entries:this.cache.size,maxSize:this.config.maxSize,memoryUsed:this.currentMemory,memoryBudget:this.config.memoryBudget,ttl:this.config.ttl}}cleanup(){const e=Date.now(),t=[];for(const[s,r]of this.cache.entries())e-r.timestamp>this.config.ttl&&t.push(s);for(const s of t)this.remove(s);return t.length}}const j0=new $D;function UD(n,e,t,s,r,o){return j0.get(n,e,t,s,r,o)}function K1(n,e,t,s,r,o,c){j0.set(n,e,t,s,r,o,c)}function jh(n){j0.invalidate(n)}const BD="/PolishedCharts/assets/Hussar-DenpIlN5.jpeg";function Zd({name:n,className:e="h-5 w-5"}){const t={className:e,fill:"none",stroke:"currentColor",strokeWidth:1.8};switch(n){case"watchlist":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 6h13M8 12h13M8 18h13"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.5 6h.01M3.5 12h.01M3.5 18h.01"})]});case"alerts":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17a3 3 0 0 0 6 0"})]});case"layouts":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4h16v16H4z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 9h16M9 4v16"})]});case"indicators":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 19V5"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 19h16"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 15l3-3 3 2 4-6"})]});case"realtime":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v4"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v4"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 12h4"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12h4"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 17l10-10"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 8h0"})]});case"crosshair":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v5M12 17v5M2 12h5M17 12h5"}),m.jsx("circle",{cx:"12",cy:"12",r:"4.5"})]});case"compare":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6v12"})]});case"heart":return m.jsx("svg",{...t,viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-7-4.6-9.2-8.4C1.2 9.6 3.1 6.5 6.2 6.1c1.7-.2 3.3.6 4.3 1.9 1-1.3 2.6-2.1 4.3-1.9 3.1.4 5 3.5 3.4 6.5C19 16.4 12 21 12 21z"})});case"spark":return m.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2l1.2 4.2L17.4 8 13.2 9.2 12 13.4 10.8 9.2 6.6 8l4.2-1.8L12 2z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 13l.8 2.8 2.2.7-2.2.8L19 20l-.8-2.7-2.2-.8 2.2-.7L19 13z"})]});default:return null}}function VD({onOpenChart:n,onLoginClick:e,onGoogleClick:t,onEmailClick:s}){const[r,o]=p.useState(!1),c=p.useMemo(()=>[{title:"Watchlist + search",desc:"Find symbols fast, manage your watch list, drag to reorder. Syncs to cloud when signed in.",icon:"watchlist"},{title:"Alerts: create / mute / delete",desc:"Manage alert noise without losing setups. Triggered count badge. Full control over what fires.",icon:"alerts"},{title:"Layouts: save and reload setups",desc:"Swap indicator bundles instantly. Save your best trading setups and load them one click.",icon:"layouts"},{title:"Overlay + oscillator indicators",desc:"Signals overlaid on price + dedicated panes below. Works with any Pine indicator logic.",icon:"indicators"},{title:"WebSocket or polling mode",desc:"Choose real-time streaming or reliable polling refresh. Toggle between modes anytime.",icon:"realtime"},{title:"Crosshair + synced panes",desc:"Read values across all panes at the exact same time. Professional crosshair interaction.",icon:"crosshair"}],[]);return m.jsxs("div",{className:"min-h-screen bg-[#0b1220] text-slate-100",children:[m.jsx("div",{className:"pointer-events-none fixed inset-0 opacity-[0.08]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.18) 1px, transparent 0)",backgroundSize:"28px 28px"}}),m.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-800/70 bg-[#0b1220]/85 backdrop-blur",children:[m.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between px-6 py-4 lg:px-10",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"text-2xl font-bold tracking-tight text-white",children:""}),m.jsxs("div",{className:"leading-tight",children:[m.jsx("div",{className:"text-lg font-semibold tracking-tight text-white",children:"PolishedCharts"}),m.jsx("div",{className:"text-xs text-slate-400",children:"by Marek (solo dev, Poland)"})]})]}),m.jsxs("div",{className:"hidden flex-1 items-center justify-end gap-3 md:flex",children:[m.jsx("button",{onClick:e,className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Log in"}),m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"rounded-md border border-[#DC143C] px-4 py-2 text-sm font-semibold text-white hover:bg-[#DC143C]/15 transition-colors",children:"Support Marek (Kofi)"})]}),m.jsx("button",{onClick:()=>o(!r),className:"md:hidden text-slate-300 hover:text-white","aria-label":"Open menu",children:m.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),r&&m.jsxs("div",{className:"border-t border-slate-800 bg-[#0b1220] px-6 py-3 md:hidden",children:[m.jsx("button",{onClick:()=>{e?.(),o(!1)},className:"block w-full text-left text-sm text-slate-300 hover:text-white py-2",children:"Log in"}),m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"block w-full text-left text-sm text-slate-300 hover:text-white py-2",onClick:()=>o(!1),children:"Support Marek (Kofi)"})]})]}),m.jsxs("main",{className:"relative mx-auto max-w-screen-2xl px-6 py-14 lg:px-10 lg:py-20",children:[m.jsx("section",{className:"mb-20",children:m.jsxs("div",{className:"grid gap-10 lg:grid-cols-12 lg:items-start",children:[m.jsxs("div",{className:"lg:col-span-4",children:[m.jsx("h1",{className:"text-5xl font-bold leading-tight tracking-tight text-white sm:text-6xl",children:"Custom-indicator alerts without insane limits"}),m.jsx("p",{className:"mt-6 text-xl leading-relaxed text-slate-300",children:'Built to trigger alerts from non-standard Pine indicatorsso you can stop paying "pro" pricing just to run more alerts.'}),m.jsxs("div",{className:"mt-8 flex flex-col gap-4",children:[m.jsx("button",{onClick:n,className:"w-full rounded-xl bg-[#DC143C] px-8 py-5 text-xl font-bold tracking-wide text-white hover:bg-[#c51235] transition-all duration-200 shadow-lg hover:shadow-[#DC143C]/45",children:"OPEN THE CHART"}),m.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[m.jsx("button",{onClick:t,className:"rounded-lg border border-slate-700 bg-slate-900/30 px-6 py-3 text-base font-semibold text-slate-100 hover:bg-slate-900/55 transition-colors",children:"Sign in with Google"}),m.jsx("button",{onClick:s,className:"rounded-lg border border-slate-700 bg-slate-900/20 px-6 py-3 text-base font-semibold text-slate-100 hover:bg-slate-900/45 transition-colors",children:"Email login"})]}),m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"text-sm text-slate-300 underline underline-offset-4 hover:text-white transition-colors",children:" Request an indicator for $1+ support"}),m.jsxs("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:[m.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-slate-400",children:"Limits"}),m.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Unlimited alerts"})]}),m.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-slate-400",children:"Indicators"}),m.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Custom Pine logic"})]}),m.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-slate-400",children:"Layouts"}),m.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Save & reload"})]})]})]})]}),m.jsx("div",{className:"lg:col-span-3",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/30 p-6",children:[m.jsxs("div",{className:"flex items-start justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-slate-900/40 border border-slate-800",children:m.jsx("span",{className:"text-slate-200",children:m.jsx(Zd,{name:"spark",className:"h-5 w-5"})})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-sm font-semibold text-white",children:"Optional Membership"}),m.jsx("div",{className:"text-xs text-slate-400",children:"Support + priority"})]})]}),m.jsx("div",{className:"text-sm font-semibold text-[#DC143C]",children:"from $3/mo"})]}),m.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-slate-300",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),m.jsx("span",{children:"Unlimited watchlists (synced to cloud)"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),m.jsx("span",{children:"Unlimited alerts & alarms"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),m.jsx("span",{children:"Priority indicator requests"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),m.jsx("span",{children:"Helps fund real-time data"})]})]}),m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"mt-5 block w-full rounded-xl bg-[#DC143C] px-4 py-3 text-center text-sm font-semibold text-white hover:bg-[#c51235] transition-colors",children:"Become a member"})]}),m.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/25 p-6",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-slate-900/40 border border-slate-800",children:m.jsx("span",{className:"text-slate-200",children:m.jsx(Zd,{name:"heart",className:"h-5 w-5"})})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"text-sm font-semibold text-white",children:"One-time Donation"}),m.jsx("div",{className:"mt-1 text-sm text-slate-300",children:"Building this solo takes time. Even $1 helps keep servers running."})]})]}),m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"mt-5 inline-flex w-full items-center justify-center rounded-xl border border-slate-700 bg-slate-900/15 px-4 py-3 text-sm font-semibold text-white hover:bg-slate-900/35 transition-colors",children:"Donate on Kofi"})]}),m.jsx("div",{className:"rounded-xl border-2 border-amber-500/70 bg-amber-500/15 px-5 py-6",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("span",{className:"mt-0.5 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-amber-500",children:m.jsx("span",{className:"text-lg font-bold",children:""})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"text-lg font-bold text-amber-300",children:"~15 Minute Data Delay"}),m.jsx("div",{className:"mt-2 text-sm text-amber-200/90 leading-relaxed",children:"Great for daily/longer-term charts. For short-term trading, be aware of the delay. Real-time data is a future goalfunding needed."})]})]})})]})}),m.jsx("div",{className:"lg:col-span-5",children:m.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/25 p-6 lg:p-8",children:[m.jsx("div",{className:"text-center",children:m.jsx("div",{className:"text-base font-semibold text-white",children:"Built in Poland with Love"})}),m.jsx("div",{className:"mt-6 flex justify-center",children:m.jsx("img",{src:BD,alt:"Polish Hussar made of candlesticks",className:"w-full h-auto"})}),m.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-slate-400",children:"Focus"}),m.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Alerts at scale"})]}),m.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-slate-400",children:"Goal"}),m.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Real-time data"})]})]})]})})]})}),m.jsxs("section",{className:"mb-20",children:[m.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[m.jsx("h2",{className:"text-4xl font-bold text-white",children:"What's Already Built"}),m.jsx("p",{className:"mt-3 text-lg text-slate-300",children:"The core workflow is livecharting, indicators, alerts, and layouts."})]}),m.jsx("div",{className:"mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(u=>m.jsxs("div",{className:"h-full rounded-2xl border border-slate-800 bg-slate-900/25 p-6 hover:bg-slate-900/35 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-800 bg-slate-900/40 text-slate-200",children:m.jsx(Zd,{name:u.icon,className:"h-5 w-5"})}),m.jsx("h3",{className:"text-base font-semibold text-white",children:u.title})]}),m.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-400",children:u.desc})]},u.title))})]}),m.jsx("section",{className:"mb-20 rounded-3xl border border-slate-800 bg-slate-900/30 p-8 lg:p-12",children:m.jsxs("div",{className:"grid gap-8 lg:grid-cols-12 lg:items-start",children:[m.jsxs("div",{className:"lg:col-span-7",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-800 bg-slate-900/40 text-slate-200",children:m.jsx(Zd,{name:"compare",className:"h-5 w-5"})}),m.jsx("h2",{className:"text-3xl font-bold text-white",children:"Why This Exists"})]}),m.jsxs("div",{className:"mt-6 space-y-5 text-lg leading-relaxed text-slate-300",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Other platforms often gate higher alert counts behind expensive tiers."})," Want alerts on custom Pine logic? The pricing often jumps fast."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"This project stays lean:"})," the app remains usable for free, while supporters help fund servers, data providers, and development time."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Charging something is fair"}),"but it should stay reasonable and not feel punitive."]})]})]}),m.jsx("div",{className:"lg:col-span-5",children:m.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-[#0b1220]/60 p-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"text-sm font-semibold text-white",children:"Quick comparison"}),m.jsx("div",{className:"text-xs text-slate-400",children:"High-level"})]}),m.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[m.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 p-4",children:[m.jsx("div",{className:"text-xs text-slate-400",children:"Typical pro tiers"}),m.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 text-slate-500",children:""}),m.jsx("span",{children:"Alert caps or high tiers"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 text-slate-500",children:""}),m.jsx("span",{children:"Pay more for unlimited"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 text-slate-500",children:""}),m.jsx("span",{children:"Feature gating by plan"})]})]})]}),m.jsxs("div",{className:"rounded-xl border border-[#DC143C]/35 bg-[#DC143C]/10 p-4",children:[m.jsx("div",{className:"text-xs text-slate-200",children:"PolishedCharts"}),m.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-200",children:[m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 text-emerald-300",children:""}),m.jsx("span",{children:"Unlimited alerts"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 text-emerald-300",children:""}),m.jsx("span",{children:"Custom-indicator focus"})]}),m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"mt-0.5 text-emerald-300",children:""}),m.jsx("span",{children:"Support funds growth"})]})]})]})]}),m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"mt-5 inline-flex w-full items-center justify-center rounded-xl bg-[#DC143C] px-4 py-3 text-sm font-semibold text-white hover:bg-[#c51235] transition-colors",children:"Support development"})]})})]})}),m.jsx("section",{className:"mb-20 rounded-3xl border border-[#DC143C]/40 bg-[#DC143C]/10 p-10 lg:p-14",children:m.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[m.jsx("h2",{className:"text-4xl font-bold text-white",children:"One-man show (Marek)"}),m.jsx("p",{className:"mt-5 text-lg leading-relaxed text-slate-200",children:"Built solo in Poland. If you support with even $1 and need an indicator added, send the request and Ill do my best to add it. More support = faster development = real-time data eventually."}),m.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-2",children:[m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-xl bg-[#DC143C] px-6 py-4 text-base font-semibold text-white hover:bg-[#c51235] transition-colors",children:"Support on Kofi"}),m.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-xl border border-slate-700 bg-slate-900/25 px-6 py-4 text-base font-semibold text-white hover:bg-slate-900/45 transition-colors",children:"Request an indicator"})]})]})}),m.jsxs("footer",{className:"border-t border-slate-800/70 pt-10 pb-8",children:[m.jsxs("div",{className:"mx-auto max-w-4xl space-y-3 text-sm text-slate-400",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Not financial advice."})," Always verify alerts on your broker before acting on them. Alerts may be delayed due to data sources."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Data delays & limitations:"})," Currently using Yahoo Finance (typically ~15 min delay). Real-time data is a future goal requiring investment."]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Contact / Feedback:"})," Support the project on Kofi or reach out through the app."]})]}),m.jsx("div",{className:"mx-auto mt-7 max-w-4xl border-t border-slate-800/40 pt-6 text-xs text-slate-500",children:m.jsx("p",{children:" 2025 PolishedCharts by Marek. Made in Poland with  for traders who refuse to pay insane platform fees."})})]})]})]})}function Ae(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function FD(n,e){const t=p.createContext(e),s=o=>{const{children:c,...u}=o,h=p.useMemo(()=>u,Object.values(u));return m.jsx(t.Provider,{value:h,children:c})};s.displayName=n+"Provider";function r(o){const c=p.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[s,r]}function Ms(n,e=[]){let t=[];function s(o,c){const u=p.createContext(c),h=t.length;t=[...t,c];const f=g=>{const{scope:x,children:w,...S}=g,C=x?.[n]?.[h]||u,E=p.useMemo(()=>S,Object.values(S));return m.jsx(C.Provider,{value:E,children:w})};f.displayName=o+"Provider";function v(g,x){const w=x?.[n]?.[h]||u,S=p.useContext(w);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,v]}const r=()=>{const o=t.map(c=>p.createContext(c));return function(u){const h=u?.[n]||o;return p.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return r.scopeName=n,[s,HD(r,...e)]}function HD(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const c=s.reduce((u,{useScope:h,scopeName:f})=>{const g=h(o)[`__scope${f}`];return{...u,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function X1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Rt(...n){return e=>{let t=!1;const s=n.map(r=>{const o=X1(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():X1(n[r],null)}}}}function Lt(...n){return p.useCallback(Rt(...n),n)}function J1(n){const e=WD(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(qD);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function WD(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=KD(r),u=YD(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var GD=Symbol("radix.slottable");function qD(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===GD}function YD(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function KD(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function fE(n){const e=n+"CollectionProvider",[t,s]=Ms(e),[r,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=C=>{const{scope:E,children:N}=C,T=ve.useRef(null),A=ve.useRef(new Map).current;return m.jsx(r,{scope:E,itemMap:A,collectionRef:T,children:N})};c.displayName=e;const u=n+"CollectionSlot",h=J1(u),f=ve.forwardRef((C,E)=>{const{scope:N,children:T}=C,A=o(u,N),j=Lt(E,A.collectionRef);return m.jsx(h,{ref:j,children:T})});f.displayName=u;const v=n+"CollectionItemSlot",g="data-radix-collection-item",x=J1(v),w=ve.forwardRef((C,E)=>{const{scope:N,children:T,...A}=C,j=ve.useRef(null),z=Lt(E,j),P=o(v,N);return ve.useEffect(()=>(P.itemMap.set(j,{ref:j,...A}),()=>{P.itemMap.delete(j)})),m.jsx(x,{[g]:"",ref:z,children:T})});w.displayName=v;function S(C){const E=o(n+"CollectionConsumer",C);return ve.useCallback(()=>{const T=E.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(E.itemMap.values()).sort((P,I)=>A.indexOf(P.ref.current)-A.indexOf(I.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:c,Slot:f,ItemSlot:w},S,s]}var Yr=globalThis?.document?p.useLayoutEffect:()=>{},XD=R0[" useId ".trim().toString()]||(()=>{}),JD=0;function Mn(n){const[e,t]=p.useState(XD());return Yr(()=>{t(s=>s??String(JD++))},[n]),e?`radix-${e}`:""}var Ui=rE();const mE=iE(Ui);function QD(n){const e=ZD(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(tI);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function ZD(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=sI(r),u=nI(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var eI=Symbol("radix.slottable");function tI(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===eI}function nI(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function sI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var iI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pE=iI.reduce((n,e)=>{const t=QD(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function oi(n){const e=p.useRef(n);return p.useEffect(()=>{e.current=n}),p.useMemo(()=>(...t)=>e.current?.(...t),[])}var rI=R0[" useInsertionEffect ".trim().toString()]||Yr;function Zr({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[r,o,c]=aI({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:r;{const v=p.useRef(n!==void 0);p.useEffect(()=>{const g=v.current;g!==u&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,s])}const f=p.useCallback(v=>{if(u){const g=oI(v)?v(n):v;g!==n&&c.current?.(g)}else o(v)},[u,n,o,c]);return[h,f]}function aI({defaultProp:n,onChange:e}){const[t,s]=p.useState(n),r=p.useRef(t),o=p.useRef(e);return rI(()=>{o.current=e},[e]),p.useEffect(()=>{r.current!==t&&(o.current?.(t),r.current=t)},[t,r]),[t,s,o]}function oI(n){return typeof n=="function"}var lI=p.createContext(void 0);function k0(n){const e=p.useContext(lI);return n||e||"ltr"}var jg="rovingFocusGroup.onEntryFocus",cI={bubbles:!1,cancelable:!0},du="RovingFocusGroup",[Pv,gE,uI]=fE(du),[dI,Af]=Ms(du,[uI]),[hI,fI]=dI(du),vE=p.forwardRef((n,e)=>m.jsx(Pv.Provider,{scope:n.__scopeRovingFocusGroup,children:m.jsx(Pv.Slot,{scope:n.__scopeRovingFocusGroup,children:m.jsx(mI,{...n,ref:e})})}));vE.displayName=du;var mI=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:r=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:v=!1,...g}=n,x=p.useRef(null),w=Lt(e,x),S=k0(o),[C,E]=Zr({prop:c,defaultProp:u??null,onChange:h,caller:du}),[N,T]=p.useState(!1),A=oi(f),j=gE(t),z=p.useRef(!1),[P,I]=p.useState(0);return p.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(jg,A),()=>B.removeEventListener(jg,A)},[A]),m.jsx(hI,{scope:t,orientation:s,dir:S,loop:r,currentTabStopId:C,onItemFocus:p.useCallback(B=>E(B),[E]),onItemShiftTab:p.useCallback(()=>T(!0),[]),onFocusableItemAdd:p.useCallback(()=>I(B=>B+1),[]),onFocusableItemRemove:p.useCallback(()=>I(B=>B-1),[]),children:m.jsx(pE.div,{tabIndex:N||P===0?-1:0,"data-orientation":s,...g,ref:w,style:{outline:"none",...n.style},onMouseDown:Ae(n.onMouseDown,()=>{z.current=!0}),onFocus:Ae(n.onFocus,B=>{const X=!z.current;if(B.target===B.currentTarget&&X&&!N){const se=new CustomEvent(jg,cI);if(B.currentTarget.dispatchEvent(se),!se.defaultPrevented){const G=j().filter(k=>k.focusable),ee=G.find(k=>k.active),q=G.find(k=>k.id===C),J=[ee,q,...G].filter(Boolean).map(k=>k.ref.current);xE(J,v)}}z.current=!1}),onBlur:Ae(n.onBlur,()=>T(!1))})})}),yE="RovingFocusGroupItem",bE=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:r=!1,tabStopId:o,children:c,...u}=n,h=Mn(),f=o||h,v=fI(yE,t),g=v.currentTabStopId===f,x=gE(t),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:C}=v;return p.useEffect(()=>{if(s)return w(),()=>S()},[s,w,S]),m.jsx(Pv.ItemSlot,{scope:t,id:f,focusable:s,active:r,children:m.jsx(pE.span,{tabIndex:g?0:-1,"data-orientation":v.orientation,...u,ref:e,onMouseDown:Ae(n.onMouseDown,E=>{s?v.onItemFocus(f):E.preventDefault()}),onFocus:Ae(n.onFocus,()=>v.onItemFocus(f)),onKeyDown:Ae(n.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){v.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const N=vI(E,v.orientation,v.dir);if(N!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let A=x().filter(j=>j.focusable).map(j=>j.ref.current);if(N==="last")A.reverse();else if(N==="prev"||N==="next"){N==="prev"&&A.reverse();const j=A.indexOf(E.currentTarget);A=v.loop?yI(A,j+1):A.slice(j+1)}setTimeout(()=>xE(A))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:C!=null}):c})})});bE.displayName=yE;var pI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gI(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function vI(n,e,t){const s=gI(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return pI[s]}function xE(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function yI(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var wE=vE,SE=bE;function bI(n,e){return p.useReducer((t,s)=>e[t][s]??t,n)}var Xn=n=>{const{present:e,children:t}=n,s=xI(e),r=typeof t=="function"?t({present:s.isPresent}):p.Children.only(t),o=Lt(s.ref,wI(r));return typeof t=="function"||s.isPresent?p.cloneElement(r,{ref:o}):null};Xn.displayName="Presence";function xI(n){const[e,t]=p.useState(),s=p.useRef(null),r=p.useRef(n),o=p.useRef("none"),c=n?"mounted":"unmounted",[u,h]=bI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const f=eh(s.current);o.current=u==="mounted"?f:"none"},[u]),Yr(()=>{const f=s.current,v=r.current;if(v!==n){const x=o.current,w=eh(f);n?h("MOUNT"):w==="none"||f?.display==="none"?h("UNMOUNT"):h(v&&x!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,h]),Yr(()=>{if(e){let f;const v=e.ownerDocument.defaultView??window,g=w=>{const C=eh(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&C&&(h("ANIMATION_END"),!r.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",f=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},x=w=>{w.target===e&&(o.current=eh(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{v.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(f=>{s.current=f?getComputedStyle(f):null,t(f)},[])}}function eh(n){return n?.animationName||"none"}function wI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function SI(n){const e=CI(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(EI);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function CI(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=TI(r),u=NI(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var _I=Symbol("radix.slottable");function EI(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===_I}function NI(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function TI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var MI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jf=MI.reduce((n,e)=>{const t=SI(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),kf="Tabs",[RI]=Ms(kf,[Af]),CE=Af(),[AI,O0]=RI(kf),_E=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:r,defaultValue:o,orientation:c="horizontal",dir:u,activationMode:h="automatic",...f}=n,v=k0(u),[g,x]=Zr({prop:s,onChange:r,defaultProp:o??"",caller:kf});return m.jsx(AI,{scope:t,baseId:Mn(),value:g,onValueChange:x,orientation:c,dir:v,activationMode:h,children:m.jsx(jf.div,{dir:v,"data-orientation":c,...f,ref:e})})});_E.displayName=kf;var EE="TabsList",NE=p.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...r}=n,o=O0(EE,t),c=CE(t);return m.jsx(wE,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:s,children:m.jsx(jf.div,{role:"tablist","aria-orientation":o.orientation,...r,ref:e})})});NE.displayName=EE;var TE="TabsTrigger",ME=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:r=!1,...o}=n,c=O0(TE,t),u=CE(t),h=jE(c.baseId,s),f=kE(c.baseId,s),v=s===c.value;return m.jsx(SE,{asChild:!0,...u,focusable:!r,active:v,children:m.jsx(jf.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":f,"data-state":v?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:h,...o,ref:e,onMouseDown:Ae(n.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?c.onValueChange(s):g.preventDefault()}),onKeyDown:Ae(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(s)}),onFocus:Ae(n.onFocus,()=>{const g=c.activationMode!=="manual";!v&&!r&&g&&c.onValueChange(s)})})})});ME.displayName=TE;var RE="TabsContent",AE=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:r,children:o,...c}=n,u=O0(RE,t),h=jE(u.baseId,s),f=kE(u.baseId,s),v=s===u.value,g=p.useRef(v);return p.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),m.jsx(Xn,{present:r||v,children:({present:x})=>m.jsx(jf.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:f,tabIndex:0,...c,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:x&&o})})});AE.displayName=RE;function jE(n,e){return`${n}-trigger-${e}`}function kE(n,e){return`${n}-content-${e}`}var jI=_E,OE=NE,DE=ME,IE=AE;function LE(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=LE(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Of(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=LE(n))&&(s&&(s+=" "),s+=e);return s}const kI=(n,e)=>{const t=new Array(n.length+e.length);for(let s=0;s<n.length;s++)t[s]=n[s];for(let s=0;s<e.length;s++)t[n.length+s]=e[s];return t},OI=(n,e)=>({classGroupId:n,validator:e}),PE=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Jh="-",Q1=[],DI="arbitrary..",II=n=>{const e=PI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return LI(c);const u=c.split(Jh),h=u[0]===""&&u.length>1?1:0;return zE(u,h,e)},getConflictingClassGroupIds:(c,u)=>{if(u){const h=s[c],f=t[c];return h?f?kI(f,h):h:f||Q1}return t[c]||Q1}}},zE=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const r=n[e],o=t.nextPart.get(r);if(o){const f=zE(n,e+1,o);if(f)return f}const c=t.validators;if(c===null)return;const u=e===0?n.join(Jh):n.slice(e).join(Jh),h=c.length;for(let f=0;f<h;f++){const v=c[f];if(v.validator(u))return v.classGroupId}},LI=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),s=e.slice(0,t);return s?DI+s:void 0})(),PI=n=>{const{theme:e,classGroups:t}=n;return zI(t,e)},zI=(n,e)=>{const t=PE();for(const s in n){const r=n[s];D0(r,t,s,e)}return t},D0=(n,e,t,s)=>{const r=n.length;for(let o=0;o<r;o++){const c=n[o];$I(c,e,t,s)}},$I=(n,e,t,s)=>{if(typeof n=="string"){UI(n,e,t);return}if(typeof n=="function"){BI(n,e,t,s);return}VI(n,e,t,s)},UI=(n,e,t)=>{const s=n===""?e:$E(e,n);s.classGroupId=t},BI=(n,e,t,s)=>{if(FI(n)){D0(n(s),e,t,s);return}e.validators===null&&(e.validators=[]),e.validators.push(OI(t,n))},VI=(n,e,t,s)=>{const r=Object.entries(n),o=r.length;for(let c=0;c<o;c++){const[u,h]=r[c];D0(h,$E(e,u),t,s)}},$E=(n,e)=>{let t=n;const s=e.split(Jh),r=s.length;for(let o=0;o<r;o++){const c=s[o];let u=t.nextPart.get(c);u||(u=PE(),t.nextPart.set(c,u)),t=u}return t},FI=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,HI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),s=Object.create(null);const r=(o,c)=>{t[o]=c,e++,e>n&&(e=0,s=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=s[o])!==void 0)return r(o,c),c},set(o,c){o in t?t[o]=c:r(o,c)}}},zv="!",Z1=":",WI=[],eS=(n,e,t,s,r)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:s,isExternal:r}),GI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=r=>{const o=[];let c=0,u=0,h=0,f;const v=r.length;for(let C=0;C<v;C++){const E=r[C];if(c===0&&u===0){if(E===Z1){o.push(r.slice(h,C)),h=C+1;continue}if(E==="/"){f=C;continue}}E==="["?c++:E==="]"?c--:E==="("?u++:E===")"&&u--}const g=o.length===0?r:r.slice(h);let x=g,w=!1;g.endsWith(zv)?(x=g.slice(0,-1),w=!0):g.startsWith(zv)&&(x=g.slice(1),w=!0);const S=f&&f>h?f-h:void 0;return eS(o,w,x,S)};if(e){const r=e+Z1,o=s;s=c=>c.startsWith(r)?o(c.slice(r.length)):eS(WI,!1,c,void 0,!0)}if(t){const r=s;s=o=>t({className:o,parseClassName:r})}return s},qI=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,s)=>{e.set(t,1e6+s)}),t=>{const s=[];let r=[];for(let o=0;o<t.length;o++){const c=t[o],u=c[0]==="[",h=e.has(c);u||h?(r.length>0&&(r.sort(),s.push(...r),r=[]),s.push(c)):r.push(c)}return r.length>0&&(r.sort(),s.push(...r)),s}},YI=n=>({cache:HI(n.cacheSize),parseClassName:GI(n),sortModifiers:qI(n),...II(n)}),KI=/\s+/,XI=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:o}=e,c=[],u=n.trim().split(KI);let h="";for(let f=u.length-1;f>=0;f-=1){const v=u[f],{isExternal:g,modifiers:x,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:C}=t(v);if(g){h=v+(h.length>0?" "+h:h);continue}let E=!!C,N=s(E?S.substring(0,C):S);if(!N){if(!E){h=v+(h.length>0?" "+h:h);continue}if(N=s(S),!N){h=v+(h.length>0?" "+h:h);continue}E=!1}const T=x.length===0?"":x.length===1?x[0]:o(x).join(":"),A=w?T+zv:T,j=A+N;if(c.indexOf(j)>-1)continue;c.push(j);const z=r(N,E);for(let P=0;P<z.length;++P){const I=z[P];c.push(A+I)}h=v+(h.length>0?" "+h:h)}return h},JI=(...n)=>{let e=0,t,s,r="";for(;e<n.length;)(t=n[e++])&&(s=UE(t))&&(r&&(r+=" "),r+=s);return r},UE=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=UE(n[s]))&&(t&&(t+=" "),t+=e);return t},QI=(n,...e)=>{let t,s,r,o;const c=h=>{const f=e.reduce((v,g)=>g(v),n());return t=YI(f),s=t.cache.get,r=t.cache.set,o=u,u(h)},u=h=>{const f=s(h);if(f)return f;const v=XI(h,t);return r(h,v),v};return o=c,(...h)=>o(JI(...h))},ZI=[],tn=n=>{const e=t=>t[n]||ZI;return e.isThemeGetter=!0,e},BE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,VE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,e5=/^\d+\/\d+$/,t5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,i5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Po=n=>e5.test(n),He=n=>!!n&&!Number.isNaN(Number(n)),Mr=n=>!!n&&Number.isInteger(Number(n)),kg=n=>n.endsWith("%")&&He(n.slice(0,-1)),Pi=n=>t5.test(n),a5=()=>!0,o5=n=>n5.test(n)&&!s5.test(n),FE=()=>!1,l5=n=>i5.test(n),c5=n=>r5.test(n),u5=n=>!Te(n)&&!Me(n),d5=n=>bl(n,GE,FE),Te=n=>BE.test(n),Aa=n=>bl(n,qE,o5),Og=n=>bl(n,g5,He),tS=n=>bl(n,HE,FE),h5=n=>bl(n,WE,c5),th=n=>bl(n,YE,l5),Me=n=>VE.test(n),Ec=n=>xl(n,qE),f5=n=>xl(n,v5),nS=n=>xl(n,HE),m5=n=>xl(n,GE),p5=n=>xl(n,WE),nh=n=>xl(n,YE,!0),bl=(n,e,t)=>{const s=BE.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},xl=(n,e,t=!1)=>{const s=VE.exec(n);return s?s[1]?e(s[1]):t:!1},HE=n=>n==="position"||n==="percentage",WE=n=>n==="image"||n==="url",GE=n=>n==="length"||n==="size"||n==="bg-size",qE=n=>n==="length",g5=n=>n==="number",v5=n=>n==="family-name",YE=n=>n==="shadow",y5=()=>{const n=tn("color"),e=tn("font"),t=tn("text"),s=tn("font-weight"),r=tn("tracking"),o=tn("leading"),c=tn("breakpoint"),u=tn("container"),h=tn("spacing"),f=tn("radius"),v=tn("shadow"),g=tn("inset-shadow"),x=tn("text-shadow"),w=tn("drop-shadow"),S=tn("blur"),C=tn("perspective"),E=tn("aspect"),N=tn("ease"),T=tn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...j(),Me,Te],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],B=()=>[Me,Te,h],X=()=>[Po,"full","auto",...B()],se=()=>[Mr,"none","subgrid",Me,Te],G=()=>["auto",{span:["full",Mr,Me,Te]},Mr,Me,Te],ee=()=>[Mr,"auto",Me,Te],q=()=>["auto","min","max","fr",Me,Te],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...B()],F=()=>[Po,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],V=()=>[n,Me,Te],Q=()=>[...j(),nS,tS,{position:[Me,Te]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",m5,d5,{size:[Me,Te]}],M=()=>[kg,Ec,Aa],L=()=>["","none","full",f,Me,Te],$=()=>["",He,Ec,Aa],ie=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>[He,kg,nS,tS],ue=()=>["","none",S,Me,Te],ye=()=>["none",He,Me,Te],we=()=>["none",He,Me,Te],Ve=()=>[He,Me,Te],We=()=>[Po,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pi],breakpoint:[Pi],color:[a5],container:[Pi],"drop-shadow":[Pi],ease:["in","out","in-out"],font:[u5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pi],shadow:[Pi],spacing:["px",He],text:[Pi],"text-shadow":[Pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Po,Te,Me,E]}],container:["container"],columns:[{columns:[He,Te,Me,u]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:X()}],"inset-x":[{"inset-x":X()}],"inset-y":[{"inset-y":X()}],start:[{start:X()}],end:[{end:X()}],top:[{top:X()}],right:[{right:X()}],bottom:[{bottom:X()}],left:[{left:X()}],visibility:["visible","invisible","collapse"],z:[{z:[Mr,"auto",Me,Te]}],basis:[{basis:[Po,"full","auto",u,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,Po,"auto","initial","none",Te]}],grow:[{grow:["",He,Me,Te]}],shrink:[{shrink:["",He,Me,Te]}],order:[{order:[Mr,"first","last","none",Me,Te]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[u,"screen",...F()]}],"min-w":[{"min-w":[u,"screen","none",...F()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",t,Ec,Aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Me,Og]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",kg,Te]}],"font-family":[{font:[f5,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Me,Te]}],"line-clamp":[{"line-clamp":[He,"none",Me,Og]}],leading:[{leading:[o,...B()]}],"list-image":[{"list-image":["none",Me,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",Me,Aa]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[He,"auto",Me,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Mr,Me,Te],radial:["",Me,Te],conic:[Mr,Me,Te]},p5,h5]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ie(),"hidden","none"]}],"divide-style":[{divide:[...ie(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,Me,Te]}],"outline-w":[{outline:["",He,Ec,Aa]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",v,nh,th]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,nh,th]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[He,Aa]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",x,nh,th]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[He,Me,Te]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":K()}],"mask-image-linear-to-pos":[{"mask-linear-to":K()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":K()}],"mask-image-t-to-pos":[{"mask-t-to":K()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":K()}],"mask-image-r-to-pos":[{"mask-r-to":K()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":K()}],"mask-image-b-to-pos":[{"mask-b-to":K()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":K()}],"mask-image-l-to-pos":[{"mask-l-to":K()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":K()}],"mask-image-x-to-pos":[{"mask-x-to":K()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":K()}],"mask-image-y-to-pos":[{"mask-y-to":K()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Me,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":K()}],"mask-image-radial-to-pos":[{"mask-radial-to":K()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":K()}],"mask-image-conic-to-pos":[{"mask-conic-to":K()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Te]}],filter:[{filter:["","none",Me,Te]}],blur:[{blur:ue()}],brightness:[{brightness:[He,Me,Te]}],contrast:[{contrast:[He,Me,Te]}],"drop-shadow":[{"drop-shadow":["","none",w,nh,th]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",He,Me,Te]}],"hue-rotate":[{"hue-rotate":[He,Me,Te]}],invert:[{invert:["",He,Me,Te]}],saturate:[{saturate:[He,Me,Te]}],sepia:[{sepia:["",He,Me,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Te]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[He,Me,Te]}],"backdrop-contrast":[{"backdrop-contrast":[He,Me,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,Me,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,Me,Te]}],"backdrop-invert":[{"backdrop-invert":["",He,Me,Te]}],"backdrop-opacity":[{"backdrop-opacity":[He,Me,Te]}],"backdrop-saturate":[{"backdrop-saturate":[He,Me,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",He,Me,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",Me,Te]}],ease:[{ease:["linear","initial",N,Me,Te]}],delay:[{delay:[He,Me,Te]}],animate:[{animate:["none",T,Me,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Me,Te]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:ye()}],"rotate-x":[{"rotate-x":ye()}],"rotate-y":[{"rotate-y":ye()}],"rotate-z":[{"rotate-z":ye()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[Me,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Te]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[He,Ec,Aa,Og]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},I0=QI(y5);function Ce(...n){return I0(Of(n))}const L0=jI,Df=p.forwardRef(({className:n,...e},t)=>m.jsx(OE,{ref:t,className:Ce("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...e}));Df.displayName=OE.displayName;const Ur=p.forwardRef(({className:n,...e},t)=>m.jsx(DE,{ref:t,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...e}));Ur.displayName=DE.displayName;const Br=p.forwardRef(({className:n,...e},t)=>m.jsx(IE,{ref:t,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Br.displayName=IE.displayName;var b5=Symbol.for("react.lazy"),Qh=R0[" use ".trim().toString()];function x5(n){return typeof n=="object"&&n!==null&&"then"in n}function KE(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===b5&&"_payload"in n&&x5(n._payload)}function XE(n){const e=S5(n),t=p.forwardRef((s,r)=>{let{children:o,...c}=s;KE(o)&&typeof Qh=="function"&&(o=Qh(o._payload));const u=p.Children.toArray(o),h=u.find(_5);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}var w5=XE("Slot");function S5(n){const e=p.forwardRef((t,s)=>{let{children:r,...o}=t;if(KE(r)&&typeof Qh=="function"&&(r=Qh(r._payload)),p.isValidElement(r)){const c=N5(r),u=E5(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var C5=Symbol("radix.slottable");function _5(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===C5}function E5(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function N5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const sS=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,iS=Of,JE=(n,e)=>t=>{var s;if(e?.variants==null)return iS(n,t?.class,t?.className);const{variants:r,defaultVariants:o}=e,c=Object.keys(r).map(f=>{const v=t?.[f],g=o?.[f];if(v===null)return null;const x=sS(v)||sS(g);return r[f][x]}),u=t&&Object.entries(t).reduce((f,v)=>{let[g,x]=v;return x===void 0||(f[g]=x),f},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((f,v)=>{let{class:g,className:x,...w}=v;return Object.entries(w).every(S=>{let[C,E]=S;return Array.isArray(E)?E.includes({...o,...u}[C]):{...o,...u}[C]===E})?[...f,g,x]:f},[]);return iS(n,c,h,t?.class,t?.className)},T5=JE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Pe=p.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},o)=>{const c=s?w5:"button";return m.jsx(c,{className:Ce(T5({variant:e,size:t,className:n})),ref:o,...r})});Pe.displayName="Button";const M5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),rS=n=>{const e=R5(n);return e.charAt(0).toUpperCase()+e.slice(1)},QE=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),A5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var j5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const k5=p.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:c,...u},h)=>p.createElement("svg",{ref:h,...j5,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:QE("lucide",r),...!o&&!A5(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,v])=>p.createElement(f,v)),...Array.isArray(o)?o:[o]]));const nt=(n,e)=>{const t=p.forwardRef(({className:s,...r},o)=>p.createElement(k5,{ref:o,iconNode:e,className:QE(`lucide-${M5(rS(n))}`,`lucide-${n}`,s),...r}));return t.displayName=rS(n),t};const O5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],aS=nt("arrow-up-down",O5);const D5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Dg=nt("bell-off",D5);const I5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cl=nt("bell",I5);const L5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],P5=nt("chart-column",L5);const z5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],P0=nt("check",z5);const $5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],U5=nt("chevron-down",$5);const B5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],V5=nt("chevron-left",B5);const F5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z0=nt("chevron-right",F5);const H5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],W5=nt("chevron-up",H5);const G5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZE=nt("circle",G5);const q5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oS=nt("clock",q5);const Y5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],K5=nt("ellipsis-vertical",Y5);const X5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lS=nt("external-link",X5);const J5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Q5=nt("eye-off",J5);const Z5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eL=nt("eye",Z5);const tL=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],nL=nt("grip-vertical",tL);const sL=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],eN=nt("layout-grid",sL);const iL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qo=nt("loader-circle",iL);const rL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aL=nt("log-out",rL);const oL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lL=nt("mail",oL);const cL=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],uL=nt("maximize-2",cL);const dL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hL=nt("plus",dL);const fL=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mL=nt("radio",fL);const pL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tN=nt("refresh-cw",pL);const gL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ig=nt("save",gL);const vL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],If=nt("search",vL);const yL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nN=nt("settings",yL);const bL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hu=nt("trash-2",bL);const xL=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wL=nt("trending-down",xL);const SL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$v=nt("trending-up",SL);const CL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_L=nt("triangle-alert",CL);const EL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NL=nt("user",EL);const TL=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],ML=nt("waves",TL);const RL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sN=nt("x",RL);const AL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cS=nt("zap",AL),uS="trading-alert-sidebar-state",jL=({children:n,watchlistContent:e,alertsContent:t,alertsBadgeCount:s=0,userMenuContent:r})=>{const[o,c]=p.useState(()=>{const u=localStorage.getItem(uS);if(u)try{return JSON.parse(u).isSidebarOpen??!0}catch(h){console.error("Failed to parse sidebar state",h)}return!0});return ve.useEffect(()=>{localStorage.setItem(uS,JSON.stringify({isSidebarOpen:o}))},[o]),ve.useEffect(()=>{const u=h=>{h.ctrlKey&&h.key.toLowerCase()==="b"&&(h.preventDefault(),c(f=>!f))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]),m.jsxs("div",{className:"flex h-screen w-full bg-slate-950 text-slate-50 overflow-hidden",children:[m.jsx("main",{className:"flex-1 relative overflow-hidden","data-testid":"main-chart-area",children:n}),m.jsx("aside",{"data-testid":"right-sidebar","data-state":o?"expanded":"collapsed",className:`flex border-slate-800 bg-slate-900 transition-all duration-300 ${o?"w-[350px]":"w-[56px]"}`,children:m.jsxs(L0,{defaultValue:"watchlist",className:"flex flex-row w-full h-full",children:[m.jsxs("div",{className:"flex flex-col items-center py-4 border-r border-slate-800 w-[56px] shrink-0",children:[r&&m.jsx("div",{className:"mb-4",children:r}),m.jsxs(Df,{className:"flex flex-col h-auto bg-transparent gap-4",children:[m.jsxs(Ur,{value:"watchlist",className:"p-2 data-[state=active]:bg-slate-800 data-[state=active]:text-blue-400",title:"Watchlist","aria-label":"Watchlist",children:[m.jsx(eN,{className:"h-5 w-5"}),m.jsx("span",{className:"sr-only",children:"Watchlist"})]}),m.jsxs(Ur,{value:"alerts",className:"p-2 data-[state=active]:bg-slate-800 data-[state=active]:text-blue-400 relative",title:"Alerts","aria-label":"Alerts",children:[m.jsx(cl,{className:"h-5 w-5"}),s>0&&m.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[10px] font-bold text-white ring-2 ring-slate-900 animate-in zoom-in duration-300",children:s>9?"9+":s}),m.jsx("span",{className:"sr-only",children:"Alerts"})]})]}),m.jsx("div",{className:"mt-auto pb-2",children:m.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>c(!o),className:"text-slate-400 hover:text-white","data-testid":"sidebar-toggle",children:o?m.jsx(z0,{className:"h-5 w-5"}):m.jsx(V5,{className:"h-5 w-5"})})})]}),o&&m.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[m.jsx(Br,{value:"watchlist",className:"flex-1 m-0 p-4 min-h-0 overflow-hidden",children:m.jsx("div",{className:"h-full w-full flex flex-col items-stretch justify-start",children:e})}),m.jsx(Br,{value:"alerts",className:"flex-1 m-0 p-4 min-h-0 overflow-hidden",children:m.jsx("div",{className:"h-full w-full flex flex-col items-stretch justify-start",children:t})})]})]})})]})};function kL(n){const e=OL(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(IL);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function OL(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=PL(r),u=LL(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var DL=Symbol("radix.slottable");function IL(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===DL}function LL(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function PL(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var zL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$L=zL.reduce((n,e)=>{const t=kL(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function UL(n){const e=BL(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(FL);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function BL(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=WL(r),u=HL(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var VL=Symbol("radix.slottable");function FL(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===VL}function HL(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function WL(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var GL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iN=GL.reduce((n,e)=>{const t=UL(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function qL(n,e){n&&Ui.flushSync(()=>n.dispatchEvent(e))}function YL(n,e=globalThis?.document){const t=oi(n);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var KL="DismissableLayer",Uv="dismissableLayer.update",XL="dismissableLayer.pointerDownOutside",JL="dismissableLayer.focusOutside",dS,rN=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fu=p.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...h}=n,f=p.useContext(rN),[v,g]=p.useState(null),x=v?.ownerDocument??globalThis?.document,[,w]=p.useState({}),S=Lt(e,I=>g(I)),C=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=C.indexOf(E),T=v?C.indexOf(v):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,j=T>=N,z=e3(I=>{const B=I.target,X=[...f.branches].some(se=>se.contains(B));!j||X||(r?.(I),c?.(I),I.defaultPrevented||u?.())},x),P=t3(I=>{const B=I.target;[...f.branches].some(se=>se.contains(B))||(o?.(I),c?.(I),I.defaultPrevented||u?.())},x);return YL(I=>{T===f.layers.size-1&&(s?.(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},x),p.useEffect(()=>{if(v)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(dS=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(v)),f.layers.add(v),hS(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=dS)}},[v,x,t,f]),p.useEffect(()=>()=>{v&&(f.layers.delete(v),f.layersWithOutsidePointerEventsDisabled.delete(v),hS())},[v,f]),p.useEffect(()=>{const I=()=>w({});return document.addEventListener(Uv,I),()=>document.removeEventListener(Uv,I)},[]),m.jsx(iN.div,{...h,ref:S,style:{pointerEvents:A?j?"auto":"none":void 0,...n.style},onFocusCapture:Ae(n.onFocusCapture,P.onFocusCapture),onBlurCapture:Ae(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ae(n.onPointerDownCapture,z.onPointerDownCapture)})});fu.displayName=KL;var QL="DismissableLayerBranch",ZL=p.forwardRef((n,e)=>{const t=p.useContext(rN),s=p.useRef(null),r=Lt(e,s);return p.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),m.jsx(iN.div,{...n,ref:r})});ZL.displayName=QL;function e3(n,e=globalThis?.document){const t=oi(n),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!s.current){let h=function(){aN(XL,t,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function t3(n,e=globalThis?.document){const t=oi(n),s=p.useRef(!1);return p.useEffect(()=>{const r=o=>{o.target&&!s.current&&aN(JL,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function hS(){const n=new CustomEvent(Uv);document.dispatchEvent(n)}function aN(n,e,t,{discrete:s}){const r=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?qL(r,o):r.dispatchEvent(o)}var Lg=0;function $0(){p.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??fS()),document.body.insertAdjacentElement("beforeend",n[1]??fS()),Lg++,()=>{Lg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lg--}},[])}function fS(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}function n3(n){const e=s3(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(r3);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function s3(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=o3(r),u=a3(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var i3=Symbol("radix.slottable");function r3(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===i3}function a3(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function o3(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var l3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],c3=l3.reduce((n,e)=>{const t=n3(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),Pg="focusScope.autoFocusOnMount",zg="focusScope.autoFocusOnUnmount",mS={bubbles:!1,cancelable:!0},u3="FocusScope",Lf=p.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...c}=n,[u,h]=p.useState(null),f=oi(r),v=oi(o),g=p.useRef(null),x=Lt(e,C=>h(C)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let C=function(A){if(w.paused||!u)return;const j=A.target;u.contains(j)?g.current=j:kr(g.current,{select:!0})},E=function(A){if(w.paused||!u)return;const j=A.relatedTarget;j!==null&&(u.contains(j)||kr(g.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const z of A)z.removedNodes.length>0&&kr(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",E);const T=new MutationObserver(N);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",E),T.disconnect()}}},[s,u,w.paused]),p.useEffect(()=>{if(u){gS.add(w);const C=document.activeElement;if(!u.contains(C)){const N=new CustomEvent(Pg,mS);u.addEventListener(Pg,f),u.dispatchEvent(N),N.defaultPrevented||(d3(g3(oN(u)),{select:!0}),document.activeElement===C&&kr(u))}return()=>{u.removeEventListener(Pg,f),setTimeout(()=>{const N=new CustomEvent(zg,mS);u.addEventListener(zg,v),u.dispatchEvent(N),N.defaultPrevented||kr(C??document.body,{select:!0}),u.removeEventListener(zg,v),gS.remove(w)},0)}}},[u,f,v,w]);const S=p.useCallback(C=>{if(!t&&!s||w.paused)return;const E=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,N=document.activeElement;if(E&&N){const T=C.currentTarget,[A,j]=h3(T);A&&j?!C.shiftKey&&N===j?(C.preventDefault(),t&&kr(A,{select:!0})):C.shiftKey&&N===A&&(C.preventDefault(),t&&kr(j,{select:!0})):N===T&&C.preventDefault()}},[t,s,w.paused]);return m.jsx(c3.div,{tabIndex:-1,...c,ref:x,onKeyDown:S})});Lf.displayName=u3;function d3(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(kr(s,{select:e}),document.activeElement!==t)return}function h3(n){const e=oN(n),t=pS(e,n),s=pS(e.reverse(),n);return[t,s]}function oN(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function pS(n,e){for(const t of n)if(!f3(t,{upTo:e}))return t}function f3(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function m3(n){return n instanceof HTMLInputElement&&"select"in n}function kr(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&m3(n)&&e&&n.select()}}var gS=p3();function p3(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=vS(n,e),n.unshift(e)},remove(e){n=vS(n,e),n[0]?.resume()}}}function vS(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function g3(n){return n.filter(e=>e.tagName!=="A")}const v3=["top","right","bottom","left"],Kr=Math.min,ls=Math.max,Zh=Math.round,sh=Math.floor,ii=n=>({x:n,y:n}),y3={left:"right",right:"left",bottom:"top",top:"bottom"},b3={start:"end",end:"start"};function Bv(n,e,t){return ls(n,Kr(e,t))}function Gi(n,e){return typeof n=="function"?n(e):n}function qi(n){return n.split("-")[0]}function wl(n){return n.split("-")[1]}function U0(n){return n==="x"?"y":"x"}function B0(n){return n==="y"?"height":"width"}const x3=new Set(["top","bottom"]);function si(n){return x3.has(qi(n))?"y":"x"}function V0(n){return U0(si(n))}function w3(n,e,t){t===void 0&&(t=!1);const s=wl(n),r=V0(n),o=B0(r);let c=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=ef(c)),[c,ef(c)]}function S3(n){const e=ef(n);return[Vv(n),e,Vv(e)]}function Vv(n){return n.replace(/start|end/g,e=>b3[e])}const yS=["left","right"],bS=["right","left"],C3=["top","bottom"],_3=["bottom","top"];function E3(n,e,t){switch(n){case"top":case"bottom":return t?e?bS:yS:e?yS:bS;case"left":case"right":return e?C3:_3;default:return[]}}function N3(n,e,t,s){const r=wl(n);let o=E3(qi(n),t==="start",s);return r&&(o=o.map(c=>c+"-"+r),e&&(o=o.concat(o.map(Vv)))),o}function ef(n){return n.replace(/left|right|bottom|top/g,e=>y3[e])}function T3(n){return{top:0,right:0,bottom:0,left:0,...n}}function lN(n){return typeof n!="number"?T3(n):{top:n,right:n,bottom:n,left:n}}function tf(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function xS(n,e,t){let{reference:s,floating:r}=n;const o=si(e),c=V0(e),u=B0(c),h=qi(e),f=o==="y",v=s.x+s.width/2-r.width/2,g=s.y+s.height/2-r.height/2,x=s[u]/2-r[u]/2;let w;switch(h){case"top":w={x:v,y:s.y-r.height};break;case"bottom":w={x:v,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:g};break;case"left":w={x:s.x-r.width,y:g};break;default:w={x:s.x,y:s.y}}switch(wl(e)){case"start":w[c]-=x*(t&&f?-1:1);break;case"end":w[c]+=x*(t&&f?-1:1);break}return w}const M3=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:c}=t,u=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let f=await c.getElementRects({reference:n,floating:e,strategy:r}),{x:v,y:g}=xS(f,s,h),x=s,w={},S=0;for(let C=0;C<u.length;C++){const{name:E,fn:N}=u[C],{x:T,y:A,data:j,reset:z}=await N({x:v,y:g,initialPlacement:s,placement:x,strategy:r,middlewareData:w,rects:f,platform:c,elements:{reference:n,floating:e}});v=T??v,g=A??g,w={...w,[E]:{...w[E],...j}},z&&S<=50&&(S++,typeof z=="object"&&(z.placement&&(x=z.placement),z.rects&&(f=z.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:r}):z.rects),{x:v,y:g}=xS(f,x,h)),C=-1)}return{x:v,y:g,placement:x,strategy:r,middlewareData:w}};async function Yc(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:o,rects:c,elements:u,strategy:h}=n,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:x=!1,padding:w=0}=Gi(e,n),S=lN(w),E=u[x?g==="floating"?"reference":"floating":g],N=tf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(E)))==null||t?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:v,strategy:h})),T=g==="floating"?{x:s,y:r,width:c.floating.width,height:c.floating.height}:c.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),j=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},z=tf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:A,strategy:h}):T);return{top:(N.top-z.top+S.top)/j.y,bottom:(z.bottom-N.bottom+S.bottom)/j.y,left:(N.left-z.left+S.left)/j.x,right:(z.right-N.right+S.right)/j.x}}const R3=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:o,platform:c,elements:u,middlewareData:h}=e,{element:f,padding:v=0}=Gi(n,e)||{};if(f==null)return{};const g=lN(v),x={x:t,y:s},w=V0(r),S=B0(w),C=await c.getDimensions(f),E=w==="y",N=E?"top":"left",T=E?"bottom":"right",A=E?"clientHeight":"clientWidth",j=o.reference[S]+o.reference[w]-x[w]-o.floating[S],z=x[w]-o.reference[w],P=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let I=P?P[A]:0;(!I||!await(c.isElement==null?void 0:c.isElement(P)))&&(I=u.floating[A]||o.floating[S]);const B=j/2-z/2,X=I/2-C[S]/2-1,se=Kr(g[N],X),G=Kr(g[T],X),ee=se,q=I-C[S]-G,re=I/2-C[S]/2+B,J=Bv(ee,re,q),k=!h.arrow&&wl(r)!=null&&re!==J&&o.reference[S]/2-(re<ee?se:G)-C[S]/2<0,F=k?re<ee?re-ee:re-q:0;return{[w]:x[w]+F,data:{[w]:J,centerOffset:re-J-F,...k&&{alignmentOffset:F}},reset:k}}}),A3=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:o,rects:c,initialPlacement:u,platform:h,elements:f}=e,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,...E}=Gi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=qi(r),T=si(u),A=qi(u)===u,j=await(h.isRTL==null?void 0:h.isRTL(f.floating)),z=x||(A||!C?[ef(u)]:S3(u)),P=S!=="none";!x&&P&&z.push(...N3(u,C,S,j));const I=[u,...z],B=await Yc(e,E),X=[];let se=((s=o.flip)==null?void 0:s.overflows)||[];if(v&&X.push(B[N]),g){const re=w3(r,c,j);X.push(B[re[0]],B[re[1]])}if(se=[...se,{placement:r,overflows:X}],!X.every(re=>re<=0)){var G,ee;const re=(((G=o.flip)==null?void 0:G.index)||0)+1,J=I[re];if(J&&(!(g==="alignment"?T!==si(J):!1)||se.every(V=>si(V.placement)===T?V.overflows[0]>0:!0)))return{data:{index:re,overflows:se},reset:{placement:J}};let k=(ee=se.filter(F=>F.overflows[0]<=0).sort((F,V)=>F.overflows[1]-V.overflows[1])[0])==null?void 0:ee.placement;if(!k)switch(w){case"bestFit":{var q;const F=(q=se.filter(V=>{if(P){const Q=si(V.placement);return Q===T||Q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Q=>Q>0).reduce((Q,me)=>Q+me,0)]).sort((V,Q)=>V[1]-Q[1])[0])==null?void 0:q[0];F&&(k=F);break}case"initialPlacement":k=u;break}if(r!==k)return{reset:{placement:k}}}return{}}}};function wS(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function SS(n){return v3.some(e=>n[e]>=0)}const j3=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=Gi(n,e);switch(s){case"referenceHidden":{const o=await Yc(e,{...r,elementContext:"reference"}),c=wS(o,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:SS(c)}}}case"escaped":{const o=await Yc(e,{...r,altBoundary:!0}),c=wS(o,t.floating);return{data:{escapedOffsets:c,escaped:SS(c)}}}default:return{}}}}},cN=new Set(["left","top"]);async function k3(n,e){const{placement:t,platform:s,elements:r}=n,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),c=qi(t),u=wl(t),h=si(t)==="y",f=cN.has(c)?-1:1,v=o&&h?-1:1,g=Gi(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(w=u==="end"?S*-1:S),h?{x:w*v,y:x*f}:{x:x*f,y:w*v}}const O3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:o,placement:c,middlewareData:u}=e,h=await k3(e,n);return c===((t=u.offset)==null?void 0:t.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:r+h.x,y:o+h.y,data:{...h,placement:c}}}}},D3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:E=>{let{x:N,y:T}=E;return{x:N,y:T}}},...h}=Gi(n,e),f={x:t,y:s},v=await Yc(e,h),g=si(qi(r)),x=U0(g);let w=f[x],S=f[g];if(o){const E=x==="y"?"top":"left",N=x==="y"?"bottom":"right",T=w+v[E],A=w-v[N];w=Bv(T,w,A)}if(c){const E=g==="y"?"top":"left",N=g==="y"?"bottom":"right",T=S+v[E],A=S-v[N];S=Bv(T,S,A)}const C=u.fn({...e,[x]:w,[g]:S});return{...C,data:{x:C.x-t,y:C.y-s,enabled:{[x]:o,[g]:c}}}}}},I3=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=Gi(n,e),v={x:t,y:s},g=si(r),x=U0(g);let w=v[x],S=v[g];const C=Gi(u,e),E=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const A=x==="y"?"height":"width",j=o.reference[x]-o.floating[A]+E.mainAxis,z=o.reference[x]+o.reference[A]-E.mainAxis;w<j?w=j:w>z&&(w=z)}if(f){var N,T;const A=x==="y"?"width":"height",j=cN.has(qi(r)),z=o.reference[g]-o.floating[A]+(j&&((N=c.offset)==null?void 0:N[g])||0)+(j?0:E.crossAxis),P=o.reference[g]+o.reference[A]+(j?0:((T=c.offset)==null?void 0:T[g])||0)-(j?E.crossAxis:0);S<z?S=z:S>P&&(S=P)}return{[x]:w,[g]:S}}}},L3=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:o,platform:c,elements:u}=e,{apply:h=()=>{},...f}=Gi(n,e),v=await Yc(e,f),g=qi(r),x=wl(r),w=si(r)==="y",{width:S,height:C}=o.floating;let E,N;g==="top"||g==="bottom"?(E=g,N=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=g,E=x==="end"?"top":"bottom");const T=C-v.top-v.bottom,A=S-v.left-v.right,j=Kr(C-v[E],T),z=Kr(S-v[N],A),P=!e.middlewareData.shift;let I=j,B=z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(B=A),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(I=T),P&&!x){const se=ls(v.left,0),G=ls(v.right,0),ee=ls(v.top,0),q=ls(v.bottom,0);w?B=S-2*(se!==0||G!==0?se+G:ls(v.left,v.right)):I=C-2*(ee!==0||q!==0?ee+q:ls(v.top,v.bottom))}await h({...e,availableWidth:B,availableHeight:I});const X=await c.getDimensions(u.floating);return S!==X.width||C!==X.height?{reset:{rects:!0}}:{}}}};function Pf(){return typeof window<"u"}function Sl(n){return uN(n)?(n.nodeName||"").toLowerCase():"#document"}function us(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ui(n){var e;return(e=(uN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function uN(n){return Pf()?n instanceof Node||n instanceof us(n).Node:!1}function zs(n){return Pf()?n instanceof Element||n instanceof us(n).Element:!1}function li(n){return Pf()?n instanceof HTMLElement||n instanceof us(n).HTMLElement:!1}function CS(n){return!Pf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof us(n).ShadowRoot}const P3=new Set(["inline","contents"]);function mu(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=$s(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!P3.has(r)}const z3=new Set(["table","td","th"]);function $3(n){return z3.has(Sl(n))}const U3=[":popover-open",":modal"];function zf(n){return U3.some(e=>{try{return n.matches(e)}catch{return!1}})}const B3=["transform","translate","scale","rotate","perspective"],V3=["transform","translate","scale","rotate","perspective","filter"],F3=["paint","layout","strict","content"];function F0(n){const e=H0(),t=zs(n)?$s(n):n;return B3.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||V3.some(s=>(t.willChange||"").includes(s))||F3.some(s=>(t.contain||"").includes(s))}function H3(n){let e=Xr(n);for(;li(e)&&!ul(e);){if(F0(e))return e;if(zf(e))return null;e=Xr(e)}return null}function H0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const W3=new Set(["html","body","#document"]);function ul(n){return W3.has(Sl(n))}function $s(n){return us(n).getComputedStyle(n)}function $f(n){return zs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Xr(n){if(Sl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||CS(n)&&n.host||ui(n);return CS(e)?e.host:e}function dN(n){const e=Xr(n);return ul(e)?n.ownerDocument?n.ownerDocument.body:n.body:li(e)&&mu(e)?e:dN(e)}function Kc(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=dN(n),o=r===((s=n.ownerDocument)==null?void 0:s.body),c=us(r);if(o){const u=Fv(c);return e.concat(c,c.visualViewport||[],mu(r)?r:[],u&&t?Kc(u):[])}return e.concat(r,Kc(r,[],t))}function Fv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function hN(n){const e=$s(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=li(n),o=r?n.offsetWidth:t,c=r?n.offsetHeight:s,u=Zh(t)!==o||Zh(s)!==c;return u&&(t=o,s=c),{width:t,height:s,$:u}}function W0(n){return zs(n)?n:n.contextElement}function Zo(n){const e=W0(n);if(!li(e))return ii(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:o}=hN(e);let c=(o?Zh(t.width):t.width)/s,u=(o?Zh(t.height):t.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const G3=ii(0);function fN(n){const e=us(n);return!H0()||!e.visualViewport?G3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function q3(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==us(n)?!1:e}function Va(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=W0(n);let c=ii(1);e&&(s?zs(s)&&(c=Zo(s)):c=Zo(n));const u=q3(o,t,s)?fN(o):ii(0);let h=(r.left+u.x)/c.x,f=(r.top+u.y)/c.y,v=r.width/c.x,g=r.height/c.y;if(o){const x=us(o),w=s&&zs(s)?us(s):s;let S=x,C=Fv(S);for(;C&&s&&w!==S;){const E=Zo(C),N=C.getBoundingClientRect(),T=$s(C),A=N.left+(C.clientLeft+parseFloat(T.paddingLeft))*E.x,j=N.top+(C.clientTop+parseFloat(T.paddingTop))*E.y;h*=E.x,f*=E.y,v*=E.x,g*=E.y,h+=A,f+=j,S=us(C),C=Fv(S)}}return tf({width:v,height:g,x:h,y:f})}function Uf(n,e){const t=$f(n).scrollLeft;return e?e.left+t:Va(ui(n)).left+t}function mN(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-Uf(n,t),r=t.top+e.scrollTop;return{x:s,y:r}}function Y3(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const o=r==="fixed",c=ui(s),u=e?zf(e.floating):!1;if(s===c||u&&o)return t;let h={scrollLeft:0,scrollTop:0},f=ii(1);const v=ii(0),g=li(s);if((g||!g&&!o)&&((Sl(s)!=="body"||mu(c))&&(h=$f(s)),li(s))){const w=Va(s);f=Zo(s),v.x=w.x+s.clientLeft,v.y=w.y+s.clientTop}const x=c&&!g&&!o?mN(c,h):ii(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-h.scrollLeft*f.x+v.x+x.x,y:t.y*f.y-h.scrollTop*f.y+v.y+x.y}}function K3(n){return Array.from(n.getClientRects())}function X3(n){const e=ui(n),t=$f(n),s=n.ownerDocument.body,r=ls(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=ls(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-t.scrollLeft+Uf(n);const u=-t.scrollTop;return $s(s).direction==="rtl"&&(c+=ls(e.clientWidth,s.clientWidth)-r),{width:r,height:o,x:c,y:u}}const _S=25;function J3(n,e){const t=us(n),s=ui(n),r=t.visualViewport;let o=s.clientWidth,c=s.clientHeight,u=0,h=0;if(r){o=r.width,c=r.height;const v=H0();(!v||v&&e==="fixed")&&(u=r.offsetLeft,h=r.offsetTop)}const f=Uf(s);if(f<=0){const v=s.ownerDocument,g=v.body,x=getComputedStyle(g),w=v.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-w);S<=_S&&(o-=S)}else f<=_S&&(o+=f);return{width:o,height:c,x:u,y:h}}const Q3=new Set(["absolute","fixed"]);function Z3(n,e){const t=Va(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,o=li(n)?Zo(n):ii(1),c=n.clientWidth*o.x,u=n.clientHeight*o.y,h=r*o.x,f=s*o.y;return{width:c,height:u,x:h,y:f}}function ES(n,e,t){let s;if(e==="viewport")s=J3(n,t);else if(e==="document")s=X3(ui(n));else if(zs(e))s=Z3(e,t);else{const r=fN(n);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return tf(s)}function pN(n,e){const t=Xr(n);return t===e||!zs(t)||ul(t)?!1:$s(t).position==="fixed"||pN(t,e)}function e4(n,e){const t=e.get(n);if(t)return t;let s=Kc(n,[],!1).filter(u=>zs(u)&&Sl(u)!=="body"),r=null;const o=$s(n).position==="fixed";let c=o?Xr(n):n;for(;zs(c)&&!ul(c);){const u=$s(c),h=F0(c);!h&&u.position==="fixed"&&(r=null),(o?!h&&!r:!h&&u.position==="static"&&!!r&&Q3.has(r.position)||mu(c)&&!h&&pN(n,c))?s=s.filter(v=>v!==c):r=u,c=Xr(c)}return e.set(n,s),s}function t4(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const c=[...t==="clippingAncestors"?zf(e)?[]:e4(e,this._c):[].concat(t),s],u=c[0],h=c.reduce((f,v)=>{const g=ES(e,v,r);return f.top=ls(g.top,f.top),f.right=Kr(g.right,f.right),f.bottom=Kr(g.bottom,f.bottom),f.left=ls(g.left,f.left),f},ES(e,u,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function n4(n){const{width:e,height:t}=hN(n);return{width:e,height:t}}function s4(n,e,t){const s=li(e),r=ui(e),o=t==="fixed",c=Va(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=ii(0);function f(){h.x=Uf(r)}if(s||!s&&!o)if((Sl(e)!=="body"||mu(r))&&(u=$f(e)),s){const w=Va(e,!0,o,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else r&&f();o&&!s&&r&&f();const v=r&&!s&&!o?mN(r,u):ii(0),g=c.left+u.scrollLeft-h.x-v.x,x=c.top+u.scrollTop-h.y-v.y;return{x:g,y:x,width:c.width,height:c.height}}function $g(n){return $s(n).position==="static"}function NS(n,e){if(!li(n)||$s(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ui(n)===t&&(t=t.ownerDocument.body),t}function gN(n,e){const t=us(n);if(zf(n))return t;if(!li(n)){let r=Xr(n);for(;r&&!ul(r);){if(zs(r)&&!$g(r))return r;r=Xr(r)}return t}let s=NS(n,e);for(;s&&$3(s)&&$g(s);)s=NS(s,e);return s&&ul(s)&&$g(s)&&!F0(s)?t:s||H3(n)||t}const i4=async function(n){const e=this.getOffsetParent||gN,t=this.getDimensions,s=await t(n.floating);return{reference:s4(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function r4(n){return $s(n).direction==="rtl"}const a4={convertOffsetParentRelativeRectToViewportRelativeRect:Y3,getDocumentElement:ui,getClippingRect:t4,getOffsetParent:gN,getElementRects:i4,getClientRects:K3,getDimensions:n4,getScale:Zo,isElement:zs,isRTL:r4};function vN(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function o4(n,e){let t=null,s;const r=ui(n);function o(){var u;clearTimeout(s),(u=t)==null||u.disconnect(),t=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const f=n.getBoundingClientRect(),{left:v,top:g,width:x,height:w}=f;if(u||e(),!x||!w)return;const S=sh(g),C=sh(r.clientWidth-(v+x)),E=sh(r.clientHeight-(g+w)),N=sh(v),A={rootMargin:-S+"px "+-C+"px "+-E+"px "+-N+"px",threshold:ls(0,Kr(1,h))||1};let j=!0;function z(P){const I=P[0].intersectionRatio;if(I!==h){if(!j)return c();I?c(!1,I):s=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!vN(f,n.getBoundingClientRect())&&c(),j=!1}try{t=new IntersectionObserver(z,{...A,root:r.ownerDocument})}catch{t=new IntersectionObserver(z,A)}t.observe(n)}return c(!0),o}function l4(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,f=W0(n),v=r||o?[...f?Kc(f):[],...Kc(e)]:[];v.forEach(N=>{r&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const g=f&&u?o4(f,t):null;let x=-1,w=null;c&&(w=new ResizeObserver(N=>{let[T]=N;T&&T.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=w)==null||A.observe(e)})),t()}),f&&!h&&w.observe(f),w.observe(e));let S,C=h?Va(n):null;h&&E();function E(){const N=Va(n);C&&!vN(C,N)&&t(),C=N,S=requestAnimationFrame(E)}return t(),()=>{var N;v.forEach(T=>{r&&T.removeEventListener("scroll",t),o&&T.removeEventListener("resize",t)}),g?.(),(N=w)==null||N.disconnect(),w=null,h&&cancelAnimationFrame(S)}}const c4=O3,u4=D3,d4=A3,h4=L3,f4=j3,TS=R3,m4=I3,p4=(n,e,t)=>{const s=new Map,r={platform:a4,...t},o={...r.platform,_c:s};return M3(n,e,{...r,platform:o})};var g4=typeof document<"u",v4=function(){},kh=g4?p.useLayoutEffect:v4;function nf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!nf(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const o=r[s];if(!(o==="_owner"&&n.$$typeof)&&!nf(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function yN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function MS(n,e){const t=yN(n);return Math.round(e*t)/t}function Ug(n){const e=p.useRef(n);return kh(()=>{e.current=n}),e}function y4(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=n,[v,g]=p.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=p.useState(s);nf(x,s)||w(s);const[S,C]=p.useState(null),[E,N]=p.useState(null),T=p.useCallback(V=>{V!==P.current&&(P.current=V,C(V))},[]),A=p.useCallback(V=>{V!==I.current&&(I.current=V,N(V))},[]),j=o||S,z=c||E,P=p.useRef(null),I=p.useRef(null),B=p.useRef(v),X=h!=null,se=Ug(h),G=Ug(r),ee=Ug(f),q=p.useCallback(()=>{if(!P.current||!I.current)return;const V={placement:e,strategy:t,middleware:x};G.current&&(V.platform=G.current),p4(P.current,I.current,V).then(Q=>{const me={...Q,isPositioned:ee.current!==!1};re.current&&!nf(B.current,me)&&(B.current=me,Ui.flushSync(()=>{g(me)}))})},[x,e,t,G,ee]);kh(()=>{f===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[f]);const re=p.useRef(!1);kh(()=>(re.current=!0,()=>{re.current=!1}),[]),kh(()=>{if(j&&(P.current=j),z&&(I.current=z),j&&z){if(se.current)return se.current(j,z,q);q()}},[j,z,q,se,X]);const J=p.useMemo(()=>({reference:P,floating:I,setReference:T,setFloating:A}),[T,A]),k=p.useMemo(()=>({reference:j,floating:z}),[j,z]),F=p.useMemo(()=>{const V={position:t,left:0,top:0};if(!k.floating)return V;const Q=MS(k.floating,v.x),me=MS(k.floating,v.y);return u?{...V,transform:"translate("+Q+"px, "+me+"px)",...yN(k.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Q,top:me}},[t,u,k.floating,v.x,v.y]);return p.useMemo(()=>({...v,update:q,refs:J,elements:k,floatingStyles:F}),[v,q,J,k,F])}const b4=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?TS({element:s.current,padding:r}).fn(t):{}:s?TS({element:s,padding:r}).fn(t):{}}}},x4=(n,e)=>({...c4(n),options:[n,e]}),w4=(n,e)=>({...u4(n),options:[n,e]}),S4=(n,e)=>({...m4(n),options:[n,e]}),C4=(n,e)=>({...d4(n),options:[n,e]}),_4=(n,e)=>({...h4(n),options:[n,e]}),E4=(n,e)=>({...f4(n),options:[n,e]}),N4=(n,e)=>({...b4(n),options:[n,e]});function T4(n){const e=M4(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(A4);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function M4(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=k4(r),u=j4(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var R4=Symbol("radix.slottable");function A4(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===R4}function j4(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function k4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var O4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],D4=O4.reduce((n,e)=>{const t=T4(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),I4="Arrow",bN=p.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...o}=n;return m.jsx(D4.svg,{...o,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});bN.displayName=I4;var L4=bN;function P4(n){const e=z4(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(U4);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function z4(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=V4(r),u=B4(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $4=Symbol("radix.slottable");function U4(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$4}function B4(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function V4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var F4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xN=F4.reduce((n,e)=>{const t=P4(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function G0(n){const[e,t]=p.useState(void 0);return Yr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const o=r[0];let c,u;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=n.offsetWidth,u=n.offsetHeight;t({width:c,height:u})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var q0="Popper",[wN,Cl]=Ms(q0),[H4,SN]=wN(q0),CN=n=>{const{__scopePopper:e,children:t}=n,[s,r]=p.useState(null);return m.jsx(H4,{scope:e,anchor:s,onAnchorChange:r,children:t})};CN.displayName=q0;var _N="PopperAnchor",EN=p.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,o=SN(_N,t),c=p.useRef(null),u=Lt(e,c),h=p.useRef(null);return p.useEffect(()=>{const f=h.current;h.current=s?.current||c.current,f!==h.current&&o.onAnchorChange(h.current)}),s?null:m.jsx(xN.div,{...r,ref:u})});EN.displayName=_N;var Y0="PopperContent",[W4,G4]=wN(Y0),NN=p.forwardRef((n,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:S,...C}=n,E=SN(Y0,t),[N,T]=p.useState(null),A=Lt(e,K=>T(K)),[j,z]=p.useState(null),P=G0(j),I=P?.width??0,B=P?.height??0,X=s+(o!=="center"?"-"+o:""),se=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},G=Array.isArray(f)?f:[f],ee=G.length>0,q={padding:se,boundary:G.filter(Y4),altBoundary:ee},{refs:re,floatingStyles:J,placement:k,isPositioned:F,middlewareData:V}=y4({strategy:"fixed",placement:X,whileElementsMounted:(...K)=>l4(...K,{animationFrame:w==="always"}),elements:{reference:E.anchor},middleware:[x4({mainAxis:r+B,alignmentAxis:c}),h&&w4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?S4():void 0,...q}),h&&C4({...q}),_4({...q,apply:({elements:K,rects:ue,availableWidth:ye,availableHeight:we})=>{const{width:Ve,height:We}=ue.reference,xt=K.floating.style;xt.setProperty("--radix-popper-available-width",`${ye}px`),xt.setProperty("--radix-popper-available-height",`${we}px`),xt.setProperty("--radix-popper-anchor-width",`${Ve}px`),xt.setProperty("--radix-popper-anchor-height",`${We}px`)}}),j&&N4({element:j,padding:u}),K4({arrowWidth:I,arrowHeight:B}),x&&E4({strategy:"referenceHidden",...q})]}),[Q,me]=RN(k),O=oi(S);Yr(()=>{F&&O?.()},[F,O]);const M=V.arrow?.x,L=V.arrow?.y,$=V.arrow?.centerOffset!==0,[ie,oe]=p.useState();return Yr(()=>{N&&oe(window.getComputedStyle(N).zIndex)},[N]),m.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:F?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:m.jsx(W4,{scope:t,placedSide:Q,onArrowChange:z,arrowX:M,arrowY:L,shouldHideArrow:$,children:m.jsx(xN.div,{"data-side":Q,"data-align":me,...C,ref:A,style:{...C.style,animation:F?void 0:"none"}})})})});NN.displayName=Y0;var TN="PopperArrow",q4={top:"bottom",right:"left",bottom:"top",left:"right"},MN=p.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,o=G4(TN,s),c=q4[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(L4,{...r,ref:t,style:{...r.style,display:"block"}})})});MN.displayName=TN;function Y4(n){return n!==null}var K4=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:s,middlewareData:r}=e,c=r.arrow?.centerOffset!==0,u=c?0:n.arrowWidth,h=c?0:n.arrowHeight,[f,v]=RN(t),g={start:"0%",center:"50%",end:"100%"}[v],x=(r.arrow?.x??0)+u/2,w=(r.arrow?.y??0)+h/2;let S="",C="";return f==="bottom"?(S=c?g:`${x}px`,C=`${-h}px`):f==="top"?(S=c?g:`${x}px`,C=`${s.floating.height+h}px`):f==="right"?(S=`${-h}px`,C=c?g:`${w}px`):f==="left"&&(S=`${s.floating.width+h}px`,C=c?g:`${w}px`),{data:{x:S,y:C}}}});function RN(n){const[e,t="center"]=n.split("-");return[e,t]}var K0=CN,Bf=EN,X0=NN,J0=MN;function X4(n){const e=J4(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(Z4);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function J4(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=tP(r),u=eP(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Q4=Symbol("radix.slottable");function Z4(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Q4}function eP(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function tP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var nP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sP=nP.reduce((n,e)=>{const t=X4(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),iP="Portal",pu=p.forwardRef((n,e)=>{const{container:t,...s}=n,[r,o]=p.useState(!1);Yr(()=>o(!0),[]);const c=t||r&&globalThis?.document?.body;return c?mE.createPortal(m.jsx(sP.div,{...s,ref:e}),c):null});pu.displayName=iP;function AN(n){const e=rP(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(oP);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function rP(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=cP(r),u=lP(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var aP=Symbol("radix.slottable");function oP(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===aP}function lP(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function cP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var uP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gu=uP.reduce((n,e)=>{const t=AN(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function dP(n,e){n&&Ui.flushSync(()=>n.dispatchEvent(e))}var hP=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},zo=new WeakMap,ih=new WeakMap,rh={},Bg=0,jN=function(n){return n&&(n.host||jN(n.parentNode))},fP=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=jN(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},mP=function(n,e,t,s){var r=fP(e,Array.isArray(n)?n:[n]);rh[t]||(rh[t]=new WeakMap);var o=rh[t],c=[],u=new Set,h=new Set(r),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};r.forEach(f);var v=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))v(x);else try{var w=x.getAttribute(s),S=w!==null&&w!=="false",C=(zo.get(x)||0)+1,E=(o.get(x)||0)+1;zo.set(x,C),o.set(x,E),c.push(x),C===1&&S&&ih.set(x,!0),E===1&&x.setAttribute(t,"true"),S||x.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return v(e),u.clear(),Bg++,function(){c.forEach(function(g){var x=zo.get(g)-1,w=o.get(g)-1;zo.set(g,x),o.set(g,w),x||(ih.has(g)||g.removeAttribute(s),ih.delete(g)),w||g.removeAttribute(t)}),Bg--,Bg||(zo=new WeakMap,zo=new WeakMap,ih=new WeakMap,rh={})}},Q0=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),r=hP(n);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),mP(s,r,t,"aria-hidden")):function(){return null}},ti=function(){return ti=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ti.apply(this,arguments)};function kN(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t}function pP(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))}var Oh="right-scroll-bar-position",Dh="width-before-scroll-bar",gP="with-scroll-bars-hidden",vP="--removed-body-scroll-bar-size";function Vg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function yP(n,e){var t=p.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var r=t.value;r!==s&&(t.value=s,t.callback(s,r))}}}})[0];return t.callback=e,t.facade}var bP=typeof window<"u"?p.useLayoutEffect:p.useEffect,RS=new WeakMap;function xP(n,e){var t=yP(null,function(s){return n.forEach(function(r){return Vg(r,s)})});return bP(function(){var s=RS.get(t);if(s){var r=new Set(s),o=new Set(n),c=t.current;r.forEach(function(u){o.has(u)||Vg(u,null)}),o.forEach(function(u){r.has(u)||Vg(u,c)})}RS.set(t,n)},[n]),t}function wP(n){return n}function SP(n,e){e===void 0&&(e=wP);var t=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var c=e(o,s);return t.push(c),function(){t=t.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(s=!0;t.length;){var c=t;t=[],c.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){s=!0;var c=[];if(t.length){var u=t;t=[],u.forEach(o),c=t}var h=function(){var v=c;c=[],v.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),t={push:function(v){c.push(v),f()},filter:function(v){return c=c.filter(v),t}}}};return r}function CP(n){n===void 0&&(n={});var e=SP(null);return e.options=ti({async:!0,ssr:!1},n),e}var ON=function(n){var e=n.sideCar,t=kN(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,ti({},t))};ON.isSideCarExport=!0;function _P(n,e){return n.useMedium(e),ON}var DN=CP(),Fg=function(){},Vf=p.forwardRef(function(n,e){var t=p.useRef(null),s=p.useState({onScrollCapture:Fg,onWheelCapture:Fg,onTouchMoveCapture:Fg}),r=s[0],o=s[1],c=n.forwardProps,u=n.children,h=n.className,f=n.removeScrollBar,v=n.enabled,g=n.shards,x=n.sideCar,w=n.noRelative,S=n.noIsolation,C=n.inert,E=n.allowPinchZoom,N=n.as,T=N===void 0?"div":N,A=n.gapMode,j=kN(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=x,P=xP([t,e]),I=ti(ti({},j),r);return p.createElement(p.Fragment,null,v&&p.createElement(z,{sideCar:DN,removeScrollBar:f,shards:g,noRelative:w,noIsolation:S,inert:C,setCallbacks:o,allowPinchZoom:!!E,lockRef:t,gapMode:A}),c?p.cloneElement(p.Children.only(u),ti(ti({},I),{ref:P})):p.createElement(T,ti({},I,{className:h,ref:P}),u))});Vf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vf.classNames={fullWidth:Dh,zeroRight:Oh};var EP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NP(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=EP();return e&&n.setAttribute("nonce",e),n}function TP(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function MP(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var RP=function(){var n=0,e=null;return{add:function(t){n==0&&(e=NP())&&(TP(e,t),MP(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AP=function(){var n=RP();return function(e,t){p.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},IN=function(){var n=AP(),e=function(t){var s=t.styles,r=t.dynamic;return n(s,r),null};return e},jP={left:0,top:0,right:0,gap:0},Hg=function(n){return parseInt(n||"",10)||0},kP=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[Hg(t),Hg(s),Hg(r)]},OP=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return jP;var e=kP(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},DP=IN(),el="data-scroll-locked",IP=function(n,e,t,s){var r=n.left,o=n.top,c=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(gP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(el,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oh,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Dh,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Oh," .").concat(Oh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(el,`] {
    `).concat(vP,": ").concat(u,`px;
  }
`)},AS=function(){var n=parseInt(document.body.getAttribute(el)||"0",10);return isFinite(n)?n:0},LP=function(){p.useEffect(function(){return document.body.setAttribute(el,(AS()+1).toString()),function(){var n=AS()-1;n<=0?document.body.removeAttribute(el):document.body.setAttribute(el,n.toString())}},[])},PP=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,r=s===void 0?"margin":s;LP();var o=p.useMemo(function(){return OP(r)},[r]);return p.createElement(DP,{styles:IP(o,!e,r,t?"":"!important")})},Hv=!1;if(typeof window<"u")try{var ah=Object.defineProperty({},"passive",{get:function(){return Hv=!0,!0}});window.addEventListener("test",ah,ah),window.removeEventListener("test",ah,ah)}catch{Hv=!1}var $o=Hv?{passive:!1}:!1,zP=function(n){return n.tagName==="TEXTAREA"},LN=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!zP(n)&&t[e]==="visible")},$P=function(n){return LN(n,"overflowY")},UP=function(n){return LN(n,"overflowX")},jS=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=PN(n,s);if(r){var o=zN(n,s),c=o[1],u=o[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},BP=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},VP=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},PN=function(n,e){return n==="v"?$P(e):UP(e)},zN=function(n,e){return n==="v"?BP(e):VP(e)},FP=function(n,e){return n==="h"&&e==="rtl"?-1:1},HP=function(n,e,t,s,r){var o=FP(n,window.getComputedStyle(e).direction),c=o*s,u=t.target,h=e.contains(u),f=!1,v=c>0,g=0,x=0;do{if(!u)break;var w=zN(n,u),S=w[0],C=w[1],E=w[2],N=C-E-o*S;(S||N)&&PN(n,u)&&(g+=N,x+=S);var T=u.parentNode;u=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(v&&Math.abs(g)<1||!v&&Math.abs(x)<1)&&(f=!0),f},oh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},kS=function(n){return[n.deltaX,n.deltaY]},OS=function(n){return n&&"current"in n?n.current:n},WP=function(n,e){return n[0]===e[0]&&n[1]===e[1]},GP=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},qP=0,Uo=[];function YP(n){var e=p.useRef([]),t=p.useRef([0,0]),s=p.useRef(),r=p.useState(qP++)[0],o=p.useState(IN)[0],c=p.useRef(n);p.useEffect(function(){c.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var C=pP([n.lockRef.current],(n.shards||[]).map(OS),!0).filter(Boolean);return C.forEach(function(E){return E.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),C.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var u=p.useCallback(function(C,E){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var N=oh(C),T=t.current,A="deltaX"in C?C.deltaX:T[0]-N[0],j="deltaY"in C?C.deltaY:T[1]-N[1],z,P=C.target,I=Math.abs(A)>Math.abs(j)?"h":"v";if("touches"in C&&I==="h"&&P.type==="range")return!1;var B=window.getSelection(),X=B&&B.anchorNode,se=X?X===P||X.contains(P):!1;if(se)return!1;var G=jS(I,P);if(!G)return!0;if(G?z=I:(z=I==="v"?"h":"v",G=jS(I,P)),!G)return!1;if(!s.current&&"changedTouches"in C&&(A||j)&&(s.current=z),!z)return!0;var ee=s.current||z;return HP(ee,E,C,ee==="h"?A:j)},[]),h=p.useCallback(function(C){var E=C;if(!(!Uo.length||Uo[Uo.length-1]!==o)){var N="deltaY"in E?kS(E):oh(E),T=e.current.filter(function(z){return z.name===E.type&&(z.target===E.target||E.target===z.shadowParent)&&WP(z.delta,N)})[0];if(T&&T.should){E.cancelable&&E.preventDefault();return}if(!T){var A=(c.current.shards||[]).map(OS).filter(Boolean).filter(function(z){return z.contains(E.target)}),j=A.length>0?u(E,A[0]):!c.current.noIsolation;j&&E.cancelable&&E.preventDefault()}}},[]),f=p.useCallback(function(C,E,N,T){var A={name:C,delta:E,target:N,should:T,shadowParent:KP(N)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(j){return j!==A})},1)},[]),v=p.useCallback(function(C){t.current=oh(C),s.current=void 0},[]),g=p.useCallback(function(C){f(C.type,kS(C),C.target,u(C,n.lockRef.current))},[]),x=p.useCallback(function(C){f(C.type,oh(C),C.target,u(C,n.lockRef.current))},[]);p.useEffect(function(){return Uo.push(o),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,$o),document.addEventListener("touchmove",h,$o),document.addEventListener("touchstart",v,$o),function(){Uo=Uo.filter(function(C){return C!==o}),document.removeEventListener("wheel",h,$o),document.removeEventListener("touchmove",h,$o),document.removeEventListener("touchstart",v,$o)}},[]);var w=n.removeScrollBar,S=n.inert;return p.createElement(p.Fragment,null,S?p.createElement(o,{styles:GP(r)}):null,w?p.createElement(PP,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function KP(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const XP=_P(DN,YP);var Ff=p.forwardRef(function(n,e){return p.createElement(Vf,ti({},n,{ref:e,sideCar:XP}))});Ff.classNames=Vf.classNames;var Wv=["Enter"," "],JP=["ArrowDown","PageUp","Home"],$N=["ArrowUp","PageDown","End"],QP=[...JP,...$N],ZP={ltr:[...Wv,"ArrowRight"],rtl:[...Wv,"ArrowLeft"]},e6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vu="Menu",[Xc,t6,n6]=fE(vu),[Qa,Hf]=Ms(vu,[n6,Cl,Af]),Wf=Cl(),UN=Af(),[s6,Za]=Qa(vu),[i6,yu]=Qa(vu),BN=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:r,onOpenChange:o,modal:c=!0}=n,u=Wf(e),[h,f]=p.useState(null),v=p.useRef(!1),g=oi(o),x=k0(r);return p.useEffect(()=>{const w=()=>{v.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>v.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),m.jsx(K0,{...u,children:m.jsx(s6,{scope:e,open:t,onOpenChange:g,content:h,onContentChange:f,children:m.jsx(i6,{scope:e,onClose:p.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:v,dir:x,modal:c,children:s})})})};BN.displayName=vu;var r6="MenuAnchor",Z0=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=Wf(t);return m.jsx(Bf,{...r,...s,ref:e})});Z0.displayName=r6;var ey="MenuPortal",[a6,VN]=Qa(ey,{forceMount:void 0}),FN=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:r}=n,o=Za(ey,e);return m.jsx(a6,{scope:e,forceMount:t,children:m.jsx(Xn,{present:t||o.open,children:m.jsx(pu,{asChild:!0,container:r,children:s})})})};FN.displayName=ey;var Ns="MenuContent",[o6,ty]=Qa(Ns),HN=p.forwardRef((n,e)=>{const t=VN(Ns,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,o=Za(Ns,n.__scopeMenu),c=yu(Ns,n.__scopeMenu);return m.jsx(Xc.Provider,{scope:n.__scopeMenu,children:m.jsx(Xn,{present:s||o.open,children:m.jsx(Xc.Slot,{scope:n.__scopeMenu,children:c.modal?m.jsx(l6,{...r,ref:e}):m.jsx(c6,{...r,ref:e})})})})}),l6=p.forwardRef((n,e)=>{const t=Za(Ns,n.__scopeMenu),s=p.useRef(null),r=Lt(e,s);return p.useEffect(()=>{const o=s.current;if(o)return Q0(o)},[]),m.jsx(ny,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ae(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),c6=p.forwardRef((n,e)=>{const t=Za(Ns,n.__scopeMenu);return m.jsx(ny,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),u6=AN("MenuContent.ScrollLock"),ny=p.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:x,onDismiss:w,disableOutsideScroll:S,...C}=n,E=Za(Ns,t),N=yu(Ns,t),T=Wf(t),A=UN(t),j=t6(t),[z,P]=p.useState(null),I=p.useRef(null),B=Lt(e,I,E.onContentChange),X=p.useRef(0),se=p.useRef(""),G=p.useRef(0),ee=p.useRef(null),q=p.useRef("right"),re=p.useRef(0),J=S?Ff:p.Fragment,k=S?{as:u6,allowPinchZoom:!0}:void 0,F=Q=>{const me=se.current+Q,O=j().filter(K=>!K.disabled),M=document.activeElement,L=O.find(K=>K.ref.current===M)?.textValue,$=O.map(K=>K.textValue),ie=S6($,me,L),oe=O.find(K=>K.textValue===ie)?.ref.current;(function K(ue){se.current=ue,window.clearTimeout(X.current),ue!==""&&(X.current=window.setTimeout(()=>K(""),1e3))})(me),oe&&setTimeout(()=>oe.focus())};p.useEffect(()=>()=>window.clearTimeout(X.current),[]),$0();const V=p.useCallback(Q=>q.current===ee.current?.side&&_6(Q,ee.current?.area),[]);return m.jsx(o6,{scope:t,searchRef:se,onItemEnter:p.useCallback(Q=>{V(Q)&&Q.preventDefault()},[V]),onItemLeave:p.useCallback(Q=>{V(Q)||(I.current?.focus(),P(null))},[V]),onTriggerLeave:p.useCallback(Q=>{V(Q)&&Q.preventDefault()},[V]),pointerGraceTimerRef:G,onPointerGraceIntentChange:p.useCallback(Q=>{ee.current=Q},[]),children:m.jsx(J,{...k,children:m.jsx(Lf,{asChild:!0,trapped:r,onMountAutoFocus:Ae(o,Q=>{Q.preventDefault(),I.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:m.jsx(fu,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:x,onDismiss:w,children:m.jsx(wE,{asChild:!0,...A,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:z,onCurrentTabStopIdChange:P,onEntryFocus:Ae(h,Q=>{N.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(X0,{role:"menu","aria-orientation":"vertical","data-state":a2(E.open),"data-radix-menu-content":"",dir:N.dir,...T,...C,ref:B,style:{outline:"none",...C.style},onKeyDown:Ae(C.onKeyDown,Q=>{const O=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,M=Q.ctrlKey||Q.altKey||Q.metaKey,L=Q.key.length===1;O&&(Q.key==="Tab"&&Q.preventDefault(),!M&&L&&F(Q.key));const $=I.current;if(Q.target!==$||!QP.includes(Q.key))return;Q.preventDefault();const oe=j().filter(K=>!K.disabled).map(K=>K.ref.current);$N.includes(Q.key)&&oe.reverse(),x6(oe)}),onBlur:Ae(n.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(X.current),se.current="")}),onPointerMove:Ae(n.onPointerMove,Jc(Q=>{const me=Q.target,O=re.current!==Q.clientX;if(Q.currentTarget.contains(me)&&O){const M=Q.clientX>re.current?"right":"left";q.current=M,re.current=Q.clientX}}))})})})})})})});HN.displayName=Ns;var d6="MenuGroup",sy=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return m.jsx(gu.div,{role:"group",...s,ref:e})});sy.displayName=d6;var h6="MenuLabel",WN=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return m.jsx(gu.div,{...s,ref:e})});WN.displayName=h6;var sf="MenuItem",DS="menu.itemSelect",Gf=p.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...r}=n,o=p.useRef(null),c=yu(sf,n.__scopeMenu),u=ty(sf,n.__scopeMenu),h=Lt(e,o),f=p.useRef(!1),v=()=>{const g=o.current;if(!t&&g){const x=new CustomEvent(DS,{bubbles:!0,cancelable:!0});g.addEventListener(DS,w=>s?.(w),{once:!0}),dP(g,x),x.defaultPrevented?f.current=!1:c.onClose()}};return m.jsx(GN,{...r,ref:h,disabled:t,onClick:Ae(n.onClick,v),onPointerDown:g=>{n.onPointerDown?.(g),f.current=!0},onPointerUp:Ae(n.onPointerUp,g=>{f.current||g.currentTarget?.click()}),onKeyDown:Ae(n.onKeyDown,g=>{const x=u.searchRef.current!=="";t||x&&g.key===" "||Wv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Gf.displayName=sf;var GN=p.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:r,...o}=n,c=ty(sf,t),u=UN(t),h=p.useRef(null),f=Lt(e,h),[v,g]=p.useState(!1),[x,w]=p.useState("");return p.useEffect(()=>{const S=h.current;S&&w((S.textContent??"").trim())},[o.children]),m.jsx(Xc.ItemSlot,{scope:t,disabled:s,textValue:r??x,children:m.jsx(SE,{asChild:!0,...u,focusable:!s,children:m.jsx(gu.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:f,onPointerMove:Ae(n.onPointerMove,Jc(S=>{s?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(n.onPointerLeave,Jc(S=>c.onItemLeave(S))),onFocus:Ae(n.onFocus,()=>g(!0)),onBlur:Ae(n.onBlur,()=>g(!1))})})})}),f6="MenuCheckboxItem",qN=p.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...r}=n;return m.jsx(QN,{scope:n.__scopeMenu,checked:t,children:m.jsx(Gf,{role:"menuitemcheckbox","aria-checked":rf(t)?"mixed":t,...r,ref:e,"data-state":ry(t),onSelect:Ae(r.onSelect,()=>s?.(rf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});qN.displayName=f6;var YN="MenuRadioGroup",[m6,p6]=Qa(YN,{value:void 0,onValueChange:()=>{}}),KN=p.forwardRef((n,e)=>{const{value:t,onValueChange:s,...r}=n,o=oi(s);return m.jsx(m6,{scope:n.__scopeMenu,value:t,onValueChange:o,children:m.jsx(sy,{...r,ref:e})})});KN.displayName=YN;var XN="MenuRadioItem",JN=p.forwardRef((n,e)=>{const{value:t,...s}=n,r=p6(XN,n.__scopeMenu),o=t===r.value;return m.jsx(QN,{scope:n.__scopeMenu,checked:o,children:m.jsx(Gf,{role:"menuitemradio","aria-checked":o,...s,ref:e,"data-state":ry(o),onSelect:Ae(s.onSelect,()=>r.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});JN.displayName=XN;var iy="MenuItemIndicator",[QN,g6]=Qa(iy,{checked:!1}),ZN=p.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...r}=n,o=g6(iy,t);return m.jsx(Xn,{present:s||rf(o.checked)||o.checked===!0,children:m.jsx(gu.span,{...r,ref:e,"data-state":ry(o.checked)})})});ZN.displayName=iy;var v6="MenuSeparator",e2=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return m.jsx(gu.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});e2.displayName=v6;var y6="MenuArrow",t2=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=Wf(t);return m.jsx(J0,{...r,...s,ref:e})});t2.displayName=y6;var b6="MenuSub",[tJ,n2]=Qa(b6),jc="MenuSubTrigger",s2=p.forwardRef((n,e)=>{const t=Za(jc,n.__scopeMenu),s=yu(jc,n.__scopeMenu),r=n2(jc,n.__scopeMenu),o=ty(jc,n.__scopeMenu),c=p.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=o,f={__scopeMenu:n.__scopeMenu},v=p.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return p.useEffect(()=>v,[v]),p.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),m.jsx(Z0,{asChild:!0,...f,children:m.jsx(GN,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":a2(t.open),...n,ref:Rt(e,r.onTriggerChange),onClick:g=>{n.onClick?.(g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ae(n.onPointerMove,Jc(g=>{o.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{t.onOpenChange(!0),v()},100))})),onPointerLeave:Ae(n.onPointerLeave,Jc(g=>{v();const x=t.content?.getBoundingClientRect();if(x){const w=t.content?.dataset.side,S=w==="right",C=S?-5:5,E=x[S?"left":"right"],N=x[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:E,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:E,y:x.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(n.onKeyDown,g=>{const x=o.searchRef.current!=="";n.disabled||x&&g.key===" "||ZP[s.dir].includes(g.key)&&(t.onOpenChange(!0),t.content?.focus(),g.preventDefault())})})})});s2.displayName=jc;var i2="MenuSubContent",r2=p.forwardRef((n,e)=>{const t=VN(Ns,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,o=Za(Ns,n.__scopeMenu),c=yu(Ns,n.__scopeMenu),u=n2(i2,n.__scopeMenu),h=p.useRef(null),f=Lt(e,h);return m.jsx(Xc.Provider,{scope:n.__scopeMenu,children:m.jsx(Xn,{present:s||o.open,children:m.jsx(Xc.Slot,{scope:n.__scopeMenu,children:m.jsx(ny,{id:u.contentId,"aria-labelledby":u.triggerId,...r,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{c.isUsingKeyboardRef.current&&h.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ae(n.onFocusOutside,v=>{v.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ae(n.onEscapeKeyDown,v=>{c.onClose(),v.preventDefault()}),onKeyDown:Ae(n.onKeyDown,v=>{const g=v.currentTarget.contains(v.target),x=e6[c.dir].includes(v.key);g&&x&&(o.onOpenChange(!1),u.trigger?.focus(),v.preventDefault())})})})})})});r2.displayName=i2;function a2(n){return n?"open":"closed"}function rf(n){return n==="indeterminate"}function ry(n){return rf(n)?"indeterminate":n?"checked":"unchecked"}function x6(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function w6(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function S6(n,e,t){const r=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let c=w6(n,Math.max(o,0));r.length===1&&(c=c.filter(f=>f!==t));const h=c.find(f=>f.toLowerCase().startsWith(r.toLowerCase()));return h!==t?h:void 0}function C6(n,e){const{x:t,y:s}=n;let r=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],h=e[c],f=u.x,v=u.y,g=h.x,x=h.y;v>s!=x>s&&t<(g-f)*(s-v)/(x-v)+f&&(r=!r)}return r}function _6(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return C6(t,e)}function Jc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var o2=BN,l2=Z0,c2=FN,u2=HN,d2=sy,h2=WN,f2=Gf,m2=qN,p2=KN,g2=JN,v2=ZN,y2=e2,b2=t2,x2=s2,w2=r2,qf="DropdownMenu",[E6]=Ms(qf,[Hf]),jn=Hf(),[N6,S2]=E6(qf),C2=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:r,defaultOpen:o,onOpenChange:c,modal:u=!0}=n,h=jn(e),f=p.useRef(null),[v,g]=Zr({prop:r,defaultProp:o??!1,onChange:c,caller:qf});return m.jsx(N6,{scope:e,triggerId:Mn(),triggerRef:f,contentId:Mn(),open:v,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(x=>!x),[g]),modal:u,children:m.jsx(o2,{...h,open:v,onOpenChange:g,dir:s,modal:u,children:t})})};C2.displayName=qf;var _2="DropdownMenuTrigger",E2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...r}=n,o=S2(_2,t),c=jn(t);return m.jsx(l2,{asChild:!0,...c,children:m.jsx($L.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Rt(e,o.triggerRef),onPointerDown:Ae(n.onPointerDown,u=>{!s&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Ae(n.onKeyDown,u=>{s||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});E2.displayName=_2;var T6="DropdownMenuPortal",N2=n=>{const{__scopeDropdownMenu:e,...t}=n,s=jn(e);return m.jsx(c2,{...s,...t})};N2.displayName=T6;var T2="DropdownMenuContent",M2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=S2(T2,t),o=jn(t),c=p.useRef(!1);return m.jsx(u2,{id:r.contentId,"aria-labelledby":r.triggerId,...o,...s,ref:e,onCloseAutoFocus:Ae(n.onCloseAutoFocus,u=>{c.current||r.triggerRef.current?.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Ae(n.onInteractOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,v=h.button===2||f;(!r.modal||v)&&(c.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M2.displayName=T2;var M6="DropdownMenuGroup",R2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(d2,{...r,...s,ref:e})});R2.displayName=M6;var R6="DropdownMenuLabel",A2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(h2,{...r,...s,ref:e})});A2.displayName=R6;var A6="DropdownMenuItem",j2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(f2,{...r,...s,ref:e})});j2.displayName=A6;var j6="DropdownMenuCheckboxItem",k2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(m2,{...r,...s,ref:e})});k2.displayName=j6;var k6="DropdownMenuRadioGroup",O6=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(p2,{...r,...s,ref:e})});O6.displayName=k6;var D6="DropdownMenuRadioItem",O2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(g2,{...r,...s,ref:e})});O2.displayName=D6;var I6="DropdownMenuItemIndicator",D2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(v2,{...r,...s,ref:e})});D2.displayName=I6;var L6="DropdownMenuSeparator",I2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(y2,{...r,...s,ref:e})});I2.displayName=L6;var P6="DropdownMenuArrow",z6=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(b2,{...r,...s,ref:e})});z6.displayName=P6;var $6="DropdownMenuSubTrigger",L2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(x2,{...r,...s,ref:e})});L2.displayName=$6;var U6="DropdownMenuSubContent",P2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return m.jsx(w2,{...r,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});P2.displayName=U6;var B6=C2,V6=E2,F6=N2,z2=M2,H6=R2,$2=A2,U2=j2,B2=k2,V2=O2,F2=D2,H2=I2,W2=L2,G2=P2;const Ih=B6,Lh=V6,W6=H6,G6=p.forwardRef(({className:n,inset:e,children:t,...s},r)=>m.jsxs(W2,{ref:r,className:Ce("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...s,children:[t,m.jsx(z0,{className:"ml-auto"})]}));G6.displayName=W2.displayName;const q6=p.forwardRef(({className:n,...e},t)=>m.jsx(G2,{ref:t,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...e}));q6.displayName=G2.displayName;const Lc=p.forwardRef(({className:n,sideOffset:e=4,...t},s)=>m.jsx(F6,{children:m.jsx(z2,{ref:s,sideOffset:e,className:Ce("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...t})}));Lc.displayName=z2.displayName;const _s=p.forwardRef(({className:n,inset:e,...t},s)=>m.jsx(U2,{ref:s,className:Ce("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));_s.displayName=U2.displayName;const Y6=p.forwardRef(({className:n,children:e,checked:t,...s},r)=>m.jsxs(B2,{ref:r,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...s,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(F2,{children:m.jsx(P0,{className:"h-4 w-4"})})}),e]}));Y6.displayName=B2.displayName;const K6=p.forwardRef(({className:n,children:e,...t},s)=>m.jsxs(V2,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(F2,{children:m.jsx(ZE,{className:"h-2 w-2 fill-current"})})}),e]}));K6.displayName=V2.displayName;const Yo=p.forwardRef(({className:n,inset:e,...t},s)=>m.jsx($2,{ref:s,className:Ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));Yo.displayName=$2.displayName;const tl=p.forwardRef(({className:n,...e},t)=>m.jsx(H2,{ref:t,className:Ce("-mx-1 my-1 h-px bg-muted",n),...e}));tl.displayName=H2.displayName;var X6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],di=X6.reduce((n,e)=>{const t=XE(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),J6="Separator",IS="horizontal",Q6=["horizontal","vertical"],q2=p.forwardRef((n,e)=>{const{decorative:t,orientation:s=IS,...r}=n,o=Z6(s)?s:IS,u=t?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return m.jsx(di.div,{"data-orientation":o,...u,...r,ref:e})});q2.displayName=J6;function Z6(n){return Q6.includes(n)}var Y2=q2;const Oa=p.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...s},r)=>m.jsx(Y2,{ref:r,decorative:t,orientation:e,className:Ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...s}));Oa.displayName=Y2.displayName;const zi=p.forwardRef(({className:n,type:e,...t},s)=>m.jsx("input",{type:e,className:Ce("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));zi.displayName="Input";function K2(n,e){return function(){return n.apply(e,arguments)}}const{toString:ez}=Object.prototype,{getPrototypeOf:ay}=Object,{iterator:Yf,toStringTag:X2}=Symbol,Kf=(n=>e=>{const t=ez.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Bs=n=>(n=n.toLowerCase(),e=>Kf(e)===n),Xf=n=>e=>typeof e===n,{isArray:_l}=Array,dl=Xf("undefined");function bu(n){return n!==null&&!dl(n)&&n.constructor!==null&&!dl(n.constructor)&&qn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const J2=Bs("ArrayBuffer");function tz(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&J2(n.buffer),e}const nz=Xf("string"),qn=Xf("function"),Q2=Xf("number"),xu=n=>n!==null&&typeof n=="object",sz=n=>n===!0||n===!1,Ph=n=>{if(Kf(n)!=="object")return!1;const e=ay(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(X2 in n)&&!(Yf in n)},iz=n=>{if(!xu(n)||bu(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},rz=Bs("Date"),az=Bs("File"),oz=Bs("Blob"),lz=Bs("FileList"),cz=n=>xu(n)&&qn(n.pipe),uz=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||qn(n.append)&&((e=Kf(n))==="formdata"||e==="object"&&qn(n.toString)&&n.toString()==="[object FormData]"))},dz=Bs("URLSearchParams"),[hz,fz,mz,pz]=["ReadableStream","Request","Response","Headers"].map(Bs),gz=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,r;if(typeof n!="object"&&(n=[n]),_l(n))for(s=0,r=n.length;s<r;s++)e.call(null,n[s],s,n);else{if(bu(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),c=o.length;let u;for(s=0;s<c;s++)u=o[s],e.call(null,n[u],u,n)}}function Z2(n,e){if(bu(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,r;for(;s-- >0;)if(r=t[s],e===r.toLowerCase())return r;return null}const Ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eT=n=>!dl(n)&&n!==Ia;function Gv(){const{caseless:n,skipUndefined:e}=eT(this)&&this||{},t={},s=(r,o)=>{const c=n&&Z2(t,o)||o;Ph(t[c])&&Ph(r)?t[c]=Gv(t[c],r):Ph(r)?t[c]=Gv({},r):_l(r)?t[c]=r.slice():(!e||!dl(r))&&(t[c]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&wu(arguments[r],s);return t}const vz=(n,e,t,{allOwnKeys:s}={})=>(wu(e,(r,o)=>{t&&qn(r)?n[o]=K2(r,t):n[o]=r},{allOwnKeys:s}),n),yz=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),bz=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},xz=(n,e,t,s)=>{let r,o,c;const u={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),o=r.length;o-- >0;)c=r[o],(!s||s(c,n,e))&&!u[c]&&(e[c]=n[c],u[c]=!0);n=t!==!1&&ay(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},wz=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},Sz=n=>{if(!n)return null;if(_l(n))return n;let e=n.length;if(!Q2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Cz=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ay(Uint8Array)),_z=(n,e)=>{const s=(n&&n[Yf]).call(n);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(n,o[0],o[1])}},Ez=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},Nz=Bs("HTMLFormElement"),Tz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,r){return s.toUpperCase()+r}),LS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Mz=Bs("RegExp"),tT=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};wu(t,(r,o)=>{let c;(c=e(r,o,n))!==!1&&(s[o]=c||r)}),Object.defineProperties(n,s)},Rz=n=>{tT(n,(e,t)=>{if(qn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(qn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Az=(n,e)=>{const t={},s=r=>{r.forEach(o=>{t[o]=!0})};return _l(n)?s(n):s(String(n).split(e)),t},jz=()=>{},kz=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Oz(n){return!!(n&&qn(n.append)&&n[X2]==="FormData"&&n[Yf])}const Dz=n=>{const e=new Array(10),t=(s,r)=>{if(xu(s)){if(e.indexOf(s)>=0)return;if(bu(s))return s;if(!("toJSON"in s)){e[r]=s;const o=_l(s)?[]:{};return wu(s,(c,u)=>{const h=t(c,r+1);!dl(h)&&(o[u]=h)}),e[r]=void 0,o}}return s};return t(n,0)},Iz=Bs("AsyncFunction"),Lz=n=>n&&(xu(n)||qn(n))&&qn(n.then)&&qn(n.catch),nT=((n,e)=>n?setImmediate:e?((t,s)=>(Ia.addEventListener("message",({source:r,data:o})=>{r===Ia&&o===t&&s.length&&s.shift()()},!1),r=>{s.push(r),Ia.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",qn(Ia.postMessage)),Pz=typeof queueMicrotask<"u"?queueMicrotask.bind(Ia):typeof process<"u"&&process.nextTick||nT,zz=n=>n!=null&&qn(n[Yf]),le={isArray:_l,isArrayBuffer:J2,isBuffer:bu,isFormData:uz,isArrayBufferView:tz,isString:nz,isNumber:Q2,isBoolean:sz,isObject:xu,isPlainObject:Ph,isEmptyObject:iz,isReadableStream:hz,isRequest:fz,isResponse:mz,isHeaders:pz,isUndefined:dl,isDate:rz,isFile:az,isBlob:oz,isRegExp:Mz,isFunction:qn,isStream:cz,isURLSearchParams:dz,isTypedArray:Cz,isFileList:lz,forEach:wu,merge:Gv,extend:vz,trim:gz,stripBOM:yz,inherits:bz,toFlatObject:xz,kindOf:Kf,kindOfTest:Bs,endsWith:wz,toArray:Sz,forEachEntry:_z,matchAll:Ez,isHTMLForm:Nz,hasOwnProperty:LS,hasOwnProp:LS,reduceDescriptors:tT,freezeMethods:Rz,toObjectSet:Az,toCamelCase:Tz,noop:jz,toFiniteNumber:kz,findKey:Z2,global:Ia,isContextDefined:eT,isSpecCompliantForm:Oz,toJSONObject:Dz,isAsyncFn:Iz,isThenable:Lz,setImmediate:nT,asap:Pz,isIterable:zz};function Ue(n,e,t,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}le.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const sT=Ue.prototype,iT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{iT[n]={value:n}});Object.defineProperties(Ue,iT);Object.defineProperty(sT,"isAxiosError",{value:!0});Ue.from=(n,e,t,s,r,o)=>{const c=Object.create(sT);le.toFlatObject(n,c,function(v){return v!==Error.prototype},f=>f!=="isAxiosError");const u=n&&n.message?n.message:"Error",h=e==null&&n?n.code:e;return Ue.call(c,u,h,t,s,r),n&&c.cause==null&&Object.defineProperty(c,"cause",{value:n,configurable:!0}),c.name=n&&n.name||"Error",o&&Object.assign(c,o),c};const $z=null;function qv(n){return le.isPlainObject(n)||le.isArray(n)}function rT(n){return le.endsWith(n,"[]")?n.slice(0,-2):n}function PS(n,e,t){return n?n.concat(e).map(function(r,o){return r=rT(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function Uz(n){return le.isArray(n)&&!n.some(qv)}const Bz=le.toFlatObject(le,{},null,function(e){return/^is[A-Z]/.test(e)});function Jf(n,e,t){if(!le.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=le.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,E){return!le.isUndefined(E[C])});const s=t.metaTokens,r=t.visitor||v,o=t.dots,c=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(e);if(!le.isFunction(r))throw new TypeError("visitor must be a function");function f(S){if(S===null)return"";if(le.isDate(S))return S.toISOString();if(le.isBoolean(S))return S.toString();if(!h&&le.isBlob(S))throw new Ue("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(S)||le.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function v(S,C,E){let N=S;if(S&&!E&&typeof S=="object"){if(le.endsWith(C,"{}"))C=s?C:C.slice(0,-2),S=JSON.stringify(S);else if(le.isArray(S)&&Uz(S)||(le.isFileList(S)||le.endsWith(C,"[]"))&&(N=le.toArray(S)))return C=rT(C),N.forEach(function(A,j){!(le.isUndefined(A)||A===null)&&e.append(c===!0?PS([C],j,o):c===null?C:C+"[]",f(A))}),!1}return qv(S)?!0:(e.append(PS(E,C,o),f(S)),!1)}const g=[],x=Object.assign(Bz,{defaultVisitor:v,convertValue:f,isVisitable:qv});function w(S,C){if(!le.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+C.join("."));g.push(S),le.forEach(S,function(N,T){(!(le.isUndefined(N)||N===null)&&r.call(e,N,le.isString(T)?T.trim():T,C,x))===!0&&w(N,C?C.concat(T):[T])}),g.pop()}}if(!le.isObject(n))throw new TypeError("data must be an object");return w(n),e}function zS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function oy(n,e){this._pairs=[],n&&Jf(n,this,e)}const aT=oy.prototype;aT.append=function(e,t){this._pairs.push([e,t])};aT.toString=function(e){const t=e?function(s){return e.call(this,s,zS)}:zS;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Vz(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oT(n,e,t){if(!e)return n;const s=t&&t.encode||Vz;le.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=le.isURLSearchParams(e)?e.toString():new oy(e,t).toString(s),o){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class $S{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){le.forEach(this.handlers,function(s){s!==null&&e(s)})}}const lT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fz=typeof URLSearchParams<"u"?URLSearchParams:oy,Hz=typeof FormData<"u"?FormData:null,Wz=typeof Blob<"u"?Blob:null,Gz={isBrowser:!0,classes:{URLSearchParams:Fz,FormData:Hz,Blob:Wz},protocols:["http","https","file","blob","url","data"]},ly=typeof window<"u"&&typeof document<"u",Yv=typeof navigator=="object"&&navigator||void 0,qz=ly&&(!Yv||["ReactNative","NativeScript","NS"].indexOf(Yv.product)<0),Yz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kz=ly&&window.location.href||"http://localhost",Xz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ly,hasStandardBrowserEnv:qz,hasStandardBrowserWebWorkerEnv:Yz,navigator:Yv,origin:Kz},Symbol.toStringTag,{value:"Module"})),Cn={...Xz,...Gz};function Jz(n,e){return Jf(n,new Cn.classes.URLSearchParams,{visitor:function(t,s,r,o){return Cn.isNode&&le.isBuffer(t)?(this.append(s,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Qz(n){return le.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Zz(n){const e={},t=Object.keys(n);let s;const r=t.length;let o;for(s=0;s<r;s++)o=t[s],e[o]=n[o];return e}function cT(n){function e(t,s,r,o){let c=t[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=o>=t.length;return c=!c&&le.isArray(r)?r.length:c,h?(le.hasOwnProp(r,c)?r[c]=[r[c],s]:r[c]=s,!u):((!r[c]||!le.isObject(r[c]))&&(r[c]=[]),e(t,s,r[c],o)&&le.isArray(r[c])&&(r[c]=Zz(r[c])),!u)}if(le.isFormData(n)&&le.isFunction(n.entries)){const t={};return le.forEachEntry(n,(s,r)=>{e(Qz(s),r,t,0)}),t}return null}function e$(n,e,t){if(le.isString(n))try{return(e||JSON.parse)(n),le.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const Su={transitional:lT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,o=le.isObject(e);if(o&&le.isHTMLForm(e)&&(e=new FormData(e)),le.isFormData(e))return r?JSON.stringify(cT(e)):e;if(le.isArrayBuffer(e)||le.isBuffer(e)||le.isStream(e)||le.isFile(e)||le.isBlob(e)||le.isReadableStream(e))return e;if(le.isArrayBufferView(e))return e.buffer;if(le.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Jz(e,this.formSerializer).toString();if((u=le.isFileList(e))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Jf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),e$(e)):e}],transformResponse:[function(e){const t=this.transitional||Su.transitional,s=t&&t.forcedJSONParsing,r=this.responseType==="json";if(le.isResponse(e)||le.isReadableStream(e))return e;if(e&&le.isString(e)&&(s&&!this.responseType||r)){const c=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Ue.from(u,Ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cn.classes.FormData,Blob:Cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],n=>{Su.headers[n]={}});const t$=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),n$=n=>{const e={};let t,s,r;return n&&n.split(`
`).forEach(function(c){r=c.indexOf(":"),t=c.substring(0,r).trim().toLowerCase(),s=c.substring(r+1).trim(),!(!t||e[t]&&t$[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},US=Symbol("internals");function Nc(n){return n&&String(n).trim().toLowerCase()}function zh(n){return n===!1||n==null?n:le.isArray(n)?n.map(zh):String(n)}function s$(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const i$=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Wg(n,e,t,s,r){if(le.isFunction(s))return s.call(this,e,t);if(r&&(e=t),!!le.isString(e)){if(le.isString(s))return e.indexOf(s)!==-1;if(le.isRegExp(s))return s.test(e)}}function r$(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function a$(n,e){const t=le.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(r,o,c){return this[s].call(this,e,r,o,c)},configurable:!0})})}let Yn=class{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function o(u,h,f){const v=Nc(h);if(!v)throw new Error("header name must be a non-empty string");const g=le.findKey(r,v);(!g||r[g]===void 0||f===!0||f===void 0&&r[g]!==!1)&&(r[g||h]=zh(u))}const c=(u,h)=>le.forEach(u,(f,v)=>o(f,v,h));if(le.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(le.isString(e)&&(e=e.trim())&&!i$(e))c(n$(e),t);else if(le.isObject(e)&&le.isIterable(e)){let u={},h,f;for(const v of e){if(!le.isArray(v))throw TypeError("Object iterator must return a key-value pair");u[f=v[0]]=(h=u[f])?le.isArray(h)?[...h,v[1]]:[h,v[1]]:v[1]}c(u,t)}else e!=null&&o(t,e,s);return this}get(e,t){if(e=Nc(e),e){const s=le.findKey(this,e);if(s){const r=this[s];if(!t)return r;if(t===!0)return s$(r);if(le.isFunction(t))return t.call(this,r,s);if(le.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Nc(e),e){const s=le.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Wg(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let r=!1;function o(c){if(c=Nc(c),c){const u=le.findKey(s,c);u&&(!t||Wg(s,s[u],u,t))&&(delete s[u],r=!0)}}return le.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const o=t[s];(!e||Wg(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,s={};return le.forEach(this,(r,o)=>{const c=le.findKey(s,o);if(c){t[c]=zh(r),delete t[o];return}const u=e?r$(o):String(o).trim();u!==o&&delete t[o],t[u]=zh(r),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return le.forEach(this,(s,r)=>{s!=null&&s!==!1&&(t[r]=e&&le.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[US]=this[US]={accessors:{}}).accessors,r=this.prototype;function o(c){const u=Nc(c);s[u]||(a$(r,c),s[u]=!0)}return le.isArray(e)?e.forEach(o):o(e),this}};Yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(Yn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});le.freezeMethods(Yn);function Gg(n,e){const t=this||Su,s=e||t,r=Yn.from(s.headers);let o=s.data;return le.forEach(n,function(u){o=u.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function uT(n){return!!(n&&n.__CANCEL__)}function El(n,e,t){Ue.call(this,n??"canceled",Ue.ERR_CANCELED,e,t),this.name="CanceledError"}le.inherits(El,Ue,{__CANCEL__:!0});function dT(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Ue("Request failed with status code "+t.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function o$(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function l$(n,e){n=n||10;const t=new Array(n),s=new Array(n);let r=0,o=0,c;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),v=s[o];c||(c=f),t[r]=h,s[r]=f;let g=o,x=0;for(;g!==r;)x+=t[g++],g=g%n;if(r=(r+1)%n,r===o&&(o=(o+1)%n),f-c<e)return;const w=v&&f-v;return w?Math.round(x*1e3/w):void 0}}function c$(n,e){let t=0,s=1e3/e,r,o;const c=(f,v=Date.now())=>{t=v,r=null,o&&(clearTimeout(o),o=null),n(...f)};return[(...f)=>{const v=Date.now(),g=v-t;g>=s?c(f,v):(r=f,o||(o=setTimeout(()=>{o=null,c(r)},s-g)))},()=>r&&c(r)]}const af=(n,e,t=3)=>{let s=0;const r=l$(50,250);return c$(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,h=c-s,f=r(h),v=c<=u;s=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&v?(u-c)/f:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},BS=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},VS=n=>(...e)=>le.asap(()=>n(...e)),u$=Cn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Cn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Cn.origin),Cn.navigator&&/(msie|trident)/i.test(Cn.navigator.userAgent)):()=>!0,d$=Cn.hasStandardBrowserEnv?{write(n,e,t,s,r,o,c){if(typeof document>"u")return;const u=[`${n}=${encodeURIComponent(e)}`];le.isNumber(t)&&u.push(`expires=${new Date(t).toUTCString()}`),le.isString(s)&&u.push(`path=${s}`),le.isString(r)&&u.push(`domain=${r}`),o===!0&&u.push("secure"),le.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function h$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function f$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function hT(n,e,t){let s=!h$(e);return n&&(s||t==!1)?f$(n,e):e}const FS=n=>n instanceof Yn?{...n}:n;function Fa(n,e){e=e||{};const t={};function s(f,v,g,x){return le.isPlainObject(f)&&le.isPlainObject(v)?le.merge.call({caseless:x},f,v):le.isPlainObject(v)?le.merge({},v):le.isArray(v)?v.slice():v}function r(f,v,g,x){if(le.isUndefined(v)){if(!le.isUndefined(f))return s(void 0,f,g,x)}else return s(f,v,g,x)}function o(f,v){if(!le.isUndefined(v))return s(void 0,v)}function c(f,v){if(le.isUndefined(v)){if(!le.isUndefined(f))return s(void 0,f)}else return s(void 0,v)}function u(f,v,g){if(g in e)return s(f,v);if(g in n)return s(void 0,f)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(f,v,g)=>r(FS(f),FS(v),g,!0)};return le.forEach(Object.keys({...n,...e}),function(v){const g=h[v]||r,x=g(n[v],e[v],v);le.isUndefined(x)&&g!==u||(t[v]=x)}),t}const fT=n=>{const e=Fa({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:u}=e;if(e.headers=c=Yn.from(c),e.url=oT(hT(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),le.isFormData(t)){if(Cn.hasStandardBrowserEnv||Cn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(le.isFunction(t.getHeaders)){const h=t.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([v,g])=>{f.includes(v.toLowerCase())&&c.set(v,g)})}}if(Cn.hasStandardBrowserEnv&&(s&&le.isFunction(s)&&(s=s(e)),s||s!==!1&&u$(e.url))){const h=r&&o&&d$.read(o);h&&c.set(r,h)}return e},m$=typeof XMLHttpRequest<"u",p$=m$&&function(n){return new Promise(function(t,s){const r=fT(n);let o=r.data;const c=Yn.from(r.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:f}=r,v,g,x,w,S;function C(){w&&w(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(v),r.signal&&r.signal.removeEventListener("abort",v)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function N(){if(!E)return;const A=Yn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),z={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:A,config:n,request:E};dT(function(I){t(I),C()},function(I){s(I),C()},z),E=null}"onloadend"in E?E.onloadend=N:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(N)},E.onabort=function(){E&&(s(new Ue("Request aborted",Ue.ECONNABORTED,n,E)),E=null)},E.onerror=function(j){const z=j&&j.message?j.message:"Network Error",P=new Ue(z,Ue.ERR_NETWORK,n,E);P.event=j||null,s(P),E=null},E.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const z=r.transitional||lT;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),s(new Ue(j,z.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,n,E)),E=null},o===void 0&&c.setContentType(null),"setRequestHeader"in E&&le.forEach(c.toJSON(),function(j,z){E.setRequestHeader(z,j)}),le.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),u&&u!=="json"&&(E.responseType=r.responseType),f&&([x,S]=af(f,!0),E.addEventListener("progress",x)),h&&E.upload&&([g,w]=af(h),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",w)),(r.cancelToken||r.signal)&&(v=A=>{E&&(s(!A||A.type?new El(null,n,E):A),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(v),r.signal&&(r.signal.aborted?v():r.signal.addEventListener("abort",v)));const T=o$(r.url);if(T&&Cn.protocols.indexOf(T)===-1){s(new Ue("Unsupported protocol "+T+":",Ue.ERR_BAD_REQUEST,n));return}E.send(o||null)})},g$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,r;const o=function(f){if(!r){r=!0,u();const v=f instanceof Error?f:this.reason;s.abort(v instanceof Ue?v:new El(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,o(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const u=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:h}=s;return h.unsubscribe=()=>le.asap(u),h}},v$=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,r;for(;s<t;)r=s+e,yield n.slice(s,r),s=r},y$=async function*(n,e){for await(const t of b$(n))yield*v$(t,e)},b$=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},HS=(n,e,t,s)=>{const r=y$(n,e);let o=0,c,u=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:f,value:v}=await r.next();if(f){u(),h.close();return}let g=v.byteLength;if(t){let x=o+=g;t(x)}h.enqueue(new Uint8Array(v))}catch(f){throw u(f),f}},cancel(h){return u(h),r.return()}},{highWaterMark:2})},WS=64*1024,{isFunction:lh}=le,x$=(({Request:n,Response:e})=>({Request:n,Response:e}))(le.global),{ReadableStream:GS,TextEncoder:qS}=le.global,YS=(n,...e)=>{try{return!!n(...e)}catch{return!1}},w$=n=>{n=le.merge.call({skipUndefined:!0},x$,n);const{fetch:e,Request:t,Response:s}=n,r=e?lh(e):typeof fetch=="function",o=lh(t),c=lh(s);if(!r)return!1;const u=r&&lh(GS),h=r&&(typeof qS=="function"?(S=>C=>S.encode(C))(new qS):async S=>new Uint8Array(await new t(S).arrayBuffer())),f=o&&u&&YS(()=>{let S=!1;const C=new t(Cn.origin,{body:new GS,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!C}),v=c&&u&&YS(()=>le.isReadableStream(new s("").body)),g={stream:v&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!g[S]&&(g[S]=(C,E)=>{let N=C&&C[S];if(N)return N.call(C);throw new Ue(`Response type '${S}' is not supported`,Ue.ERR_NOT_SUPPORT,E)})});const x=async S=>{if(S==null)return 0;if(le.isBlob(S))return S.size;if(le.isSpecCompliantForm(S))return(await new t(Cn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(le.isArrayBufferView(S)||le.isArrayBuffer(S))return S.byteLength;if(le.isURLSearchParams(S)&&(S=S+""),le.isString(S))return(await h(S)).byteLength},w=async(S,C)=>{const E=le.toFiniteNumber(S.getContentLength());return E??x(C)};return async S=>{let{url:C,method:E,data:N,signal:T,cancelToken:A,timeout:j,onDownloadProgress:z,onUploadProgress:P,responseType:I,headers:B,withCredentials:X="same-origin",fetchOptions:se}=fT(S),G=e||fetch;I=I?(I+"").toLowerCase():"text";let ee=g$([T,A&&A.toAbortSignal()],j),q=null;const re=ee&&ee.unsubscribe&&(()=>{ee.unsubscribe()});let J;try{if(P&&f&&E!=="get"&&E!=="head"&&(J=await w(B,N))!==0){let O=new t(C,{method:"POST",body:N,duplex:"half"}),M;if(le.isFormData(N)&&(M=O.headers.get("content-type"))&&B.setContentType(M),O.body){const[L,$]=BS(J,af(VS(P)));N=HS(O.body,WS,L,$)}}le.isString(X)||(X=X?"include":"omit");const k=o&&"credentials"in t.prototype,F={...se,signal:ee,method:E.toUpperCase(),headers:B.normalize().toJSON(),body:N,duplex:"half",credentials:k?X:void 0};q=o&&new t(C,F);let V=await(o?G(q,se):G(C,F));const Q=v&&(I==="stream"||I==="response");if(v&&(z||Q&&re)){const O={};["status","statusText","headers"].forEach(ie=>{O[ie]=V[ie]});const M=le.toFiniteNumber(V.headers.get("content-length")),[L,$]=z&&BS(M,af(VS(z),!0))||[];V=new s(HS(V.body,WS,L,()=>{$&&$(),re&&re()}),O)}I=I||"text";let me=await g[le.findKey(g,I)||"text"](V,S);return!Q&&re&&re(),await new Promise((O,M)=>{dT(O,M,{data:me,headers:Yn.from(V.headers),status:V.status,statusText:V.statusText,config:S,request:q})})}catch(k){throw re&&re(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,S,q),{cause:k.cause||k}):Ue.from(k,k&&k.code,S,q)}}},S$=new Map,mT=n=>{let e=n&&n.env||{};const{fetch:t,Request:s,Response:r}=e,o=[s,r,t];let c=o.length,u=c,h,f,v=S$;for(;u--;)h=o[u],f=v.get(h),f===void 0&&v.set(h,f=u?new Map:w$(e)),v=f;return f};mT();const cy={http:$z,xhr:p$,fetch:{get:mT}};le.forEach(cy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const KS=n=>`- ${n}`,C$=n=>le.isFunction(n)||n===null||n===!1;function _$(n,e){n=le.isArray(n)?n:[n];const{length:t}=n;let s,r;const o={};for(let c=0;c<t;c++){s=n[c];let u;if(r=s,!C$(s)&&(r=cy[(u=String(s)).toLowerCase()],r===void 0))throw new Ue(`Unknown adapter '${u}'`);if(r&&(le.isFunction(r)||(r=r.get(e))))break;o[u||"#"+c]=r}if(!r){const c=Object.entries(o).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=t?c.length>1?`since :
`+c.map(KS).join(`
`):" "+KS(c[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r}const pT={getAdapter:_$,adapters:cy};function qg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new El(null,n)}function XS(n){return qg(n),n.headers=Yn.from(n.headers),n.data=Gg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),pT.getAdapter(n.adapter||Su.adapter,n)(n).then(function(s){return qg(n),s.data=Gg.call(n,n.transformResponse,s),s.headers=Yn.from(s.headers),s},function(s){return uT(s)||(qg(n),s&&s.response&&(s.response.data=Gg.call(n,n.transformResponse,s.response),s.response.headers=Yn.from(s.response.headers))),Promise.reject(s)})}const gT="1.13.2",Qf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Qf[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const JS={};Qf.transitional=function(e,t,s){function r(o,c){return"[Axios v"+gT+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,u)=>{if(e===!1)throw new Ue(r(c," has been removed"+(t?" in "+t:"")),Ue.ERR_DEPRECATED);return t&&!JS[c]&&(JS[c]=!0,console.warn(r(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,u):!0}};Qf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function E$(n,e,t){if(typeof n!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let r=s.length;for(;r-- >0;){const o=s[r],c=e[o];if(c){const u=n[o],h=u===void 0||c(u,o,n);if(h!==!0)throw new Ue("option "+o+" must be "+h,Ue.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ue("Unknown option "+o,Ue.ERR_BAD_OPTION)}}const $h={assertOptions:E$,validators:Qf},Js=$h.validators;let Pa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new $S,response:new $S}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Fa(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:o}=t;s!==void 0&&$h.assertOptions(s,{silentJSONParsing:Js.transitional(Js.boolean),forcedJSONParsing:Js.transitional(Js.boolean),clarifyTimeoutError:Js.transitional(Js.boolean)},!1),r!=null&&(le.isFunction(r)?t.paramsSerializer={serialize:r}:$h.assertOptions(r,{encode:Js.function,serialize:Js.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),$h.assertOptions(t,{baseUrl:Js.spelling("baseURL"),withXsrfToken:Js.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&le.merge(o.common,o[t.method]);o&&le.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),t.headers=Yn.concat(c,o);const u=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(h=h&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const f=[];this.interceptors.response.forEach(function(C){f.push(C.fulfilled,C.rejected)});let v,g=0,x;if(!h){const S=[XS.bind(this),void 0];for(S.unshift(...u),S.push(...f),x=S.length,v=Promise.resolve(t);g<x;)v=v.then(S[g++],S[g++]);return v}x=u.length;let w=t;for(;g<x;){const S=u[g++],C=u[g++];try{w=S(w)}catch(E){C.call(this,E);break}}try{v=XS.call(this,w)}catch(S){return Promise.reject(S)}for(g=0,x=f.length;g<x;)v=v.then(f[g++],f[g++]);return v}getUri(e){e=Fa(this.defaults,e);const t=hT(e.baseURL,e.url,e.allowAbsoluteUrls);return oT(t,e.params,e.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(e){Pa.prototype[e]=function(t,s){return this.request(Fa(s||{},{method:e,url:t,data:(s||{}).data}))}});le.forEach(["post","put","patch"],function(e){function t(s){return function(o,c,u){return this.request(Fa(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Pa.prototype[e]=t(),Pa.prototype[e+"Form"]=t(!0)});let N$=class vT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(u=>{s.subscribe(u),o=u}).then(r);return c.cancel=function(){s.unsubscribe(o)},c},e(function(o,c,u){s.reason||(s.reason=new El(o,c,u),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new vT(function(r){e=r}),cancel:e}}};function T$(n){return function(t){return n.apply(null,t)}}function M$(n){return le.isObject(n)&&n.isAxiosError===!0}const Kv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Kv).forEach(([n,e])=>{Kv[e]=n});function yT(n){const e=new Pa(n),t=K2(Pa.prototype.request,e);return le.extend(t,Pa.prototype,e,{allOwnKeys:!0}),le.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return yT(Fa(n,r))},t}const Pt=yT(Su);Pt.Axios=Pa;Pt.CanceledError=El;Pt.CancelToken=N$;Pt.isCancel=uT;Pt.VERSION=gT;Pt.toFormData=Jf;Pt.AxiosError=Ue;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=T$;Pt.isAxiosError=M$;Pt.mergeConfig=Fa;Pt.AxiosHeaders=Yn;Pt.formToJSON=n=>cT(le.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=pT.getAdapter;Pt.HttpStatusCode=Kv;Pt.default=Pt;const{Axios:R$,AxiosError:A$,CanceledError:j$,isCancel:k$,CancelToken:O$,VERSION:D$,all:I$,Cancel:L$,isAxiosError:P$,spread:z$,toFormData:$$,AxiosHeaders:U$,HttpStatusCode:B$,formToJSON:V$,getAdapter:F$,mergeConfig:H$}=Pt,ch=Object.freeze(Object.defineProperty({__proto__:null,Axios:R$,AxiosError:A$,AxiosHeaders:U$,Cancel:L$,CancelToken:O$,CanceledError:j$,HttpStatusCode:B$,VERSION:D$,all:I$,default:Pt,formToJSON:V$,getAdapter:F$,isAxiosError:P$,isCancel:k$,mergeConfig:H$,spread:z$,toFormData:$$},Symbol.toStringTag,{value:"Module"})),W$="https://polishedcharts-backend.onrender.com/api/v1",Rs=Pt.create({baseURL:W$,headers:{"Content-Type":"application/json"}});async function G$(n){const t=(await Rs.get("/symbols/search",{params:{q:n}})).data;return t.length===0?{symbol:n.toUpperCase(),display_name:n.toUpperCase(),exchange:null}:t.find(r=>r.symbol.toLowerCase()===n.toLowerCase())||t[0]}const QS=new Map;function q$(n){const[e,t]=p.useState(null),[s,r]=p.useState(!1),[o,c]=p.useState(null);return p.useEffect(()=>{if(!n){t(null);return}const u=QS.get(n.toUpperCase());if(u){t(u);return}r(!0),c(null),G$(n).then(h=>{QS.set(n.toUpperCase(),h),t(h)}).catch(h=>{console.error(`Failed to fetch symbol info for ${n}:`,h),c(h);const f={symbol:n.toUpperCase(),display_name:n.toUpperCase(),exchange:null};t(f)}).finally(()=>{r(!1)})},[n]),{data:e,isLoading:s,error:o}}const Y$=({symbol:n,interval:e,onIntervalSelect:t,onSymbolClick:s,onIndicatorsClick:r,onFullscreenToggle:o,onNotificationSettingsClick:c,activeLayout:u,savedLayouts:h,onLayoutSelect:f,onLayoutSave:v,onLayoutUpdate:g,indicatorSettings:x,indicators:w,onToggleIndicatorVisibility:S,onToggleSeriesVisibility:C,onToggleLevelsVisibility:E,onToggleLastValueVisibility:N,onRemoveIndicator:T,dataMode:A,onDataModeToggle:j,onManualRefresh:z})=>{const P=["1m","5m","15m","30m","1h","4h","1D","1W"],[I,B]=p.useState(""),X=p.useRef(null),{data:se}=q$(n);return m.jsxs("div",{"data-testid":"top-toolbar",className:"flex items-center gap-1 bg-slate-900 border border-slate-800 border-b-0 p-1 w-full h-12",children:[m.jsx("div",{className:"flex items-center px-3 mr-2",children:m.jsx("span",{className:"text-sm font-bold tracking-tighter text-blue-500",children:"TradingAlert"})}),m.jsx(Oa,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),m.jsxs(Pe,{variant:"ghost",size:"sm",onClick:s,className:"font-bold text-slate-200 hover:bg-slate-800 px-3 flex gap-2",children:[m.jsx(If,{className:"h-4 w-4 text-slate-400 shrink-0"}),m.jsxs("span",{className:"truncate max-w-[600px]",children:[se?.display_name||n,"  ",e,se?.exchange?`  ${se.exchange}`:""]})]}),m.jsx(Oa,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),m.jsx("div",{className:"flex gap-0.5 overflow-hidden",children:P.map(G=>m.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>t(G),className:`text-xs text-slate-400 hover:text-white hover:bg-slate-800 px-2 h-8 ${e.toLowerCase()===G.toLowerCase()?"bg-slate-700 text-white":""}`,children:G},G))}),m.jsx(Oa,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),m.jsxs(Ih,{children:[m.jsx(Lh,{asChild:!0,children:m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800","data-testid":"chart-style-selector",children:m.jsx($v,{className:"h-4 w-4"})})}),m.jsxs(Lc,{align:"start",className:"bg-slate-900 border-slate-800 text-slate-300",children:[m.jsxs(_s,{className:"hover:bg-slate-800","data-testid":"chart-style-item-candles",children:[m.jsx($v,{className:"mr-2 h-4 w-4"})," Candlesticks"]}),m.jsxs(_s,{className:"hover:bg-slate-800","data-testid":"chart-style-item-line",children:[m.jsx(P5,{className:"mr-2 h-4 w-4"})," Line"]}),m.jsxs(_s,{className:"hover:bg-slate-800","data-testid":"chart-style-item-heikin",children:[m.jsx(ML,{className:"mr-2 h-4 w-4"})," Heikin-Ashi"]})]})]}),m.jsx(Oa,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),m.jsxs("div",{className:"flex gap-0.5",children:[m.jsx(Pe,{variant:"ghost",size:"sm",onClick:r,className:"text-slate-400 hover:text-white hover:bg-slate-800 px-3 h-8",children:"Indicators"}),u&&u.activeIndicators.length>0&&m.jsxs(Ih,{children:[m.jsx(Lh,{asChild:!0,children:m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-4 text-slate-500 hover:text-white p-0",children:m.jsx(nN,{className:"h-3 w-3"})})}),m.jsxs(Lc,{align:"start",className:"w-64 bg-slate-900 border-slate-800 text-slate-300",children:[m.jsx(Yo,{className:"text-slate-500 text-xs",children:"Indicator Visibility"}),w?.filter(G=>u?.activeIndicators.includes(G.indicatorType.name.toLowerCase())).map(G=>{const ee=G.indicatorType.name.toLowerCase();return m.jsxs("div",{className:"p-2 space-y-1 border-b border-slate-800 last:border-0",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm px-2 font-bold text-blue-400",children:[m.jsx("span",{className:"capitalize",children:ee}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Pe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>S(G.id),children:x[G.id]?.visible!==!1?"Hide All":"Show All"}),m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 text-slate-500 hover:text-red-400",onClick:()=>T(G.id),title:"Remove indicator",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),m.jsxs("div",{className:"ml-2 space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[m.jsx("span",{children:"Threshold Levels"}),m.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>E(G.id),children:x[G.id]?.showLevels!==!1?"Hide":"Show"})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[m.jsx("span",{children:"Last Value on Scale"}),m.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>N(G.id),children:x[G.id]?.showLastValue?"Hide":"Show"})]}),ee==="crsi"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[m.jsx("span",{children:"RSI Line"}),m.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>C(G.id,"crsi"),children:x[G.id]?.series?.crsi!==!1?"Hide":"Show"})]}),m.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[m.jsx("span",{children:"Bands"}),m.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>{C(G.id,"upper_band"),C(G.id,"lower_band")},children:x[G.id]?.series?.upper_band!==!1?"Hide":"Show"})]})]})]})]},G.id)})]})]})]}),m.jsx(Oa,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),m.jsxs(Ih,{children:[m.jsx(Lh,{asChild:!0,children:m.jsxs(Pe,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white hover:bg-slate-800 px-3 h-8 flex gap-2",children:[m.jsx(eN,{className:"h-4 w-4"}),u?.name||"Layouts"]})}),m.jsxs(Lc,{align:"start",className:"w-56 bg-slate-900 border-slate-800 text-slate-300",children:[m.jsx(Yo,{className:"text-slate-500",children:"Save"}),u?.id&&u.id!=="default"?m.jsxs(_s,{onClick:g,className:"hover:bg-slate-800 cursor-pointer",children:[m.jsx(Ig,{className:"h-3 w-3 mr-2"}),"Save"]}):m.jsx(_s,{disabled:!0,className:"text-slate-600 italic text-xs",children:"Save (select a layout first)"}),m.jsx(tl,{className:"bg-slate-800"}),m.jsx(Yo,{className:"text-slate-500",children:"Manage"}),m.jsxs(_s,{onClick:()=>X.current?.focus(),className:"hover:bg-slate-800 cursor-pointer",children:[m.jsx(Ig,{className:"h-3 w-3 mr-2"}),"Save as new..."]}),m.jsx(tl,{className:"bg-slate-800"}),m.jsx(Yo,{className:"text-slate-500",children:"Saved Layouts"}),h.map(G=>m.jsx(_s,{onClick:()=>f(G),className:`hover:bg-slate-800 cursor-pointer ${u?.id===G.id?"text-blue-400":""}`,children:G.name},G.id)),h.length===0&&m.jsx(_s,{disabled:!0,className:"text-slate-600 italic",children:"No saved layouts"}),m.jsx(tl,{className:"bg-slate-800"}),m.jsxs("div",{className:"p-2 space-y-2",children:[m.jsx(zi,{ref:X,placeholder:"New layout name",value:I,onChange:G=>B(G.target.value),className:"h-8 text-xs bg-slate-950 border-slate-800",onKeyDown:G=>{G.key==="Enter"&&I.trim()&&(v(I.trim()),B(""))}}),m.jsxs(Pe,{size:"sm",className:"w-full h-8 text-xs bg-blue-600 hover:bg-blue-700",onClick:()=>{I.trim()&&(v(I.trim()),B(""))},children:[m.jsx(Ig,{className:"h-3 w-3 mr-2"}),"Save as new"]})]})]})]}),m.jsx(Oa,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),m.jsxs("div",{className:"ml-auto flex gap-1",children:[m.jsxs(Pe,{variant:"ghost",size:"sm",onClick:j,className:`h-8 px-2 text-xs ${A==="polling"?"text-blue-400 bg-slate-800":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:`Current: ${A==="websocket"?"WebSocket (real-time)":"Polling (periodic refresh)"}`,children:[m.jsx(mL,{className:"h-3 w-3 mr-1"}),A==="websocket"?"WS":"Poll"]}),A==="polling"&&z&&m.jsx(Pe,{variant:"ghost",size:"icon",onClick:z,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",title:"Refresh candle data",children:m.jsx(tN,{className:"h-4 w-4"})}),m.jsx(Pe,{variant:"ghost",size:"icon",onClick:o,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",children:m.jsx(uL,{className:"h-4 w-4"})}),m.jsx(Pe,{variant:"ghost",size:"icon",onClick:c,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",title:"Notification Settings",children:m.jsx(cl,{className:"h-4 w-4"})})]})]})},bT=p.forwardRef(({className:n,...e},t)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:t,className:Ce("w-full caption-bottom text-sm",n),...e})}));bT.displayName="Table";const xT=p.forwardRef(({className:n,...e},t)=>m.jsx("thead",{ref:t,className:Ce("[&_tr]:border-b",n),...e}));xT.displayName="TableHeader";const wT=p.forwardRef(({className:n,...e},t)=>m.jsx("tbody",{ref:t,className:Ce("[&_tr:last-child]:border-0",n),...e}));wT.displayName="TableBody";const K$=p.forwardRef(({className:n,...e},t)=>m.jsx("tfoot",{ref:t,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));K$.displayName="TableFooter";const uy=p.forwardRef(({className:n,...e},t)=>m.jsx("tr",{ref:t,className:Ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));uy.displayName="TableRow";const kc=p.forwardRef(({className:n,...e},t)=>m.jsx("th",{ref:t,className:Ce("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));kc.displayName="TableHead";const Oc=p.forwardRef(({className:n,...e},t)=>m.jsx("td",{ref:t,className:Ce("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Oc.displayName="TableCell";const X$=p.forwardRef(({className:n,...e},t)=>m.jsx("caption",{ref:t,className:Ce("mt-4 text-sm text-muted-foreground",n),...e}));X$.displayName="TableCaption";function J$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return p.useMemo(()=>s=>{e.forEach(r=>r(s))},e)}const Zf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nl(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function dy(n){return"nodeType"in n}function Jn(n){var e,t;return n?Nl(n)?n:dy(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function hy(n){const{Document:e}=Jn(n);return n instanceof e}function Cu(n){return Nl(n)?!1:n instanceof Jn(n).HTMLElement}function ST(n){return n instanceof Jn(n).SVGElement}function Tl(n){return n?Nl(n)?n.document:dy(n)?hy(n)?n:Cu(n)||ST(n)?n.ownerDocument:document:document:document}const ci=Zf?p.useLayoutEffect:p.useEffect;function fy(n){const e=p.useRef(n);return ci(()=>{e.current=n}),p.useCallback(function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e.current==null?void 0:e.current(...s)},[])}function Q$(){const n=p.useRef(null),e=p.useCallback((s,r)=>{n.current=setInterval(s,r)},[]),t=p.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Qc(n,e){e===void 0&&(e=[n]);const t=p.useRef(n);return ci(()=>{t.current!==n&&(t.current=n)},e),t}function _u(n,e){const t=p.useRef();return p.useMemo(()=>{const s=n(t.current);return t.current=s,s},[...e])}function of(n){const e=fy(n),t=p.useRef(null),s=p.useCallback(r=>{r!==t.current&&e?.(r,t.current),t.current=r},[]);return[t,s]}function Xv(n){const e=p.useRef();return p.useEffect(()=>{e.current=n},[n]),e.current}let Yg={};function Eu(n,e){return p.useMemo(()=>{if(e)return e;const t=Yg[n]==null?0:Yg[n]+1;return Yg[n]=t,n+"-"+t},[n,e])}function CT(n){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return s.reduce((o,c)=>{const u=Object.entries(c);for(const[h,f]of u){const v=o[h];v!=null&&(o[h]=v+n*f)}return o},{...e})}}const nl=CT(1),Zc=CT(-1);function Z$(n){return"clientX"in n&&"clientY"in n}function my(n){if(!n)return!1;const{KeyboardEvent:e}=Jn(n.target);return e&&n instanceof e}function eU(n){if(!n)return!1;const{TouchEvent:e}=Jn(n.target);return e&&n instanceof e}function Jv(n){if(eU(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return Z$(n)?{x:n.clientX,y:n.clientY}:null}const eu=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[eu.Translate.toString(n),eu.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:s}=n;return e+" "+t+"ms "+s}}}),ZS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function tU(n){return n.matches(ZS)?n:n.querySelector(ZS)}const nU={display:"none"};function sU(n){let{id:e,value:t}=n;return ve.createElement("div",{id:e,style:nU},t)}function iU(n){let{id:e,announcement:t,ariaLiveType:s="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ve.createElement("div",{id:e,style:r,role:"status","aria-live":s,"aria-atomic":!0},t)}function rU(){const[n,e]=p.useState("");return{announce:p.useCallback(s=>{s!=null&&e(s)},[]),announcement:n}}const _T=p.createContext(null);function aU(n){const e=p.useContext(_T);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function oU(){const[n]=p.useState(()=>new Set),e=p.useCallback(s=>(n.add(s),()=>n.delete(s)),[n]);return[p.useCallback(s=>{let{type:r,event:o}=s;n.forEach(c=>{var u;return(u=c[r])==null?void 0:u.call(c,o)})},[n]),e]}const lU={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},cU={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function uU(n){let{announcements:e=cU,container:t,hiddenTextDescribedById:s,screenReaderInstructions:r=lU}=n;const{announce:o,announcement:c}=rU(),u=Eu("DndLiveRegion"),[h,f]=p.useState(!1);if(p.useEffect(()=>{f(!0)},[]),aU(p.useMemo(()=>({onDragStart(g){let{active:x}=g;o(e.onDragStart({active:x}))},onDragMove(g){let{active:x,over:w}=g;e.onDragMove&&o(e.onDragMove({active:x,over:w}))},onDragOver(g){let{active:x,over:w}=g;o(e.onDragOver({active:x,over:w}))},onDragEnd(g){let{active:x,over:w}=g;o(e.onDragEnd({active:x,over:w}))},onDragCancel(g){let{active:x,over:w}=g;o(e.onDragCancel({active:x,over:w}))}}),[o,e])),!h)return null;const v=ve.createElement(ve.Fragment,null,ve.createElement(sU,{id:s,value:r.draggable}),ve.createElement(iU,{id:u,announcement:c}));return t?Ui.createPortal(v,t):v}var nn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(nn||(nn={}));function lf(){}function Kg(n,e){return p.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function dU(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return p.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Us=Object.freeze({x:0,y:0});function ET(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function NT(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return t-s}function hU(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return s-t}function eC(n){let{left:e,top:t,height:s,width:r}=n;return[{x:e,y:t},{x:e+r,y:t},{x:e,y:t+s},{x:e+r,y:t+s}]}function TT(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function tC(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const fU=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=tC(e,e.left,e.top),o=[];for(const c of s){const{id:u}=c,h=t.get(u);if(h){const f=ET(tC(h),r);o.push({id:u,data:{droppableContainer:c,value:f}})}}return o.sort(NT)},mU=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=eC(e),o=[];for(const c of s){const{id:u}=c,h=t.get(u);if(h){const f=eC(h),v=r.reduce((x,w,S)=>x+ET(f[S],w),0),g=Number((v/4).toFixed(4));o.push({id:u,data:{droppableContainer:c,value:g}})}}return o.sort(NT)};function pU(n,e){const t=Math.max(e.top,n.top),s=Math.max(e.left,n.left),r=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),c=r-s,u=o-t;if(s<r&&t<o){const h=e.width*e.height,f=n.width*n.height,v=c*u,g=v/(h+f-v);return Number(g.toFixed(4))}return 0}const gU=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=[];for(const o of s){const{id:c}=o,u=t.get(c);if(u){const h=pU(u,e);h>0&&r.push({id:c,data:{droppableContainer:o,value:h}})}}return r.sort(hU)};function vU(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function MT(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Us}function yU(n){return function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return r.reduce((c,u)=>({...c,top:c.top+n*u.y,bottom:c.bottom+n*u.y,left:c.left+n*u.x,right:c.right+n*u.x}),{...t})}}const bU=yU(1);function xU(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function wU(n,e,t){const s=xU(e);if(!s)return n;const{scaleX:r,scaleY:o,x:c,y:u}=s,h=n.left-c-(1-r)*parseFloat(t),f=n.top-u-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),v=r?n.width/r:n.width,g=o?n.height/o:n.height;return{width:v,height:g,top:f,right:h+v,bottom:f+g,left:h}}const SU={ignoreTransform:!1};function Ml(n,e){e===void 0&&(e=SU);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:v}=Jn(n).getComputedStyle(n);f&&(t=wU(t,f,v))}const{top:s,left:r,width:o,height:c,bottom:u,right:h}=t;return{top:s,left:r,width:o,height:c,bottom:u,right:h}}function nC(n){return Ml(n,{ignoreTransform:!0})}function CU(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function _U(n,e){return e===void 0&&(e=Jn(n).getComputedStyle(n)),e.position==="fixed"}function EU(n,e){e===void 0&&(e=Jn(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const o=e[r];return typeof o=="string"?t.test(o):!1})}function em(n,e){const t=[];function s(r){if(e!=null&&t.length>=e||!r)return t;if(hy(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!Cu(r)||ST(r)||t.includes(r))return t;const o=Jn(n).getComputedStyle(r);return r!==n&&EU(r,o)&&t.push(r),_U(r,o)?t:s(r.parentNode)}return n?s(n):t}function RT(n){const[e]=em(n,1);return e??null}function Xg(n){return!Zf||!n?null:Nl(n)?n:dy(n)?hy(n)||n===Tl(n).scrollingElement?window:Cu(n)?n:null:null}function AT(n){return Nl(n)?n.scrollX:n.scrollLeft}function jT(n){return Nl(n)?n.scrollY:n.scrollTop}function Qv(n){return{x:AT(n),y:jT(n)}}var cn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(cn||(cn={}));function kT(n){return!Zf||!n?!1:n===document.scrollingElement}function OT(n){const e={x:0,y:0},t=kT(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},s={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},r=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,c=n.scrollTop>=s.y,u=n.scrollLeft>=s.x;return{isTop:r,isLeft:o,isBottom:c,isRight:u,maxScroll:s,minScroll:e}}const NU={x:.2,y:.2};function TU(n,e,t,s,r){let{top:o,left:c,right:u,bottom:h}=t;s===void 0&&(s=10),r===void 0&&(r=NU);const{isTop:f,isBottom:v,isLeft:g,isRight:x}=OT(n),w={x:0,y:0},S={x:0,y:0},C={height:e.height*r.y,width:e.width*r.x};return!f&&o<=e.top+C.height?(w.y=cn.Backward,S.y=s*Math.abs((e.top+C.height-o)/C.height)):!v&&h>=e.bottom-C.height&&(w.y=cn.Forward,S.y=s*Math.abs((e.bottom-C.height-h)/C.height)),!x&&u>=e.right-C.width?(w.x=cn.Forward,S.x=s*Math.abs((e.right-C.width-u)/C.width)):!g&&c<=e.left+C.width&&(w.x=cn.Backward,S.x=s*Math.abs((e.left+C.width-c)/C.width)),{direction:w,speed:S}}function MU(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:e,left:t,right:s,bottom:r}=n.getBoundingClientRect();return{top:e,left:t,right:s,bottom:r,width:n.clientWidth,height:n.clientHeight}}function DT(n){return n.reduce((e,t)=>nl(e,Qv(t)),Us)}function RU(n){return n.reduce((e,t)=>e+AT(t),0)}function AU(n){return n.reduce((e,t)=>e+jT(t),0)}function jU(n,e){if(e===void 0&&(e=Ml),!n)return;const{top:t,left:s,bottom:r,right:o}=e(n);RT(n)&&(r<=0||o<=0||t>=window.innerHeight||s>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const kU=[["x",["left","right"],RU],["y",["top","bottom"],AU]];class py{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=em(t),r=DT(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,c,u]of kU)for(const h of c)Object.defineProperty(this,h,{get:()=>{const f=u(s),v=r[o]-f;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Pc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...t)})},this.target=e}add(e,t,s){var r;(r=this.target)==null||r.addEventListener(e,t,s),this.listeners.push([e,t,s])}}function OU(n){const{EventTarget:e}=Jn(n);return n instanceof e?n:Tl(n)}function Jg(n,e){const t=Math.abs(n.x),s=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var Es;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Es||(Es={}));function sC(n){n.preventDefault()}function DU(n){n.stopPropagation()}var tt;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(tt||(tt={}));const IT={start:[tt.Space,tt.Enter],cancel:[tt.Esc],end:[tt.Space,tt.Enter,tt.Tab]},IU=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case tt.Right:return{...t,x:t.x+25};case tt.Left:return{...t,x:t.x-25};case tt.Down:return{...t,y:t.y+25};case tt.Up:return{...t,y:t.y-25}}};class gy{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Pc(Tl(t)),this.windowListeners=new Pc(Jn(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Es.Resize,this.handleCancel),this.windowListeners.add(Es.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Es.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,s=e.node.current;s&&jU(s),t(Us)}handleKeyDown(e){if(my(e)){const{active:t,context:s,options:r}=this.props,{keyboardCodes:o=IT,coordinateGetter:c=IU,scrollBehavior:u="smooth"}=r,{code:h}=e;if(o.end.includes(h)){this.handleEnd(e);return}if(o.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:f}=s.current,v=f?{x:f.left,y:f.top}:Us;this.referenceCoordinates||(this.referenceCoordinates=v);const g=c(e,{active:t,context:s.current,currentCoordinates:v});if(g){const x=Zc(g,v),w={x:0,y:0},{scrollableAncestors:S}=s.current;for(const C of S){const E=e.code,{isTop:N,isRight:T,isLeft:A,isBottom:j,maxScroll:z,minScroll:P}=OT(C),I=MU(C),B={x:Math.min(E===tt.Right?I.right-I.width/2:I.right,Math.max(E===tt.Right?I.left:I.left+I.width/2,g.x)),y:Math.min(E===tt.Down?I.bottom-I.height/2:I.bottom,Math.max(E===tt.Down?I.top:I.top+I.height/2,g.y))},X=E===tt.Right&&!T||E===tt.Left&&!A,se=E===tt.Down&&!j||E===tt.Up&&!N;if(X&&B.x!==g.x){const G=C.scrollLeft+x.x,ee=E===tt.Right&&G<=z.x||E===tt.Left&&G>=P.x;if(ee&&!x.y){C.scrollTo({left:G,behavior:u});return}ee?w.x=C.scrollLeft-G:w.x=E===tt.Right?C.scrollLeft-z.x:C.scrollLeft-P.x,w.x&&C.scrollBy({left:-w.x,behavior:u});break}else if(se&&B.y!==g.y){const G=C.scrollTop+x.y,ee=E===tt.Down&&G<=z.y||E===tt.Up&&G>=P.y;if(ee&&!x.x){C.scrollTo({top:G,behavior:u});return}ee?w.y=C.scrollTop-G:w.y=E===tt.Down?C.scrollTop-z.y:C.scrollTop-P.y,w.y&&C.scrollBy({top:-w.y,behavior:u});break}}this.handleMove(e,nl(Zc(g,this.referenceCoordinates),w))}}}handleMove(e,t){const{onMove:s}=this.props;e.preventDefault(),s(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}gy.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:s=IT,onActivation:r}=e,{active:o}=t;const{code:c}=n.nativeEvent;if(s.start.includes(c)){const u=o.activatorNode.current;return u&&n.target!==u?!1:(n.preventDefault(),r?.({event:n.nativeEvent}),!0)}return!1}}];function iC(n){return!!(n&&"distance"in n)}function rC(n){return!!(n&&"delay"in n)}class vy{constructor(e,t,s){var r;s===void 0&&(s=OU(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:c}=o;this.props=e,this.events=t,this.document=Tl(c),this.documentListeners=new Pc(this.document),this.listeners=new Pc(s),this.windowListeners=new Pc(Jn(c)),this.initialCoordinates=(r=Jv(o))!=null?r:Us,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Es.Resize,this.handleCancel),this.windowListeners.add(Es.DragStart,sC),this.windowListeners.add(Es.VisibilityChange,this.handleCancel),this.windowListeners.add(Es.ContextMenu,sC),this.documentListeners.add(Es.Keydown,this.handleKeydown),t){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(rC(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(iC(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:s,onPending:r}=this.props;r(s,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Es.Click,DU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Es.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:s,initialCoordinates:r,props:o}=this,{onMove:c,options:{activationConstraint:u}}=o;if(!r)return;const h=(t=Jv(e))!=null?t:Us,f=Zc(r,h);if(!s&&u){if(iC(u)){if(u.tolerance!=null&&Jg(f,u.tolerance))return this.handleCancel();if(Jg(f,u.distance))return this.handleStart()}if(rC(u)&&Jg(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),c(h)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===tt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const LU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yy extends vy{constructor(e){const{event:t}=e,s=Tl(t.target);super(e,LU,s)}}yy.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s?.({event:t}),!0)}}];const PU={move:{name:"mousemove"},end:{name:"mouseup"}};var Zv;(function(n){n[n.RightClick=2]="RightClick"})(Zv||(Zv={}));class zU extends vy{constructor(e){super(e,PU,Tl(e.event.target))}}zU.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return t.button===Zv.RightClick?!1:(s?.({event:t}),!0)}}];const Qg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class LT extends vy{constructor(e){super(e,Qg)}static setup(){return window.addEventListener(Qg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Qg.move.name,e)};function e(){}}}LT.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;const{touches:r}=t;return r.length>1?!1:(s?.({event:t}),!0)}}];var zc;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(zc||(zc={}));var cf;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(cf||(cf={}));function $U(n){let{acceleration:e,activator:t=zc.Pointer,canScroll:s,draggingRect:r,enabled:o,interval:c=5,order:u=cf.TreeOrder,pointerCoordinates:h,scrollableAncestors:f,scrollableAncestorRects:v,delta:g,threshold:x}=n;const w=BU({delta:g,disabled:!o}),[S,C]=Q$(),E=p.useRef({x:0,y:0}),N=p.useRef({x:0,y:0}),T=p.useMemo(()=>{switch(t){case zc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case zc.DraggableRect:return r}},[t,r,h]),A=p.useRef(null),j=p.useCallback(()=>{const P=A.current;if(!P)return;const I=E.current.x*N.current.x,B=E.current.y*N.current.y;P.scrollBy(I,B)},[]),z=p.useMemo(()=>u===cf.TreeOrder?[...f].reverse():f,[u,f]);p.useEffect(()=>{if(!o||!f.length||!T){C();return}for(const P of z){if(s?.(P)===!1)continue;const I=f.indexOf(P),B=v[I];if(!B)continue;const{direction:X,speed:se}=TU(P,B,T,e,x);for(const G of["x","y"])w[G][X[G]]||(se[G]=0,X[G]=0);if(se.x>0||se.y>0){C(),A.current=P,S(j,c),E.current=se,N.current=X;return}}E.current={x:0,y:0},N.current={x:0,y:0},C()},[e,j,s,C,o,c,JSON.stringify(T),JSON.stringify(w),S,f,z,v,JSON.stringify(x)])}const UU={x:{[cn.Backward]:!1,[cn.Forward]:!1},y:{[cn.Backward]:!1,[cn.Forward]:!1}};function BU(n){let{delta:e,disabled:t}=n;const s=Xv(e);return _u(r=>{if(t||!s||!r)return UU;const o={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[cn.Backward]:r.x[cn.Backward]||o.x===-1,[cn.Forward]:r.x[cn.Forward]||o.x===1},y:{[cn.Backward]:r.y[cn.Backward]||o.y===-1,[cn.Forward]:r.y[cn.Forward]||o.y===1}}},[t,e,s])}function VU(n,e){const t=e!=null?n.get(e):void 0,s=t?t.node.current:null;return _u(r=>{var o;return e==null?null:(o=s??r)!=null?o:null},[s,e])}function FU(n,e){return p.useMemo(()=>n.reduce((t,s)=>{const{sensor:r}=s,o=r.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...t,...o]},[]),[n,e])}var tu;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(tu||(tu={}));var e0;(function(n){n.Optimized="optimized"})(e0||(e0={}));const aC=new Map;function HU(n,e){let{dragging:t,dependencies:s,config:r}=e;const[o,c]=p.useState(null),{frequency:u,measure:h,strategy:f}=r,v=p.useRef(n),g=E(),x=Qc(g),w=p.useCallback(function(N){N===void 0&&(N=[]),!x.current&&c(T=>T===null?N:T.concat(N.filter(A=>!T.includes(A))))},[x]),S=p.useRef(null),C=_u(N=>{if(g&&!t)return aC;if(!N||N===aC||v.current!==n||o!=null){const T=new Map;for(let A of n){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){T.set(A.id,A.rect.current);continue}const j=A.node.current,z=j?new py(h(j),j):null;A.rect.current=z,z&&T.set(A.id,z)}return T}return N},[n,o,t,g,h]);return p.useEffect(()=>{v.current=n},[n]),p.useEffect(()=>{g||w()},[t,g]),p.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),p.useEffect(()=>{g||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},u))},[u,g,w,...s]),{droppableRects:C,measureDroppableContainers:w,measuringScheduled:o!=null};function E(){switch(f){case tu.Always:return!1;case tu.BeforeDragging:return t;default:return!t}}}function PT(n,e){return _u(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function WU(n,e){return PT(n,e)}function GU(n){let{callback:e,disabled:t}=n;const s=fy(e),r=p.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,t]);return p.useEffect(()=>()=>r?.disconnect(),[r]),r}function tm(n){let{callback:e,disabled:t}=n;const s=fy(e),r=p.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[t]);return p.useEffect(()=>()=>r?.disconnect(),[r]),r}function qU(n){return new py(Ml(n),n)}function oC(n,e,t){e===void 0&&(e=qU);const[s,r]=p.useState(null);function o(){r(h=>{if(!n)return null;if(n.isConnected===!1){var f;return(f=h??t)!=null?f:null}const v=e(n);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=GU({callback(h){if(n)for(const f of h){const{type:v,target:g}=f;if(v==="childList"&&g instanceof HTMLElement&&g.contains(n)){o();break}}}}),u=tm({callback:o});return ci(()=>{o(),n?(u?.observe(n),c?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),c?.disconnect())},[n]),s}function YU(n){const e=PT(n);return MT(n,e)}const lC=[];function KU(n){const e=p.useRef(n),t=_u(s=>n?s&&s!==lC&&n&&e.current&&n.parentNode===e.current.parentNode?s:em(n):lC,[n]);return p.useEffect(()=>{e.current=n},[n]),t}function XU(n){const[e,t]=p.useState(null),s=p.useRef(n),r=p.useCallback(o=>{const c=Xg(o.target);c&&t(u=>u?(u.set(c,Qv(c)),new Map(u)):null)},[]);return p.useEffect(()=>{const o=s.current;if(n!==o){c(o);const u=n.map(h=>{const f=Xg(h);return f?(f.addEventListener("scroll",r,{passive:!0}),[f,Qv(f)]):null}).filter(h=>h!=null);t(u.length?new Map(u):null),s.current=n}return()=>{c(n),c(o)};function c(u){u.forEach(h=>{const f=Xg(h);f?.removeEventListener("scroll",r)})}},[r,n]),p.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,c)=>nl(o,c),Us):DT(n):Us,[n,e])}function cC(n,e){e===void 0&&(e=[]);const t=p.useRef(null);return p.useEffect(()=>{t.current=null},e),p.useEffect(()=>{const s=n!==Us;s&&!t.current&&(t.current=n),!s&&t.current&&(t.current=null)},[n]),t.current?Zc(n,t.current):Us}function JU(n){p.useEffect(()=>{if(!Zf)return;const e=n.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function QU(n,e){return p.useMemo(()=>n.reduce((t,s)=>{let{eventName:r,handler:o}=s;return t[r]=c=>{o(c,e)},t},{}),[n,e])}function zT(n){return p.useMemo(()=>n?CU(n):null,[n])}const uC=[];function ZU(n,e){e===void 0&&(e=Ml);const[t]=n,s=zT(t?Jn(t):null),[r,o]=p.useState(uC);function c(){o(()=>n.length?n.map(h=>kT(h)?s:new py(e(h),h)):uC)}const u=tm({callback:c});return ci(()=>{u?.disconnect(),c(),n.forEach(h=>u?.observe(h))},[n]),r}function eB(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Cu(e)?e:n}function tB(n){let{measure:e}=n;const[t,s]=p.useState(null),r=p.useCallback(f=>{for(const{target:v}of f)if(Cu(v)){s(g=>{const x=e(v);return g?{...g,width:x.width,height:x.height}:x});break}},[e]),o=tm({callback:r}),c=p.useCallback(f=>{const v=eB(f);o?.disconnect(),v&&o?.observe(v),s(v?e(v):null)},[e,o]),[u,h]=of(c);return p.useMemo(()=>({nodeRef:u,rect:t,setRef:h}),[t,u,h])}const nB=[{sensor:yy,options:{}},{sensor:gy,options:{}}],sB={current:{}},Uh={draggable:{measure:nC},droppable:{measure:nC,strategy:tu.WhileDragging,frequency:e0.Optimized},dragOverlay:{measure:Ml}};class $c extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,s;return(t=(s=this.get(e))==null?void 0:s.node.current)!=null?t:void 0}}const iB={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new $c,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:lf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Uh,measureDroppableContainers:lf,windowRect:null,measuringScheduled:!1},rB={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:lf,draggableNodes:new Map,over:null,measureDroppableContainers:lf},nm=p.createContext(rB),$T=p.createContext(iB);function aB(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new $c}}}function oB(n,e){switch(e.type){case nn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case nn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case nn.DragEnd:case nn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case nn.RegisterDroppable:{const{element:t}=e,{id:s}=t,r=new $c(n.droppable.containers);return r.set(s,t),{...n,droppable:{...n.droppable,containers:r}}}case nn.SetDroppableDisabled:{const{id:t,key:s,disabled:r}=e,o=n.droppable.containers.get(t);if(!o||s!==o.key)return n;const c=new $c(n.droppable.containers);return c.set(t,{...o,disabled:r}),{...n,droppable:{...n.droppable,containers:c}}}case nn.UnregisterDroppable:{const{id:t,key:s}=e,r=n.droppable.containers.get(t);if(!r||s!==r.key)return n;const o=new $c(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function lB(n){let{disabled:e}=n;const{active:t,activatorEvent:s,draggableNodes:r}=p.useContext(nm),o=Xv(s),c=Xv(t?.id);return p.useEffect(()=>{if(!e&&!s&&o&&c!=null){if(!my(o)||document.activeElement===o.target)return;const u=r.get(c);if(!u)return;const{activatorNode:h,node:f}=u;if(!h.current&&!f.current)return;requestAnimationFrame(()=>{for(const v of[h.current,f.current]){if(!v)continue;const g=tU(v);if(g){g.focus();break}}})}},[s,e,r,c,o]),null}function cB(n,e){let{transform:t,...s}=e;return n!=null&&n.length?n.reduce((r,o)=>o({transform:r,...s}),t):t}function uB(n){return p.useMemo(()=>({draggable:{...Uh.draggable,...n?.draggable},droppable:{...Uh.droppable,...n?.droppable},dragOverlay:{...Uh.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function dB(n){let{activeNode:e,measure:t,initialRect:s,config:r=!0}=n;const o=p.useRef(!1),{x:c,y:u}=typeof r=="boolean"?{x:r,y:r}:r;ci(()=>{if(!c&&!u||!e){o.current=!1;return}if(o.current||!s)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const v=t(f),g=MT(v,s);if(c||(g.x=0),u||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const x=RT(f);x&&x.scrollBy({top:g.y,left:g.x})}},[e,c,u,s,t])}const UT=p.createContext({...Us,scaleX:1,scaleY:1});var Or;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Or||(Or={}));const hB=p.memo(function(e){var t,s,r,o;let{id:c,accessibility:u,autoScroll:h=!0,children:f,sensors:v=nB,collisionDetection:g=gU,measuring:x,modifiers:w,...S}=e;const C=p.useReducer(oB,void 0,aB),[E,N]=C,[T,A]=oU(),[j,z]=p.useState(Or.Uninitialized),P=j===Or.Initialized,{draggable:{active:I,nodes:B,translate:X},droppable:{containers:se}}=E,G=I!=null?B.get(I):null,ee=p.useRef({initial:null,translated:null}),q=p.useMemo(()=>{var Tt;return I!=null?{id:I,data:(Tt=G?.data)!=null?Tt:sB,rect:ee}:null},[I,G]),re=p.useRef(null),[J,k]=p.useState(null),[F,V]=p.useState(null),Q=Qc(S,Object.values(S)),me=Eu("DndDescribedBy",c),O=p.useMemo(()=>se.getEnabled(),[se]),M=uB(x),{droppableRects:L,measureDroppableContainers:$,measuringScheduled:ie}=HU(O,{dragging:P,dependencies:[X.x,X.y],config:M.droppable}),oe=VU(B,I),K=p.useMemo(()=>F?Jv(F):null,[F]),ue=fs(),ye=WU(oe,M.draggable.measure);dB({activeNode:I!=null?B.get(I):null,config:ue.layoutShiftCompensation,initialRect:ye,measure:M.draggable.measure});const we=oC(oe,M.draggable.measure,ye),Ve=oC(oe?oe.parentElement:null),We=p.useRef({activatorEvent:null,active:null,activeNode:oe,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:se,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xt=se.getNodeFor((t=We.current.over)==null?void 0:t.id),ct=tB({measure:M.dragOverlay.measure}),At=(s=ct.nodeRef.current)!=null?s:oe,Le=P?(r=ct.rect)!=null?r:we:null,Et=!!(ct.nodeRef.current&&ct.rect),qt=YU(Et?null:we),Xe=zT(At?Jn(At):null),pt=KU(P?xt??oe:null),Qt=ZU(pt),ut=cB(w,{transform:{x:X.x-qt.x,y:X.y-qt.y,scaleX:1,scaleY:1},activatorEvent:F,active:q,activeNodeRect:we,containerNodeRect:Ve,draggingNodeRect:Le,over:We.current.over,overlayNodeRect:ct.rect,scrollableAncestors:pt,scrollableAncestorRects:Qt,windowRect:Xe}),_n=K?nl(K,X):null,Nt=XU(pt),Fs=cC(Nt),un=cC(Nt,[we]),rn=nl(ut,Fs),Ut=Le?bU(Le,ut):null,En=q&&Ut?g({active:q,collisionRect:Ut,droppableRects:L,droppableContainers:O,pointerCoordinates:_n}):null,vn=TT(En,"id"),[yn,bn]=p.useState(null),hs=Et?ut:nl(ut,un),Bt=vU(hs,(o=yn?.rect)!=null?o:null,we),jt=p.useRef(null),kt=p.useCallback((Tt,wt)=>{let{sensor:_e,options:Ge}=wt;if(re.current==null)return;const ke=B.get(re.current);if(!ke)return;const Je=Tt.nativeEvent,Mt=new _e({active:re.current,activeNode:ke,event:Je,options:Ge,context:We,onAbort(st){if(!B.get(st))return;const{onDragAbort:dt}=Q.current,ht={id:st};dt?.(ht),T({type:"onDragAbort",event:ht})},onPending(st,on,dt,ht){if(!B.get(st))return;const{onDragPending:Zt}=Q.current,Nn={id:st,constraint:on,initialCoordinates:dt,offset:ht};Zt?.(Nn),T({type:"onDragPending",event:Nn})},onStart(st){const on=re.current;if(on==null)return;const dt=B.get(on);if(!dt)return;const{onDragStart:ht}=Q.current,On={activatorEvent:Je,active:{id:on,data:dt.data,rect:ee}};Ui.unstable_batchedUpdates(()=>{ht?.(On),z(Or.Initializing),N({type:nn.DragStart,initialCoordinates:st,active:on}),T({type:"onDragStart",event:On}),k(jt.current),V(Je)})},onMove(st){N({type:nn.DragMove,coordinates:st})},onEnd:rt(nn.DragEnd),onCancel:rt(nn.DragCancel)});jt.current=Mt;function rt(st){return async function(){const{active:dt,collisions:ht,over:On,scrollAdjustedTranslate:Zt}=We.current;let Nn=null;if(dt&&Zt){const{cancelDrop:Zn}=Q.current;Nn={activatorEvent:Je,active:dt,collisions:ht,delta:Zt,over:On},st===nn.DragEnd&&typeof Zn=="function"&&await Promise.resolve(Zn(Nn))&&(st=nn.DragCancel)}re.current=null,Ui.unstable_batchedUpdates(()=>{N({type:st}),z(Or.Uninitialized),bn(null),k(null),V(null),jt.current=null;const Zn=st===nn.DragEnd?"onDragEnd":"onDragCancel";if(Nn){const Dn=Q.current[Zn];Dn?.(Nn),T({type:Zn,event:Nn})}})}}},[B]),Qi=p.useCallback((Tt,wt)=>(_e,Ge)=>{const ke=_e.nativeEvent,Je=B.get(Ge);if(re.current!==null||!Je||ke.dndKit||ke.defaultPrevented)return;const Mt={active:Je};Tt(_e,wt.options,Mt)===!0&&(ke.dndKit={capturedBy:wt.sensor},re.current=Ge,kt(_e,wt))},[B,kt]),it=FU(v,Qi);JU(v),ci(()=>{we&&j===Or.Initializing&&z(Or.Initialized)},[we,j]),p.useEffect(()=>{const{onDragMove:Tt}=Q.current,{active:wt,activatorEvent:_e,collisions:Ge,over:ke}=We.current;if(!wt||!_e)return;const Je={active:wt,activatorEvent:_e,collisions:Ge,delta:{x:rn.x,y:rn.y},over:ke};Ui.unstable_batchedUpdates(()=>{Tt?.(Je),T({type:"onDragMove",event:Je})})},[rn.x,rn.y]),p.useEffect(()=>{const{active:Tt,activatorEvent:wt,collisions:_e,droppableContainers:Ge,scrollAdjustedTranslate:ke}=We.current;if(!Tt||re.current==null||!wt||!ke)return;const{onDragOver:Je}=Q.current,Mt=Ge.get(vn),rt=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,st={active:Tt,activatorEvent:wt,collisions:_e,delta:{x:ke.x,y:ke.y},over:rt};Ui.unstable_batchedUpdates(()=>{bn(rt),Je?.(st),T({type:"onDragOver",event:st})})},[vn]),ci(()=>{We.current={activatorEvent:F,active:q,activeNode:oe,collisionRect:Ut,collisions:En,droppableRects:L,draggableNodes:B,draggingNode:At,draggingNodeRect:Le,droppableContainers:se,over:yn,scrollableAncestors:pt,scrollAdjustedTranslate:rn},ee.current={initial:Le,translated:Ut}},[q,oe,En,Ut,B,At,Le,L,se,yn,pt,rn]),$U({...ue,delta:X,draggingRect:Ut,pointerCoordinates:_n,scrollableAncestors:pt,scrollableAncestorRects:Qt});const dn=p.useMemo(()=>({active:q,activeNode:oe,activeNodeRect:we,activatorEvent:F,collisions:En,containerNodeRect:Ve,dragOverlay:ct,draggableNodes:B,droppableContainers:se,droppableRects:L,over:yn,measureDroppableContainers:$,scrollableAncestors:pt,scrollableAncestorRects:Qt,measuringConfiguration:M,measuringScheduled:ie,windowRect:Xe}),[q,oe,we,F,En,Ve,ct,B,se,L,yn,$,pt,Qt,M,ie,Xe]),an=p.useMemo(()=>({activatorEvent:F,activators:it,active:q,activeNodeRect:we,ariaDescribedById:{draggable:me},dispatch:N,draggableNodes:B,over:yn,measureDroppableContainers:$}),[F,it,q,we,N,me,B,yn,$]);return ve.createElement(_T.Provider,{value:A},ve.createElement(nm.Provider,{value:an},ve.createElement($T.Provider,{value:dn},ve.createElement(UT.Provider,{value:Bt},f)),ve.createElement(lB,{disabled:u?.restoreFocus===!1})),ve.createElement(uU,{...u,hiddenTextDescribedById:me}));function fs(){const Tt=J?.autoScrollEnabled===!1,wt=typeof h=="object"?h.enabled===!1:h===!1,_e=P&&!Tt&&!wt;return typeof h=="object"?{...h,enabled:_e}:{enabled:_e}}}),fB=p.createContext(null),dC="button",mB="Draggable";function pB(n){let{id:e,data:t,disabled:s=!1,attributes:r}=n;const o=Eu(mB),{activators:c,activatorEvent:u,active:h,activeNodeRect:f,ariaDescribedById:v,draggableNodes:g,over:x}=p.useContext(nm),{role:w=dC,roleDescription:S="draggable",tabIndex:C=0}=r??{},E=h?.id===e,N=p.useContext(E?UT:fB),[T,A]=of(),[j,z]=of(),P=QU(c,e),I=Qc(t);ci(()=>(g.set(e,{id:e,key:o,node:T,activatorNode:j,data:I}),()=>{const X=g.get(e);X&&X.key===o&&g.delete(e)}),[g,e]);const B=p.useMemo(()=>({role:w,tabIndex:C,"aria-disabled":s,"aria-pressed":E&&w===dC?!0:void 0,"aria-roledescription":S,"aria-describedby":v.draggable}),[s,w,C,E,S,v.draggable]);return{active:h,activatorEvent:u,activeNodeRect:f,attributes:B,isDragging:E,listeners:s?void 0:P,node:T,over:x,setNodeRef:A,setActivatorNodeRef:z,transform:N}}function gB(){return p.useContext($T)}const vB="Droppable",yB={timeout:25};function bB(n){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:r}=n;const o=Eu(vB),{active:c,dispatch:u,over:h,measureDroppableContainers:f}=p.useContext(nm),v=p.useRef({disabled:t}),g=p.useRef(!1),x=p.useRef(null),w=p.useRef(null),{disabled:S,updateMeasurementsFor:C,timeout:E}={...yB,...r},N=Qc(C??s),T=p.useCallback(()=>{if(!g.current){g.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{f(Array.isArray(N.current)?N.current:[N.current]),w.current=null},E)},[E]),A=tm({callback:T,disabled:S||!c}),j=p.useCallback((B,X)=>{A&&(X&&(A.unobserve(X),g.current=!1),B&&A.observe(B))},[A]),[z,P]=of(j),I=Qc(e);return p.useEffect(()=>{!A||!z.current||(A.disconnect(),g.current=!1,A.observe(z.current))},[z,A]),p.useEffect(()=>(u({type:nn.RegisterDroppable,element:{id:s,key:o,disabled:t,node:z,rect:x,data:I}}),()=>u({type:nn.UnregisterDroppable,key:o,id:s})),[s]),p.useEffect(()=>{t!==v.current.disabled&&(u({type:nn.SetDroppableDisabled,id:s,key:o,disabled:t}),v.current.disabled=t)},[s,o,t,u]),{active:c,rect:x,isOver:h?.id===s,node:z,over:h,setNodeRef:P}}function BT(n,e,t){const s=n.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function xB(n,e){return n.reduce((t,s,r)=>{const o=e.get(s);return o&&(t[r]=o),t},Array(n.length))}function uh(n){return n!==null&&n>=0}function wB(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function SB(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const VT=n=>{let{rects:e,activeIndex:t,overIndex:s,index:r}=n;const o=BT(e,s,t),c=e[r],u=o[r];return!u||!c?null:{x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height}},dh={scaleX:1,scaleY:1},CB=n=>{var e;let{activeIndex:t,activeNodeRect:s,index:r,rects:o,overIndex:c}=n;const u=(e=o[t])!=null?e:s;if(!u)return null;if(r===t){const f=o[c];return f?{x:0,y:t<c?f.top+f.height-(u.top+u.height):f.top-u.top,...dh}:null}const h=_B(o,r,t);return r>t&&r<=c?{x:0,y:-u.height-h,...dh}:r<t&&r>=c?{x:0,y:u.height+h,...dh}:{x:0,y:0,...dh}};function _B(n,e,t){const s=n[e],r=n[e-1],o=n[e+1];return s?t<e?r?s.top-(r.top+r.height):o?o.top-(s.top+s.height):0:o?o.top-(s.top+s.height):r?s.top-(r.top+r.height):0:0}const FT="Sortable",HT=ve.createContext({activeIndex:-1,containerId:FT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:VT,disabled:{draggable:!1,droppable:!1}});function EB(n){let{children:e,id:t,items:s,strategy:r=VT,disabled:o=!1}=n;const{active:c,dragOverlay:u,droppableRects:h,over:f,measureDroppableContainers:v}=gB(),g=Eu(FT,t),x=u.rect!==null,w=p.useMemo(()=>s.map(P=>typeof P=="object"&&"id"in P?P.id:P),[s]),S=c!=null,C=c?w.indexOf(c.id):-1,E=f?w.indexOf(f.id):-1,N=p.useRef(w),T=!wB(w,N.current),A=E!==-1&&C===-1||T,j=SB(o);ci(()=>{T&&S&&v(w)},[T,w,S,v]),p.useEffect(()=>{N.current=w},[w]);const z=p.useMemo(()=>({activeIndex:C,containerId:g,disabled:j,disableTransforms:A,items:w,overIndex:E,useDragOverlay:x,sortedRects:xB(w,h),strategy:r}),[C,g,j.draggable,j.droppable,A,w,E,h,x,r]);return ve.createElement(HT.Provider,{value:z},e)}const NB=n=>{let{id:e,items:t,activeIndex:s,overIndex:r}=n;return BT(t,s,r).indexOf(e)},TB=n=>{let{containerId:e,isSorting:t,wasDragging:s,index:r,items:o,newIndex:c,previousItems:u,previousContainerId:h,transition:f}=n;return!f||!s||u!==o&&r===c?!1:t?!0:c!==r&&e===h},MB={duration:200,easing:"ease"},WT="transform",RB=eu.Transition.toString({property:WT,duration:0,easing:"linear"}),AB={roleDescription:"sortable"};function jB(n){let{disabled:e,index:t,node:s,rect:r}=n;const[o,c]=p.useState(null),u=p.useRef(t);return ci(()=>{if(!e&&t!==u.current&&s.current){const h=r.current;if(h){const f=Ml(s.current,{ignoreTransform:!0}),v={x:h.left-f.left,y:h.top-f.top,scaleX:h.width/f.width,scaleY:h.height/f.height};(v.x||v.y)&&c(v)}}t!==u.current&&(u.current=t)},[e,t,s,r]),p.useEffect(()=>{o&&c(null)},[o]),o}function kB(n){let{animateLayoutChanges:e=TB,attributes:t,disabled:s,data:r,getNewIndex:o=NB,id:c,strategy:u,resizeObserverConfig:h,transition:f=MB}=n;const{items:v,containerId:g,activeIndex:x,disabled:w,disableTransforms:S,sortedRects:C,overIndex:E,useDragOverlay:N,strategy:T}=p.useContext(HT),A=OB(s,w),j=v.indexOf(c),z=p.useMemo(()=>({sortable:{containerId:g,index:j,items:v},...r}),[g,r,j,v]),P=p.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:I,node:B,isOver:X,setNodeRef:se}=bB({id:c,data:z,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...h}}),{active:G,activatorEvent:ee,activeNodeRect:q,attributes:re,setNodeRef:J,listeners:k,isDragging:F,over:V,setActivatorNodeRef:Q,transform:me}=pB({id:c,data:z,attributes:{...AB,...t},disabled:A.draggable}),O=J$(se,J),M=!!G,L=M&&!S&&uh(x)&&uh(E),$=!N&&F,ie=$&&L?me:null,K=L?ie??(u??T)({rects:C,activeNodeRect:q,activeIndex:x,overIndex:E,index:j}):null,ue=uh(x)&&uh(E)?o({id:c,items:v,activeIndex:x,overIndex:E}):j,ye=G?.id,we=p.useRef({activeId:ye,items:v,newIndex:ue,containerId:g}),Ve=v!==we.current.items,We=e({active:G,containerId:g,isDragging:F,isSorting:M,id:c,index:j,items:v,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:f,wasDragging:we.current.activeId!=null}),xt=jB({disabled:!We,index:j,node:B,rect:I});return p.useEffect(()=>{M&&we.current.newIndex!==ue&&(we.current.newIndex=ue),g!==we.current.containerId&&(we.current.containerId=g),v!==we.current.items&&(we.current.items=v)},[M,ue,g,v]),p.useEffect(()=>{if(ye===we.current.activeId)return;if(ye!=null&&we.current.activeId==null){we.current.activeId=ye;return}const At=setTimeout(()=>{we.current.activeId=ye},50);return()=>clearTimeout(At)},[ye]),{active:G,activeIndex:x,attributes:re,data:z,rect:I,index:j,newIndex:ue,items:v,isOver:X,isSorting:M,isDragging:F,listeners:k,node:B,overIndex:E,over:V,setNodeRef:O,setActivatorNodeRef:Q,setDroppableNodeRef:se,setDraggableNodeRef:J,transform:xt??K,transition:ct()};function ct(){if(xt||Ve&&we.current.newIndex===j)return RB;if(!($&&!my(ee)||!f)&&(M||We))return eu.Transition.toString({...f,property:WT})}}function OB(n,e){var t,s;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(s=n?.droppable)!=null?s:e.droppable}}function uf(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const DB=[tt.Down,tt.Right,tt.Up,tt.Left],IB=(n,e)=>{let{context:{active:t,collisionRect:s,droppableRects:r,droppableContainers:o,over:c,scrollableAncestors:u}}=e;if(DB.includes(n.code)){if(n.preventDefault(),!t||!s)return;const h=[];o.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const x=r.get(g.id);if(x)switch(n.code){case tt.Down:s.top<x.top&&h.push(g);break;case tt.Up:s.top>x.top&&h.push(g);break;case tt.Left:s.left>x.left&&h.push(g);break;case tt.Right:s.left<x.left&&h.push(g);break}});const f=mU({collisionRect:s,droppableRects:r,droppableContainers:h});let v=TT(f,"id");if(v===c?.id&&f.length>1&&(v=f[1].id),v!=null){const g=o.get(t.id),x=o.get(v),w=x?r.get(x.id):null,S=x?.node.current;if(S&&w&&g&&x){const E=em(S).some((P,I)=>u[I]!==P),N=GT(g,x),T=LB(g,x),A=E||!N?{x:0,y:0}:{x:T?s.width-w.width:0,y:T?s.height-w.height:0},j={x:w.left,y:w.top};return A.x&&A.y?j:Zc(j,A)}}}};function GT(n,e){return!uf(n)||!uf(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function LB(n,e){return!uf(n)||!uf(e)||!GT(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}function PB(n){const e=zB(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(UB);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function zB(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=VB(r),u=BB(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var $B=Symbol("radix.slottable");function UB(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===$B}function BB(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function VB(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var FB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HB=FB.reduce((n,e)=>{const t=PB(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),by="ContextMenu",[WB]=Ms(by,[Hf]),kn=Hf(),[GB,qT]=WB(by),YT=n=>{const{__scopeContextMenu:e,children:t,onOpenChange:s,dir:r,modal:o=!0}=n,[c,u]=p.useState(!1),h=kn(e),f=oi(s),v=p.useCallback(g=>{u(g),f(g)},[f]);return m.jsx(GB,{scope:e,open:c,onOpenChange:v,modal:o,children:m.jsx(o2,{...h,dir:r,open:c,onOpenChange:v,modal:o,children:t})})};YT.displayName=by;var KT="ContextMenuTrigger",XT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,disabled:s=!1,...r}=n,o=qT(KT,t),c=kn(t),u=p.useRef({x:0,y:0}),h=p.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...u.current})}),f=p.useRef(0),v=p.useCallback(()=>window.clearTimeout(f.current),[]),g=x=>{u.current={x:x.clientX,y:x.clientY},o.onOpenChange(!0)};return p.useEffect(()=>v,[v]),p.useEffect(()=>{s&&v()},[s,v]),m.jsxs(m.Fragment,{children:[m.jsx(l2,{...c,virtualRef:h}),m.jsx(HB.span,{"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,...r,ref:e,style:{WebkitTouchCallout:"none",...n.style},onContextMenu:s?n.onContextMenu:Ae(n.onContextMenu,x=>{v(),g(x),x.preventDefault()}),onPointerDown:s?n.onPointerDown:Ae(n.onPointerDown,hh(x=>{v(),f.current=window.setTimeout(()=>g(x),700)})),onPointerMove:s?n.onPointerMove:Ae(n.onPointerMove,hh(v)),onPointerCancel:s?n.onPointerCancel:Ae(n.onPointerCancel,hh(v)),onPointerUp:s?n.onPointerUp:Ae(n.onPointerUp,hh(v))})]})});XT.displayName=KT;var qB="ContextMenuPortal",JT=n=>{const{__scopeContextMenu:e,...t}=n,s=kn(e);return m.jsx(c2,{...s,...t})};JT.displayName=qB;var QT="ContextMenuContent",ZT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=qT(QT,t),o=kn(t),c=p.useRef(!1);return m.jsx(u2,{...o,...s,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:u=>{n.onCloseAutoFocus?.(u),!u.defaultPrevented&&c.current&&u.preventDefault(),c.current=!1},onInteractOutside:u=>{n.onInteractOutside?.(u),!u.defaultPrevented&&!r.modal&&(c.current=!0)},style:{...n.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZT.displayName=QT;var YB="ContextMenuGroup",KB=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(d2,{...r,...s,ref:e})});KB.displayName=YB;var XB="ContextMenuLabel",eM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(h2,{...r,...s,ref:e})});eM.displayName=XB;var JB="ContextMenuItem",tM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(f2,{...r,...s,ref:e})});tM.displayName=JB;var QB="ContextMenuCheckboxItem",nM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(m2,{...r,...s,ref:e})});nM.displayName=QB;var ZB="ContextMenuRadioGroup",e8=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(p2,{...r,...s,ref:e})});e8.displayName=ZB;var t8="ContextMenuRadioItem",sM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(g2,{...r,...s,ref:e})});sM.displayName=t8;var n8="ContextMenuItemIndicator",iM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(v2,{...r,...s,ref:e})});iM.displayName=n8;var s8="ContextMenuSeparator",rM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(y2,{...r,...s,ref:e})});rM.displayName=s8;var i8="ContextMenuArrow",r8=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(b2,{...r,...s,ref:e})});r8.displayName=i8;var a8="ContextMenuSubTrigger",aM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(x2,{...r,...s,ref:e})});aM.displayName=a8;var o8="ContextMenuSubContent",oM=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return m.jsx(w2,{...r,...s,ref:e,style:{...n.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oM.displayName=o8;function hh(n){return e=>e.pointerType!=="mouse"?n(e):void 0}var l8=YT,c8=XT,u8=JT,lM=ZT,cM=eM,uM=tM,dM=nM,hM=sM,fM=iM,mM=rM,pM=aM,gM=oM;const vM=l8,yM=c8,d8=p.forwardRef(({className:n,inset:e,children:t,...s},r)=>m.jsxs(pM,{ref:r,className:Ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",n),...s,children:[t,m.jsx(z0,{className:"ml-auto h-4 w-4"})]}));d8.displayName=pM.displayName;const h8=p.forwardRef(({className:n,...e},t)=>m.jsx(gM,{ref:t,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",n),...e}));h8.displayName=gM.displayName;const xy=p.forwardRef(({className:n,...e},t)=>m.jsx(u8,{children:m.jsx(lM,{ref:t,className:Ce("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",n),...e})}));xy.displayName=lM.displayName;const La=p.forwardRef(({className:n,inset:e,...t},s)=>m.jsx(uM,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));La.displayName=uM.displayName;const f8=p.forwardRef(({className:n,children:e,checked:t,...s},r)=>m.jsxs(dM,{ref:r,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...s,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(fM,{children:m.jsx(P0,{className:"h-4 w-4"})})}),e]}));f8.displayName=dM.displayName;const m8=p.forwardRef(({className:n,children:e,...t},s)=>m.jsxs(hM,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(fM,{children:m.jsx(ZE,{className:"h-4 w-4 fill-current"})})}),e]}));m8.displayName=hM.displayName;const p8=p.forwardRef(({className:n,inset:e,...t},s)=>m.jsx(cM,{ref:s,className:Ce("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",n),...t}));p8.displayName=cM.displayName;const g8=p.forwardRef(({className:n,...e},t)=>m.jsx(mM,{ref:t,className:Ce("-mx-1 my-1 h-px bg-border",n),...e}));g8.displayName=mM.displayName;function bM(n){const e=p.useRef({value:n,previous:n});return p.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function v8(n){const e=y8(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(x8);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function y8(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=S8(r),u=w8(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var b8=Symbol("radix.slottable");function x8(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===b8}function w8(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function S8(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var C8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wy=C8.reduce((n,e)=>{const t=v8(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),sm="Checkbox",[_8]=Ms(sm),[E8,Sy]=_8(sm);function N8(n){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:r,disabled:o,form:c,name:u,onCheckedChange:h,required:f,value:v="on",internal_do_not_use_render:g}=n,[x,w]=Zr({prop:t,defaultProp:r??!1,onChange:h,caller:sm}),[S,C]=p.useState(null),[E,N]=p.useState(null),T=p.useRef(!1),A=S?!!c||!!S.closest("form"):!0,j={checked:x,disabled:o,setChecked:w,control:S,setControl:C,name:u,form:c,value:v,hasConsumerStoppedPropagationRef:T,required:f,defaultChecked:Vr(r)?!1:r,isFormControl:A,bubbleInput:E,setBubbleInput:N};return m.jsx(E8,{scope:e,...j,children:T8(g)?g(j):s})}var xM="CheckboxTrigger",wM=p.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...s},r)=>{const{control:o,value:c,disabled:u,checked:h,required:f,setControl:v,setChecked:g,hasConsumerStoppedPropagationRef:x,isFormControl:w,bubbleInput:S}=Sy(xM,n),C=Lt(r,v),E=p.useRef(h);return p.useEffect(()=>{const N=o?.form;if(N){const T=()=>g(E.current);return N.addEventListener("reset",T),()=>N.removeEventListener("reset",T)}},[o,g]),m.jsx(wy.button,{type:"button",role:"checkbox","aria-checked":Vr(h)?"mixed":h,"aria-required":f,"data-state":NM(h),"data-disabled":u?"":void 0,disabled:u,value:c,...s,ref:C,onKeyDown:Ae(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ae(t,N=>{g(T=>Vr(T)?!0:!T),S&&w&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})})});wM.displayName=xM;var Cy=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:s,checked:r,defaultChecked:o,required:c,disabled:u,value:h,onCheckedChange:f,form:v,...g}=n;return m.jsx(N8,{__scopeCheckbox:t,checked:r,defaultChecked:o,disabled:u,required:c,onCheckedChange:f,name:s,form:v,value:h,internal_do_not_use_render:({isFormControl:x})=>m.jsxs(m.Fragment,{children:[m.jsx(wM,{...g,ref:e,__scopeCheckbox:t}),x&&m.jsx(EM,{__scopeCheckbox:t})]})})});Cy.displayName=sm;var SM="CheckboxIndicator",CM=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:s,...r}=n,o=Sy(SM,t);return m.jsx(Xn,{present:s||Vr(o.checked)||o.checked===!0,children:m.jsx(wy.span,{"data-state":NM(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...n.style}})})});CM.displayName=SM;var _M="CheckboxBubbleInput",EM=p.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:o,defaultChecked:c,required:u,disabled:h,name:f,value:v,form:g,bubbleInput:x,setBubbleInput:w}=Sy(_M,n),S=Lt(t,w),C=bM(o),E=G0(s);p.useEffect(()=>{const T=x;if(!T)return;const A=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(A,"checked").set,P=!r.current;if(C!==o&&z){const I=new Event("click",{bubbles:P});T.indeterminate=Vr(o),z.call(T,Vr(o)?!1:o),T.dispatchEvent(I)}},[x,C,o,r]);const N=p.useRef(Vr(o)?!1:o);return m.jsx(wy.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:u,disabled:h,name:f,value:v,form:g,...e,tabIndex:-1,ref:S,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});EM.displayName=_M;function T8(n){return typeof n=="function"}function Vr(n){return n==="indeterminate"}function NM(n){return Vr(n)?"indeterminate":n?"checked":"unchecked"}const TM=p.forwardRef(({className:n,...e},t)=>m.jsx(Cy,{ref:t,className:Ce("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:m.jsx(CM,{className:Ce("grid place-content-center text-current"),children:m.jsx(P0,{className:"h-4 w-4"})})}));TM.displayName=Cy.displayName;function M8(n){const e=R8(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(j8);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function R8(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=O8(r),u=k8(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var MM=Symbol("radix.slottable");function A8(n){const e=({children:t})=>m.jsx(m.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=MM,e}function j8(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===MM}function k8(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function O8(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var D8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],I8=D8.reduce((n,e)=>{const t=M8(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function L8(n){const e=P8(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find($8);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function P8(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=B8(r),u=U8(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var z8=Symbol("radix.slottable");function $8(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===z8}function U8(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function B8(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var V8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],F8=V8.reduce((n,e)=>{const t=L8(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),H8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),W8="VisuallyHidden",RM=p.forwardRef((n,e)=>m.jsx(F8.span,{...n,ref:e,style:{...H8,...n.style}}));RM.displayName=W8;var G8=RM,[im]=Ms("Tooltip",[Cl]),rm=Cl(),AM="TooltipProvider",q8=700,t0="tooltip.open",[Y8,_y]=im(AM),jM=n=>{const{__scopeTooltip:e,delayDuration:t=q8,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:o}=n,c=p.useRef(!0),u=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),m.jsx(Y8,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:p.useCallback(f=>{u.current=f},[]),disableHoverableContent:r,children:o})};jM.displayName=AM;var nu="Tooltip",[K8,Nu]=im(nu),kM=n=>{const{__scopeTooltip:e,children:t,open:s,defaultOpen:r,onOpenChange:o,disableHoverableContent:c,delayDuration:u}=n,h=_y(nu,n.__scopeTooltip),f=rm(e),[v,g]=p.useState(null),x=Mn(),w=p.useRef(0),S=c??h.disableHoverableContent,C=u??h.delayDuration,E=p.useRef(!1),[N,T]=Zr({prop:s,defaultProp:r??!1,onChange:I=>{I?(h.onOpen(),document.dispatchEvent(new CustomEvent(t0))):h.onClose(),o?.(I)},caller:nu}),A=p.useMemo(()=>N?E.current?"delayed-open":"instant-open":"closed",[N]),j=p.useCallback(()=>{window.clearTimeout(w.current),w.current=0,E.current=!1,T(!0)},[T]),z=p.useCallback(()=>{window.clearTimeout(w.current),w.current=0,T(!1)},[T]),P=p.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{E.current=!0,T(!0),w.current=0},C)},[C,T]);return p.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),m.jsx(K0,{...f,children:m.jsx(K8,{scope:e,contentId:x,open:N,stateAttribute:A,trigger:v,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{h.isOpenDelayedRef.current?P():j()},[h.isOpenDelayedRef,P,j]),onTriggerLeave:p.useCallback(()=>{S?z():(window.clearTimeout(w.current),w.current=0)},[z,S]),onOpen:j,onClose:z,disableHoverableContent:S,children:t})})};kM.displayName=nu;var n0="TooltipTrigger",OM=p.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=Nu(n0,t),o=_y(n0,t),c=rm(t),u=p.useRef(null),h=Lt(e,u,r.onTriggerChange),f=p.useRef(!1),v=p.useRef(!1),g=p.useCallback(()=>f.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),m.jsx(Bf,{asChild:!0,...c,children:m.jsx(I8.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:h,onPointerMove:Ae(n.onPointerMove,x=>{x.pointerType!=="touch"&&!v.current&&!o.isPointerInTransitRef.current&&(r.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ae(n.onPointerLeave,()=>{r.onTriggerLeave(),v.current=!1}),onPointerDown:Ae(n.onPointerDown,()=>{r.open&&r.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ae(n.onFocus,()=>{f.current||r.onOpen()}),onBlur:Ae(n.onBlur,r.onClose),onClick:Ae(n.onClick,r.onClose)})})});OM.displayName=n0;var Ey="TooltipPortal",[X8,J8]=im(Ey,{forceMount:void 0}),DM=n=>{const{__scopeTooltip:e,forceMount:t,children:s,container:r}=n,o=Nu(Ey,e);return m.jsx(X8,{scope:e,forceMount:t,children:m.jsx(Xn,{present:t||o.open,children:m.jsx(pu,{asChild:!0,container:r,children:s})})})};DM.displayName=Ey;var hl="TooltipContent",IM=p.forwardRef((n,e)=>{const t=J8(hl,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...o}=n,c=Nu(hl,n.__scopeTooltip);return m.jsx(Xn,{present:s||c.open,children:c.disableHoverableContent?m.jsx(LM,{side:r,...o,ref:e}):m.jsx(Q8,{side:r,...o,ref:e})})}),Q8=p.forwardRef((n,e)=>{const t=Nu(hl,n.__scopeTooltip),s=_y(hl,n.__scopeTooltip),r=p.useRef(null),o=Lt(e,r),[c,u]=p.useState(null),{trigger:h,onClose:f}=t,v=r.current,{onPointerInTransitChange:g}=s,x=p.useCallback(()=>{u(null),g(!1)},[g]),w=p.useCallback((S,C)=>{const E=S.currentTarget,N={x:S.clientX,y:S.clientY},T=sV(N,E.getBoundingClientRect()),A=iV(N,T),j=rV(C.getBoundingClientRect()),z=oV([...A,...j]);u(z),g(!0)},[g]);return p.useEffect(()=>()=>x(),[x]),p.useEffect(()=>{if(h&&v){const S=E=>w(E,v),C=E=>w(E,h);return h.addEventListener("pointerleave",S),v.addEventListener("pointerleave",C),()=>{h.removeEventListener("pointerleave",S),v.removeEventListener("pointerleave",C)}}},[h,v,w,x]),p.useEffect(()=>{if(c){const S=C=>{const E=C.target,N={x:C.clientX,y:C.clientY},T=h?.contains(E)||v?.contains(E),A=!aV(N,c);T?x():A&&(x(),f())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[h,v,c,f,x]),m.jsx(LM,{...n,ref:o})}),[Z8,eV]=im(nu,{isInside:!1}),tV=A8("TooltipContent"),LM=p.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=n,h=Nu(hl,t),f=rm(t),{onClose:v}=h;return p.useEffect(()=>(document.addEventListener(t0,v),()=>document.removeEventListener(t0,v)),[v]),p.useEffect(()=>{if(h.trigger){const g=x=>{x.target?.contains(h.trigger)&&v()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,v]),m.jsx(fu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:v,children:m.jsxs(X0,{"data-state":h.stateAttribute,...f,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(tV,{children:s}),m.jsx(Z8,{scope:t,isInside:!0,children:m.jsx(G8,{id:h.contentId,role:"tooltip",children:r||s})})]})})});IM.displayName=hl;var PM="TooltipArrow",nV=p.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=rm(t);return eV(PM,t).isInside?null:m.jsx(J0,{...r,...s,ref:e})});nV.displayName=PM;function sV(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,s,r,o)){case o:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function iV(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function rV(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function aV(n,e){const{x:t,y:s}=n;let r=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],h=e[c],f=u.x,v=u.y,g=h.x,x=h.y;v>s!=x>s&&t<(g-f)*(s-v)/(x-v)+f&&(r=!r)}return r}function oV(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),lV(e)}function lV(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(r.y-c.y)>=(o.y-c.y)*(r.x-c.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const o=t[t.length-1],c=t[t.length-2];if((o.x-c.x)*(r.y-c.y)>=(o.y-c.y)*(r.x-c.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var cV=jM,uV=kM,dV=OM,hV=DM,zM=IM;const fV=cV,$M=uV,UM=dV,Ny=p.forwardRef(({className:n,sideOffset:e=4,...t},s)=>m.jsx(hV,{children:m.jsx(zM,{ref:s,sideOffset:e,className:Ce("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t})}));Ny.displayName=zM.displayName;const mV=n=>({IBM:{name:"International Business Machines",high:146.5,low:144.2,volume:"3.2M"},AAPL:{name:"Apple Inc.",high:182.1,low:178.5,volume:"52.4M"},MSFT:{name:"Microsoft Corporation",high:340.2,low:335.8,volume:"21.1M"},GOOGL:{name:"Alphabet Inc.",high:135.4,low:132.1,volume:"18.5M"},TSLA:{name:"Tesla, Inc.",high:250.3,low:242.1,volume:"110.2M"}})[n]||{name:n,high:0,low:0,volume:"0"},pV=({item:n,onSelect:e,onRemove:t,isSelected:s,onSelectChange:r,selectionMode:o})=>{const[c,u]=p.useState(null),h=p.useRef(n.price),f=mV(n.symbol),{attributes:v,listeners:g,setNodeRef:x,transform:w,transition:S,isDragging:C}=kB({id:n.symbol}),E={transform:eu.Transform.toString(w),transition:S,zIndex:C?10:0,position:"relative",opacity:C?.5:1};return p.useEffect(()=>{if(n.price!==void 0&&n.price!==h.current){if(h.current!==void 0&&n.price>h.current){u("up");const N=setTimeout(()=>u(null),1e3);return()=>clearTimeout(N)}else if(h.current!==void 0&&n.price<h.current){u("down");const N=setTimeout(()=>u(null),1e3);return()=>clearTimeout(N)}h.current=n.price}},[n.price]),m.jsxs(vM,{children:[m.jsx(yM,{asChild:!0,children:m.jsxs(uy,{ref:x,style:E,tabIndex:0,className:Ce("border-slate-800 hover:bg-slate-800/50 cursor-pointer group transition-colors duration-500 focus:outline-none focus:bg-slate-800/70",C&&"bg-slate-800/80",s&&"bg-blue-500/10 hover:bg-blue-500/20"),onClick:()=>o?r(n.symbol,!s):e(n.symbol),onKeyDown:N=>{(N.key==="Delete"||N.key==="Backspace")&&t(n.symbol),N.key==="Enter"&&!o&&e(n.symbol)},children:[m.jsx(Oc,{className:"w-8 p-0 pl-2",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{...v,...g,className:"cursor-grab active:cursor-grabbing p-1 text-slate-600 hover:text-slate-400",children:m.jsx(nL,{className:"h-4 w-4"})}),o&&m.jsx(TM,{checked:s,onCheckedChange:N=>r(n.symbol,!!N),onClick:N=>N.stopPropagation()})]})}),m.jsx(Oc,{className:"font-bold text-slate-200 py-3",children:m.jsxs($M,{delayDuration:300,children:[m.jsx(UM,{asChild:!0,children:m.jsx("span",{children:n.symbol})}),m.jsx(Ny,{side:"right",className:"bg-slate-900 border-slate-800 p-3 w-64 shadow-xl",children:m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"border-b border-slate-800 pb-1",children:[m.jsx("p",{className:"text-sm font-bold text-white",children:f.name}),m.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:[n.symbol,"  NYSE"]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Day High"}),m.jsxs("p",{className:"text-xs text-slate-300",children:["$",f.high.toFixed(2)]})]}),m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Day Low"}),m.jsxs("p",{className:"text-xs text-slate-300",children:["$",f.low.toFixed(2)]})]}),m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Volume"}),m.jsx("p",{className:"text-xs text-slate-300",children:f.volume})]}),m.jsxs("div",{className:"space-y-0.5",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Price Chg"}),m.jsx("p",{className:Ce("text-xs font-medium",(n.change??0)>=0?"text-emerald-500":"text-rose-500"),children:n.change!==void 0?(n.change>=0?"+":"")+n.change.toFixed(2):"--"})]})]})]})})]})}),m.jsx(Oc,{className:Ce("text-right text-slate-300 transition-colors duration-300",c==="up"&&"bg-emerald-500/20 text-emerald-400",c==="down"&&"bg-rose-500/20 text-rose-400"),children:n.error?m.jsx("span",{className:"text-slate-600 text-xs",children:n.error}):n.price!==void 0?n.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):m.jsx("span",{className:"text-slate-600 text-xs",children:"--"})}),m.jsx(Oc,{className:"text-right",children:n.error?m.jsx("span",{className:"text-slate-600 text-xs",children:"--"}):n.changePercent!==void 0?m.jsxs("span",{className:(n.change??0)>=0?"text-emerald-500":"text-rose-500",children:[n.changePercent>=0?"+":"",n.changePercent.toFixed(2),"%"]}):m.jsx("span",{className:"text-slate-600 text-xs",children:"--"})})]})}),m.jsxs(xy,{className:"bg-slate-900 border-slate-800 text-slate-300",children:[m.jsxs(La,{className:"hover:bg-slate-800 cursor-pointer",children:[m.jsx(cl,{className:"mr-2 h-4 w-4"})," Set Alert"]}),m.jsxs(La,{className:"hover:bg-slate-800 cursor-pointer text-rose-500 focus:text-rose-400",onClick:N=>{N.stopPropagation(),t(n.symbol)},children:[m.jsx(hu,{className:"mr-2 h-4 w-4"})," Remove"]})]})]})},gV=({items:n,onAddClick:e,onRemove:t,onSelect:s,onReorder:r,isRefreshing:o,lastUpdate:c})=>{const[u,h]=p.useState([]),[f,v]=p.useState(!1),[g,x]=p.useState(null),[w,S]=p.useState(null),C=dU(Kg(yy,{activationConstraint:{distance:8}}),Kg(LT,{activationConstraint:{delay:250,tolerance:5}}),Kg(gy,{coordinateGetter:IB})),E=P=>{const{active:I,over:B}=P;B&&I.id!==B.id&&(r&&r([{symbol:I.id},{symbol:B.id}]),x(null),S(null))},N=(P,I)=>{h(I?B=>[...B,P]:B=>B.filter(X=>X!==P))},T=()=>{f&&h([]),v(!f)},A=()=>{t(u),h([]),v(!1)},j=P=>{let I="asc";if(g===P&&(w==="asc"?I="desc":w==="desc"&&(I=null)),x(I?P:null),S(I),I){const B=[...n].sort((X,se)=>{const G=X[P]??0,ee=se[P]??0;return G<ee?I==="asc"?-1:1:G>ee?I==="asc"?1:-1:0});r(B)}},z=({field:P})=>g!==P?m.jsx(aS,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-50"}):w==="asc"?m.jsx(W5,{className:"ml-1 h-3 w-3 text-blue-400"}):w==="desc"?m.jsx(U5,{className:"ml-1 h-3 w-3 text-blue-400"}):m.jsx(aS,{className:"ml-1 h-3 w-3 opacity-50"});return m.jsxs("div",{className:"flex flex-col flex-1 min-h-0","data-testid":"watchlist-container",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:["Watchlist",o&&m.jsxs("span",{className:"ml-2 flex items-center gap-1 text-xs text-slate-600",children:[m.jsx("div",{className:"animate-spin rounded-full h-2 w-2 border border-slate-500 border-t-transparent"}),"Updating..."]})]}),n.length>0&&m.jsx(Pe,{variant:"ghost",size:"sm",className:Ce("h-6 px-2 text-[10px] uppercase font-bold",f?"text-blue-400 bg-blue-500/10":"text-slate-600 hover:text-slate-400"),onClick:T,children:f?"Cancel":"Edit"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[c&&!o&&n.length>0&&m.jsx("span",{className:"text-[10px] text-slate-600",children:c.toLocaleTimeString()}),f?m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-rose-500 hover:text-rose-400 hover:bg-rose-500/10",onClick:A,disabled:u.length===0,children:m.jsx(hu,{className:"h-4 w-4"})}):m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:e,"aria-label":"Add Symbol",children:m.jsx(hL,{className:"h-4 w-4"})})]})]}),n.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 border-2 border-dashed border-slate-800 rounded-lg p-8 text-center space-y-4 mx-1",children:[m.jsx("div",{className:"bg-slate-900 p-3 rounded-full",children:m.jsx(If,{className:"h-6 w-6 text-slate-600"})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Add your first symbol"}),m.jsx("p",{className:"text-xs text-slate-500",children:"Track your favorite stocks and crypto"})]}),m.jsx(Pe,{size:"sm",onClick:e,className:"mt-2",children:"Add Symbol"})]}):m.jsx("div",{className:"flex-1 overflow-auto px-1",children:m.jsx(hB,{sensors:C,collisionDetection:fU,onDragEnd:E,children:m.jsxs(bT,{children:[m.jsx(xT,{className:"hover:bg-transparent",children:m.jsxs(uy,{className:"border-slate-800 hover:bg-transparent",children:[m.jsx(kc,{className:Ce("w-8",f&&"w-16")}),m.jsx(kc,{className:"text-xs font-medium text-slate-500 cursor-pointer hover:text-slate-300 group transition-colors",onClick:()=>j("symbol"),children:m.jsxs("div",{className:"flex items-center",children:["Symbol ",m.jsx(z,{field:"symbol"})]})}),m.jsx(kc,{className:"text-right text-xs font-medium text-slate-500 cursor-pointer hover:text-slate-300 group transition-colors",onClick:()=>j("price"),children:m.jsxs("div",{className:"flex items-center justify-end",children:["Last ",m.jsx(z,{field:"price"})]})}),m.jsx(kc,{className:"text-right text-xs font-medium text-slate-500 cursor-pointer hover:text-slate-300 group transition-colors",onClick:()=>j("changePercent"),children:m.jsxs("div",{className:"flex items-center justify-end",children:["Chg% ",m.jsx(z,{field:"changePercent"})]})})]})}),m.jsx(wT,{children:m.jsx(EB,{items:n.map(P=>P.symbol),strategy:CB,children:n.map(P=>m.jsx(pV,{item:P,onSelect:s,onRemove:I=>t([I]),isSelected:u.includes(P.symbol),onSelectChange:N,selectionMode:f},P.symbol))})})]})})})]})},vV=JE("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zg({className:n,variant:e,...t}){return m.jsx("div",{className:Ce(vV({variant:e}),n),...t})}const yV=({alerts:n,onToggleMute:e,onDelete:t,onSelect:s,onTriggerDemo:r,onToggleNotification:o})=>{const[c,u]=p.useState("all"),[h,f]=p.useState(""),[v,g]=p.useState(null),x=n.filter(S=>{const C=c==="all"||S.status===c,E=S.symbol||"",N=S.condition||"",T=E.toLowerCase().includes(h.toLowerCase())||N.toLowerCase().includes(h.toLowerCase());return C&&T}),w=(S,C,E)=>[{key:"toast",label:"Toast"},{key:"sound",label:"Sound"},{key:"telegram",label:"Telegram"}].map(({key:T,label:A})=>{const j=C?.[T==="toast"?"toastEnabled":T==="sound"?"soundEnabled":"telegramEnabled"],P={toast:"",sound:"",telegram:""}[T],I=j===!0,B=I?"text-emerald-400":"text-red-400",X=I?`${A}: enabled (click to disable)`:`${A}: disabled (click to enable)`,se=E?()=>E(T):void 0;return m.jsxs("button",{type:"button",onClick:se,disabled:!E,className:Ce("text-lg transition-transform hover:scale-110 focus:outline-none focus:ring-1 focus:ring-blue-500 rounded p-0.5 relative",B,E?"cursor-pointer":"cursor-default"),title:X,children:[P,!I&&m.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center",children:m.jsx("span",{className:"text-[10px] leading-none font-bold text-red-500 drop-shadow-md",children:""})})]},T)});return m.jsxs("div",{className:"flex flex-col flex-1 min-h-0 w-full","data-testid":"alerts-list-container",children:[m.jsxs("div",{className:"sticky top-0 z-10 bg-slate-900 flex items-center justify-between px-1 shrink-0 mb-4",children:[m.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Monitoring"}),m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:r?()=>r("new"):void 0,title:"Add Alert",children:m.jsx(cS,{className:"h-4 w-4"})})]}),m.jsxs("div",{className:"space-y-4 shrink-0 mb-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(If,{className:"absolute left-2 top-2.5 h-4 w-4 text-slate-500"}),m.jsx(zi,{placeholder:"Filter alerts...",className:"pl-8 bg-slate-900 border-slate-800",value:h,onChange:S=>f(S.target.value)})]}),m.jsx("div",{className:"flex gap-1 p-1 bg-slate-900 rounded-md border border-slate-800",children:["all","active","triggered"].map(S=>m.jsx(Pe,{variant:"ghost",size:"sm",className:Ce("flex-1 text-xs capitalize h-7",c===S?"bg-slate-800 text-blue-400":"text-slate-500"),onClick:()=>u(S),children:S},S))})]}),m.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 space-y-2 pr-1",children:x.length===0?m.jsxs("div",{className:"py-2 text-center space-y-2",children:[m.jsx(Dg,{className:"h-8 w-8 text-slate-700 mx-auto"}),m.jsx("p",{className:"text-sm text-slate-500",children:"No alerts found"})]}):x.map(S=>m.jsxs(vM,{children:[m.jsx(yM,{asChild:!0,children:m.jsxs("div",{tabIndex:0,onClick:()=>g(v===S.id?null:S.id),onKeyDown:C=>{C.key.toLowerCase()==="m"&&e(S.id),(C.key==="Delete"||C.key==="Backspace")&&t(S.id),C.key==="Enter"&&s(S.symbol)},className:Ce("bg-slate-900 border border-slate-800 rounded-lg p-3 space-y-3 group hover:border-slate-700 transition-all focus:outline-none focus:ring-1 focus:ring-blue-500 cursor-pointer",v===S.id&&"border-blue-500/50 bg-slate-900/80"),children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[m.jsx("span",{className:"font-bold text-slate-200",children:S.symbol}),S.interval&&m.jsx(Zg,{variant:"outline",className:"text-[10px] uppercase h-4 px-1 text-slate-400 border-slate-600 bg-slate-800",children:S.interval}),S.indicator_name&&m.jsx(Zg,{variant:"outline",className:"text-[10px] uppercase h-4 px-1 text-blue-400 border-blue-500/20 bg-blue-500/5",children:S.indicator_name.toUpperCase()}),m.jsx(Zg,{variant:"outline",className:Ce("text-[10px] uppercase h-4 px-1",S.status==="active"?"text-emerald-500 border-emerald-500/20 bg-emerald-500/5":S.status==="triggered"?"text-amber-500 border-amber-500/20 bg-amber-500/5 animate-pulse":"text-slate-500 border-slate-500/20 bg-slate-500/5"),children:S.status})]}),m.jsx("div",{className:"flex items-center gap-1",title:"Notification settings - click to toggle",children:w(S.id,S.notificationSettings,o?C=>o(S.id,C):void 0)}),m.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:[S.indicator_name?(()=>{const C=`${S.indicator_name.toUpperCase()}${S.indicator_field?`.${S.indicator_field}`:""}`;if(S.enabled_conditions){const E=Object.entries(S.enabled_conditions).filter(([,N])=>N).map(([N])=>N);if(E.length>0){const N=E.map(T=>T.replace("indicator_","").replace(/_/g," ")).join(", ");return`${C} - ${N}`}}return`${C} - ${S.condition.replace("indicator_","").replace("_"," ")}`})():S.condition.replace("_"," "),S.threshold!==null&&S.threshold!==void 0&&` @ ${S.threshold}`]})]}),m.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-white",title:`View ${S.symbol} on chart`,onClick:C=>{C.stopPropagation(),s(S.symbol)},children:m.jsx(lS,{className:"h-3.5 w-3.5"})}),m.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-white",title:`${S.status==="muted"?"Unmute":"Mute"} alert for ${S.symbol}`,onClick:C=>{C.stopPropagation(),e(S.id)},children:S.status==="muted"?m.jsx(cl,{className:"h-3.5 w-3.5"}):m.jsx(Dg,{className:"h-3.5 w-3.5"})})]})]}),v===S.id&&m.jsxs("div",{className:"pt-2 border-t border-slate-800/50 space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[S.statistics&&m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px]",children:[m.jsxs("div",{className:"bg-slate-950/50 p-1.5 rounded border border-slate-800/50",children:[m.jsx("p",{className:"text-slate-500 uppercase font-semibold mb-0.5",children:"Trigger count (24h)"}),m.jsx("p",{className:"text-slate-300",children:S.statistics.triggerCount24h})]}),m.jsxs("div",{className:"bg-slate-950/50 p-1.5 rounded border border-slate-800/50",children:[m.jsx("p",{className:"text-slate-500 uppercase font-semibold mb-0.5",children:"Last triggered"}),m.jsx("p",{className:"text-slate-300",children:S.statistics.lastTriggered?new Date(S.statistics.lastTriggered).toLocaleTimeString():"Never"})]})]}),S.history&&S.history.length>0&&m.jsxs("div",{className:"space-y-1.5",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Trigger History"}),m.jsx("div",{className:"space-y-1 max-h-24 overflow-auto pr-1",children:S.history.map((C,E)=>m.jsxs("div",{className:"flex justify-between text-[10px] py-1 border-b border-slate-800/30 last:border-0",children:[m.jsx("span",{className:"text-slate-400",children:new Date(C.timestamp).toLocaleString()}),m.jsxs("div",{className:"flex gap-2",children:[C.price!==void 0&&C.price!==null&&m.jsxs("span",{className:"text-slate-200 font-mono",children:["$",C.price]}),C.indicator_value!==void 0&&C.indicator_value!==null&&m.jsx("span",{className:"text-blue-400 font-mono",children:C.indicator_value.toFixed(2)})]})]},E))})]})]}),m.jsx("div",{className:"text-[10px] text-slate-600 flex justify-between items-center",children:m.jsxs("span",{children:["Created ",new Date(S.createdAt).toLocaleDateString()]})})]})}),m.jsxs(xy,{className:"bg-slate-900 border-slate-800 text-slate-300",children:[m.jsxs(La,{className:"hover:bg-slate-800 cursor-pointer",onClick:()=>s(S.symbol),children:[m.jsx(lS,{className:"mr-2 h-4 w-4"})," View on Chart"]}),m.jsxs(La,{className:"hover:bg-slate-800 cursor-pointer",onClick:()=>e(S.id),children:[S.status==="muted"?m.jsx(cl,{className:"mr-2 h-4 w-4"}):m.jsx(Dg,{className:"mr-2 h-4 w-4"}),S.status==="muted"?"Unmute":"Mute"]}),r&&m.jsxs(La,{className:"hover:bg-slate-800 cursor-pointer text-amber-500 focus:text-amber-400",onClick:()=>r(S.id),children:[m.jsx(cS,{className:"mr-2 h-4 w-4"})," Trigger (Demo)"]}),m.jsxs(La,{className:"hover:bg-slate-800 cursor-pointer text-rose-500 focus:text-rose-400",onClick:()=>t(S.id),children:[m.jsx(hu,{className:"mr-2 h-4 w-4"})," Delete"]})]})]},S.id))})]})},bV=()=>{};var hC={};const BM=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let r=n.charCodeAt(s);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},xV=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const r=n[t++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],c=n[t++],u=n[t++],h=((r&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},VM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,u=c?n[r+1]:0,h=r+2<n.length,f=h?n[r+2]:0,v=o>>2,g=(o&3)<<4|u>>4;let x=(u&15)<<2|f>>6,w=f&63;h||(w=64,c||(x=64)),s.push(t[v],t[g],t[x],t[w])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const g=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||g==null)throw new wV;const x=o<<2|u>>4;if(s.push(x),f!==64){const w=u<<4&240|f>>2;if(s.push(w),g!==64){const S=f<<6&192|g;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SV=function(n){const e=BM(n);return VM.encodeByteArray(e,!0)},FM=function(n){return SV(n).replace(/\./g,"")},HM=function(n){try{return VM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _V=()=>CV().__FIREBASE_DEFAULTS__,EV=()=>{if(typeof process>"u"||typeof hC>"u")return;const n=hC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&HM(n[1]);return e&&JSON.parse(e)},Ty=()=>{try{return bV()||_V()||EV()||NV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TV=n=>Ty()?.emulatorHosts?.[n],WM=()=>Ty()?.config,GM=n=>Ty()?.[`_${n}`];class MV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function am(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RV(n){return(await fetch(n,{credentials:"include"})).ok}const Uc={};function AV(){const n={prod:[],emulator:[]};for(const e of Object.keys(Uc))Uc[e]?n.emulator.push(e):n.prod.push(e);return n}function jV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let fC=!1;function kV(n,e){if(typeof window>"u"||typeof document>"u"||!am(window.location.host)||Uc[n]===e||Uc[n]||fC)return;Uc[n]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",o=AV().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{fC=!0,c()},x}function v(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=jV(s),w=t("text"),S=document.getElementById(w)||document.createElement("span"),C=t("learnmore"),E=document.getElementById(C)||document.createElement("a"),N=t("preprendIcon"),T=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const A=x.element;u(A),v(E,C);const j=f();h(T,N),A.append(T,S,E,j),document.body.appendChild(A)}o?(S.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function DV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PV(){const n=An();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zV(){try{return typeof indexedDB=="object"}catch{return!1}}function $V(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}const UV="FirebaseError";class ea extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=UV,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?BV(o,s):"Error",u=`${this.serviceName}: ${c} (${r}).`;return new ea(r,u,s)}}function BV(n,e){return n.replace(VV,(t,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const VV=/\{\$([^}]+)}/g;function FV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fl(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const r of t){if(!s.includes(r))return!1;const o=n[r],c=e[r];if(mC(o)&&mC(c)){if(!fl(o,c))return!1}else if(o!==c)return!1}for(const r of s)if(!t.includes(r))return!1;return!0}function mC(n){return n!==null&&typeof n=="object"}function Mu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,o]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Ic(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function HV(n,e){const t=new WV(n,e);return t.subscribe.bind(t)}class WV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let r;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");GV(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:s},r.next===void 0&&(r.next=ev),r.error===void 0&&(r.error=ev),r.complete===void 0&&(r.complete=ev);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ev(){}function As(n){return n&&n._delegate?n._delegate:n}class ml{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Da="[DEFAULT]";class qV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new MV;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KV(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);s===u&&c.resolve(r)}return r}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const r of s)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YV(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YV(n){return n===Da?void 0:n}function KV(n){return n.instantiationMode==="EAGER"}class XV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ct||(Ct={}));const JV={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},QV=Ct.INFO,ZV={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},eF=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),r=ZV[e];if(r)console[r](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qM{constructor(e){this.name=e,this._logLevel=QV,this._logHandler=eF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const tF=(n,e)=>e.some(t=>n instanceof t);let pC,gC;function nF(){return pC||(pC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sF(){return gC||(gC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YM=new WeakMap,s0=new WeakMap,KM=new WeakMap,tv=new WeakMap,My=new WeakMap;function iF(n){const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Fr(n.result)),r()},c=()=>{s(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&YM.set(t,n)}).catch(()=>{}),My.set(e,n),e}function rF(n){if(s0.has(n))return;const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});s0.set(n,e)}let i0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return s0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aF(n){i0=n(i0)}function oF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(nv(this),e,...t);return KM.set(s,e.sort?e.sort():[e]),Fr(s)}:sF().includes(n)?function(...e){return n.apply(nv(this),e),Fr(YM.get(this))}:function(...e){return Fr(n.apply(nv(this),e))}}function lF(n){return typeof n=="function"?oF(n):(n instanceof IDBTransaction&&rF(n),tF(n,nF())?new Proxy(n,i0):n)}function Fr(n){if(n instanceof IDBRequest)return iF(n);if(tv.has(n))return tv.get(n);const e=lF(n);return e!==n&&(tv.set(n,e),My.set(e,n)),e}const nv=n=>My.get(n);function cF(n,e,{blocked:t,upgrade:s,blocking:r,terminated:o}={}){const c=indexedDB.open(n,e),u=Fr(c);return s&&c.addEventListener("upgradeneeded",h=>{s(Fr(c.result),h.oldVersion,h.newVersion,Fr(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const uF=["get","getKey","getAll","getAllKeys","count"],dF=["put","add","delete","clear"],sv=new Map;function vC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(sv.get(e))return sv.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,r=dF.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(r||uF.includes(t)))return;const o=async function(c,...u){const h=this.transaction(c,r?"readwrite":"readonly");let f=h.store;return s&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&h.done]))[0]};return sv.set(e,o),o}aF(n=>({...n,get:(e,t,s)=>vC(e,t)||n.get(e,t,s),has:(e,t)=>!!vC(e,t)||n.has(e,t)}));class hF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fF(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function fF(n){return n.getComponent()?.type==="VERSION"}const r0="@firebase/app",yC="0.14.6";const Yi=new qM("@firebase/app"),mF="@firebase/app-compat",pF="@firebase/analytics-compat",gF="@firebase/analytics",vF="@firebase/app-check-compat",yF="@firebase/app-check",bF="@firebase/auth",xF="@firebase/auth-compat",wF="@firebase/database",SF="@firebase/data-connect",CF="@firebase/database-compat",_F="@firebase/functions",EF="@firebase/functions-compat",NF="@firebase/installations",TF="@firebase/installations-compat",MF="@firebase/messaging",RF="@firebase/messaging-compat",AF="@firebase/performance",jF="@firebase/performance-compat",kF="@firebase/remote-config",OF="@firebase/remote-config-compat",DF="@firebase/storage",IF="@firebase/storage-compat",LF="@firebase/firestore",PF="@firebase/ai",zF="@firebase/firestore-compat",$F="firebase",UF="12.6.0";const a0="[DEFAULT]",BF={[r0]:"fire-core",[mF]:"fire-core-compat",[gF]:"fire-analytics",[pF]:"fire-analytics-compat",[yF]:"fire-app-check",[vF]:"fire-app-check-compat",[bF]:"fire-auth",[xF]:"fire-auth-compat",[wF]:"fire-rtdb",[SF]:"fire-data-connect",[CF]:"fire-rtdb-compat",[_F]:"fire-fn",[EF]:"fire-fn-compat",[NF]:"fire-iid",[TF]:"fire-iid-compat",[MF]:"fire-fcm",[RF]:"fire-fcm-compat",[AF]:"fire-perf",[jF]:"fire-perf-compat",[kF]:"fire-rc",[OF]:"fire-rc-compat",[DF]:"fire-gcs",[IF]:"fire-gcs-compat",[LF]:"fire-fst",[zF]:"fire-fst-compat",[PF]:"fire-vertex","fire-js":"fire-js",[$F]:"fire-js-all"};const su=new Map,VF=new Map,o0=new Map;function bC(n,e){try{n.container.addComponent(e)}catch(t){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function iu(n){const e=n.name;if(o0.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;o0.set(e,n);for(const t of su.values())bC(t,n);for(const t of VF.values())bC(t,n);return!0}function XM(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cs(n){return n==null?!1:n.settings!==void 0}const FF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Tu("app","Firebase",FF);class HF{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ml("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}const Ru=UF;function JM(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:a0,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Hr.create("bad-app-name",{appName:String(r)});if(t||(t=WM()),!t)throw Hr.create("no-options");const o=su.get(r);if(o){if(fl(t,o.options)&&fl(s,o.config))return o;throw Hr.create("duplicate-app",{appName:r})}const c=new XV(r);for(const h of o0.values())c.addComponent(h);const u=new HF(t,s,c);return su.set(r,u),u}function WF(n=a0){const e=su.get(n);if(!e&&n===a0&&WM())return JM();if(!e)throw Hr.create("no-app",{appName:n});return e}function xC(){return Array.from(su.values())}function sl(n,e,t){let s=BF[n]??n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(c.join(" "));return}iu(new ml(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const GF="firebase-heartbeat-database",qF=1,ru="firebase-heartbeat-store";let iv=null;function QM(){return iv||(iv=cF(GF,qF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hr.create("idb-open",{originalErrorMessage:n.message})})),iv}async function YF(n){try{const t=(await QM()).transaction(ru),s=await t.objectStore(ru).get(ZM(n));return await t.done,s}catch(e){if(e instanceof ea)Yi.warn(e.message);else{const t=Hr.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(t.message)}}}async function wC(n,e){try{const s=(await QM()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,ZM(n)),await s.done}catch(t){if(t instanceof ea)Yi.warn(t.message);else{const s=Hr.create("idb-set",{originalErrorMessage:t?.message});Yi.warn(s.message)}}}function ZM(n){return`${n.name}!${n.options.appId}`}const KF=1024,XF=30;class JF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZF(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>XF){const r=e9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=SC(),{heartbeatsToSend:t,unsentEntries:s}=QF(this._heartbeatsCache.heartbeats),r=FM(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Yi.warn(e),""}}}function SC(){return new Date().toISOString().substring(0,10)}function QF(n,e=KF){const t=[];let s=n.slice();for(const r of n){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),CC(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),CC(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ZF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zV()?$V().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return wC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function CC(n){return FM(JSON.stringify({version:2,heartbeats:n})).length}function e9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function t9(n){iu(new ml("platform-logger",e=>new hF(e),"PRIVATE")),iu(new ml("heartbeat",e=>new JF(e),"PRIVATE")),sl(r0,yC,n),sl(r0,yC,"esm2020"),sl("fire-js","")}t9("");function eR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n9=eR,tR=new Tu("auth","Firebase",eR());const df=new qM("@firebase/auth");function s9(n,...e){df.logLevel<=Ct.WARN&&df.warn(`Auth (${Ru}): ${n}`,...e)}function Bh(n,...e){df.logLevel<=Ct.ERROR&&df.error(`Auth (${Ru}): ${n}`,...e)}function Ts(n,...e){throw jy(n,...e)}function Ps(n,...e){return jy(n,...e)}function Ry(n,e,t){const s={...n9(),[e]:t};return new Tu("auth","Firebase",s).create(e,{appName:n.name})}function ri(n){return Ry(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ts(n,"argument-error"),Ry(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jy(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return tR.create(n,...e)}function Ie(n,e,...t){if(!n)throw jy(e,...t)}function Bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bh(e),new Error(e)}function Ki(n,e){n||Bi(e)}function l0(){return typeof self<"u"&&self.location?.href||""}function i9(){return _C()==="http:"||_C()==="https:"}function _C(){return typeof self<"u"&&self.location?.protocol||null}function r9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(i9()||IV()||"connection"in navigator)?navigator.onLine:!0}function a9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Au{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=OV()||LV()}get(){return r9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ky(n,e){Ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class nR{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const o9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const l9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c9=new Au(3e4,6e4);function Xi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ji(n,e,t,s,r={}){return sR(n,r,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const u=Mu({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...o};return DV()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&am(n.emulatorConfig.host)&&(f.credentials="include"),nR.fetch()(await iR(n,n.config.apiHost,t,u),f)})}async function sR(n,e,t){n._canInitEmulator=!1;const s={...o9,...e};try{const r=new d9(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw fh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw fh(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw fh(n,"user-disabled",c);const v=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Ry(n,v,f);Ts(n,v)}}catch(r){if(r instanceof ea)throw r;Ts(n,"network-request-failed",{message:String(r)})}}async function ju(n,e,t,s,r={}){const o=await Ji(n,e,t,s,r);return"mfaPendingCredential"in o&&Ts(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function iR(n,e,t,s){const r=`${e}${t}?${s}`,o=n,c=o.config.emulator?ky(n.config,r):`${n.config.apiScheme}://${r}`;return l9.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function u9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ps(this.auth,"network-request-failed")),c9.get())})}}function fh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const r=Ps(n,e,s);return r.customData._tokenResponse=t,r}function EC(n){return n!==void 0&&n.enterprise!==void 0}class h9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return u9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f9(n,e){return Ji(n,"GET","/v2/recaptchaConfig",Xi(n,e))}async function m9(n,e){return Ji(n,"POST","/v1/accounts:delete",e)}async function hf(n,e){return Ji(n,"POST","/v1/accounts:lookup",e)}function Bc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p9(n,e=!1){const t=As(n),s=await t.getIdToken(e),r=Oy(s);Ie(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:s,authTime:Bc(rv(r.auth_time)),issuedAtTime:Bc(rv(r.iat)),expirationTime:Bc(rv(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function rv(n){return Number(n)*1e3}function Oy(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const r=HM(t);return r?JSON.parse(r):(Bh("Failed to decode base64 JWT payload"),null)}catch(r){return Bh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function NC(n){const e=Oy(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function au(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ea&&g9(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function g9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class v9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class c0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ff(n){const e=n.auth,t=await n.getIdToken(),s=await au(n,hf(e,{idToken:t}));Ie(s?.users.length,e,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?rR(r.providerUserInfo):[],c=b9(n.providerData,o),u=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!c?.length,f=u?h:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new c0(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,v)}async function y9(n){const e=As(n);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b9(n,e){return[...n.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function rR(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function x9(n,e){const t=await sR(n,{},async()=>{const s=Mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await iR(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:s};return n.emulatorConfig&&am(n.emulatorConfig.host)&&(h.credentials="include"),nR.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function w9(n,e){return Ji(n,"POST","/v2/accounts:revokeToken",Xi(n,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=NC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:r,expiresIn:o}=await x9(e,t);this.updateTokensAndExpiration(s,r,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:r,expirationTime:o}=t,c=new il;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),r&&(Ie(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(Ie(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Bi("not implemented")}}function Rr(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ls{constructor({uid:e,auth:t,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new v9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new c0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return p9(this,e)}reload(){return y9(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ls({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ff(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await au(this,m9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:S,stsTokenManager:C}=t;Ie(g&&C,e,"internal-error");const E=il.fromJSON(this.name,C);Ie(typeof g=="string",e,"internal-error"),Rr(s,e.name),Rr(r,e.name),Ie(typeof x=="boolean",e,"internal-error"),Ie(typeof w=="boolean",e,"internal-error"),Rr(o,e.name),Rr(c,e.name),Rr(u,e.name),Rr(h,e.name),Rr(f,e.name),Rr(v,e.name);const N=new Ls({uid:g,auth:e,email:r,emailVerified:x,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:E,createdAt:f,lastLoginAt:v});return S&&Array.isArray(S)&&(N.providerData=S.map(T=>({...T}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,t,s=!1){const r=new il;r.updateFromServerResponse(t);const o=new Ls({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await ff(o),o}static async _fromGetAccountInfoResponse(e,t,s){const r=t.users[0];Ie(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?rR(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,u=new il;u.updateFromIdToken(s);const h=new Ls({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:c}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new c0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(h,f),h}}const TC=new Map;function Vi(n){Ki(n instanceof Function,"Expected a class definition");let e=TC.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TC.set(n,e),e)}class aR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aR.type="NONE";const MC=aR;function Vh(n,e,t){return`firebase:${n}:${e}:${t}`}class rl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:r,name:o}=this.auth;this.fullUserKey=Vh(this.userKey,r.apiKey,o),this.fullPersistenceKey=Vh("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await hf(this.auth,{idToken:e}).catch(()=>{});return t?Ls._fromGetAccountInfoResponse(this.auth,t,e):null}return Ls._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new rl(Vi(MC),e,s);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Vi(MC);const c=Vh(s,e.config.apiKey,e.name);let u=null;for(const f of t)try{const v=await f._get(c);if(v){let g;if(typeof v=="string"){const x=await hf(e,{idToken:v}).catch(()=>{});if(!x)break;g=await Ls._fromGetAccountInfoResponse(e,x,v)}else g=Ls._fromJSON(e,v);f!==o&&(u=g),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new rl(o,e,s):(o=h[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(c)}catch{}})),new rl(o,e,s))}}function RC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hR(e))return"Blackberry";if(fR(e))return"Webos";if(lR(e))return"Safari";if((e.includes("chrome/")||cR(e))&&!e.includes("edge/"))return"Chrome";if(dR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function oR(n=An()){return/firefox\//i.test(n)}function lR(n=An()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cR(n=An()){return/crios\//i.test(n)}function uR(n=An()){return/iemobile/i.test(n)}function dR(n=An()){return/android/i.test(n)}function hR(n=An()){return/blackberry/i.test(n)}function fR(n=An()){return/webos/i.test(n)}function Dy(n=An()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function S9(n=An()){return Dy(n)&&!!window.navigator?.standalone}function C9(){return PV()&&document.documentMode===10}function mR(n=An()){return Dy(n)||dR(n)||fR(n)||hR(n)||/windows phone/i.test(n)||uR(n)}function pR(n,e=[]){let t;switch(n){case"Browser":t=RC(An());break;case"Worker":t=`${RC(An())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ru}/${s}`}class _9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,u)=>{try{const h=e(o);c(h)}catch(h){u(h)}});s.onAbort=t,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function E9(n,e={}){return Ji(n,"GET","/v2/passwordPolicy",Xi(n,e))}const N9=6;class T9{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??N9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class M9{constructor(e,t,s,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AC(this),this.idTokenSubscription=new AC(this),this.beforeStateQueue=new _9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hf(this,{idToken:e}),s=await Ls._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=s?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(ri(this));const t=e?As(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E9(this),t=new T9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await w9(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,s,r);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&s9(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hi(n){return As(n)}class AC{constructor(e){this.auth=e,this.observer=null,this.addObserver=HV(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R9(n){om=n}function gR(n){return om.loadJS(n)}function A9(){return om.recaptchaEnterpriseScript}function j9(){return om.gapiScript}function k9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class O9{constructor(){this.enterprise=new D9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class D9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const I9="recaptcha-enterprise",vR="NO_RECAPTCHA";class L9{constructor(e){this.type=I9,this.auth=hi(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{f9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new h9(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,c(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,c,u){const h=window.grecaptcha;EC(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{c(f)}).catch(()=>{c(vR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O9().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(u=>{if(!t&&EC(window.grecaptcha))r(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=A9();h.length!==0&&(h+=u),gR(h).then(()=>{r(u,o,c)}).catch(f=>{c(f)})}}).catch(u=>{c(u)})})}}async function jC(n,e,t,s=!1,r=!1){const o=new L9(n);let c;if(r)c=vR;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return s?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function mf(n,e,t,s,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jC(n,e,t,t==="getOobCode");return s(n,o)}else return s(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jC(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(o)})}function P9(n,e){const t=XM(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(fl(o,e??{}))return r;Ts(r,"already-initialized")}return t.initialize({options:e})}function z9(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Vi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function $9(n,e,t){const s=hi(n);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,o=yR(e),{host:c,port:u}=U9(e),h=u===null?"":`:${u}`,f={url:`${o}//${c}${h}/`},v=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(fl(f,s.config.emulator)&&fl(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=f,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,am(c)?(RV(`${o}//${c}${h}`),kV("Auth",!0)):B9()}function yR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function U9(n){const e=yR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const o=r[1];return{host:o,port:kC(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:kC(c)}}}function kC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function B9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Iy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,t){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function V9(n,e){return Ji(n,"POST","/v1/accounts:signUp",e)}async function F9(n,e){return ju(n,"POST","/v1/accounts:signInWithPassword",Xi(n,e))}async function bR(n,e){return Ji(n,"POST","/v1/accounts:sendOobCode",Xi(n,e))}async function H9(n,e){return bR(n,e)}async function W9(n,e){return bR(n,e)}async function G9(n,e){return ju(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}async function q9(n,e){return ju(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}class ou extends Iy{constructor(e,t,s,r=null){super("password",s),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ou(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ou(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mf(e,t,"signInWithPassword",F9);case"emailLink":return G9(e,{email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mf(e,s,"signUpPassword",V9);case"emailLink":return q9(e,{idToken:t,email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function al(n,e){return ju(n,"POST","/v1/accounts:signInWithIdp",Xi(n,e))}const Y9="http://localhost";class Ha extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...o}=t;if(!s||!r)return null;const c=new Ha(s,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return al(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,al(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,al(e,t)}buildRequest(){const e={requestUri:Y9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mu(t)}return e}}function K9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X9(n){const e=Dc(Ic(n)).link,t=e?Dc(Ic(e)).deep_link_id:null,s=Dc(Ic(n)).deep_link_id;return(s?Dc(Ic(s)).link:null)||s||t||e||n}class Ly{constructor(e){const t=Dc(Ic(e)),s=t.apiKey??null,r=t.oobCode??null,o=K9(t.mode??null);Ie(s&&r&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=X9(e);try{return new Ly(t)}catch{return null}}}class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,t){return ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Ly.parseLink(t);return Ie(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ku{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ou extends ku{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ir extends Ou{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";class $i extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ha._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return $i.credential(t,s)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";class Lr extends Ou{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Pr extends Ou{constructor(){super("twitter.com")}static credential(e,t){return Ha._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Pr.credential(t,s)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";async function J9(n,e){return ju(n,"POST","/v1/accounts:signUp",Xi(n,e))}class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,r=!1){const o=await Ls._fromIdTokenResponse(e,s,r),c=OC(s);return new Wa({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const r=OC(s);return new Wa({user:e,providerId:r,_tokenResponse:s,operationType:t})}}function OC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class pf extends ea{constructor(e,t,s,r){super(t.code,t.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,r){return new pf(e,t,s,r)}}function xR(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(n,o,e,s):o})}async function Q9(n,e,t=!1){const s=await au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wa._forOperation(n,"link",s)}async function Z9(n,e,t=!1){const{auth:s}=n;if(cs(s.app))return Promise.reject(ri(s));const r="reauthenticate";try{const o=await au(n,xR(s,r,e,n),t);Ie(o.idToken,s,"internal-error");const c=Oy(o.idToken);Ie(c,s,"internal-error");const{sub:u}=c;return Ie(n.uid===u,s,"user-mismatch"),Wa._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ts(s,"user-mismatch"),o}}async function wR(n,e,t=!1){if(cs(n.app))return Promise.reject(ri(n));const s="signIn",r=await xR(n,s,e),o=await Wa._fromIdTokenResponse(n,s,r);return t||await n._updateCurrentUser(o.user),o}async function eH(n,e){return wR(hi(n),e)}async function SR(n){const e=hi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tH(n,e,t){const s=hi(n);await mf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",W9)}async function nH(n,e,t){if(cs(n.app))return Promise.reject(ri(n));const s=hi(n),c=await mf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J9).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&SR(n),h}),u=await Wa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(u.user),u}function sH(n,e,t){return cs(n.app)?Promise.reject(ri(n)):eH(As(n),Rl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&SR(n),s})}async function DC(n,e){const t=As(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await H9(t.auth,r);o!==n.email&&await n.reload()}function iH(n,e){return As(n).setPersistence(e)}function CR(n,e,t,s){return As(n).onIdTokenChanged(e,t,s)}function rH(n,e,t){return As(n).beforeAuthStateChanged(e,t)}function _R(n,e,t,s){return As(n).onAuthStateChanged(e,t,s)}function mh(n){return As(n).signOut()}const gf="__sak";class ER{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aH=1e3,oH=10;class NR extends ER{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),r=this.localCache[t];s!==r&&e(t,r,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const s=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);C9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,oH):r()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},aH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NR.type="LOCAL";const TR=NR;class MR extends ER{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MR.type="SESSION";const RR=MR;function lH(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const s=new lm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const u=Array.from(c).map(async f=>f(t.origin,o)),h=await lH(u);t.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];function Py(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class cH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((u,h)=>{const f=Py("",20);r.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:r,onMessage(g){const x=g;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ai(){return window}function uH(n){ai().location.href=n}function AR(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function dH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hH(){return navigator?.serviceWorker?.controller||null}function fH(){return AR()?self:null}const jR="firebaseLocalStorageDb",mH=1,vf="firebaseLocalStorage",kR="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cm(n,e){return n.transaction([vf],e?"readwrite":"readonly").objectStore(vf)}function pH(){const n=indexedDB.deleteDatabase(jR);return new Du(n).toPromise()}function u0(){const n=indexedDB.open(jR,mH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(vf,{keyPath:kR})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(vf)?e(s):(s.close(),await pH(),e(await u0()))})})}async function IC(n,e,t){const s=cm(n,!0).put({[kR]:e,value:t});return new Du(s).toPromise()}async function gH(n,e){const t=cm(n,!1).get(e),s=await new Du(t).toPromise();return s===void 0?null:s.value}function LC(n,e){const t=cm(n,!0).delete(e);return new Du(t).toPromise()}const vH=800,yH=3;class OR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>yH)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(fH()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dH(),!this.activeServiceWorker)return;this.sender=new cH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await u0();return await IC(e,gf,"1"),await LC(e,gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>IC(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>gH(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>LC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=cm(r,!1).getAll();return new Du(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OR.type="LOCAL";const bH=OR;new Au(3e4,6e4);function um(n,e){return e?Vi(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class zy extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xH(n){return wR(n.auth,new zy(n),n.bypassAuthState)}function wH(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),Z9(t,new zy(n),n.bypassAuthState)}async function SH(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),Q9(t,new zy(n),n.bypassAuthState)}class DR{constructor(e,t,s,r,o=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:r,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xH;case"linkViaPopup":case"linkViaRedirect":return SH;case"reauthViaPopup":case"reauthViaRedirect":return wH;default:Ts(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CH=new Au(2e3,1e4);async function _H(n,e,t){if(cs(n.app))return Promise.reject(Ps(n,"operation-not-supported-in-this-environment"));const s=hi(n);Ay(n,e,ku);const r=um(s,t);return new zr(s,"signInViaPopup",e,r).executeNotNull()}async function EH(n,e,t){const s=As(n);Ay(s.auth,e,ku);const r=um(s.auth,t);return new zr(s.auth,"linkViaPopup",e,r,s).executeNotNull()}class zr extends DR{constructor(e,t,s,r,o){super(e,t,r,o),this.provider=s,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CH.get())};e()}}zr.currentPopupAction=null;const NH="pendingRedirect",Fh=new Map;class TH extends DR{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const s=await MH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MH(n,e){const t=LR(e),s=IR(n);if(!await s._isAvailable())return!1;const r=await s._get(t)==="true";return await s._remove(t),r}async function RH(n,e){return IR(n)._set(LR(e),"true")}function AH(n,e){Fh.set(n._key(),e)}function IR(n){return Vi(n._redirectPersistence)}function LR(n){return Vh(NH,n.config.apiKey,n.name)}function jH(n,e,t){return kH(n,e,t)}async function kH(n,e,t){if(cs(n.app))return Promise.reject(ri(n));const s=hi(n);Ay(n,e,ku),await s._initializationPromise;const r=um(s,t);return await RH(r,s),r._openRedirect(s,e,"signInViaRedirect")}async function OH(n,e,t=!1){if(cs(n.app))return Promise.reject(ri(n));const s=hi(n),r=um(s,e),c=await new TH(s,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const DH=600*1e3;class IH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!PR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ps(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DH&&this.cachedEventUids.clear(),this.cachedEventUids.has(PC(e))}saveEventToCache(e){this.cachedEventUids.add(PC(e)),this.lastProcessedEventTime=Date.now()}}function PC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function LH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PR(n);default:return!1}}async function PH(n,e={}){return Ji(n,"GET","/v1/projects",e)}const zH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$H=/^https?/;async function UH(n){if(n.config.emulator)return;const{authorizedDomains:e}=await PH(n);for(const t of e)try{if(BH(t))return}catch{}Ts(n,"unauthorized-domain")}function BH(n){const e=l0(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!$H.test(t))return!1;if(zH.test(n))return s===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const VH=new Au(3e4,6e4);function zC(){const n=ai().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FH(n){return new Promise((e,t)=>{function s(){zC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zC(),t(Ps(n,"network-request-failed"))},timeout:VH.get()})}if(ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ai().gapi?.load)s();else{const r=k9("iframefcb");return ai()[r]=()=>{gapi.load?s():t(Ps(n,"network-request-failed"))},gR(`${j9()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function HH(n){return Hh=Hh||FH(n),Hh}const WH=new Au(5e3,15e3),GH="__/auth/iframe",qH="emulator/auth/iframe",YH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XH(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ky(e,qH):`https://${n.config.authDomain}/${GH}`,s={apiKey:e.apiKey,appName:n.name,v:Ru},r=KH.get(n.config.apiHost);r&&(s.eid=r);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${Mu(s).slice(1)}`}async function JH(n){const e=await HH(n),t=ai().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:XH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YH,dontclear:!0},s=>new Promise(async(r,o)=>{await s.restyle({setHideOnLeave:!1});const c=Ps(n,"network-request-failed"),u=ai().setTimeout(()=>{o(c)},WH.get());function h(){ai().clearTimeout(u),r(s)}s.ping(h).then(h,()=>{o(c)})}))}const QH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZH=500,e7=600,t7="_blank",n7="http://localhost";class $C{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s7(n,e,t,s=ZH,r=e7){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let u="";const h={...QH,width:s.toString(),height:r.toString(),top:o,left:c},f=An().toLowerCase();t&&(u=cR(f)?t7:t),oR(f)&&(e=e||n7,h.scrollbars="yes");const v=Object.entries(h).reduce((x,[w,S])=>`${x}${w}=${S},`,"");if(S9(f)&&u!=="_self")return i7(e||"",u),new $C(null);const g=window.open(e||"",u,v);Ie(g,n,"popup-blocked");try{g.focus()}catch{}return new $C(g)}function i7(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const r7="__/auth/handler",a7="emulator/auth/handler",o7=encodeURIComponent("fac");async function UC(n,e,t,s,r,o){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ru,eventId:r};if(e instanceof ku){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",FV(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))c[v]=g}if(e instanceof Ou){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const v of Object.keys(u))u[v]===void 0&&delete u[v];const h=await n._getAppCheckToken(),f=h?`#${o7}=${encodeURIComponent(h)}`:"";return`${l7(n)}?${Mu(u).slice(1)}${f}`}function l7({config:n}){return n.emulator?ky(n,a7):`https://${n.authDomain}/${r7}`}const av="webStorageSupport";class c7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RR,this._completeRedirectFn=OH,this._overrideRedirectResult=AH}async _openPopup(e,t,s,r){Ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await UC(e,t,s,l0(),r);return s7(e,o,Py())}async _openRedirect(e,t,s,r){await this._originValidation(e);const o=await UC(e,t,s,l0(),r);return uH(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Ki(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await JH(e),s=new IH(e);return t.register("authEvent",r=>(Ie(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(av,{type:av},r=>{const o=r?.[0]?.[av];o!==void 0&&t(!!o),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mR()||lR()||Dy()}}const u7=c7;var BC="@firebase/auth",VC="1.12.0";class d7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function h7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f7(n){iu(new ml("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=s.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pR(n)},f=new M9(s,r,o,h);return z9(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),iu(new ml("auth-internal",e=>{const t=hi(e.getProvider("auth").getImmediate());return(s=>new d7(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sl(BC,VC,h7(n)),sl(BC,VC,"esm2020")}const m7=300,p7=GM("authIdTokenMaxAge")||m7;let FC=null;const g7=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>p7)return;const r=t?.token;FC!==r&&(FC=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function v7(n=WF()){const e=XM(n,"auth");if(e.isInitialized())return e.getImmediate();const t=P9(n,{popupRedirectResolver:u7,persistence:[bH,TR,RR]}),s=GM("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=g7(o.toString());rH(t,c,()=>c(t.currentUser)),CR(t,u=>c(u))}}const r=TV("auth");return r&&$9(t,`http://${r}`),t}function y7(){return document.getElementsByTagName("head")?.[0]??document}R9({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=r=>{const o=Ps("internal-error");o.customData=r,t(o)},s.type="text/javascript",s.charset="UTF-8",y7().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f7("Browser");const zR="";let ph=null,gh=null,HC=null;async function b7(){const{auth:n}=await Gn(async()=>{const{auth:e}=await Promise.resolve().then(()=>vj);return{auth:e}},void 0);return ph||(ph=new Promise(e=>{const t=_R(n,()=>{t(),setTimeout(e,10)});setTimeout(()=>{t(),e()},1e4)}),ph)}async function x7(){await b7();const{auth:n}=await Gn(async()=>{const{auth:t}=await Promise.resolve().then(()=>vj);return{auth:t}},void 0),e=n.currentUser;if(!e)return null;try{return await e.getIdToken()}catch{return null}}async function js(){const n=await x7();return gh&&HC===n||(HC=n,gh=Pt.create({baseURL:`${zR}/api/v1`,headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}})),gh}async function Bo(n){return(await Pt.post(`${zR}/api/v1/auth/sign-in`,{id_token:n})).data}async function w7(){await(await js()).post("/auth/sign-out")}async function S7(n){return(await(await js()).post("/merge/sync",n)).data}function C7(){const e=localStorage.getItem("polishedcharts_data");if(!e)return[];try{return JSON.parse(e).alerts||[]}catch(t){return console.error("Failed to parse guest alerts:",t),[]}}const $R=async n=>(await Rs.post("/alerts/",n)).data,_7=async n=>{const e={};return n?.symbol!==void 0&&(e.symbol=n.symbol),n?.symbolId!==void 0&&(e.symbol_id=n.symbolId),n?.isActive!==void 0&&(e.is_active=n.isActive),(await Rs.get("/alerts/",{params:e})).data},UR=async(n,e)=>(await Rs.put(`/alerts/${n}`,e)).data,E7=async n=>(await Rs.post(`/alerts/${n}/mute`)).data,N7=async n=>(await Rs.post(`/alerts/${n}/unmute`)).data,T7=async n=>{await Rs.delete(`/alerts/${n}`)},BR=async n=>{const e={limit:n?.limit,offset:n?.offset??0};return n?.symbol!==void 0?e.symbol=n.symbol:n?.symbolId!==void 0&&(e.symbol_id=n.symbolId),(await Rs.get("/alerts/triggers/recent",{params:e})).data},VR=async n=>{await Rs.delete(`/alerts/triggers/${n}`)},FR=async n=>(await Rs.get("/alerts/indicator-conditions",{params:{indicator_name:n,_t:Date.now()}})).data,$y=async(n,e)=>{await(await js()).patch(`/notifications/alert-settings/${n}`,e)},M7=async n=>(await(await js()).get(`/notifications/alert-settings/${n}`)).data,ja=Object.freeze(Object.defineProperty({__proto__:null,createAlert:$R,deleteAlert:T7,deleteTrigger:VR,getAlertNotificationSettings:M7,getGuestAlerts:C7,getIndicatorConditions:FR,getRecentTriggers:BR,listAlerts:_7,muteAlert:E7,unmuteAlert:N7,updateAlert:UR,updateAlertNotificationSettings:$y},Symbol.toStringTag,{value:"Module"}));function R7(n){const e=new Date(n),s=new Date().getTime()-e.getTime(),r=Math.floor(s/6e4);return r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:e.toLocaleDateString()}function A7(n){return n==null?"-":`$${n.toFixed(2)}`}function j7({symbol:n,className:e}){const[t,s]=p.useState([]),[r,o]=p.useState(!1),[c,u]=p.useState(null),[h,f]=p.useState(new Set),v=p.useCallback(async()=>{o(!0),u(null);try{const x=await BR({symbol:n,limit:500});s(x)}catch(x){console.error("Failed to load trigger log:",x),u(x instanceof Error?x.message:"Failed to load trigger log")}finally{o(!1)}},[n]),g=p.useCallback(async x=>{f(w=>new Set([...w,x]));try{await VR(x),s(w=>w.filter(S=>S.id!==x))}catch(w){console.error("Failed to delete trigger:",w),u(w instanceof Error?w.message:"Failed to delete trigger")}finally{f(w=>{const S=new Set(w);return S.delete(x),S})}},[]);return p.useEffect(()=>{v();const x=setInterval(v,3e4);return()=>clearInterval(x)},[v]),m.jsxs("div",{className:Ce("flex flex-col flex-1 min-h-0",e),children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-slate-800",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(oS,{className:"h-4 w-4 text-slate-400"}),m.jsx("h2",{className:"text-sm font-semibold text-slate-300",children:"Trigger Log"}),m.jsx("span",{className:"text-xs text-slate-500",children:"(All Symbols)"})]}),m.jsx("button",{onClick:v,disabled:r,className:Ce("p-1.5 rounded transition-colors","hover:bg-slate-800 text-slate-400 hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Refresh log",children:m.jsx(tN,{className:Ce("h-4 w-4",r&&"animate-spin")})})]}),c&&m.jsx("div",{className:"mx-4 mt-2 rounded border border-red-500/50 bg-red-500/10 px-3 py-2 text-sm text-red-400",children:c}),m.jsx("div",{className:"flex-1 overflow-auto min-h-0",children:t.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[m.jsx(oS,{className:"h-12 w-12 mb-2 opacity-50"}),m.jsx("p",{className:"text-sm",children:"No trigger events yet"}),m.jsx("p",{className:"text-xs",children:"Alerts will appear here when they trigger"})]}):m.jsx("table",{className:"w-full text-sm",children:m.jsx("tbody",{children:t.map(x=>m.jsx("tr",{className:"border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors group",children:m.jsx("td",{className:"p-2",children:m.jsxs("div",{className:"space-y-0.5",children:[m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[m.jsx("span",{className:"text-xs font-semibold text-slate-200 whitespace-nowrap",children:x.alert_label?.split(" ")[0]||"N/A"}),m.jsx("span",{className:"text-xs text-slate-400 truncate",title:x.alert_label||"Unknown Alert",children:x.alert_label||"Unknown Alert"}),x.trigger_type==="upper"?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-500/10 text-red-400 text-xs font-medium whitespace-nowrap",children:[m.jsx($v,{className:"h-3 w-3"}),"Sell"]}):x.trigger_type==="lower"?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-500/10 text-green-400 text-xs font-medium whitespace-nowrap",children:[m.jsx(wL,{className:"h-3 w-3"}),"Buy"]}):m.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full bg-slate-500/10 text-slate-400 text-xs whitespace-nowrap",children:x.trigger_type||"Unknown"})]}),m.jsx("button",{onClick:()=>g(x.id),disabled:h.has(x.id),className:Ce("p-1 rounded transition-colors flex-shrink-0","text-slate-500 hover:bg-red-500/20 hover:text-red-400","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Delete trigger",children:m.jsx(hu,{className:Ce("h-3.5 w-3.5",h.has(x.id)&&"animate-pulse")})})]}),m.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[m.jsx("span",{className:"text-slate-500 whitespace-nowrap",children:R7(x.triggered_at)}),m.jsx("span",{className:"font-mono whitespace-nowrap text-slate-200",children:A7(x.observed_price)})]})]})})},x.id))})})}),t.length>0&&m.jsxs("div",{className:"px-4 py-2 border-t border-slate-800 text-xs text-slate-500",children:["Showing ",t.length," most recent triggers"]})]})}const k7=({alerts:n,symbol:e,onToggleMute:t,onDelete:s,onSelect:r,onTriggerDemo:o})=>{const[c,u]=p.useState("alerts"),[h,f]=p.useState(n);p.useEffect(()=>{f(n)},[n]);const v=p.useCallback(async(g,x)=>{const w=h.find(A=>A.id===g);if(!w)return;const E=!(w.notificationSettings?.[x==="toast"?"toastEnabled":x==="sound"?"soundEnabled":"telegramEnabled"]??!1),N={};x==="toast"?N.toastEnabled=E:x==="sound"?N.soundEnabled=E:x==="telegram"&&(N.telegramEnabled=E);const T=h.map(A=>A.id===g?{...A,notificationSettings:{...A.notificationSettings,...N}}:A);f(T);try{await $y(String(g),N),Mg.success(`${x} ${E?"enabled":"disabled"}`)}catch(A){f(h),console.error("Failed to update notification settings:",A),A.response?.status===401?Mg.error("Please log in to modify notification settings"):Mg.error("Failed to update notification settings")}},[h]);return m.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[m.jsxs("div",{className:"flex border-b border-slate-800",children:[m.jsx("button",{className:`px-4 py-2 text-sm font-medium ${c==="alerts"?"text-white border-b-2 border-blue-500":"text-slate-400 hover:text-slate-300"}`,onClick:()=>u("alerts"),children:"Alerts List"}),m.jsx("button",{className:`px-4 py-2 text-sm font-medium ${c==="log"?"text-white border-b-2 border-blue-500":"text-slate-400 hover:text-slate-300"}`,onClick:()=>u("log"),children:"Log"})]}),m.jsx("div",{className:"flex-1 min-h-0 pr-1 flex flex-col",children:c==="alerts"?m.jsx(yV,{alerts:h,onToggleMute:t,onDelete:s,onSelect:r,onTriggerDemo:o,onToggleNotification:v}):m.jsx(j7,{})})]})};function _t(n){var e=n.width,t=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(t<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:t}}function za(n,e){return n.width===e.width&&n.height===e.height}var O7=(function(){function n(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var t=this,s={next:e};return this._observers.push(s),{unsubscribe:function(){t._observers=t._observers.filter(function(r){return r!==s})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n})();function D7(n){return new O7(n)}var I7=(function(){function n(e,t,s){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=_t({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=t??(function(o){return o}),this._allowResizeObserver=(r=s?.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,t;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(t=this._devicePixelRatioObservable)===null||t===void 0||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return _t({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=_t(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var t=this.bitmapSize;za(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},n.prototype._emitBitmapSizeChanged=function(e,t){var s=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(s,e,t)})},n.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,s=_t(this._transformBitmapSize(e,this._canvasElementClientSize)),r=za(this.bitmapSize,s)?null:s;t===null&&r===null||t!==null&&r!==null&&za(t,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(t,r))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(s,e,t)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}P7().then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var t=WC(this._canvasElement);if(t===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=D7(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,t;if(this._canvasElement!==null){var s=WC(this._canvasElement);if(s!==null){var r=(t=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:s.devicePixelRatio,o=this._canvasElement.getClientRects(),c=o[0]!==void 0?z7(o[0],r):_t({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(c)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var s=t.find(function(c){return c.target===e._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var r=s.devicePixelContentBoxSize[0],o=_t({width:r.inlineSize,height:r.blockSize});e._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n})();function L7(n,e){return new I7(n,e.transform,e.options)}function WC(n){return n.ownerDocument.defaultView}function P7(){return new Promise(function(n){var e=new ResizeObserver(function(t){n(t.every(function(s){return"devicePixelContentBoxSize"in s})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function z7(n,e){return _t({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var $7=(function(){function n(e,t,s){if(t.width===0||t.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n})();function Ga(n,e){var t=n.canvasElementClientSize;if(t.width===0||t.height===0)return null;var s=n.bitmapSize;if(s.width===0||s.height===0)return null;var r=n.canvasElement.getContext("2d",e);return r===null?null:new $7(r,t,s)}const HR={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var GC,qC;function qa(n,e){const t={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(t)}function WR(n,e,t,s){n.beginPath();const r=n.lineWidth%2?.5:0;n.moveTo(t,e+r),n.lineTo(s,e+r),n.stroke()}function gn(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function Kn(n){if(n===void 0)throw new Error("Value is undefined");return n}function be(n){if(n===null)throw new Error("Value is null");return n}function $r(n){return be(Kn(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(GC||(GC={})),(function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"})(qC||(qC={}));class Gt{constructor(){this.t=[]}i(e,t,s){const r={h:e,l:t,o:s===!0};this.t.push(r)}_(e){const t=this.t.findIndex((s=>e===s.h));t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter((t=>t.l!==e))}p(e,t,s){const r=[...this.t];this.t=this.t.filter((o=>!o.o)),r.forEach((o=>o.h(e,t,s)))}v(){return this.t.length>0}m(){this.t=[]}}function ds(n,...e){for(const t of e)for(const s in t)t[s]!==void 0&&Object.prototype.hasOwnProperty.call(t,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof t[s]!="object"||n[s]===void 0||Array.isArray(t[s])?n[s]=t[s]:ds(n[s],t[s]));return n}function pl(n){return typeof n=="number"&&isFinite(n)}function lu(n){return typeof n=="number"&&n%1==0}function Iu(n){return typeof n=="string"}function vh(n){return typeof n=="boolean"}function Fi(n){const e=n;if(!e||typeof e!="object")return e;let t,s,r;for(s in t=Array.isArray(e)?[]:{},e)e.hasOwnProperty(s)&&(r=e[s],t[s]=r&&typeof r=="object"?Fi(r):r);return t}function YC(n){return n!==null}function cu(n){return n===null?void 0:n}const GR="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function yf(n,e,t){return e===void 0&&(e=GR),`${t=t!==void 0?`${t} `:""}${n}px ${e}`}class U7{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),s=this.W();return e.k===t&&e.T===s||(e.k=t,e.T=s,e.P=yf(t,s),e.A=2.5/12*t,e.I=e.A,e.V=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function ov(n){return n<0?0:n>255?255:Math.round(n)||0}function KC(n){return .199*n[0]+.687*n[1]+.114*n[2]}let B7=class{constructor(e,t){this.q=new Map,this.j=e,t&&(this.q=t)}Y(e,t){if(e==="transparent")return e;const s=this.K(e),r=s[3];return`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${t*r})`}Z(e){const t=this.K(e);return{G:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,X:KC(t)>160?"black":"white"}}J(e){return KC(this.K(e))}tt(e,t,s){const[r,o,c,u]=this.K(e),[h,f,v,g]=this.K(t),x=[ov(r+s*(h-r)),ov(o+s*(f-o)),ov(c+s*(v-c)),(w=u+s*(g-u),w<=0||w>1?Math.min(Math.max(w,0),1):Math.round(1e4*w)/1e4)];var w;return`rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]})`}K(e){const t=this.q.get(e);if(t)return t;const s=(function(c){const u=document.createElement("div");u.style.display="none",document.body.appendChild(u),u.style.color=c;const h=window.getComputedStyle(u).color;return document.body.removeChild(u),h})(e),r=s.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.j.length)for(const c of this.j){const u=c(e);if(u)return this.q.set(e,u),u}throw new Error(`Failed to parse color: ${e}`)}const o=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(e,o),o}},V7=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,s){this.it.forEach((r=>{r.nt(e,t,s)}))}};class ta{nt(e,t,s){e.useBitmapCoordinateSpace((r=>this.et(r,t,s)))}}let F7=class extends ta{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:s}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,o=this.rt,c=Math.max(1,Math.floor(t))%2/2,u=h=>{e.beginPath();for(let f=r.to-1;f>=r.from;--f){const v=o.ot[f],g=Math.round(v._t*t)+c,x=v.ut*s,w=h*s+c;e.moveTo(g,x),e.arc(g,x,w,0,2*Math.PI)}e.fill()};o.ct>0&&(e.fillStyle=o.dt,u(o.ft+o.ct)),e.fillStyle=o.vt,u(o.ft)}};function H7(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const W7={from:0,to:1};let G7=class{constructor(e,t,s){this.Mt=new V7,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.yt=s,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(H7),this.bt=this.St.map((t=>{const s=new F7;return s.ht(t),s})),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),t=this.yt.Vt(),s=this.Ct.Bt(),r=this.O.Et();this.Pt(),t.forEach(((o,c)=>{const u=this.St[c],h=o.At(s),f=o.Lt();!e&&h!==null&&o.It()&&f!==null?(u.vt=h.zt,u.ft=h.ft,u.ct=h.Ot,u.ot[0].gt=h.gt,u.ot[0].ut=o.Ft().Nt(h.gt,f.Wt),u.dt=h.Ht??this.O.Ut(u.ot[0].ut/o.Ft().$t()),u.ot[0].wt=s,u.ot[0]._t=r.qt(s),u.lt=W7):u.lt=null}))}};class q7 extends ta{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.jt===null)return;const o=this.jt.Yt.It,c=this.jt.Kt.It;if(!o&&!c)return;const u=Math.round(this.jt._t*s),h=Math.round(this.jt.ut*r);e.lineCap="butt",o&&u>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*s),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,qa(e,this.jt.Yt.Zt),(function(f,v,g,x){f.beginPath();const w=f.lineWidth%2?.5:0;f.moveTo(v+w,g),f.lineTo(v+w,x),f.stroke()})(e,u,0,t.height)),c&&h>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*r),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,qa(e,this.jt.Kt.Zt),WR(e,h,0,t.width))}}class Y7{constructor(e,t){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new q7(this.Gt),this.Jt=e,this.yt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),t=this.yt.Qt().N().crosshair,s=this.Gt;if(t.mode===2)return s.Kt.It=!1,void(s.Yt.It=!1);s.Kt.It=e&&this.Jt.ti(this.yt),s.Yt.It=e&&this.Jt.ii(),s.Kt.ct=t.horzLine.width,s.Kt.Zt=t.horzLine.style,s.Kt.R=t.horzLine.color,s.Yt.ct=t.vertLine.width,s.Yt.Zt=t.vertLine.style,s.Yt.R=t.vertLine.color,s._t=this.Jt.si(),s.ut=this.Jt.ni()}}function K7(n,e,t,s,r,o){n.fillRect(e+o,t,s-2*o,o),n.fillRect(e+o,t+r-o,s-2*o,o),n.fillRect(e,t,o,r),n.fillRect(e+s-o,t,o,r)}function dm(n,e,t,s,r,o){n.save(),n.globalCompositeOperation="copy",n.fillStyle=o,n.fillRect(e,t,s,r),n.restore()}function XC(n,e,t,s,r,o){n.beginPath(),n.roundRect?n.roundRect(e,t,s,r,o):(n.lineTo(e+s-o[1],t),o[1]!==0&&n.arcTo(e+s,t,e+s,t+o[1],o[1]),n.lineTo(e+s,t+r-o[2]),o[2]!==0&&n.arcTo(e+s,t+r,e+s-o[2],t+r,o[2]),n.lineTo(e+o[3],t+r),o[3]!==0&&n.arcTo(e,t+r,e,t+r-o[3],o[3]),n.lineTo(e,t+o[0]),o[0]!==0&&n.arcTo(e,t,e+o[0],t,o[0]))}function JC(n,e,t,s,r,o,c=0,u=[0,0,0,0],h=""){if(n.save(),!c||!h||h===o)return XC(n,e,t,s,r,u),n.fillStyle=o,n.fill(),void n.restore();const f=c/2;var v;XC(n,e+f,t+f,s-c,r-c,(v=-f,u.map((g=>g===0?g:g+v)))),o!=="transparent"&&(n.fillStyle=o,n.fill()),h!=="transparent"&&(n.lineWidth=c,n.strokeStyle=h,n.closePath(),n.stroke()),n.restore()}function qR(n,e,t,s,r,o,c){n.save(),n.globalCompositeOperation="copy";const u=n.createLinearGradient(0,0,0,r);u.addColorStop(0,o),u.addColorStop(1,c),n.fillStyle=u,n.fillRect(e,t,s,r),n.restore()}let QC=class{constructor(e,t){this.ht(e,t)}ht(e,t){this.jt=e,this.ei=t}$t(e,t){return this.jt.It?e.k+e.A+e.I:0}nt(e,t,s,r){if(!this.jt.It||this.jt.ri.length===0)return;const o=this.jt.R,c=this.ei.G,u=e.useBitmapCoordinateSpace((h=>{const f=h.context;f.font=t.P;const v=this.hi(h,t,s,r),g=v.ai;return v.li?JC(f,g.oi,g._i,g.ui,g.ci,c,g.di,[g.ft,0,0,g.ft],c):JC(f,g.fi,g._i,g.ui,g.ci,c,g.di,[0,g.ft,g.ft,0],c),this.jt.pi&&(f.fillStyle=o,f.fillRect(g.fi,g.mi,g.wi-g.fi,g.gi)),this.jt.Mi&&(f.fillStyle=t.D,f.fillRect(v.li?g.bi-g.di:0,g._i,g.di,g.Si-g._i)),v}));e.useMediaCoordinateSpace((({context:h})=>{const f=u.xi;h.font=t.P,h.textAlign=u.li?"right":"left",h.textBaseline="middle",h.fillStyle=o,h.fillText(this.jt.ri,f.Ci,(f._i+f.Si)/2+f.yi)}))}hi(e,t,s,r){const{context:o,bitmapSize:c,mediaSize:u,horizontalPixelRatio:h,verticalPixelRatio:f}=e,v=this.jt.pi||!this.jt.ki?t.C:0,g=this.jt.Pi?t.S:0,x=t.A+this.ei.Ti,w=t.I+this.ei.Ri,S=t.V,C=t.B,E=this.jt.ri,N=t.k,T=s.Di(o,E),A=Math.ceil(s.Ii(o,E)),j=N+x+w,z=t.S+S+C+A+v,P=Math.max(1,Math.floor(f));let I=Math.round(j*f);I%2!=P%2&&(I+=1);const B=g>0?Math.max(1,Math.floor(g*h)):0,X=Math.round(z*h),se=Math.round(v*h),G=this.ei.Vi??this.ei.Bi??this.ei.Ei,ee=Math.round(G*f)-Math.floor(.5*f),q=Math.floor(ee+P/2-I/2),re=q+I,J=r==="right",k=J?u.width-g:g,F=J?c.width-B:B;let V,Q,me;return J?(V=F-X,Q=F-se,me=k-v-S-g):(V=F+X,Q=F+se,me=k+v+S),{li:J,ai:{_i:q,mi:ee,Si:re,ui:X,ci:I,ft:2*h,di:B,oi:V,fi:F,wi:Q,gi:P,bi:c.width},xi:{_i:q/f,Si:re/f,Ci:me,yi:T}}}},hm=class{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||QC)(this.Li,this.Ai),this.Ni=new(e||QC)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Oi.$t(e,t),this.Ni.$t(e,t))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}},X7=class extends hm{constructor(e,t,s){super(),this.Jt=e,this.Ki=t,this.Zi=s}Yi(e,t,s){if(e.It=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const o=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||o===null)return;const c=this.Ki.Xi().Z(r.labelBackgroundColor);s.G=c.G,e.R=c.X;const u=2/12*this.Ki.k();s.Ti=u,s.Ri=u;const h=this.Zi(this.Ki);s.Ei=h.Ei,e.ri=this.Ki.Ji(h.gt,o),e.It=!0}};const J7=/[1-9]/g;class YR{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,t){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const s=e.useMediaCoordinateSpace((({context:x})=>(x.font=t.P,Math.round(t.Qi.Ii(x,be(this.jt).ri,J7)))));if(s<=0)return;const r=t.ts,o=s+2*r,c=o/2,u=this.jt.ss;let h=this.jt.Ei,f=Math.floor(h-c)+.5;f<0?(h+=Math.abs(0-f),f=Math.floor(h-c)+.5):f+o>u&&(h-=Math.abs(u-(f+o)),f=Math.floor(h-c)+.5);const v=f+o,g=Math.ceil(0+t.S+t.C+t.A+t.k+t.I);e.useBitmapCoordinateSpace((({context:x,horizontalPixelRatio:w,verticalPixelRatio:S})=>{const C=be(this.jt);x.fillStyle=C.G;const E=Math.round(f*w),N=Math.round(0*S),T=Math.round(v*w),A=Math.round(g*S),j=Math.round(2*w);if(x.beginPath(),x.moveTo(E,N),x.lineTo(E,A-j),x.arcTo(E,A,E+j,A,j),x.lineTo(T-j,A),x.arcTo(T,A,T,A-j,j),x.lineTo(T,N),x.fill(),C.pi){const z=Math.round(C.Ei*w),P=N,I=Math.round((P+t.C)*S);x.fillStyle=C.R;const B=Math.max(1,Math.floor(w)),X=Math.floor(.5*w);x.fillRect(z-X,P,B,I-P)}})),e.useMediaCoordinateSpace((({context:x})=>{const w=be(this.jt),S=0+t.S+t.C+t.A+t.k/2;x.font=t.P,x.textAlign="left",x.textBaseline="middle",x.fillStyle=w.R;const C=t.Qi.Di(x,"Apr0");x.translate(f+r,S+C),x.fillText(w.ri,0,0)}))}}class Q7{constructor(e,t,s){this.xt=!0,this.Xt=new YR,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=t,this.Zi=s}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const s=this.ns.Et();if(s.Gi())return;e.ss=s.ss();const r=this.Zi();if(r===null)return;e.Ei=r.Ei;const o=s.es(this.Ct.Bt());e.ri=s.rs(be(o)),e.It=!0;const c=this.ns.Xi().Z(t.labelBackgroundColor);e.G=c.G,e.R=c.X,e.pi=s.N().ticksVisible}}let KR=class{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}};var ZC;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(ZC||(ZC={}));let Z7=class extends KR{constructor(e,t){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=t,this.Ts=((r,o)=>c=>{const u=o(),h=r();if(c===be(this.yt).Rs())return{gt:h,Ei:u};{const f=be(c.Lt());return{gt:c.Ds(u,f),Ei:u}}})((()=>this.ps),(()=>this.Cs));const s=((r,o)=>()=>{const c=this.ns.Et().Is(r()),u=o();return c&&Number.isFinite(u)?{wt:c,Ei:u}:null})((()=>this.vs),(()=>this.si()));this.Vs=new Q7(this,e,s)}N(){return this.Ps}Bs(e,t){this.ys=e,this.ks=t}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,t,s){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,t,s)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const t=this.ns,s=t.Et();let r=null,o=null;for(const f of t.Us()){const v=f.qs().$s(e,-1);if(v){if(v.js===e)return e;(r===null||v.js>r)&&(r=v.js)}const g=f.qs().$s(e,1);if(g){if(g.js===e)return e;(o===null||g.js<o)&&(o=g.js)}}const c=[r,o].filter(YC);if(c.length===0)return e;const u=s.qt(e),h=c.map((f=>Math.abs(u-s.qt(f))));return c[h.indexOf(Math.min(...h))]}Ys(e){let t=this.bs.get(e);t||(t=new Y7(this,e),this.bs.set(e,t));let s=this.Ss.get(e);return s||(s=new G7(this.ns,this,e),this.Ss.set(e,s)),[t,s]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,t){this.ws&&this.yt===e||this.gs.clear();const s=[];return this.yt===e&&s.push(this.Zs(this.gs,t,this.Ts)),s}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach((e=>{this.bs.get(e)?.kt(),this.Ss.get(e)?.kt()})),this.gs.forEach((e=>e.kt())),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,t,s){this.Qs(e,t,s)&&this.Ws()}Qs(e,t,s){const r=this.xs,o=this.Cs,c=this.ps,u=this.vs,h=this.yt,f=this.Js(s);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=s;const v=f!==null?f.Lt():null;return f!==null&&v!==null?(this.ps=t,this.Cs=f.Nt(t,v)):(this.ps=NaN,this.Cs=NaN),r!==this.xs||o!==this.Cs||u!==this.vs||c!==this.ps||h!==this.yt}Fs(){const e=this.ns.tn().map((s=>s.qs().sn())).filter(YC),t=e.length===0?null:Math.max(...e);this.vs=t!==null?t:NaN}Zs(e,t,s){let r=e.get(t);return r===void 0&&(r=new X7(this,t,s),e.set(t,r)),r}};function fm(n){return n==="left"||n==="right"}let Vn=class d0{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,t){const s=(function(r,o){return r===void 0?o:{an:Math.max(r.an,o.an),ln:r.ln||o.ln}})(this.nn.get(e),t);this.nn.set(e,s)}_n(){return this.rn}un(e){const t=this.nn.get(e);return t===void 0?{an:this.rn}:{an:Math.max(this.rn,t.an),ln:t.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const t of e.en)this.xn(t);this.rn=Math.max(this.rn,e.rn),e.nn.forEach(((t,s)=>{this.hn(s,t)}))}static Cn(){return new d0(2)}static yn(){return new d0(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex((t=>t.fn===5));e!==-1&&this.en.splice(e,1)}},XR=class{formatTickmarks(e){return e.map((t=>this.format(t)))}};const e_=".";function Hi(n,e){if(!pl(n))return"n/a";if(!lu(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}class mm extends XR{constructor(e,t){if(super(),t||(t=1),pl(e)&&lu(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=t,this.Pn()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const t=this.Ki/this.kn;let s=Math.floor(e),r="";const o=this.Rn!==void 0?this.Rn:NaN;if(t>1){let c=+(Math.round(e*t)-s*t).toFixed(this.Rn);c>=t&&(c-=t,s+=1),r=e_+Hi(+c.toFixed(this.Rn)*this.kn,o)}else s=Math.round(s*t)/t,o>0&&(r=e_+Hi(0,o));return s.toFixed(0)+r}}class JR extends mm{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class eW extends XR{constructor(e){super(),this.Dn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.In(e):e<999995?t+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.In(e/1e9)+"B")}In(e){let t;const s=Math.pow(10,this.Dn);return t=(e=Math.round(e*s)/s)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,((r,o)=>o))}}const tW=/[2-9]/g;class bf{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,t,s){return this.Nn(e,t,s).width}Di(e,t,s){const r=this.Nn(e,t,s);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Nn(e,t,s){const r=s||tW,o=String(t).replace(r,"0");if(this.Ln.has(o))return Kn(this.Ln.get(o)).Fn;if(this.Vn===this.zn){const u=this.An[this.En];delete this.An[this.En],this.Ln.delete(u),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const c=e.measureText(o);return e.restore(),c.width===0&&t.length||(this.Ln.set(o,{Fn:c,Wn:this.Bn}),this.An[this.Bn]=o,this.Vn++,this.Bn++),c}}class nW{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,t,s){this.Hn=e,this.M=t,this.Un=s}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class QR{constructor(e,t,s){this.jn=e,this.$n=new bf(50),this.Yn=t,this.O=s,this.F=-1,this.Xt=new nW(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const t=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(t===null)return null;const s=e.Xn(t);if(s==="overlay")return null;const r=this.O.Jn();return r.k!==this.F&&(this.F=r.k,this.$n.On()),this.Xt.qn(this.jn.ji(),r,s),this.Xt}}class sW extends ta{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,t){if(!this.jt?.It)return null;const{ut:s,ct:r,te:o}=this.jt;return t>=s-r-7&&t<=s+r+7?{ie:this.jt,te:o}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.jt===null||this.jt.It===!1)return;const o=Math.round(this.jt.ut*r);o<0||o>t.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*s),qa(e,this.jt.Zt),WR(e,o,0,t.width))}}class Uy{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new sW,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class iW extends Uy{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),t=e.ae().ae;if(t!==2&&t!==3)return;const s=this.ee.N();if(!s.baseLineVisible||!this.ee.It())return;const r=this.ee.Lt();r!==null&&(this.se.It=!0,this.se.ut=e.Nt(r.Wt,r.Wt),this.se.R=s.baseLineColor,this.se.ct=s.baseLineWidth,this.se.Zt=s.baseLineStyle)}}class rW extends ta{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:s}){const r=this.jt;if(r===null)return;const o=Math.max(1,Math.floor(t)),c=o%2/2,u=Math.round(r.oe.x*t)+c,h=r.oe.y*s;e.fillStyle=r._e,e.beginPath();const f=Math.max(2,1.5*r.ue)*t;e.arc(u,h,f,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.ce,e.beginPath(),e.arc(u,h,r.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=o,e.strokeStyle=r.de,e.beginPath(),e.arc(u,h,r.ft*t+o/2,0,2*Math.PI,!1),e.stroke()}}const aW=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class oW{constructor(e){this.Xt=new rW,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),t=this.Ce-e;if(t>0)return void(t<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),t=e.Ie(),s=this.ye.Lt();if(t===null||s===null)return;const r=this.ye.Ve(!0);if(r.Be||!t.Ee(r.js))return;const o={x:e.qt(r.js),y:this.ye.Ft().Nt(r.gt,s.Wt)},c=r.R,u=this.ye.N().lineWidth,h=this.Ae(this.Le(),c);this.Xt.ht({_e:c,ue:u,ce:h.ce,de:h.de,ft:h.ft,oe:o})}De(){const e=this.Xt.le();if(e!==null){const t=this.Ae(this.Le(),e._e);e.ce=t.ce,e.de=t.de,e.ft=t.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,t,s,r){const o=s+(r-s)*t;return this.ye.Qt().Xi().Y(e,o)}Ae(e,t){const s=e%2600/2600;let r;for(const f of aW)if(s>=f.fe&&s<=f.pe){r=f;break}gn(r!==void 0,"Last price animation internal logic error");const o=(s-r.fe)/(r.pe-r.fe);return{ce:this.ze(t,o,r.we,r.ge),de:this.ze(t,o,r.Me,r.be),ft:(c=o,u=r.ve,h=r.me,u+(h-u)*c)};var c,u,h}}class lW extends Uy{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const t=this.ee.N();if(!t.priceLineVisible||!this.ee.It())return;const s=this.ee.Ve(t.priceLineSource===0);s.Be||(e.It=!0,e.ut=s.Ei,e.R=this.ee.Oe(s.R),e.ct=t.priceLineWidth,e.Zt=t.priceLineStyle)}}class cW extends hm{constructor(e){super(),this.Jt=e}Yi(e,t,s){e.It=!1,t.It=!1;const r=this.Jt;if(!r.It())return;const o=r.N(),c=o.lastValueVisible,u=r.Ne()!=="",h=o.seriesLastValueMode===0,f=r.Ve(!1);if(f.Be)return;c&&(e.ri=this.Fe(f,c,h),e.It=e.ri.length!==0),(u||h)&&(t.ri=this.We(f,c,u,h),t.It=t.ri.length>0);const v=r.Oe(f.R),g=this.Jt.Qt().Xi().Z(v);s.G=g.G,s.Ei=f.Ei,t.Ht=r.Qt().Ut(f.Ei/r.Ft().$t()),e.Ht=v,e.R=g.X,t.R=g.X}We(e,t,s,r){let o="";const c=this.Jt.Ne();return s&&c.length!==0&&(o+=`${c} `),t&&r&&(o+=this.Jt.Ft().He()?e.Ue:e.$e),o.trim()}Fe(e,t,s){return t?s?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function t_(n,e,t,s){const r=Number.isFinite(e),o=Number.isFinite(t);return r&&o?n(e,t):r||o?r?e:t:s}class Rn{constructor(e,t){this.qe=e,this.je=t}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Rn(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Rn(t_(Math.min,this.Ze(),e.Ze(),-1/0),t_(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!pl(e)||this.je-this.qe===0)return;const t=.5*(this.je+this.qe);let s=this.je-t,r=this.qe-t;s*=e,r*=e,this.je=t+s,this.qe=t+r}Qe(e){pl(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Rn(e.minValue,e.maxValue)}}class xf{constructor(e,t){this.sr=e,this.nr=t||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new xf(Rn.ir(e.priceRange),e.margins)}}const uW=[2,4,8,16,32,64,128,256,512],dW="Custom series with conflation reducer must have a priceValueBuilder method";class hW extends Uy{constructor(e,t){super(e),this.hr=t}he(){const e=this.se;e.It=!1;const t=this.hr.N();if(!this.ee.It()||!t.lineVisible)return;const s=this.hr.ar();s!==null&&(e.It=!0,e.ut=s,e.R=t.color,e.ct=t.lineWidth,e.Zt=t.lineStyle,e.te=this.hr.N().id)}}class fW extends hm{constructor(e,t){super(),this.ye=e,this.hr=t}Yi(e,t,s){e.It=!1,t.It=!1;const r=this.hr.N(),o=r.axisLabelVisible,c=r.title!=="",u=this.ye;if(!o||!u.It())return;const h=this.hr.ar();if(h===null)return;c&&(t.ri=r.title,t.It=!0),t.Ht=u.Qt().Ut(h/u.Ft().$t()),e.ri=this.lr(r.price),e.It=!0;const f=this.ye.Qt().Xi().Z(r.axisLabelColor||r.color);s.G=f.G;const v=r.axisLabelTextColor||f.X;e.R=v,t.R=v,s.Ei=h}lr(e){const t=this.ye.Lt();return t===null?"":this.ye.Ft().Ji(e,t.Wt)}}class mW{constructor(e,t){this.ye=e,this.Ps=t,this._r=new hW(e,this),this.jn=new fW(e,this),this.ur=new QR(this.jn,e,e.Qt())}cr(e){ds(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,t=e.Ft();if(e.Qt().Et().Gi()||t.Gi())return null;const s=e.Lt();return s===null?null:t.Nt(this.Ps.price,s.Wt)}}class pW{constructor(){this.wr=new WeakMap}gr(e,t,s){const r=1/t*s;if(e>=r)return 1;const o=r/e,c=Math.pow(2,Math.floor(Math.log2(o)));return Math.min(c,512)}Mr(e,t,s,r=!1,o){if(e.length===0||t<=1)return e;const c=this.br(t);if(c<=1)return e;const u=this.Sr(e);let h=u.Cr.get(c);return h!==void 0||(h=this.yr(e,c,s,r,o,u.Cr),u.Cr.set(c,h)),h}kr(e,t,s,r,o=!1,c){if(s<1||e.length===0)return e;const u=this.Sr(e),h=u.Cr.get(s);if(!h)return this.Mr(e,s,r,o,c);const f=this.Pr(e,t,s,h,o,r,c);return u.Cr.set(s,f),f}br(e){if(e<=2)return 2;for(const t of uW)if(e<=t)return t;return 512}Tr(e){if(e.length===0)return 0;const t=e[0],s=e[e.length-1];return 31*e.length+17*t.js+13*s.js}yr(e,t,s,r=!1,o,c=new Map){if(t===2)return this.Rr(e,2,s,r,o);const u=t/2;let h=c.get(u);return h||(h=this.yr(e,u,s,r,o,c),c.set(u,h)),this.Dr(h,s,r,o)}Rr(e,t,s,r=!1,o){const c=this.Ir(e,t,s,r,o);return this.Vr(c,r)}Dr(e,t,s=!1,r){const o=this.Ir(e,2,t,s,r);return this.Vr(o,s)}Ir(e,t,s,r=!1,o){const c=[];for(let u=0;u<e.length;u+=t)if(e.length-u>=t){const h=this.Br(e[u],e[u+1],s,r,o);h.Er=!1,c.push(h)}else if(c.length===0)c.push(this.Ar(e[u],!0));else{const h=c[c.length-1];c[c.length-1]=this.Lr(h,e[u],s,r,o)}return c}zr(e,t){return(e??1)+(t??1)}Br(e,t,s,r=!1,o){if(!r||!s||!o){const f=e.Wt[1]>t.Wt[1]?e.Wt[1]:t.Wt[1],v=e.Wt[2]<t.Wt[2]?e.Wt[2]:t.Wt[2];return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:f,$r:v,qr:t.Wt[3],jr:this.zr(e.jr,t.jr),Yr:void 0,Er:!1}}const c=s(this.Kr(e,o),this.Kr(t,o)),u=o(c),h=u.length?u[u.length-1]:0;return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],h),$r:Math.min(e.Wt[2],h),qr:h,jr:this.zr(e.jr,t.jr),Yr:c,Er:!1}}Lr(e,t,s,r=!1,o){if(!r||!s||!o)return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:e.Ur>t.Wt[1]?e.Ur:t.Wt[1],$r:e.$r<t.Wt[2]?e.$r:t.Wt[2],qr:t.Wt[3],jr:e.jr+(t.jr??1),Yr:e.Yr,Er:!1};const c=e.Yr,u=this.Kr(t,o),h=c?{data:c,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:o(c)}:null,f=h?s(h,u):u.data,v=h?o(f):u.priceValues,g=v.length?v[v.length-1]:0;return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:Math.max(e.Ur,g),$r:Math.min(e.$r,g),qr:g,jr:e.jr+(t.jr??1),Yr:f,Er:!1}}Zr(e,t,s,r,o,c,u=!1,h){const f=t===r?o:e[t];if(s-t==1)return this.Ar(f,!0);const v=t+1===r?o:e[t+1];let g=this.Br(f,v,c,u,h);for(let x=t+2;x<s;x++){const w=x===r?o:e[x];g=this.Lr(g,w,c,u,h)}return g}Kr(e,t){const s=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:t(s)}}Xr(e,t=!1){const s=t===!0,r=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[s?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:s?r?e.Yr:{wt:e.Fr}:void 0}}Vr(e,t=!1){return e.map((s=>this.Xr(s,t)))}Pr(e,t,s,r,o=!1,c,u){if(r.length===0)return r;const h=e.length-1,f=Math.floor(h/s)*s;if(Math.min(f+s,e.length)-f<s&&e.length>s){const v=e.slice();return v[v.length-1]=t,this.Mr(v,s,c,o,u)}if(Math.floor((h-1)/s)===Math.floor(h/s)||r.length===1){const v=Math.min(f+s,e.length),g=v-f;if(g<=0)return r;const x=g===1?this.Ar(f===h?t:e[f],!0):this.Zr(e,f,v,h,t,c,o,u);return r[r.length-1]=this.Xr(x,o),r}{const v=e.slice();return v[v.length-1]=t,this.Mr(v,s,c,o,u)}}Ar(e,t=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:t}}Sr(e){const t=this.Jr(e),s=this.Tr(e);return t.Qr!==s&&(t.Cr.clear(),t.Qr=s),t}Jr(e){let t=this.wr.get(e);return t===void 0&&(t={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,t)),t}}class gW extends KR{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const vW={Bar:(n,e,t,s)=>{const r=e.upColor,o=e.downColor,c=be(n(t,s)),u=$r(c.Wt[0])<=$r(c.Wt[3]);return{th:c.R??(u?r:o)}},Candlestick:(n,e,t,s)=>{const r=e.upColor,o=e.downColor,c=e.borderUpColor,u=e.borderDownColor,h=e.wickUpColor,f=e.wickDownColor,v=be(n(t,s)),g=$r(v.Wt[0])<=$r(v.Wt[3]);return{th:v.R??(g?r:o),ih:v.Ht??(g?c:u),sh:v.nh??(g?h:f)}},Custom:(n,e,t,s)=>({th:be(n(t,s)).R??e.color}),Area:(n,e,t,s)=>{const r=be(n(t,s));return{th:r.vt??e.lineColor,vt:r.vt??e.lineColor,eh:r.eh??e.topColor,rh:r.rh??e.bottomColor}},Baseline:(n,e,t,s)=>{const r=be(n(t,s));return{th:r.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:r.hh??e.topLineColor,ah:r.ah??e.bottomLineColor,oh:r.oh??e.topFillColor1,_h:r._h??e.topFillColor2,uh:r.uh??e.bottomFillColor1,dh:r.dh??e.bottomFillColor2}},Line:(n,e,t,s)=>{const r=be(n(t,s));return{th:r.R??e.color,vt:r.R??e.color}},Histogram:(n,e,t,s)=>({th:be(n(t,s)).R??e.color})};class yW{constructor(e){this.fh=(t,s)=>s!==void 0?s.Wt:this.ye.qs().ph(t),this.ye=e,this.mh=vW[e.wh()]}gh(e,t){return this.mh(this.fh,this.ye.N(),e,t)}}function ZR(n,e,t,s,r=0,o=e.length){let c=o-r;for(;0<c;){const u=c>>1,h=r+u;s(e[h],t)===n?(r=h+1,c-=u+1):c=u}return r}const gl=ZR.bind(null,!0),eA=ZR.bind(null,!1);var n_;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(n_||(n_={}));const Ar=30;class bW{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,t=0){const s=this.Th(e,t);return s===null?null:{...this.Rh(s),js:this.Ph(s)}}Dh(){return this.Mh}Ih(e,t,s){if(this.Gi())return null;let r=null;for(const o of s)r=yh(r,this.Vh(e,t,o));return r}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map((t=>t.js))}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,t){const s=this.Eh(e);if(s===null&&t!==0)switch(t){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return s}Ah(e){let t=this.zh(e);return t>0&&(t-=1),t!==this.Mh.length&&this.Ph(t)<e?t:null}Lh(e){const t=this.Oh(e);return t!==this.Mh.length&&e<this.Ph(t)?t:null}Eh(e){const t=this.zh(e);return t===this.Mh.length||e<this.Mh[t].js?null:t}zh(e){return gl(this.Mh,e,((t,s)=>t.js<s))}Oh(e){return eA(this.Mh,e,((t,s)=>t.js>s))}Nh(e,t,s){let r=null;for(let o=e;o<t;o++){const c=this.Mh[o].Wt[s];Number.isNaN(c)||(r===null?r={Fh:c,Wh:c}:(c<r.Fh&&(r.Fh=c),c>r.Wh&&(r.Wh=c)))}return r}Vh(e,t,s){if(this.Gi())return null;let r=null;const o=be(this.kh()),c=be(this.sn()),u=Math.max(e,o),h=Math.min(t,c),f=Math.ceil(u/Ar)*Ar,v=Math.max(f,Math.floor(h/Ar)*Ar);{const x=this.zh(u),w=this.Oh(Math.min(h,f,t));r=yh(r,this.Nh(x,w,s))}let g=this.bh.get(s);g===void 0&&(g=new Map,this.bh.set(s,g));for(let x=Math.max(f+1,u);x<v;x+=Ar){const w=Math.floor(x/Ar);let S=g.get(w);if(S===void 0){const C=this.zh(w*Ar),E=this.Oh((w+1)*Ar-1);S=this.Nh(C,E,s),g.set(w,S)}r=yh(r,S)}{const x=this.zh(v),w=this.Oh(h);r=yh(r,this.Nh(x,w,s))}return r}}function yh(n,e){return n===null?e:e===null?n:{Fh:Math.min(n.Fh,e.Fh),Wh:Math.max(n.Wh,e.Wh)}}function lv(){return new bW}const wf={setLineStyle:qa};class xW{constructor(e){this.Hh=e}nt(e,t,s){this.Hh.draw(e,wf)}Uh(e,t,s){this.Hh.drawBackground?.(e,wf)}}class wW{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const t=new xW(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??"normal"}}class tA{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){this.Zh.updateAllViews?.()}Ys(){const e=this.Zh.paneViews?.()??[];if(this.Kh?.qh===e)return this.Kh.jh;const t=e.map((s=>new wW(s)));return this.Kh={qh:e,jh:t},t}Qn(e,t){return this.Zh.hitTest?.(e,t)??null}}let SW=class extends tA{ds(){return[]}};class CW{constructor(e){this.Hh=e}nt(e,t,s){this.Hh.draw(e,wf)}Uh(e,t,s){this.Hh.drawBackground?.(e,wf)}}class s_{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const t=new CW(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??"normal"}}function nA(n){return{ri:n.text(),Ei:n.coordinate(),Vi:n.fixedCoordinate?.(),R:n.textColor(),G:n.backColor(),It:n.visible?.()??!0,pi:n.tickVisible?.()??!0}}class _W{constructor(e,t){this.Xt=new YR,this.Xh=e,this.Jh=t}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...nA(this.Xh)}),this.Xt}}class EW extends hm{constructor(e,t){super(),this.Xh=e,this.Ki=t}Yi(e,t,s){const r=nA(this.Xh);s.G=r.G,e.R=r.R;const o=2/12*this.Ki.k();s.Ti=o,s.Ri=o,s.Ei=r.Ei,s.Vi=r.Vi,e.ri=r.ri,e.It=r.It,e.pi=r.pi}}class NW extends tA{constructor(e,t){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=t}fs(){const e=this.Zh.timeAxisViews?.()??[];if(this.Qh?.qh===e)return this.Qh.jh;const t=this.ye.Qt().Et(),s=e.map((r=>new _W(r,t)));return this.Qh={qh:e,jh:s},s}Ks(){const e=this.Zh.priceAxisViews?.()??[];if(this.ta?.qh===e)return this.ta.jh;const t=this.ye.Ft(),s=e.map((r=>new EW(r,t)));return this.ta={qh:e,jh:s},s}na(){const e=this.Zh.priceAxisPaneViews?.()??[];if(this.ia?.qh===e)return this.ia.jh;const t=e.map((s=>new s_(s)));return this.ia={qh:e,jh:t},t}ea(){const e=this.Zh.timeAxisPaneViews?.()??[];if(this.sa?.qh===e)return this.sa.jh;const t=e.map((s=>new s_(s)));return this.sa={qh:e,jh:t},t}ra(e,t){return this.Zh.autoscaleInfo?.(e,t)??null}}function cv(n,e,t,s){n.forEach((r=>{e(r).forEach((o=>{o.Yh()===t&&s.push(o)}))}))}function uv(n){return n.Ys()}function TW(n){return n.na()}function MW(n){return n.ea()}const RW=["Area","Line","Baseline"];class pm extends gW{constructor(e,t,s,r,o){super(e),this.jt=lv(),this._r=new lW(this),this.ha=[],this.aa=new iW(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new pW,this.da=new Map,this.fa=null,this.Ps=s,this.pa=t;const c=new cW(this);if(this.gs=[c],this.ur=new QR(c,this,e),RW.includes(this.pa)&&(this.la=new oW(this)),this.va(),this.$h=r(this,this.Qt(),o),this.pa==="Custom"){const u=this.$h;u.ma&&this.wa(u.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const t={Be:!0},s=this.Ft();if(this.Qt().Et().Gi()||s.Gi()||this.jt.Gi())return t;const r=this.Qt().Et().Ie(),o=this.Lt();if(r===null||o===null)return t;let c,u;if(e){const g=this.jt.Ch();if(g===null)return t;c=g,u=g.js}else{const g=this.jt.$s(r.bi(),-1);if(g===null||(c=this.jt.ph(g.js),c===null))return t;u=g.js}const h=c.Wt[3],f=this.ga().gh(u,{Wt:c}),v=s.Nt(h,o.Wt);return{Be:!1,gt:h,ri:s.Ji(h,o.Wt),Ue:s.Ma(h),$e:s.ba(h,o.Wt),R:f.th,Ei:v,js:u}}ga(){return this.oa!==null||(this.oa=new yW(this)),this.oa}N(){return this.Ps}cr(e){const t=this.Qt(),{priceScaleId:s,visible:r,priceFormat:o}=e;s!==void 0&&s!==this.Ps.priceScaleId&&t.Sa(this,s),r!==void 0&&r!==this.Ps.visible&&t.xa();const c=e.conflationThresholdFactor!==void 0;ds(this.Ps,e),c&&(this.da.clear(),this.Qt().dr()),o!==void 0&&(this.va(),t.Ca()),t.ya(this),t.ka(),this.$h.kt("options")}ht(e,t){this.jt.ht(e),this.da.clear();const s=this.Qt().Et().N();s.enableConflation&&s.precomputeConflationOnInit&&this.Pa(s.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(t&&t.Ta?this.la.Pe():e.length===0&&this.la.ke());const r=this.Qt().Kn(this);this.Qt().Ra(r),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const t=new mW(this,e);return this.ha.push(t),this.Qt().ya(this),t}Ia(e){const t=this.ha.indexOf(e);t!==-1&&this.ha.splice(t,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const t=e.Aa();return this.jt.$s(t,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const t=this.za();if(!this.da.has(t))return;const s=this.pa==="Custom",r=s&&this.fa||void 0,o=s&&this.$h.Oa?h=>{const f=h,v=this.$h.Oa(f);return Array.isArray(v)?v:[typeof v=="number"?v:0]}:void 0,c=this.ca.kr(this.jt.Dh(),e,t,r,s,o),u=lv();u.ht(c),this.da.set(t,u)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const t=this.za(),s=this.da.get(t);return s||(this.Fa(t),this.da.get(t)??this.jt)}Wa(e){const t=this.jt.ph(e);return t===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3]}:t.Wt[3]}Ha(e){const t=[];cv(this.ua,uv,"top",t);const s=this.la;return s!==null&&s.It()&&(this._a===null&&s.Re()&&(this._a=setTimeout((()=>{this._a=null,this.Qt().Ua()}),0)),s.Te(),t.unshift(s)),t}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const t=this.ha.map((s=>s.pr()));return e.push(...t),cv(this.ua,uv,"normal",e),e}qa(){return this.ja(uv,"bottom")}Ya(e){return this.ja(TW,e)}Ka(e){return this.ja(MW,e)}Za(e,t){return this.ua.map((s=>s.Qn(e,t))).filter((s=>s!==null))}ds(){return[this.ur,...this.ha.map((e=>e.vr()))]}Ks(e,t){if(t!==this.hs&&!this.$a())return[];const s=[...this.gs];for(const r of this.ha)s.push(r.mr());return this.ua.forEach((r=>{s.push(...r.Ks())})),s}fs(){const e=[];return this.ua.forEach((t=>{e.push(...t.fs())})),e}ra(e,t){if(this.Ps.autoscaleInfoProvider!==void 0){const s=this.Ps.autoscaleInfoProvider((()=>{const r=this.Ga(e,t);return r===null?null:r.tr()}));return xf.ir(s)}return this.Ga(e,t)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){this.$h.kt();for(const e of this.gs)e.kt();for(const e of this.ha)e.kt();this._r.kt(),this.aa.kt(),this.la?.kt(),this.ua.forEach((e=>e.Ws()))}Ft(){return be(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const t=this.jt.ph(e);return t===null?null:{gt:t.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new NW(e,this))}el(e){this.ua=this.ua.filter((t=>t.Gh()!==e))}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!fm(this.Ft().ol())}Ga(e,t){if(!lu(e)||!lu(t)||this.jt.Gi())return null;const s=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],r=this.jt.Ih(e,t,s);let o=r!==null?new Rn(r.Fh,r.Wh):null,c=null;if(this.wh()==="Histogram"){const u=this.Ps.base,h=new Rn(u,u);o=o!==null?o.Sn(h):h}return this.ua.forEach((u=>{const h=u.ra(e,t);if(h?.priceRange){const f=new Rn(h.priceRange.minValue,h.priceRange.maxValue);o=o!==null?o.Sn(f):f}h?.margins&&(c=h.margins)})),new xf(o,c)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBackgroundColor;if(t.length!==0)return t}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(t=>t.map(e))};break}case"volume":this.Ja=new eW(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new JR(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new mm(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,t){const s=[];return cv(this.ua,e,t,s),s}za(){const{ul:e,cl:t,dl:s}=this.fl();return this.ca.gr(e,t,s)}fl(){const e=this.Qt().Et(),t=e.ul(),s=window.devicePixelRatio||1,r=e.N().conflationThresholdFactor;return{ul:t,cl:s,dl:this.Ps.conflationThresholdFactor??r??1}}pl(e){const t=this.jt.Dh();let s;if(this.pa==="Custom"&&this.fa!==null){const o=this.rl();if(!o)throw new Error(dW);s=this.ca.Mr(t,e,this.fa,!0,(c=>o(c)))}else s=this.ca.Mr(t,e);const r=lv();return r.ht(s),r}Fa(e){const t=this.pl(e);this.da.set(e,t)}Pa(e){if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const t=this.Qt().Et().vl();for(const s of t){const r=()=>{this.ml(s)},o=typeof window=="object"&&window||typeof self=="object"&&self;o?.gl?.wl?o.gl.wl((()=>{r()}),{Ml:e}):Promise.resolve().then((()=>r()))}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const t=this.pl(e);this.da.set(e,t)}}const AW=[3],jW=[0,1,2,3];class kW{constructor(e){this.Ps=e}bl(e,t,s){let r=e;if(this.Ps.mode===0)return r;const o=s.Rs(),c=o.Lt();if(c===null)return r;const u=o.Nt(e,c),h=s.Sl().filter((v=>v instanceof pm)).reduce(((v,g)=>{if(s.Zn(g)||!g.It())return v;const x=g.Ft(),w=g.qs();if(x.Gi()||!w.Ee(t))return v;const S=w.ph(t);if(S===null)return v;const C=$r(g.Lt()),E=this.Ps.mode===3?jW:AW;return v.concat(E.map((N=>x.Nt(S.Wt[N],C.Wt))))}),[]);if(h.length===0)return r;h.sort(((v,g)=>Math.abs(v-u)-Math.abs(g-u)));const f=h[0];return r=o.Ds(f,c),r}}function Vc(n,e,t){return Math.min(Math.max(n,e),t)}function bh(n,e,t){return e-n<=t}class OW extends ta{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.jt===null)return;const o=Math.max(1,Math.floor(s));e.lineWidth=o,(function(c,u){c.save(),c.lineWidth%2&&c.translate(.5,.5),u(),c.restore()})(e,(()=>{const c=be(this.jt);if(c.xl){e.strokeStyle=c.Cl,qa(e,c.yl),e.beginPath();for(const u of c.kl){const h=Math.round(u.Pl*s);e.moveTo(h,-o),e.lineTo(h,t.height+o)}e.stroke()}if(c.Tl){e.strokeStyle=c.Rl,qa(e,c.Dl),e.beginPath();for(const u of c.Il){const h=Math.round(u.Pl*r);e.moveTo(-o,h),e.lineTo(t.width+o,h)}e.stroke()}}))}}class DW{constructor(e){this.Xt=new OW,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,t={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map((s=>({Pl:s.coord})))};this.Xt.ht(t),this.xt=!1}return this.Xt}}class IW{constructor(e){this.$h=new DW(e)}pr(){return this.$h}}const dv={Bl:4,El:1e-4};function Ko(n,e){const t=100*(n-e)/e;return e<0?-t:t}function LW(n,e){const t=Ko(n.Ze(),e),s=Ko(n.Ge(),e);return new Rn(t,s)}function Fc(n,e){const t=100*(n-e)/e+100;return e<0?-t:t}function PW(n,e){const t=Fc(n.Ze(),e),s=Fc(n.Ge(),e);return new Rn(t,s)}function Sf(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const s=Math.log10(t+e.El)+e.Bl;return n<0?-s:s}function Hc(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const s=Math.pow(10,t-e.Bl)-e.El;return n<0?-s:s}function Tc(n,e){if(n===null)return null;const t=Sf(n.Ze(),e),s=Sf(n.Ge(),e);return new Rn(t,s)}function Xo(n,e){if(n===null)return null;const t=Hc(n.Ze(),e),s=Hc(n.Ge(),e);return new Rn(t,s)}function hv(n){if(n===null)return dv;const e=Math.abs(n.Ge()-n.Ze());if(e>=1||e<1e-15)return dv;const t=Math.ceil(Math.abs(Math.log10(e))),s=dv.Bl+t;return{Bl:s,El:1/Math.pow(10,s)}}class fv{constructor(e,t){if(this.Al=e,this.Ll=t,(function(s){if(s<0)return!1;if(s>1e18)return!0;for(let r=s;r>1;r/=10)if(r%10!=0)return!1;return!0})(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let s=this.Al;s!==1;){if(s%2==0)this.zl.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),s/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,t,s){const r=this.Al===0?0:1/this.Al;let o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),c=0,u=this.Ll[0];for(;;){const g=bh(o,r,1e-14)&&o>r+1e-14,x=bh(o,s*u,1e-14),w=bh(o,1,1e-14);if(!(g&&x&&w))break;o/=u,u=this.Ll[++c%this.Ll.length]}if(o<=r+1e-14&&(o=r),o=Math.max(1,o),this.zl.length>0&&(h=o,f=1,v=1e-14,Math.abs(h-f)<v))for(c=0,u=this.zl[0];bh(o,s*u,1e-14)&&o>r+1e-14;)o/=u,u=this.zl[++c%this.zl.length];var h,f,v;return o}}class i_{constructor(e,t,s,r){this.Nl=[],this.Ki=e,this.Al=t,this.Fl=s,this.Wl=r}Ol(e,t){if(e<t)throw new Error("high < low");const s=this.Ki.$t(),r=(e-t)*this.Hl()/s,o=new fv(this.Al,[2,2.5,2]),c=new fv(this.Al,[2,2,2.5]),u=new fv(this.Al,[2.5,2,2]),h=[];return h.push(o.Ol(e,t,r),c.Ol(e,t,r),u.Ol(e,t,r)),(function(f){if(f.length<1)throw Error("array is empty");let v=f[0];for(let g=1;g<f.length;++g)f[g]<v&&(v=f[g]);return v})(h)}Ul(){const e=this.Ki,t=e.Lt();if(t===null)return void(this.Nl=[]);const s=e.$t(),r=this.Fl(s-1,t),o=this.Fl(0,t),c=this.Ki.N().entireTextOnly?this.$l()/2:0,u=c,h=s-1-c,f=Math.max(r,o),v=Math.min(r,o);if(f===v)return void(this.Nl=[]);const g=this.Ol(f,v);if(this.ql(t,g,f,v,u,h),e.jl()&&this.Yl(g,v,f)){const S=this.Ki.Kl();this.Zl(t,g,u,h,S,2*S)}const x=this.Nl.map((S=>S.Gl)),w=this.Ki.Xl(x);for(let S=0;S<this.Nl.length;S++)this.Nl[S].Jl=w[S]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,t,s,r,o,c){const u=this.Nl,h=this.Ki;let f=s%t;f+=f<0?t:0;const v=s>=r?1:-1;let g=null,x=0;for(let w=s-f;w>r;w-=t){const S=this.Wl(w,e,!0);g!==null&&Math.abs(S-g)<this.Hl()||S<o||S>c||(x<u.length?(u[x].Pl=S,u[x].Jl=h.Ql(w),u[x].Gl=w):u.push({Pl:S,Jl:h.Ql(w),Gl:w}),x++,g=S,h.io()&&(t=this.Ol(w*v,r)))}u.length=x}Zl(e,t,s,r,o,c){const u=this.Nl,h=this.so(e,s,o,c),f=this.so(e,r,-c,-o),v=this.Wl(0,e,!0)-this.Wl(t,e,!0);u.length>0&&u[0].Pl-h.Pl<v/2&&u.shift(),u.length>0&&f.Pl-u[u.length-1].Pl<v/2&&u.pop(),u.unshift(h),u.push(f)}so(e,t,s,r){const o=(s+r)/2,c=this.Fl(t+s,e),u=this.Fl(t+r,e),h=Math.min(c,u),f=Math.max(c,u),v=Math.max(.1,this.Ol(f,h)),g=this.Fl(t+o,e),x=g-g%v,w=this.Wl(x,e,!0);return{Jl:this.Ki.Ql(x),Pl:w,Gl:x}}Yl(e,t,s){let r=$r(this.Ki.er());return this.Ki.io()&&(r=Xo(r,this.Ki.no())),r.Ze()-t<e&&s-r.Ge()<e}}function sA(n){return n.slice().sort(((e,t)=>be(e._s())-be(t._s())))}var r_;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(r_||(r_={}));const a_=new JR,o_=new mm(100,1);class zW{constructor(e,t,s,r,o){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new Gt,this.fo=new Gt,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=o_,this.So=hv(null),this.xo=e,this.Ps=t,this.Co=s,this.yo=r,this.ko=o,this.Po=new i_(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(ds(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const t=Kn(e.scaleMargins.top),s=Kn(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(t+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+s}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const t=this.ae();let s=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),t.ae===1&&e.ae!==t.ae&&((function(o,c){if(o===null)return!1;const u=Hc(o.Ze(),c),h=Hc(o.Ge(),c);return isFinite(u)&&isFinite(h)})(this.sr,this.So)?(s=Xo(this.sr,this.So),s!==null&&this.Lo(s)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==t.ae&&(s=Tc(this.sr,this.So),s!==null&&this.Lo(s));const r=t.ae!==this.Ps.mode;r&&(t.ae===2||this.He())&&this._l(),r&&(t.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&t.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(t,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,t){const s=this.sr;(t||s===null&&e!==null||s!==null&&!s.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,t){return this.He()?e=Ko(e,t):this.Eo()&&(e=Fc(e,t)),this.Ro(e,t)}Yo(e,t,s){this.Uo();const r=this.Ho(),o=be(this.er()),c=o.Ze(),u=o.Ge(),h=this.Fo()-1,f=this.Ao(),v=h/(u-c),g=s===void 0?0:s.from,x=s===void 0?e.length:s.to,w=this.Ko();for(let S=g;S<x;S++){const C=e[S],E=C.gt;if(isNaN(E))continue;let N=E;w!==null&&(N=w(C.gt,t));const T=r+v*(N-c),A=f?T:this.eo-1-T;C.ut=A}}Zo(e,t,s){this.Uo();const r=this.Ho(),o=be(this.er()),c=o.Ze(),u=o.Ge(),h=this.Fo()-1,f=this.Ao(),v=h/(u-c),g=s===void 0?0:s.from,x=s===void 0?e.length:s.to,w=this.Ko();for(let S=g;S<x;S++){const C=e[S];let E=C.Hr,N=C.Ur,T=C.$r,A=C.qr;w!==null&&(E=w(C.Hr,t),N=w(C.Ur,t),T=w(C.$r,t),A=w(C.qr,t));let j=r+v*(E-c),z=f?j:this.eo-1-j;C.Go=z,j=r+v*(N-c),z=f?j:this.eo-1-j,C.Xo=z,j=r+v*(T-c),z=f?j:this.eo-1-j,C.Jo=z,j=r+v*(A-c),z=f?j:this.eo-1-j,C.Qo=z}}Ds(e,t){const s=this.To(e,t);return this.t_(s,t)}t_(e,t){let s=e;return this.He()?s=(function(r,o){return o<0&&(r=-r),r/100*o+o})(s,t):this.Eo()&&(s=(function(r,o){return r-=100,o<0&&(r=-r),r/100*o+o})(s,t)),s}Sl(){return this.po}Dt(){return this.mo||(this.mo=sA(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const t=this.po.indexOf(e);if(t===-1)throw new Error("source is not attached to scale");this.po.splice(t,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const t of this.po){const s=t.Lt();s!==null&&(e===null||s.Ea<e.Ea)&&(e=s)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const t=this.Po.Vl();return this.wo={Vl:t,e_:e},this.do.p(),t}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=be(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let t=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const s=be(this.ho).Ke();t=Math.max(t,.1),s.Je(t),this.Lo(s)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=be(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const t=be(this.er()).Xe()/(this.Fo()-1);let s=e-this.bo;this.Ao()&&(s*=-1);const r=s*t,o=be(this.ho).Ke();o.Qe(r),this.Lo(o,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,t){switch(this.Ps.mode){case 2:return this.c_(Ko(e,t));case 3:return this.Xa().format(Fc(e,t));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,be(this.vo).Xa())}ba(e,t){return e=Ko(e,t),this.c_(e,a_)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach((e=>e.Ws()))}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const s of this.po)s._s()<e&&(e=s._s(),this.vo=s);let t=100;this.vo!==null&&(t=Math.round(this.vo.qh())),this.Ja=o_,this.He()?(this.Ja=a_,t=100):this.Eo()?(this.Ja=new mm(100,1),t=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new i_(this,t,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,t){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?Sf(e,this.So):e;const s=be(this.er()),r=this.Ho()+(this.Fo()-1)*(e-s.Ze())/s.Xe();return this.jo(r)}To(e,t){if(this.Uo(),this.Gi())return 0;const s=this.jo(e),r=be(this.er()),o=r.Ze()+r.Xe()*((s-this.Ho())/(this.Fo()-1));return this.io()?Hc(o,this.So):o}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let t=null;const s=this.p_();let r=0,o=0;for(const h of s){if(!h.It())continue;const f=h.Lt();if(f===null)continue;const v=h.ra(e.Aa(),e.bi());let g=v&&v.er();if(g!==null){switch(this.Ps.mode){case 1:g=Tc(g,this.So);break;case 2:g=LW(g,f.Wt);break;case 3:g=PW(g,f.Wt)}if(t=t===null?g:t.Sn(be(g)),v!==null){const x=v.rr();x!==null&&(r=Math.max(r,x.above),o=Math.max(o,x.below))}}}if(this.jl()&&(r=Math.max(r,this.Kl()),o=Math.max(o,this.Kl())),r===this.uo&&o===this.co||(this.uo=r,this.co=o,this.wo=null,this.Io()),t!==null){if(t.Ze()===t.Ge()){const h=5*this.m_();this.io()&&(t=Xo(t,this.So)),t=new Rn(t.Ze()-h,t.Ge()+h),this.io()&&(t=Tc(t,this.So))}if(this.io()){const h=Xo(t,this.So),f=hv(h);if(c=f,u=this.So,c.Bl!==u.Bl||c.El!==u.El){const v=this.ho!==null?Xo(this.ho,this.So):null;this.So=f,t=Tc(h,f),v!==null&&(this.ho=Tc(v,f))}}this.Lo(t)}else this.sr===null&&(this.Lo(new Rn(-.5,.5)),this.So=hv(null));var c,u}Ko(){return this.He()?Ko:this.Eo()?Fc:this.io()?e=>Sf(e,this.So):null}g_(e,t,s){return t===void 0?(s===void 0&&(s=this.Xa()),s.format(e)):t(e)}M_(e,t,s){return t===void 0?(s===void 0&&(s=this.Xa()),s.formatTickmarks(e)):t(e)}lr(e,t){return this.g_(e,this.yo.priceFormatter,t)}f_(e,t){const s=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(s?r=>r.map(s):void 0),t)}c_(e,t){return this.g_(e,this.yo.percentageFormatter,t)}d_(e,t){const s=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(s?r=>r.map(s):void 0),t)}}function l_(n){return n instanceof pm}class c_{constructor(e,t){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new Gt,this.ua=[],this.Jh=e,this.ns=t,this.k_=new IW(this);const s=t.N();this.P_=this.T_("left",s.leftPriceScale),this.R_=this.T_("right",s.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(s)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const t=Array.from(this.b_.values());for(const s of t){const r=be(s[0].Ft());r.cr(e.overlayPriceScales),e.localization&&r._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?Kn(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach((e=>{e.m&&e.m()})),this.ua=this.ua.filter((e=>{const t=e.Gh();return t.detached&&t.detached(),!1})),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach((t=>{if(this.Zn(t)){const s=t.Ft();s!==null&&s.No(e)}})),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(l_)}Sl(){return this.po}Zn(e){const t=e.Ft();return t===null||this.P_!==t&&this.R_!==t}i_(e,t,s){this.W_(e,t,s?e._s():this.po.length)}n_(e,t){const s=this.po.indexOf(e);gn(s!==-1,"removeDataSource: invalid data source"),this.po.splice(s,1),t||this.po.forEach(((c,u)=>c.us(u)));const r=be(e.Ft()).ol();if(this.b_.has(r)){const c=Kn(this.b_.get(r)),u=c.indexOf(e);u!==-1&&(c.splice(u,1),c.length===0&&this.b_.delete(r))}const o=e.Ft();o&&o.Sl().indexOf(e)>=0&&(o.n_(e),this.H_(o)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,t){e.h_(t)}Y_(e,t){e.a_(t),this.z_()}K_(e){e.l_()}Z_(e,t){e.o_(t)}G_(e,t){e.__(t),this.z_()}X_(e){e.u_()}z_(){this.po.forEach((e=>{e.Ws()}))}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const t=this.Jh.Ie();e.Do({ln:!0}),t!==null&&e.v_(t),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach((e=>{this.Zn(e)&&this.H_(e.Ft())})),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=sA(this.po)),this.mo}su(e,t){t=Vc(t,0,this.po.length-1);const s=this.po.indexOf(e);gn(s!==-1,"setSeriesOrder: invalid data source"),this.po.splice(s,1),this.po.splice(t,0,e),this.po.forEach(((r,o)=>r.us(o))),this.mo=null;for(const r of[this.P_,this.R_])r.s_(),r._l();this.ns.dr()}Vt(){return this.Dt().filter(l_)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new SW(e))}el(e){this.ua=this.ua.filter((t=>t.Gh()!==e)),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,t){return this.ua.map((s=>s.Qn(e,t))).filter((s=>s!==null))}J_(e){const t=e.p_();if(t&&t.length>0&&!this.Jh.Gi()){const s=this.Jh.Ie();s!==null&&e.v_(s)}e.Ws()}W_(e,t,s){let r=this.V_(t);if(r===null&&(r=this.T_(t,this.ns.N().overlayPriceScales)),this.po.splice(s,0,e),!fm(t)){const o=this.b_.get(t)||[];o.push(e),this.b_.set(t,o)}e.us(s),r.i_(e),e.cs(r),this.H_(r),this.mo=null}D_(e,t,s){t.ae!==s.ae&&this.J_(e)}T_(e,t){const s={visible:!0,autoScale:!0,...Fi(t)},r=new zW(e,s,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return r.No(this.$t()),r}}function xh(n){return{hu:n.hu,au:{te:n.lu.externalId},ou:n.lu.cursorStyle}}function $W(n,e,t,s){for(const r of n){const o=r.Tt(s);if(o!==null&&o.Qn){const c=o.Qn(e,t);if(c!==null)return{_u:r,au:c}}}return null}function UW(n){return n.Ys!==void 0}function iA(n,e,t){const s=[n,...n.Dt()],r=(function(o,c,u){let h,f;for(const x of o){const w=x.Za?.(c,u)??[];for(const S of w)v=S.zOrder,g=h?.zOrder,(!g||v==="top"&&g!=="top"||v==="normal"&&g==="bottom")&&(h=S,f=x)}var v,g;return h&&f?{lu:h,hu:f}:null})(s,e,t);if(r?.lu.zOrder==="top")return xh(r);for(const o of s){if(r&&r.hu===o&&r.lu.zOrder!=="bottom"&&!r.lu.isBackground)return xh(r);if(UW(o)){const c=$W(o.Ys(n),e,t,n);if(c!==null)return{hu:o,_u:c._u,au:c.au}}if(r&&r.hu===o&&r.lu.zOrder!=="bottom"&&r.lu.isBackground)return xh(r)}return r?.lu?xh(r):null}class BW{constructor(e,t,s=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=t,this.zn=s}du(e){const t=e.time,s=this.cu.cacheKey(t),r=this.Ln.get(s);if(r!==void 0)return r.fu;if(this.Vn===this.zn){const c=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(Kn(c)),this.En++,this.Vn--}const o=this.uu(e);return this.Ln.set(s,{fu:o,Wn:this.Bn}),this.An.set(this.Bn,s),this.Vn++,this.Bn++,o}}class Wc{constructor(e,t){gn(e<=t,"right should be >= left"),this.pu=e,this.vu=t}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function u_(n,e){return n===null||e===null?n===e:n.Ye(e)}class VW{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,t){this.Su(t),this.Ln=null;for(let s=t;s<e.length;++s){const r=e[s];let o=this.wu.get(r.timeWeight);o===void 0&&(o=[],this.wu.set(r.timeWeight,o)),o.push({index:s,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}xu(e,t,s,r,o){const c=Math.ceil(t/e);return this.Ln!==null&&this.Ln.Cu===c&&o===this.Ln.yu&&s===this.Ln.ku||(this.Ln={yu:o,ku:s,Vl:this.Pu(c,s,r),Cu:c}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const t=[];this.wu.forEach(((s,r)=>{e<=s[0].index?t.push(r):s.splice(gl(s,e,(o=>o.index<e)),1/0)}));for(const s of t)this.wu.delete(s)}Pu(e,t,s){let r=[];const o=c=>!t||s.has(c.index);for(const c of Array.from(this.wu.keys()).sort(((u,h)=>h-u))){if(!this.wu.get(c))continue;const u=r;r=[];const h=u.length;let f=0;const v=Kn(this.wu.get(c)),g=v.length;let x=1/0,w=-1/0;for(let S=0;S<g;S++){const C=v[S],E=C.index;for(;f<h;){const N=u[f],T=N.index;if(!(T<E&&o(N))){x=T;break}f++,r.push(N),w=T,x=1/0}if(x-E>=e&&E-w>=e&&o(C))r.push(C),w=E;else if(this.gu)return u}for(;f<h;f++)o(u[f])&&r.push(u[f])}return r}}class ol{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new Wc(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new ol(null)}}function FW(n,e){return n.weight>e.weight?n:e}class HW{constructor(e,t,s,r){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new VW,this.Au=new Map,this.Lu=ol.Iu(),this.zu=!0,this.Ou=new Gt,this.Nu=new Gt,this.Fu=new Gt,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=t,this.yo=s,this.Yu=t.rightOffset,this.Ku=t.barSpacing,this.ns=e,this.Zu(t),this.cu=r,this.Gu(),this.Eu.Mu(t.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){ds(this.yo,e),this.tc(),this.Gu()}cr(e,t){ds(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){return this.Bu[e]?.time??null}es(e){return this.Bu[e]??null}ec(e,t){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return t?this.Bu.length-1:null;const s=gl(this.Bu,this.cu.key(e),((r,o)=>this.cu.key(r.time)<o));return this.cu.key(e)<this.cu.key(this.Bu[s].time)?t?s:null:s}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const t={from:e.Aa(),to:e.bi()};return this.oc(t)}oc(e){const t=Math.round(e.from),s=Math.round(e.to),r=be(this._c()),o=be(this.uc());return{from:be(this.es(Math.max(r,t))),to:be(this.es(Math.min(o,s)))}}cc(e){return{from:be(this.ec(e.from,!0)),to:be(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const t=this.ac(),s=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&s!==0){const r=this.Ku*e/s;this.Ku=r}if(this.Ps.fixLeftEdge&&t!==null&&t.Aa()<=0){const r=s-e;this.Yu-=Math.round(r/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!lu(e))return 0;const t=this.vc()+this.Yu-e;return this.S_-(t+.5)*this.Ku-1}mc(e,t){const s=this.vc(),r=t===void 0?0:t.from,o=t===void 0?e.length:t.to;for(let c=r;c<o;c++){const u=e[c].wt,h=s+this.Yu-u,f=this.S_-(h+.5)*this.Ku-1;e[c]._t=f}}wc(e,t){const s=Math.ceil(this.gc(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(s)?this.bc(s):s}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const t=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&t!==0){const s=this.Yu*t/this.Ku;this.Yu=s}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,t=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),s=Math.round(t/e),r=be(this.Ie()),o=Math.max(r.Aa(),r.Aa()-s),c=Math.max(r.bi(),r.bi()-s),u=this.Eu.xu(e,t,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),h=this._c()+s,f=this.uc()-s,v=this.yc(),g=this.Ps.fixLeftEdge||v,x=this.Ps.fixRightEdge||v;let w=0;for(const S of u){if(!(o<=S.index&&S.index<=c))continue;let C;w<this.qu.length?(C=this.qu[w],C.coord=this.qt(S.index),C.label=this.kc(S),C.weight=S.weight):(C={needAlignCoordinate:!1,coord:this.qt(S.index),label:this.kc(S),weight:S.weight},this.qu.push(C)),this.Ku>t/2&&!v?C.needAlignCoordinate=!1:C.needAlignCoordinate=g&&S.index<=h||x&&S.index>=f,w++}return this.qu.length=w,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,t){const s=this.gc(e),r=this.ul(),o=r+t*(r/10);this.gn(o),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(s-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const t=Vc(this.S_-e,0,this.S_),s=Vc(this.S_-be(this.Mo),0,this.S_);t!==0&&s!==0&&this.gn(this.Wu.ul*t/s)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const t=(this.bo-e)/this.ul();this.Yu=be(this.Wu).Cc+t,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.Yu,r=performance.now();this.ns.vn({Ec:o=>(o-r)/t>=1,Ac:o=>{const c=(o-r)/t;return c>=1?e:s+(e-s)*c}})}kt(e,t){this.zu=!0,this.Bu=e,this.Eu.bu(e,t),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,t){const s=e.mu(),r=t&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-r)/s),this.Yu=e.bi()-this.vc(),t&&(this.Yu=r?r/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),t=this.uc();if(e===null||t===null)return;const s=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new Wc(e,t+s),!0)}Wc(e){const t=new Wc(e.from,e.to);this.Nc(t)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const t of e)for(const s of t.ll())this.Uu.set(s,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),t=this.Ps.minBarSpacing;if(t>=e)return[1];const s=[1];let r=2;for(;r<=512;)t<e/r&&s.push(r),r*=2;return s}yc(){const e=this.ns.N().handleScroll,t=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const t=this.Uc(e),s=this.vc()+this.Yu-t;return Math.round(1e6*s)/1e6}xc(e){const t=this.Ku;this.Ku=e,this.dc(),t!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(ol.Iu());const e=this.vc(),t=this.S_/this.Ku,s=this.Yu+e,r=new Wc(s-t+1,s);this.qc(new ol(r))}dc(){const e=Vc(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const t=e/this.Ku,s=Math.pow(2,Math.floor(Math.log2(t)));this.ju=Math.min(s,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const t=this.Zc();this.Yu>t&&(this.Yu=t,this.zu=!0)}Kc(){const e=this._c(),t=this.Vu;return e===null||t===null?null:e-t-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let t=this.Au.get(e.weight);return t===void 0&&(t=new BW((s=>this.Gc(s)),this.cu),this.Au.set(e.weight,t)),t.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const t=this.Lu;this.Lu=e,u_(t.Ru(),this.Lu.Ru())||this.Ou.p(),u_(t.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const t=this.Ie();if(t===null)return;const s=t.Aa()-e;if(s<0){const r=this.Yu-s-1;this.Mn(r)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const t=(function*(r){const o=Math.round(r),c=o<r;let u=1;for(;;)c?(yield o+u,yield o-u):(yield o-u,yield o+u),u++})(e),s=this.uc();for(;s;){const r=t.next().value;if(this.Uu.get(r))return r;if(r<0||r>s)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const t=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(t)}}}var d_,h_,f_,Cf,m_;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(d_||(d_={}));class WW{constructor(e,t,s){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new Gt,this.nd=new Gt,this.ed=null,this.rd=e,this.Ps=t,this.cu=s,this.ko=new B7(this.Ps.layout.colorParsers),this.hd=new U7(this),this.Jh=new HW(this,t.timeScale,this.Ps.localization,s),this.Ct=new Z7(this,t.crosshair),this.ad=new kW(t.crosshair),t.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(Vn.yn())}dr(){this.dd(Vn.Cn())}Ua(){this.dd(new Vn(1))}ya(e){const t=this.fd(e);this.dd(t)}pd(){return this.td}vd(e){if(this.td?.hu===e?.hu&&this.td?.au?.te===e?.au?.te)return;const t=this.td;this.td=e,t!==null&&this.ya(t.hu),e!==null&&e.hu!==t?.hu&&this.ya(e.hu)}N(){return this.Ps}cr(e){ds(this.Ps,e),this.Xc.forEach((t=>t.I_(e))),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,t,s=0){const r=this.Xc[s];if(r===void 0)return;if(e==="left")return ds(this.Ps,{leftPriceScale:t}),r.I_({leftPriceScale:t}),this.sd.p(),void this.Ca();if(e==="right")return ds(this.Ps,{rightPriceScale:t}),r.I_({rightPriceScale:t}),this.sd.p(),void this.Ca();const o=this.wd(e,s);o!==null&&(o.Ft.cr(t),this.sd.p())}wd(e,t){const s=this.Xc[t];if(s===void 0)return null;const r=s.V_(e);return r!==null?{Gs:s,Ft:r}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,t){e.No(t),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach((t=>t.L_(e))),this.Sc()}Sd(e){this.Xc.length!==1&&(gn(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,t){if(this.Xc.length<2)return;gn(e>=0&&e<this.Xc.length,"Invalid pane index");const s=this.Xc[e],r=this.Xc.reduce(((g,x)=>g+x.E_()),0),o=this.Xc.reduce(((g,x)=>g+x.$t()),0),c=o-30*(this.Xc.length-1);t=Math.min(c,Math.max(30,t));const u=r/o,h=s.$t();s.A_(t*u);let f=t-h,v=this.Xc.length-1;for(const g of this.Xc)if(g!==s){const x=Math.min(c,Math.max(30,g.$t()-f/v));f-=g.$t()-x,v-=1;const w=x*u;g.A_(w)}this.Ca()}Cd(e,t){gn(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index");const s=this.Xc[e],r=this.Xc[t];this.Xc[e]=r,this.Xc[t]=s,this.Ca()}yd(e,t){if(gn(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index"),e===t)return;const[s]=this.Xc.splice(e,1);this.Xc.splice(t,0,s),this.Ca()}j_(e,t,s){e.j_(t,s)}Y_(e,t,s){e.Y_(t,s),this.ka(),this.dd(this.kd(e,2))}K_(e,t){e.K_(t),this.dd(this.kd(e,2))}Z_(e,t,s){t.Vo()||e.Z_(t,s)}G_(e,t,s){t.Vo()||(e.G_(t,s),this.ka(),this.dd(this.kd(e,2)))}X_(e,t){t.Vo()||(e.X_(t),this.dd(this.kd(e,2)))}Q_(e,t){e.Q_(t),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,t){const s=this.Et();if(s.Gi()||t===0)return;const r=s.ss();e=Math.max(1,Math.min(e,r)),s.Rc(e,t),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter((e=>e.It()))),this.Qc}xa(){this.Qc=null}Ad(e,t,s,r,o){this.Ct.Bs(e,t);let c=NaN,u=this.Jh.wc(e,!0);const h=this.Jh.Ie();h!==null&&(u=Math.min(Math.max(h.Aa(),u),h.bi())),u=this.Ct.Hs(u);const f=r.Rs(),v=f.Lt();if(v!==null&&(c=f.Ds(t,v)),c=this.ad.bl(c,u,r),this.Ct.zs(u,c,r),this.Ua(),!o){const g=iA(r,e,t);this.vd(g&&{hu:g.hu,au:g.au,ou:g.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:t},s)}}Ld(e,t,s){const r=s.Rs(),o=r.Lt(),c=r.Nt(e,be(o)),u=this.Jh.ec(t,!0),h=this.Jh.qt(be(u));this.Ad(h,c,null,s,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const t=this.Ct.As(),s=this.Ct.Ls();this.Ad(t,s,null,e)}this.Ct.Ws()}Od(e,t,s){const r=this.Jh.Is(0);t!==void 0&&s!==void 0&&this.Jh.kt(t,s);const o=this.Jh.Is(0),c=this.Jh.vc(),u=this.Jh.Ie();if(u!==null&&r!==null&&o!==null){const h=u.Ee(c),f=this.cu.key(r)>this.cu.key(o),v=e!==null&&e>c&&!f,g=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,x=h&&(s!==void 0||g)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(v&&!x){const w=e-c;this.Jh.Mn(this.Jh.Cc()-w)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if((function(s){return s instanceof c_})(e))return e;const t=this.Xc.find((s=>s.Dt().includes(e)));return t===void 0?null:t}Sc(){this.Xc.forEach((e=>e.iu())),this.ka()}m(){this.Xc.forEach((e=>e.m())),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,t){const s=this.ld(t);this.Wd(e,s),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const t=this.Kn(e),s=this.Jc.indexOf(e);gn(s!==-1,"Series not found");const r=be(t);this.Jc.splice(s,1),r.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(r)}Sa(e,t){const s=be(this.Kn(e));s.n_(e,!0),s.i_(e,t,!0)}Fc(){const e=Vn.Cn();e.cn(),this.dd(e)}$d(e){const t=Vn.Cn();t.pn(e),this.dd(t)}wn(){const e=Vn.Cn();e.wn(),this.dd(e)}gn(e){const t=Vn.Cn();t.gn(e),this.dd(t)}Mn(e){const t=Vn.Cn();t.Mn(e),this.dd(t)}vn(e){const t=Vn.Cn();t.vn(e),this.dd(t)}dn(){const e=Vn.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,t){if(gn(t>=0,"Index should be greater or equal to 0"),t===this.Yd(e))return;const s=be(this.Kn(e));s.n_(e);const r=this.ld(t);this.Wd(e,r),s.Sl().length===0&&this.Ud(s),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const t=this.ud,s=this.od;if(t===s)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==s||this.ed.rh!==t)this.ed={eh:s,rh:t,Zd:new Map};else{const o=this.ed.Zd.get(e);if(o!==void 0)return o}const r=this.ko.tt(s,t,e/100);return this.ed.Zd.set(e,r),r}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const t=new c_(this.Jh,this);this.Xc.push(t);const s=e??this.Xc.length-1,r=Vn.yn();return r.hn(s,{an:0,ln:!0}),this.dd(r),t}ld(e){return gn(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex((t=>t.F_().includes(e)))}kd(e,t){const s=new Vn(t);if(e!==null){const r=this.Xc.indexOf(e);s.hn(r,{an:t})}return s}fd(e,t){return t===void 0&&(t=2),this.kd(this.Kn(e),t)}dd(e){this.rd&&this.rd(e),this.Xc.forEach((t=>t.eu().pr().kt()))}Wd(e,t){const s=e.N().priceScaleId,r=s!==void 0?s:this.qd();t.i_(e,r),fm(r)||e.cr(e.N())}_d(e){const t=this.Ps.layout;return t.background.type==="gradient"?e===0?t.background.topColor:t.background.bottomColor:t.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function rA(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const t=Math.round(n);if(Math.abs(t-n)<1e-8)return e;n*=10}return e}function h0(n){return!pl(n)&&!Iu(n)}function aA(n){return pl(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(h_||(h_={})),(function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"})(f_||(f_={})),(function(n){n.Solid="solid",n.VerticalGradient="gradient"})(Cf||(Cf={})),(function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"})(m_||(m_={}));const p_=n=>n.getUTCFullYear();function GW(n,e,t){return e.replace(/yyyy/g,(s=>Hi(p_(s),4))(n)).replace(/yy/g,(s=>Hi(p_(s)%100,2))(n)).replace(/MMMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(n,t)).replace(/MMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(n,t)).replace(/MM/g,(s=>Hi((r=>r.getUTCMonth()+1)(s),2))(n)).replace(/dd/g,(s=>Hi((r=>r.getUTCDate())(s),2))(n))}class oA{constructor(e="yyyy-MM-dd",t="default"){this.Qd=e,this.tf=t}du(e){return GW(e,this.Qd,this.tf)}}class qW{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Hi(e.getUTCHours(),2)).replace("%m",Hi(e.getUTCMinutes(),2)).replace("%s",Hi(e.getUTCSeconds(),2))}}const YW={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class KW{constructor(e={}){const t={...YW,...e};this.hf=new oA(t.sf,t.rf),this.af=new qW(t.nf),this.lf=t.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function wh(n){return 60*n*60*1e3}function mv(n){return 60*n*1e3}const Sh=[{_f:(g_=1,1e3*g_),uf:10},{_f:mv(1),uf:20},{_f:mv(5),uf:21},{_f:mv(30),uf:22},{_f:wh(1),uf:30},{_f:wh(3),uf:31},{_f:wh(6),uf:32},{_f:wh(12),uf:33}];var g_;function v_(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let t=Sh.length-1;t>=0;--t)if(Math.floor(e.getTime()/Sh[t]._f)!==Math.floor(n.getTime()/Sh[t]._f))return Sh[t].uf;return 0}function pv(n){let e=n;if(Iu(n)&&(e=By(n)),!h0(e))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(t.getTime()/1e3),df:e}}function y_(n){if(!aA(n))throw new Error("time must be of type isUTCTimestamp");return{cf:n}}function By(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function b_(n){Iu(n.time)&&(n.time=By(n.time))}class x_{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?(function(t){t.forEach(b_)})(e):b_(e)}createConverterToInternalObj(e){return be((function(t){return t.length===0?null:h0(t[0].time)||Iu(t[0].time)?pv:y_})(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return t.df===void 0?new Date(1e3*t.cf).getTime():new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day)).getTime()}convertHorzItemToInternal(e){return aA(t=e)?y_(t):h0(t)?pv(t):pv(By(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new KW({sf:t,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new oA(t,e.locale)}formatHorzItem(e){const t=e;return this.ff.du(new Date(1e3*t.cf))}formatTickmark(e,t){const s=(function(o,c,u){switch(o){case 0:case 10:return c?u?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return c?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){const o=r.tickMarkFormatter(e.originalTime,s,t.locale);if(o!==null)return o}return(function(o,c,u){const h={};switch(c){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const f=o.df===void 0?new Date(1e3*o.cf):new Date(Date.UTC(o.df.year,o.df.month-1,o.df.day));return new Date(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()).toLocaleString(u,h)})(e.time,s,t.locale)}maxTickMarkWeight(e){let t=e.reduce(FW,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){(function(s,r=0){if(s.length===0)return;let o=r===0?null:s[r-1].time.cf,c=o!==null?new Date(1e3*o):null,u=0;for(let h=r;h<s.length;++h){const f=s[h],v=new Date(1e3*f.time.cf);c!==null&&(f.timeWeight=v_(v,c)),u+=f.time.cf-(o||f.time.cf),o=f.time.cf,c=v}if(r===0&&s.length>1){const h=Math.ceil(u/(s.length-1)),f=new Date(1e3*(s[0].time.cf-h));s[0].timeWeight=v_(new Date(1e3*s[0].time.cf),f)}})(e,t)}static pf(e){return ds({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const vl=typeof window<"u";function w_(){return!!vl&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function gv(){return!!vl&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function f0(n){return n+n%2}function XW(n){vl&&window.chrome!==void 0&&n.addEventListener("mousedown",(e=>{if(e.button===1)return e.preventDefault(),!1}))}class gm{constructor(e,t,s){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!gv(),this.Uf=r=>{this.$f(r)},this.qf=r=>{if(this.jf(r)){const o=this.Yf(r);if(++this.gf,this.Mf&&this.gf>1){const{Kf:c}=this.Zf(Qs(r),this.bf);c<30&&!this.Tf&&this.Gf(o,this.Jf.Xf),this.Qf()}}else{const o=this.Yf(r);if(++this.vf,this.mf&&this.vf>1){const{Kf:c}=this.Zf(Qs(r),this.wf);c<5&&!this.Pf&&this.tp(o,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=t,this.Ps=s,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const t=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",t)},this.np.addEventListener("mousemove",t),this.jf(e))return;const s=this.Yf(e);this.tp(s,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const t=this.Yf(e);this.tp(t,this.Jf.op),this.Hf=!0}_p(e){const t=vv(e.changedTouches,be(this.Wf));if(t===null||(this.Ff=Ch(e),this.Af!==null)||this.Of)return;this.zf=!0;const s=this.Zf(Qs(t),be(this.yf)),{up:r,cp:o,Kf:c}=s;if(this.kf||!(c<5)){if(!this.kf){const u=.5*r,h=o>=u&&!this.Ps.dp(),f=u>o&&!this.Ps.fp();h||f||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const u=this.Yf(e,t);this.Gf(u,this.Jf.pp),Vo(e)}}}vp(e){if(e.button!==0)return;const t=this.Zf(Qs(e),be(this.Cf)),{Kf:s}=t;if(s>=5&&(this.Pf=!0,this.sp()),this.Pf){const r=this.Yf(e);this.tp(r,this.Jf.mp)}}Zf(e,t){const s=Math.abs(t._t-e._t),r=Math.abs(t.ut-e.ut);return{up:s,cp:r,Kf:s+r}}wp(e){let t=vv(e.changedTouches,be(this.Wf));if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t===null)return;this.Wf=null,this.Ff=Ch(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const s=this.Yf(e,t);if(this.Gf(s,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:r}=this.Zf(Qs(t),this.bf);r<30&&!this.Tf&&this.Gf(s,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(s,this.Jf.Mp),this.Jf.Mp&&Vo(e));this.gf===0&&Vo(e),e.touches.length===0&&this.xf&&(this.xf=!1,Vo(e))}$f(e){if(e.button!==0)return;const t=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),w_()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(t,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:s}=this.Zf(Qs(e),this.wf);s<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}else this.Pf||this.tp(t,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const t=e.changedTouches[0];this.Wf=t.identifier,this.Ff=Ch(e);const s=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Qs(t),this.Ef&&(this.Ef(),this.Ef=null);{const o=this._p.bind(this),c=this.wp.bind(this);this.Ef=()=>{s.removeEventListener("touchmove",o),s.removeEventListener("touchend",c)},s.addEventListener("touchmove",o,{passive:!1}),s.addEventListener("touchend",c,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const r=this.Yf(e,t);this.Gf(r,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Qs(t))}kp(e){if(e.button!==0)return;const t=this.np.ownerDocument.documentElement;w_()&&t.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Qs(e),this.Bf&&(this.Bf(),this.Bf=null);{const r=this.vp.bind(this),o=this.$f.bind(this);this.Bf=()=>{t.removeEventListener("mousemove",r),t.removeEventListener("mouseup",o)},t.addEventListener("mousemove",r),t.addEventListener("mouseup",o)}if(this.Nf=!0,this.jf(e))return;const s=this.Yf(e);this.tp(s,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Qs(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,t=s=>{this.Jf.Tp&&(s.composed&&this.np.contains(s.composedPath()[0])||s.target&&this.np.contains(s.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",t)},this.Rf=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}gv()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),XW(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",(()=>{}),{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",(e=>this.Ep(e.touches)),{passive:!0}),this.np.addEventListener("touchmove",(e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const t=S_(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,t),Vo(e)}}),{passive:!1}),this.np.addEventListener("touchend",(e=>{this.Ep(e.touches)})))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const t=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Lf=S_(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const t=this.Yf(e);this.tp(t,this.Jf.zp),this.Hf=!gv()}Cp(e){const t=vv(e.touches,be(this.Wf));if(t===null)return;const s=this.Yf(e,t);this.Gf(s,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:Ch(e)<this.Ff+500}Gf(e,t){t&&t.call(this.Jf,e)}tp(e,t){t&&t.call(this.Jf,e)}Yf(e,t){const s=t||e,r=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-r.left,localY:s.clientY-r.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:s.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&Vo(e)}}}}function S_(n,e){const t=n.clientX-e.clientX,s=n.clientY-e.clientY;return Math.sqrt(t*t+s*s)}function Vo(n){n.cancelable&&n.preventDefault()}function Qs(n){return{_t:n.pageX,ut:n.pageY}}function Ch(n){return n.timeStamp||performance.now()}function vv(n,e){for(let t=0;t<n.length;++t)if(n[t].identifier===e)return n[t];return null}class JW{constructor(e,t,s){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[t],this.Gp=e.Zp()[s],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return _t({width:this.Kp.sv().width,height:1})}nv(){return _t({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,t,s){const r=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(t,s,r.width,r.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Jp.appendChild(e);const s=document.createElement("div"),r=s.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Jp.appendChild(s);const o={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new gm(s,o,{dp:()=>!1,fp:()=>!0}),this.Up={hv:s,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const t=this.Kp.cv().E_()+this.Gp.cv().E_(),s=t/(this.Kp.sv().height+this.Gp.sv().height),r=30*s;t<=2*r||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:t-r,vv:t,mv:s,wv:r},this.Up.rv.style.display="block")}_v(e){const t=this.jp;if(t===null)return;const s=(e.pageY-t.dv)*t.mv,r=Vc(t.fv+s,t.wv,t.pv);this.Kp.cv().A_(r),this.Gp.cv().A_(t.vv-r),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function yv(n,e){return n.gv-e.gv}function bv(n,e,t){const s=(n.gv-e.gv)/(n.wt-e.wt);return Math.sign(s)*Math.min(Math.abs(s),t)}class QW{constructor(e,t,s,r){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=t,this.Rv=s,this.kn=r}Dv(e,t){if(this.Mv!==null){if(this.Mv.wt===t)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:t,gv:e}}fe(e,t){if(this.Mv===null||this.bv===null||t-this.Mv.wt>50)return;let s=0;const r=bv(this.Mv,this.bv,this.Tv),o=yv(this.Mv,this.bv),c=[r],u=[o];if(s+=o,this.Sv!==null){const f=bv(this.bv,this.Sv,this.Tv);if(Math.sign(f)===Math.sign(r)){const v=yv(this.bv,this.Sv);if(c.push(f),u.push(v),s+=v,this.xv!==null){const g=bv(this.Sv,this.xv,this.Tv);if(Math.sign(g)===Math.sign(r)){const x=yv(this.Sv,this.xv);c.push(g),u.push(x),s+=x}}}}let h=0;for(let f=0;f<c.length;++f)h+=u[f]/s*c[f];Math.abs(h)<this.Pv||(this.Cv={gv:e,wt:t},this.kv=h,this.yv=(function(f,v){const g=Math.log(v);return Math.log(1*g/-f)/g})(Math.abs(h),this.Rv))}Ac(e){const t=be(this.Cv),s=e-t.wt;return t.gv+this.kv*(Math.pow(this.Rv,s)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const t=e-be(this.Cv).wt;return Math.min(t,this.yv)}}class ZW{constructor(e,t){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=t,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Ya(n,e){const t=be(n.ownerDocument).createElement("canvas");n.appendChild(t);const s=L7(t,{options:{allowResizeObserver:!0},transform:(r,o)=>({width:Math.max(r.width,o.width),height:Math.max(r.height,o.height)})});return s.resizeCanvasElement(e),s}function Ka(n){n.width=1,n.height=1,n.getContext("2d")?.clearRect(0,0,1,1)}function m0(n,e,t,s){n.Uh&&n.Uh(e,t,s)}function Wh(n,e,t,s){n.nt(e,t,s)}function p0(n,e,t,s){const r=n(t,s);for(const o of r){const c=o.Tt(s);c!==null&&e(c)}}function xv(n,e){return t=>(function(s){return s.Ft!==void 0})(t)?(t.Ft()?.ol()??"")!==e?[]:t.Ya?.(n)??[]:[]}function C_(n,e,t,s){if(!n.length)return;let r=0;const o=n[0].$t(s,!0);let c=e===1?t/2-(n[0].Hi()-o/2):n[0].Hi()-o/2-t/2;c=Math.max(0,c);for(let u=1;u<n.length;u++){const h=n[u],f=n[u-1],v=f.$t(s,!1),g=h.Hi(),x=f.Hi();if(e===1?g>x-v:g<x+v){const w=x-v*e;h.Ui(w);const S=w-e*v/2;if((e===1?S<0:S>t)&&c>0){const C=e===1?-1-S:S-t,E=Math.min(C,c);for(let N=r;N<n.length;N++)n[N].Ui(n[N].Hi()+e*E);c-=E}}else r=u,c=e===1?x-v-g:g-(x+v)}}class __{constructor(e,t,s,r){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new bf(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=t,this.Co=t.layout,this.hd=s,this.Jv=r==="left",this.Qv=xv("normal",r),this.tm=xv("top",r),this.im=xv("bottom",r),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Ya(this.Jp,_t({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const o=this.sm.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.nm=Ya(this.Jp,_t({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const c=this.nm.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0";const u={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new gm(this.nm.canvasElement,u,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ka(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ka(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const t=this.lm(),s=be(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));s.save();const r=this.Ki.Vl();s.font=this._m(),r.length>0&&(e=Math.max(this.qv.Ii(s,r[0].Jl),this.qv.Ii(s,r[r.length-1].Jl)));const o=this.um();for(let f=o.length;f--;){const v=this.qv.Ii(s,o[f].ri());v>e&&(e=v)}const c=this.Ki.Lt();if(c!==null&&this.Uv!==null&&(u=this.Ps.crosshair).mode!==2&&u.horzLine.visible&&u.horzLine.labelVisible){const f=this.Ki.Ds(1,c),v=this.Ki.Ds(this.Uv.height-2,c);e=Math.max(e,this.qv.Ii(s,this.Ki.Ji(Math.floor(Math.min(f,v))+.11111111111111,c)),this.qv.Ii(s,this.Ki.Ji(Math.ceil(Math.max(f,v))-.11111111111111,c)))}var u;s.restore();const h=e||34;return f0(Math.ceil(t.S+t.C+t.V+t.B+5+h))}dm(e){this.Uv!==null&&za(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return be(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,be(this.Ft()))}pm(e){if(this.Uv===null)return;const t={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const r=Ga(this.sm,t);r!==null&&(r.useBitmapCoordinateSpace((o=>{this.wm(o),this.gm(o)})),this.yt.Mm(r,this.im),this.bm(r),this.yt.Mm(r,this.Qv),this.Sm(r))}this.nm.applySuggestedBitmapSize();const s=Ga(this.nm,t);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this.xm(s),this.yt.Mm(s,this.tm))}nv(){return this.sm.bitmapSize}ev(e,t,s,r){const o=this.nv();if(o.width>0&&o.height>0&&(e.drawImage(this.sm.canvasElement,t,s),r)){const c=this.nm.canvasElement;e.drawImage(c,t,s)}}kt(){this.Ki?.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),s=this.yt.cv();this.$v=!0,t.j_(s,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),s=this.yt.cv(),r=this.Ki;t.Y_(s,r,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),t=this.yt.cv(),s=this.Ki;this.$v&&(this.$v=!1,e.K_(t,s))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),s=this.yt.cv();this.$v=!1,t.K_(s,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],t=this.Ki===null?void 0:this.Ki;return(s=>{for(let r=0;r<s.length;++r){const o=s[r].Ks(this.yt.cv(),t);for(let c=0;c<o.length;c++)e.push(o[c])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:t}){const{width:s,height:r}=t,o=this.yt.cv().Qt(),c=o.$(),u=o.Kd();c===u?dm(e,0,0,s,r,c):qR(e,0,0,s,r,c,u)}gm({context:e,bitmapSize:t,horizontalPixelRatio:s}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const r=Math.max(1,Math.floor(this.lm().S*s));let o;o=this.Jv?t.width-r:0,e.fillRect(o,0,r,t.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const t=this.Ki.Vl(),s=this.Ki.N(),r=this.lm(),o=this.Jv?this.Uv.width-r.C:0;s.borderVisible&&s.ticksVisible&&e.useBitmapCoordinateSpace((({context:c,horizontalPixelRatio:u,verticalPixelRatio:h})=>{c.fillStyle=s.borderColor;const f=Math.max(1,Math.floor(h)),v=Math.floor(.5*h),g=Math.round(r.C*u);c.beginPath();for(const x of t)c.rect(Math.floor(o*u),Math.round(x.Pl*h)-v,g,f);c.fill()})),e.useMediaCoordinateSpace((({context:c})=>{c.font=this._m(),c.fillStyle=s.textColor??this.Co.textColor,c.textAlign=this.Jv?"right":"left",c.textBaseline="middle";const u=this.Jv?Math.round(o-r.V):Math.round(o+r.C+r.V),h=t.map((f=>this.qv.Di(c,f.Jl)));for(let f=t.length;f--;){const v=t[f];c.fillText(v.Jl,u,v.Pl+h[f])}}))}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const t=[],s=this.Ki.Dt().slice(),r=this.yt.cv(),o=this.lm();this.Ki===r.Gn()&&this.yt.cv().Dt().forEach((h=>{r.Zn(h)&&s.push(h)}));const c=this.Ki.Sl()[0],u=this.Ki;s.forEach((h=>{const f=h.Ks(r,u);f.forEach((v=>{v.$i()&&v.Wi()===null&&(v.Ui(null),t.push(v))})),c===h&&f.length>0&&(e=f[0].Ei())})),this.Ki.N().alignLabels&&this.ym(t,o,e)}ym(e,t,s){if(this.Uv===null)return;const r=e.filter((c=>c.Ei()<=s)),o=e.filter((c=>c.Ei()>s));r.sort(((c,u)=>u.Ei()-c.Ei())),r.length&&o.length&&o.push(r[0]),o.sort(((c,u)=>c.Ei()-u.Ei()));for(const c of e){const u=Math.floor(c.$t(t)/2),h=c.Ei();h>-u&&h<u&&c.Ui(u),h>this.Uv.height-u&&h<this.Uv.height+u&&c.Ui(this.Uv.height-u)}C_(r,1,this.Uv.height,t),C_(o,-1,this.Uv.height,t)}Sm(e){if(this.Uv===null)return;const t=this.um(),s=this.lm(),r=this.Jv?"right":"left";t.forEach((o=>{o.qi()&&o.Tt(be(this.Ki)).nt(e,s,this.qv,r)}))}xm(e){if(this.Uv===null||this.Ki===null)return;const t=this.yt.Gv().Qt(),s=[],r=this.yt.cv(),o=t.gd().Ks(r,this.Ki);o.length&&s.push(o);const c=this.lm(),u=this.Jv?"right":"left";s.forEach((h=>{h.forEach((f=>{f.Tt(be(this.Ki)).nt(e,c,this.qv,u)}))}))}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return yf(this.Co.fontSize,this.Co.fontFamily)}}function eG(n,e){return n.qa?.(e)??[]}function E_(n,e){return n.Ys?.(e)??[]}function N_(n,e){return n.ds?.(e)??[]}function tG(n,e){return n.Ha?.(e)??[]}class Vy{constructor(e,t){this.Uv=_t({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new Gt,this.Vm=new Gt,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=t,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(s),this.sm=Ya(s,_t({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=Ya(s,_t({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const o=this.nm.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new gm(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ka(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ka(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return be(this.Nm)}qm(e){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(Vy.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new ZW(this.Wm,this.Lv),this.Tm.kt()):(this.Tm?.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(be(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(be(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const t=e.localX,s=e.localY;this.Zm(t,s,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const t=e.localX,s=e.localY;this.Zm(t,s,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const t={x:e.localX,y:e.localY};this.iw(t,t,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,t){if(!this.Lv.N().handleScale.pinch)return;const s=5*(t-this.Bm);this.Bm=t,this.ns().Td(e._t,s)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const t=this.ns().gd();this.Am!==null&&t.It()&&(this.zm={x:t.si(),y:t.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const t=e.localX,s=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const r=be(this.zm),o=r.x+(t-this.Am.x),c=r.y+(s-this.Am.y);this.Zm(o,c,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,t){const s=this.Nm;return s===null?null:iA(s,e,t)}hw(e,t){be(t==="left"?this.km:this.Pm).dm(_t({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){za(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=be(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const t of e.Sl())if(e.Zn(t)){const s=t.Ft();s!==null&&e.H_(s),t.Ws()}for(const t of e.ru())t.Ws()}nv(){return this.sm.bitmapSize}ev(e,t,s,r){const o=this.nv();if(o.width>0&&o.height>0&&(e.drawImage(this.sm.canvasElement,t,s),r)){const c=this.nm.canvasElement;e!==null&&e.drawImage(c,t,s)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const t={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const r=Ga(this.sm,t);r!==null&&(r.useBitmapCoordinateSpace((o=>{this.wm(o)})),this.Nm&&(this.lw(r,eG),this.ow(r),this.lw(r,E_),this.lw(r,N_)))}this.nm.applySuggestedBitmapSize();const s=Ga(this.nm,t);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this._w(s),this.lw(s,tG),this.lw(s,N_))}uw(){return this.km}cw(){return this.Pm}Mm(e,t){this.lw(e,t)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,t){const s=t.localX,r=t.localY;e.v()&&e.p(this.ns().Et().wc(s),{x:s,y:r},t)}wm({context:e,bitmapSize:t}){const{width:s,height:r}=t,o=this.ns(),c=o.$(),u=o.Kd();c===u?dm(e,0,0,s,r,u):qR(e,0,0,s,r,c,u)}ow(e){const t=be(this.Nm),s=t.eu().pr().Tt(t);s!==null&&s.nt(e,!1)}_w(e){this.dw(e,E_,Wh,this.ns().gd())}lw(e,t){const s=be(this.Nm),r=s.Dt(),o=s.ru();for(const c of o)this.dw(e,t,m0,c);for(const c of r)this.dw(e,t,m0,c);for(const c of o)this.dw(e,t,Wh,c);for(const c of r)this.dw(e,t,Wh,c)}dw(e,t,s,r){const o=be(this.Nm),c=o.Qt().pd(),u=c!==null&&c.hu===r,h=c!==null&&u&&c.au!==void 0?c.au.ie:void 0;p0(t,(f=>s(f,e,u,h)),r,o)}jm(){if(this.Nm===null)return;const e=this.Lv,t=this.Nm.U_().N().visible,s=this.Nm.q_().N().visible;t||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),s||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const r=e.Qt().Nd();t&&this.km===null&&(this.km=new __(this,e.N(),r,"left"),this.Hm.appendChild(this.km.iv())),s&&this.Pm===null&&(this.Pm=new __(this,e.N(),r,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,t,s){e=Math.max(0,Math.min(e,this.Uv.width-1)),t=Math.max(0,Math.min(t,this.Uv.height-1)),this.ns().Ad(e,t,s,be(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,t,s){this.Am=e,this.Lm=!1,this.Zm(t.x,t.y,s);const r=this.ns().gd();this.zm={x:r.si(),y:r.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const t=this.ns(),s=this.cv();if(t.X_(s,s.Rs()),this.Rm=null,this.Dm=!1,t.Vd(),this.Om!==null){const r=performance.now(),o=t.Et();this.Om.fe(o.Cc(),r),this.Om.Ec(r)||t.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)be(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const t=this.ns(),s=t.Et();if(s.Gi())return;const r=this.Lv.N(),o=r.handleScroll,c=r.kineticScroll;if((!o.pressedMouseMove||e.Np)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!e.Np))return;const u=this.Nm.Rs(),h=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:h,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&c.touch||!e.Np&&c.mouse){const f=s.ul();this.Om=new QW(.2/f,7/f,.997,15/f),this.Om.Dv(s.Cc(),this.Rm.cf)}else this.Om=null;u.Gi()||t.Z_(this.Nm,u,e.localY),t.Dd(e.localX),this.Dm=!0}this.Dm&&(u.Gi()||t.G_(this.Nm,u,e.localY),t.Id(e.localX),this.Om!==null&&this.Om.Dv(s.Cc(),h))}}class T_{constructor(e,t,s,r,o){this.xt=!0,this.Uv=_t({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=s.Nd,this.Ps=t,this.ww=r,this.gw=o,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Ya(this.Jp,_t({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ka(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){za(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const t=Ga(this.sm,{colorSpace:this.Ps.layout.colorSpace});t!==null&&t.useBitmapCoordinateSpace((s=>{this.wm(s),this.gm(s)}))}nv(){return this.sm.bitmapSize}ev(e,t,s){const r=this.nv();r.width>0&&r.height>0&&e.drawImage(this.sm.canvasElement,t,s)}gm({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const o=Math.floor(this.hd.N().S*s),c=Math.floor(this.hd.N().S*r),u=this.Jv?t.width-o:0;e.fillRect(u,0,o,c)}wm({context:e,bitmapSize:t}){dm(e,0,0,t.width,t.height,this.gw())}}function Fy(n){return e=>e.Ka?.(n)??[]}const nG=Fy("normal"),sG=Fy("top"),iG=Fy("bottom");class rG{constructor(e,t){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=_t({width:0,height:0}),this.xw=new Gt,this.qv=new bf(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=t,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Ya(this.kw,_t({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=Ya(this.kw,_t({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const r=this.nm.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new gm(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ka(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ka(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,t,s){za(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(_t({width:t,height:e.height})),this.bw!==null&&this.bw.dm(_t({width:s,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,t,s,r){const o=this.nv();if(o.width>0&&o.height>0&&(e.drawImage(this.sm.canvasElement,t,s),r)){const c=this.nm.canvasElement;e.drawImage(c,t,s)}}pm(e){if(e===0)return;const t={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const r=Ga(this.sm,t);r!==null&&(r.useBitmapCoordinateSpace((o=>{this.wm(o),this.gm(o),this.Aw(r,iG)})),this.bm(r),this.Aw(r,nG)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const s=Ga(this.nm,t);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],s),this.Aw(s,sG))}Aw(e,t){const s=this.Lv.Qt().tn();for(const r of s)p0(t,(o=>m0(o,e,!1,void 0)),r,void 0);for(const r of s)p0(t,(o=>Wh(o,e,!1,void 0)),r,void 0)}wm({context:e,bitmapSize:t}){dm(e,0,0,t.width,t.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:t,verticalPixelRatio:s}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const r=Math.max(1,Math.floor(this.Bw().S*s));e.fillRect(0,0,t.width,r)}}bm(e){const t=this.Lv.Qt().Et(),s=t.Vl();if(!s||s.length===0)return;const r=this.cu.maxTickMarkWeight(s),o=this.Bw(),c=t.N();c.borderVisible&&c.ticksVisible&&e.useBitmapCoordinateSpace((({context:u,horizontalPixelRatio:h,verticalPixelRatio:f})=>{u.strokeStyle=this.zw(),u.fillStyle=this.zw();const v=Math.max(1,Math.floor(h)),g=Math.floor(.5*h);u.beginPath();const x=Math.round(o.C*f);for(let w=s.length;w--;){const S=Math.round(s[w].coord*h);u.rect(S-g,0,v,x)}u.fill()})),e.useMediaCoordinateSpace((({context:u})=>{const h=o.S+o.C+o.A+o.k/2;u.textAlign="center",u.textBaseline="middle",u.fillStyle=this.H(),u.font=this._m();for(const f of s)if(f.weight<r){const v=f.needAlignCoordinate?this.Ow(u,f.coord,f.label):f.coord;u.fillText(f.label,v,h)}this.Lv.N().timeScale.allowBoldLabels&&(u.font=this.Nw());for(const f of s)if(f.weight>=r){const v=f.needAlignCoordinate?this.Ow(u,f.coord,f.label):f.coord;u.fillText(f.label,v,h)}}))}Ow(e,t,s){const r=this.qv.Ii(e,s),o=r/2,c=Math.floor(t-o)+.5;return c<0?t+=Math.abs(0-c):c+r>this.Uv.width&&(t-=Math.abs(this.Uv.width-(c+r))),t}Lw(e,t){const s=this.Bw();for(const r of e)for(const o of r.fs())o.Tt().nt(t,s)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return yf(this.F(),this.Ps.fontFamily)}Nw(){return yf(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new bf,Ew:0});const e=this.M,t=this._m();if(e.P!==t){const s=this.F();e.k=s,e.P=t,e.A=3*s/12,e.I=3*s/12,e.ts=9*s/12,e.L=0,e.Ew=4*s/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),t=e.N();t.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),t.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const s={Nd:this.Lv.Qt().Nd()},r=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,o=()=>e.Kd();t.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new T_("left",t,s,r,o),this.Cw.appendChild(this.Mw.iv())),t.rightPriceScale.visible&&this.bw===null&&(this.bw=new T_("right",t,s,r,o),this.yw.appendChild(this.bw.iv()))}}const aG=!!vl&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((n=>n.brand.includes("Chromium")))&&!!vl&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class oG{constructor(e,t,s){var r;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new Gt,this.Vm=new Gt,this.nd=new Gt,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=t,this.cu=s,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(r=this.Vv).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),wv(this.Ps)&&this.Jw(!0),this.ns=new WW(this.rd.bind(this),this.Ps,s),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new rG(this,this.cu),this.Zw.appendChild(this.tg.iv());const o=t.autoSize&&this.ig();let c=this.Ps.width,u=this.Ps.height;if(o||c===0||u===0){const h=e.getBoundingClientRect();c=c||h.width,u=u||h.height}this.sg(c,u),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],be(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,t,s=!1){if(this.eo===t&&this.S_===e)return;const r=(function(u){const h=Math.floor(u.width),f=Math.floor(u.height);return _t({width:h-h%2,height:f-f%2})})(_t({width:e,height:t}));this.eo=r.height,this.S_=r.width;const o=this.eo+"px",c=this.S_+"px";be(this.Vv).style.height=o,be(this.Vv).style.width=c,this.Zw.style.height=o,this.Zw.style.width=c,s?this.lg(Vn.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=Vn.yn());for(let t=0;t<this.Fw.length;t++)this.Fw[t].pm(e.un(t).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){const t=wv(this.Ps);this.ns.cr(e);const s=wv(this.Ps);s!==t&&this.Jw(s),e.layout?.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const t=this.cg(null),s=document.createElement("canvas");s.width=t.width,s.height=t.height;const r=be(s.getContext("2d"));return this.cg(r,e),s}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:be(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return Kn(this.Fw[e]).sv()}og(){this.Ww.forEach((e=>{e.kt()}))}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,t){let s=0,r=0;const o=this.Fw[0],c=(h,f)=>{let v=0;for(let g=0;g<this.Fw.length;g++){const x=this.Fw[g],w=be(h==="left"?x.uw():x.cw()),S=w.nv();if(e!==null&&w.ev(e,f,v,t),v+=S.height,g<this.Fw.length-1){const C=this.Ww[g],E=C.nv();e!==null&&C.ev(e,f,v),v+=E.height}}};this.fg()&&(c("left",0),s+=be(o.uw()).nv().width);for(let h=0;h<this.Fw.length;h++){const f=this.Fw[h],v=f.nv();if(e!==null&&f.ev(e,s,r,t),r+=v.height,h<this.Fw.length-1){const g=this.Ww[h],x=g.nv();e!==null&&g.ev(e,s,r),r+=x.height}}s+=o.nv().width,this.pg()&&(c("right",s),s+=be(o.cw()).nv().width);const u=(h,f,v)=>{be(h==="left"?this.tg.Tw():this.tg.Rw()).ev(be(e),f,v)};if(this.Ps.timeScale.visible){const h=this.tg.nv();if(e!==null){let f=0;this.fg()&&(u("left",f,r),f=be(o.uw()).nv().width),this.tg.ev(e,f,r,t),f+=h.width,this.pg()&&u("right",f,r)}r+=h.height}return _t({width:s,height:r})}Mg(){let e=0,t=0,s=0;for(const E of this.Fw)this.fg()&&(t=Math.max(t,be(E.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(s=Math.max(s,be(E.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=E.E_();t=f0(t),s=f0(s);const r=this.S_,o=this.eo,c=Math.max(r-t-s,0),u=1*this.Ww.length,h=this.Ps.timeScale.visible;let f=h?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var v;f=(v=f)+v%2;const g=u+f,x=o<g?0:o-g,w=x/e;let S=0;const C=window.devicePixelRatio||1;for(let E=0;E<this.Fw.length;++E){const N=this.Fw[E];N.qm(this.ns.Xs()[E]);let T=0,A=0;A=E===this.Fw.length-1?Math.ceil((x-S)*C)/C:Math.round(N.E_()*w*C)/C,T=Math.max(A,2),S+=T,N.dm(_t({width:c,height:T})),this.fg()&&N.hw(t,"left"),this.pg()&&N.hw(s,"right"),N.cv()&&this.ns.bd(N.cv(),T)}this.tg.Iw(_t({width:h?c:0,height:f}),h?t:0,h?s:0),this.ns.L_(c),this.Uw!==t&&(this.Uw=t),this.$w!==s&&(this.$w=s)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return aG?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const t=this.bg(e),s=t*e.deltaX/100,r=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){const o=Math.sign(r)*Math.min(1,Math.abs(r)),c=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(c,o)}s!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*s)}lg(e,t){const s=e._n();s===3&&this.Sg(),s!==3&&s!==2||(this.xg(e),this.Cg(e,t),this.tg.kt(),this.Fw.forEach((r=>{r.Ym()})),this.qw?._n()===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,t),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,t){for(const s of e.bn())this.xn(s,t)}xg(e){const t=this.ns.Xs();for(let s=0;s<t.length;s++)e.un(s).ln&&t[s].tu()}xn(e,t){const s=this.ns.Et();switch(e.fn){case 0:s.Fc();break;case 1:s.Wc(e.Wt);break;case 2:s.gn(e.Wt);break;case 3:s.Mn(e.Wt);break;case 4:s.Pc();break;case 5:e.Wt.Ec(t)||s.Mn(e.Wt.Ac(t))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame((t=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const s=this.qw;this.qw=null,this.lg(s,t);for(const r of s.bn())if(r.fn===5&&!r.Wt.Ec(t)){this.Qt().vn(r.Wt);break}}})))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),t=e.length,s=this.Fw.length;for(let r=t;r<s;r++){const o=Kn(this.Fw.pop());this.Zw.removeChild(o.iv()),o.nw().u(this),o.ew().u(this),o.m();const c=this.Ww.pop();c!==void 0&&this.hg(c)}for(let r=s;r<t;r++){const o=new Vy(this,e[r]);if(o.nw().i(this.yg.bind(this,o),this),o.ew().i(this.kg.bind(this,o),this),this.Fw.push(o),r>0){const c=new JW(this,r-1,r);this.Ww.push(c),this.Zw.insertBefore(c.iv(),this.tg.iv())}this.Zw.insertBefore(o.iv(),this.tg.iv())}for(let r=0;r<t;r++){const o=e[r],c=this.Fw[r];c.cv()!==o?c.qm(o):c.$m()}this.eg(),this.Mg()}Pg(e,t,s,r){const o=new Map;e!==null&&this.ns.tn().forEach((g=>{const x=g.qs().$s(e);x!==null&&o.set(g,x)}));let c;if(e!==null){const g=this.ns.Et().es(e)?.originalTime;g!==void 0&&(c=g)}const u=this.Qt().pd(),h=u!==null&&u.hu instanceof pm?u.hu:void 0,f=u!==null&&u.au!==void 0?u.au.te:void 0,v=this.Tg(r);return{Gr:c,js:e??void 0,Rg:t??void 0,Dg:v!==-1?v:void 0,Ig:h,Vg:o,Bg:f,Eg:s??void 0}}Tg(e){let t=-1;if(e)t=this.Fw.indexOf(e);else{const s=this.Qt().gd().Gs();s!==null&&(t=this.Qt().Xs().indexOf(s))}return t}yg(e,t,s,r){this.Im.p((()=>this.Pg(t,s,r,e)))}kg(e,t,s,r){this.Vm.p((()=>this.Pg(t,s,r,e)))}Qw(e,t,s){this.mg(this.Qt().pd()?.ou??null),this.nd.p((()=>this.Pg(e,t,s)))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver((e=>{const t=e[e.length-1];t&&this.sg(t.contentRect.width,t.contentRect.height)})),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function wv(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function lG(n){return n.open===void 0&&n.value===void 0}function cG(n){return(function(e){return e.open!==void 0})(n)||(function(e){return e.value!==void 0})(n)}function M_(n,e,t,s){const r=t.value,o={js:e,wt:n,Wt:[r,r,r,r],Gr:s};return t.color!==void 0&&(o.R=t.color),o}function uG(n,e,t,s){const r=t.value,o={js:e,wt:n,Wt:[r,r,r,r],Gr:s};return t.lineColor!==void 0&&(o.vt=t.lineColor),t.topColor!==void 0&&(o.eh=t.topColor),t.bottomColor!==void 0&&(o.rh=t.bottomColor),o}function dG(n,e,t,s){const r=t.value,o={js:e,wt:n,Wt:[r,r,r,r],Gr:s};return t.topLineColor!==void 0&&(o.hh=t.topLineColor),t.bottomLineColor!==void 0&&(o.ah=t.bottomLineColor),t.topFillColor1!==void 0&&(o.oh=t.topFillColor1),t.topFillColor2!==void 0&&(o._h=t.topFillColor2),t.bottomFillColor1!==void 0&&(o.uh=t.bottomFillColor1),t.bottomFillColor2!==void 0&&(o.dh=t.bottomFillColor2),o}function hG(n,e,t,s){const r={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:s};return t.color!==void 0&&(r.R=t.color),r}function fG(n,e,t,s){const r={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:s};return t.color!==void 0&&(r.R=t.color),t.borderColor!==void 0&&(r.Ht=t.borderColor),t.wickColor!==void 0&&(r.nh=t.wickColor),r}function mG(n,e,t,s,r){const o=Kn(r)(t),c=Math.max(...o),u=Math.min(...o),h=o[o.length-1],f=[h,c,u,h],{time:v,color:g,...x}=t;return{js:e,wt:n,Wt:f,Gr:s,le:x,R:g}}function Fo(n){return n.Wt!==void 0}function R_(n,e){return e.customValues!==void 0&&(n.Ag=e.customValues),n}function ka(n){return(e,t,s,r,o,c)=>(function(u,h){return h?h(u):lG(u)})(s,c)?R_({wt:e,js:t,Gr:r},s):R_(n(e,t,s,r,o),s)}function A_(n){return{Candlestick:ka(fG),Bar:ka(hG),Area:ka(uG),Baseline:ka(dG),Histogram:ka(M_),Line:ka(M_),Custom:ka(mG)}[n]}function j_(n){return{js:0,Lg:new Map,Ea:n}}function k_(n,e){if(n!==void 0&&n.length!==0)return{zg:e.key(n[0].wt),Og:e.key(n[n.length-1].wt)}}function O_(n){let e;return n.forEach((t=>{e===void 0&&(e=t.Gr)})),Kn(e)}class pG{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,t){let s=this.Ng.size!==0,r=!1;const o=this.Fg.get(e);if(o!==void 0)if(this.Fg.size===1)s=!1,r=!0,this.Ng.clear();else for(const h of this.Hg)h.pointData.Lg.delete(e)&&(r=!0);let c=[];if(t.length!==0){const h=t.map((w=>w.time)),f=this.cu.createConverterToInternalObj(t),v=A_(e.wh()),g=e.rl(),x=e.hl();c=t.map(((w,S)=>{const C=f(w.time),E=this.cu.key(C);let N=this.Ng.get(E);N===void 0&&(N=j_(C),this.Ng.set(E,N),r=!0);const T=v(C,N.js,w,h[S],g,x);return N.Lg.set(e,T),T}))}s&&this.$g(),this.qg(e,c);let u=-1;if(r){const h=[];this.Ng.forEach((f=>{h.push({timeWeight:0,time:f.Ea,pointData:f,originalTime:O_(f.Lg)})})),h.sort(((f,v)=>this.cu.key(f.time)-this.cu.key(v.time))),u=this.jg(h)}return this.Yg(e,u,(function(h,f,v){const g=k_(h,v),x=k_(f,v);if(g!==void 0&&x!==void 0)return{Kg:!1,Ta:g.Og>=x.Og&&g.zg>=x.zg}})(this.Fg.get(e),o,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,t,s){if(s&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const r=t;(function(N){N.Gr===void 0&&(N.Gr=N.time)})(r),this.cu.preprocessData(t);const o=this.cu.createConverterToInternalObj([t])(t.time),c=this.Wg.get(e);if(!s&&c!==void 0&&this.cu.key(o)<this.cu.key(c))throw new Error(`Cannot update oldest data, last time=${c}, new time=${o}`);let u=this.Ng.get(this.cu.key(o));if(s&&u===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const h=u===void 0;u===void 0&&(u=j_(o),this.Ng.set(this.cu.key(o),u));const f=A_(e.wh()),v=e.rl(),g=e.hl(),x=f(o,u.js,t,r.Gr,v,g),w=!s&&!h&&c!==void 0&&this.cu.key(o)===this.cu.key(c);u.Lg.set(e,x),s?this.Gg(e,x,u.js):w&&e.La()&&Fo(x)?(e.kr(x),this.Xg(e,x)):this.Xg(e,x);const S={Ta:Fo(x),Kg:s};if(!h)return this.Yg(e,-1,S);const C={timeWeight:0,time:u.Ea,pointData:u,originalTime:O_(u.Lg)},E=gl(this.Hg,this.cu.key(C.time),((N,T)=>this.cu.key(N.time)<T));this.Hg.splice(E,0,C);for(let N=E;N<this.Hg.length;++N)_h(this.Hg[N].pointData,N);return this.cu.fillWeightsForPoints(this.Hg,E),this.Yg(e,E,S)}Jg(e,t){const s=this.Fg.get(e);if(s===void 0||t<=0)return[[],this.Qg()];t=Math.min(t,s.length);const r=s.splice(-t).reverse();s.length===0?this.Wg.delete(e):this.Wg.set(e,s[s.length-1].wt);for(const o of r){const c=this.Ng.get(this.cu.key(o.wt));if(c&&(c.Lg.delete(e),c.Lg.size===0)){this.Ng.delete(this.cu.key(c.Ea)),this.Hg.splice(c.js,1);for(let u=c.js;u<this.Hg.length;++u)_h(this.Hg[u].pointData,u)}}return[r,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,t){let s=this.Fg.get(e);s===void 0&&(s=[],this.Fg.set(e,s));const r=s.length!==0?s[s.length-1]:null;r===null||this.cu.key(t.wt)>this.cu.key(r.wt)?Fo(t)&&s.push(t):Fo(t)?s[s.length-1]=t:s.splice(-1,1),this.Wg.set(e,t.wt)}Gg(e,t,s){const r=this.Fg.get(e);if(r===void 0)return;const o=gl(r,s,((c,u)=>c.js<u));Fo(t)?r[o]=t:r.splice(o,1)}qg(e,t){t.length!==0?(this.Fg.set(e,t.filter(Fo)),this.Wg.set(e,t[t.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let t=-1;for(let s=0;s<this.Hg.length&&s<e.length;++s){const r=this.Hg[s],o=e[s];if(this.cu.key(r.time)!==this.cu.key(o.time)){t=s;break}o.timeWeight=r.timeWeight,_h(o.pointData,s)}if(t===-1&&this.Hg.length!==e.length&&(t=Math.min(this.Hg.length,e.length)),t===-1)return-1;for(let s=t;s<e.length;++s)_h(e[s].pointData,s);return this.cu.fillWeightsForPoints(e,t),this.Hg=e,t}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach((t=>{t.length!==0&&(e=Math.max(e,t[t.length-1].js))})),e}Yg(e,t,s){const r=this.Qg();if(t!==-1)this.Fg.forEach(((o,c)=>{r.F_.set(c,{le:o,iM:c===e?s:void 0})})),this.Fg.has(e)||r.F_.set(e,{le:[],iM:s}),r.Et.sM=this.Hg,r.Et.nM=t;else{const o=this.Fg.get(e);r.F_.set(e,{le:o||[],iM:s})}return r}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function _h(n,e){n.js=e,n.Lg.forEach((t=>{t.js=e}))}function gG(n,e){return n.wt<e}function vG(n,e){return e<n.wt}function yG(n,e,t){const s=e.Aa(),r=e.bi(),o=gl(n,s,gG),c=eA(n,r,vG);if(!t)return{from:o,to:c};let u=o,h=c;return o>0&&o<n.length&&n[o].wt>=s&&(u=o-1),c>0&&c<n.length&&n[c-1].wt<=r&&(h=c+1),{from:u,to:h}}class Hy{constructor(e,t,s){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=t,this._M=s}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map((e=>({...e,...this.ee.ga().gh(e.wt)})))}fM(){this.lM=null}uM(){const e=this.re.Et(),t=e.N().enableConflation?e.Hc():0;t!==this.oM&&(this.rM=!0,this.oM=t),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),t=this.re.Et();if(this.fM(),t.Gi()||e.Gi())return;const s=t.Ie();if(s===null||this.ee.qs().yh()===0)return;const r=this.ee.Lt();r!==null&&(this.lM=yG(this.aM,s,this._M),this.mM(e,t,r.Wt),this.wM())}}class bG{constructor(e,t){this.gM=e,this.Ki=t}nt(e,t,s){this.gM.draw(e,this.Ki,t,s)}}class xG extends Hy{constructor(e,t,s){super(e,t,!1),this.$h=s,this.cM=new bG(this.$h.renderer(),(r=>{const o=e.Lt();return o===null?null:e.Ft().Nt(r,o.Wt)}))}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((t=>({wt:t.js,_t:NaN,...e.gh(t.js),MM:t.le})))}mM(e,t){t.mc(this.aM,cu(this.lM))}wM(){this.$h.update({bars:this.aM.map(wG),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function wG(n){return{x:n._t,time:n.wt,originalData:n.MM,barColor:n.th}}const SG={color:"#2196f3"},CG=(n,e,t)=>{const s=$r(t);return new xG(n,e,s)};function Wy(n){const e={value:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function D_(n){const e=Wy(n);return n.R!==void 0&&(e.color=n.R),e}function _G(n){const e=Wy(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.eh!==void 0&&(e.topColor=n.eh),n.rh!==void 0&&(e.bottomColor=n.rh),e}function EG(n){const e=Wy(n);return n.hh!==void 0&&(e.topLineColor=n.hh),n.ah!==void 0&&(e.bottomLineColor=n.ah),n.oh!==void 0&&(e.topFillColor1=n.oh),n._h!==void 0&&(e.topFillColor2=n._h),n.uh!==void 0&&(e.bottomFillColor1=n.uh),n.dh!==void 0&&(e.bottomFillColor2=n.dh),e}function lA(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function NG(n){const e=lA(n);return n.R!==void 0&&(e.color=n.R),e}function TG(n){const e=lA(n),{R:t,Ht:s,nh:r}=n;return t!==void 0&&(e.color=t),s!==void 0&&(e.borderColor=s),r!==void 0&&(e.wickColor=r),e}function Gh(n){return{Area:_G,Line:D_,Baseline:EG,Histogram:D_,Bar:NG,Candlestick:TG,Custom:MG}[n]}function MG(n){const e=n.Gr;return{...n.le,time:e}}const RG={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},AG={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},jG={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:GR,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},Sv={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},kG={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function I_(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:jG,crosshair:RG,grid:AG,overlayPriceScales:{...Sv},leftPriceScale:{...Sv,visible:!1},rightPriceScale:{...Sv,visible:!0},timeScale:kG,localization:{locale:vl?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class cA{constructor(e,t,s){this.Yp=e,this.bM=t,this.SM=s??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return fm(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Rn(e.from,e.to))}getVisibleRange(){let e,t,s=this.Ki().er();if(s===null)return null;if(this.Ki().io()){const r=this.Ki().m_(),o=rA(r);s=Xo(s,this.Ki().no()),e=Number((Math.round(s.Ze()/r)*r).toFixed(o)),t=Number((Math.round(s.Ge()/r)*r).toFixed(o))}else e=s.Ze(),t=s.Ge();return{from:e,to:t}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return be(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class OG{constructor(e,t,s,r){this.Yp=e,this.yt=s,this.xM=t,this.CM=r}getHeight(){return this.yt.$t()}setHeight(e){const t=this.Yp.Qt(),s=t.Gd(this.yt);t.xd(s,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const t=this.paneIndex();t!==e&&(gn(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(t,e))}getSeries(){return this.yt.F_().map((e=>this.xM(e)))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new cA(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,t={},s=0){return this.CM.addCustomSeries(e,t,s)}addSeries(e,t={}){return this.CM.addSeries(e,t,this.paneIndex())}}const DG={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class L_{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class IG{constructor(e,t,s,r,o,c){this.kM=new Gt,this.ee=e,this.PM=t,this.TM=s,this.cu=o,this.CM=r,this.RM=c}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Ds(e,t.Wt)}barsInLogicalRange(e){if(e===null)return null;const t=new ol(new Wc(e.from,e.to)).Ru(),s=this.ee.qs();if(s.Gi())return null;const r=s.$s(t.Aa(),1),o=s.$s(t.bi(),-1),c=be(s.kh()),u=be(s.sn());if(r!==null&&o!==null&&r.js>o.js)return{barsBefore:e.from-c,barsAfter:u-e.to};const h={barsBefore:r===null||r.js===c?e.from-c:r.js-c,barsAfter:o===null||o.js===u?u-e.to:u-o.js};return r!==null&&o!==null&&(h.from=r.Gr,h.to=o.Gr),h}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,t=!1){this.ee.wh(),this.PM.VM(this.ee,e,t),this.IM("update")}pop(e=1){const t=this.PM.BM(this.ee,e);t.length!==0&&this.IM("update");const s=Gh(this.seriesType());return t.map((r=>s(r)))}dataByIndex(e,t){const s=this.ee.qs().$s(e,t);return s===null?null:Gh(this.seriesType())(s)}data(){const e=Gh(this.seriesType());return this.ee.qs().Dh().map((t=>e(t)))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Fi(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const t=ds(Fi(DG),e),s=this.ee.Da(t);return new L_(s)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map((e=>new L_(e)))}seriesType(){return this.ee.wh()}lastValueData(e){const t=this.ee.Ve(e);return t.Be?{noData:!0}:{noData:!1,price:t.gt,color:t.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,t=be(this.ee.Qt().Kn(e));return this.RM(t)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const t=this.ee.Qt().Kn(this.ee);t!==null&&t.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class LG{constructor(e,t,s){this.EM=new Gt,this.Nu=new Gt,this.xw=new Gt,this.ns=e,this.Jh=e.Et(),this.tg=t,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=s}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,t){t?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},s=this.Jh.cc(t);this.ns.$d(s)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){gn(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const t=this.ns.Et();return t.Gi()?null:t.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,t){const s=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(s,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return t===null?null:this.Jh.qt(t)}coordinateToTime(e){const t=this.ns.Et(),s=t.wc(e),r=t.es(s);return r===null?null:r.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Fi(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function P_(n){return(function(e){if(vh(e.handleScale)){const s=e.handleScale;e.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:r}=e.handleScale;vh(s)&&(e.handleScale.axisPressedMouseMove={time:s,price:s}),vh(r)&&(e.handleScale.axisDoubleClickReset={time:r,price:r})}const t=e.handleScroll;vh(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})})(n),n}class PG{constructor(e,t,s){this.OM=new Map,this.NM=new Map,this.FM=new Gt,this.WM=new Gt,this.HM=new Gt,this.Xc=new WeakMap,this.UM=new pG(t);const r=s===void 0?Fi(I_()):ds(Fi(I_()),P_(s));this.$M=t,this.Yp=new oG(e,r,t),this.Yp.nw().i((c=>{this.FM.v()&&this.FM.p(this.qM(c()))}),this),this.Yp.ew().i((c=>{this.WM.v()&&this.WM.p(this.qM(c()))}),this),this.Yp.Md().i((c=>{this.HM.v()&&this.HM.p(this.qM(c()))}),this);const o=this.Yp.Qt();this.jM=new LG(o,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,t,s){this.autoSizeActive()||this.Yp.sg(e,t,s)}addCustomSeries(e,t={},s=0){const r=(o=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...SG,...o.defaultOptions()},YM:CG,KM:o}))($r(e));return this.ZM(r,t,s)}addSeries(e,t={},s=0){return this.ZM(e,t,s)}removeSeries(e){const t=Kn(this.OM.get(e)),s=this.UM.Hd(t);this.Yp.Qt().Hd(t),this.GM(s),this.OM.delete(e),this.NM.delete(t)}DM(e,t){this.GM(this.UM.Ug(e,t))}VM(e,t,s){this.GM(this.UM.Zg(e,t,s))}BM(e,t){const[s,r]=this.UM.Jg(e,t);return s.length!==0&&this.GM(r),s}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,t=0){return new cA(this.Yp,e,t)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(P_(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,t=!1){let s,r;try{t||(s=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),r=this.Yp.ug(e)}finally{t||s===void 0||this.Yp.Qt().cr({crosshair:{mode:s}})}return r}addPane(e=!1){const t=this.Yp.Qt().Xd();return t.O_(e),this.XM(t)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,t){this.Yp.Qt().Cd(e,t)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map((e=>this.XM(e)))}paneSize(e=0){const t=this.Yp.gg(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,s){const r=this.OM.get(s);if(r===void 0)return;const o=this.Yp.Qt().Kn(r);o!==null&&this.Yp.Qt().Ld(e,t,o)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,t={},s=0){gn(e.YM!==void 0),(function(h){if(h===void 0||h.type==="custom")return;const f=h;f.minMove!==void 0&&f.precision===void 0&&(f.precision=rA(f.minMove))})(t.priceFormat),e.type==="Candlestick"&&(function(h){h.borderColor!==void 0&&(h.borderUpColor=h.borderColor,h.borderDownColor=h.borderColor),h.wickColor!==void 0&&(h.wickUpColor=h.wickColor,h.wickDownColor=h.wickColor)})(t);const r=ds(Fi(HR),Fi(e.defaultOptions),t),o=e.YM,c=new pm(this.Yp.Qt(),e.type,r,o,e.KM);this.Yp.Qt().Fd(c,s);const u=new IG(c,this,this,this,this.$M,(h=>this.XM(h)));return this.OM.set(u,c),this.NM.set(c,u),u}GM(e){const t=this.Yp.Qt();t.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach(((s,r)=>r.ht(s.le,s.iM))),t.Et().Ju(),t.Sc()}JM(e){return Kn(this.NM.get(e))}qM(e){const t=new Map;e.Vg.forEach(((r,o)=>{const c=o.wh(),u=Gh(c)(r);if(c!=="Custom")gn(cG(u));else{const h=o.hl();gn(!h||h(u)===!1)}t.set(this.JM(o),u)}));const s=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:s,hoveredObjectId:e.Bg,seriesData:t,sourceEvent:e.Eg}}XM(e){let t=this.Xc.get(e);return t||(t=new OG(this.Yp,(s=>this.JM(s)),e,this),this.Xc.set(e,t)),t}}function zG(n){if(Iu(n)){const e=document.getElementById(n);return gn(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function $G(n,e,t){const s=zG(n),r=new PG(s,e,t);return e.setOptions(r.options()),r}function uA(n,e){return $G(n,new x_,x_.pf(e))}class dA extends Hy{constructor(e,t){super(e,t,!0)}mM(e,t,s){t.mc(this.aM,cu(this.lM)),e.Yo(this.aM,s,cu(this.lM))}QM(e,t){return{wt:e,gt:t,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((t=>{let s;if((t.jr??1)>1){const r=t.Wt[1],o=t.Wt[2],c=t.Wt[3];s=Math.abs(r-c)>Math.abs(o-c)?r:o}else s=t.Wt[3];return this.tb(t.js,s,e)}))}}function UG(n,e,t,s,r,o,c){if(e.length===0||s.from>=e.length||s.to<=0)return;const{context:u,horizontalPixelRatio:h,verticalPixelRatio:f}=n,v=e[s.from];let g=o(n,v),x=v;if(s.to-s.from<2){const w=r/2;u.beginPath();const S={_t:v._t-w,ut:v.ut},C={_t:v._t+w,ut:v.ut};u.moveTo(S._t*h,S.ut*f),u.lineTo(C._t*h,C.ut*f),c(n,g,S,C)}else{const w=(C,E)=>{c(n,g,x,E),u.beginPath(),g=C,x=E};let S=x;u.beginPath(),u.moveTo(v._t*h,v.ut*f);for(let C=s.from+1;C<s.to;++C){S=e[C];const E=o(n,S);switch(t){case 0:u.lineTo(S._t*h,S.ut*f);break;case 1:u.lineTo(S._t*h,e[C-1].ut*f),E!==g&&(w(E,S),u.lineTo(S._t*h,e[C-1].ut*f)),u.lineTo(S._t*h,S.ut*f);break;case 2:{const[N,T]=BG(e,C-1,C);u.bezierCurveTo(N._t*h,N.ut*f,T._t*h,T.ut*f,S._t*h,S.ut*f);break}}t!==1&&E!==g&&(w(E,S),u.moveTo(S._t*h,S.ut*f))}(x!==S||x===S&&t===1)&&c(n,g,x,S)}}const z_=6;function Cv(n,e){return{_t:n._t-e._t,ut:n.ut-e.ut}}function $_(n,e){return{_t:n._t/e,ut:n.ut/e}}function BG(n,e,t){const s=Math.max(0,e-1),r=Math.min(n.length-1,t+1);var o,c;return[(o=n[e],c=$_(Cv(n[t],n[s]),z_),{_t:o._t+c._t,ut:o.ut+c.ut}),Cv(n[t],$_(Cv(n[r],n[e]),z_))]}function VG(n,e){const t=n.context;t.strokeStyle=e,t.stroke()}class FG extends ta{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:t,lt:s,ib:r,sb:o,ct:c,Zt:u,nb:h}=this.rt;if(s===null)return;const f=e.context;f.lineCap="butt",f.lineWidth=c*e.verticalPixelRatio,qa(f,u),f.lineJoin="round";const v=this.eb.bind(this);o!==void 0&&UG(e,t,o,s,r,v,VG),h&&(function(g,x,w,S,C){if(S.to-S.from<=0)return;const{horizontalPixelRatio:E,verticalPixelRatio:N,context:T}=g;let A=null;const j=Math.max(1,Math.floor(E))%2/2,z=w*N+j;for(let P=S.to-1;P>=S.from;--P){const I=x[P];if(I){const B=C(g,I);B!==A&&(T.beginPath(),A!==null&&T.fill(),T.fillStyle=B,A=B);const X=Math.round(I._t*E)+j,se=I.ut*N;T.moveTo(X,se),T.arc(X,se,z,0,2*Math.PI)}}T.fill()})(e,t,h,s,v)}}class HG extends FG{eb(e,t){return t.vt}}class WG extends dA{constructor(){super(...arguments),this.cM=new HG}tb(e,t,s){return{...this.QM(e,t),...s.gh(e)}}wM(){const e=this.ee.N(),t={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(t)}}const qh={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(n,e)=>new WG(n,e)};let GG=class extends Hy{constructor(e,t){super(e,t,!1)}mM(e,t,s){t.mc(this.aM,cu(this.lM)),e.Zo(this.aM,s,cu(this.lM))}Lb(e,t,s){return{wt:e,Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((t=>this.tb(t.js,t,e)))}},qG=class extends ta{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:t}=e;this.Ib=(function(o,c){if(o>=2.5&&o<=4)return Math.floor(3*c);const u=1-.2*Math.atan(Math.max(4,o)-4)/(.5*Math.PI),h=Math.floor(o*u*c),f=Math.floor(o*c),v=Math.min(h,f);return Math.max(Math.floor(c),v)})(this.jt.ul,t),this.Ib>=2&&Math.floor(t)%2!=this.Ib%2&&this.Ib--;const s=this.jt.qs;this.jt.zb&&this.Ob(e,s,this.jt.lt),this.jt.Mi&&this.gm(e,s,this.jt.lt);const r=this.Nb(t);(!this.jt.Mi||this.Ib>2*r)&&this.Fb(e,s,this.jt.lt)}Ob(e,t,s){if(this.jt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:c}=e;let u="",h=Math.min(Math.floor(o),Math.floor(this.jt.ul*o));h=Math.max(Math.floor(o),Math.min(h,this.Ib));const f=Math.floor(.5*h);let v=null;for(let g=s.from;g<s.to;g++){const x=t[g];x.sh!==u&&(r.fillStyle=x.sh,u=x.sh);const w=Math.round(Math.min(x.Go,x.Qo)*c),S=Math.round(Math.max(x.Go,x.Qo)*c),C=Math.round(x.Xo*c),E=Math.round(x.Jo*c);let N=Math.round(o*x._t)-f;const T=N+h-1;v!==null&&(N=Math.max(v+1,N),N=Math.min(N,T));const A=T-N+1;r.fillRect(N,C,A,w-C),r.fillRect(N,S+1,A,E-S),v=T}}Nb(e){let t=Math.floor(1*e);this.Ib<=2*t&&(t=Math.floor(.5*(this.Ib-1)));const s=Math.max(Math.floor(e),t);return this.Ib<=2*s?Math.max(Math.floor(e),Math.floor(1*e)):s}gm(e,t,s){if(this.jt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:c}=e;let u="";const h=this.Nb(o);let f=null;for(let v=s.from;v<s.to;v++){const g=t[v];g.ih!==u&&(r.fillStyle=g.ih,u=g.ih);let x=Math.round(g._t*o)-Math.floor(.5*this.Ib);const w=x+this.Ib-1,S=Math.round(Math.min(g.Go,g.Qo)*c),C=Math.round(Math.max(g.Go,g.Qo)*c);if(f!==null&&(x=Math.max(f+1,x),x=Math.min(x,w)),this.jt.ul*o>2*h)K7(r,x,S,w-x+1,C-S+1,h);else{const E=w-x+1;r.fillRect(x,S,E,C-S+1)}f=w}}Fb(e,t,s){if(this.jt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:c}=e;let u="";const h=this.Nb(o);for(let f=s.from;f<s.to;f++){const v=t[f];let g=Math.round(Math.min(v.Go,v.Qo)*c),x=Math.round(Math.max(v.Go,v.Qo)*c),w=Math.round(v._t*o)-Math.floor(.5*this.Ib),S=w+this.Ib-1;if(v.th!==u){const C=v.th;r.fillStyle=C,u=C}this.jt.Mi&&(w+=h,g+=h,S-=h,x-=h),g>x||r.fillRect(w,g,S-w+1,x-g+1)}}},YG=class extends GG{constructor(){super(...arguments),this.cM=new qG}tb(e,t,s){return{...this.Lb(e,t,s),...s.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}};const KG={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(n,e)=>new YG(n,e)};let XG=class extends ta{constructor(){super(...arguments),this.jt=null,this.Wb=[]}ht(e){this.jt=e,this.Wb=[]}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:s}){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return;this.Wb.length||this.Hb(t);const r=Math.max(1,Math.floor(s)),o=Math.round(this.jt.Ub*s)-Math.floor(r/2),c=o+r;for(let u=this.jt.lt.from;u<this.jt.lt.to;u++){const h=this.jt.ot[u],f=this.Wb[u-this.jt.lt.from],v=Math.round(h.ut*s);let g,x;e.fillStyle=h.th,v<=o?(g=v,x=c):(g=o,x=v-Math.floor(r/2)+r),e.fillRect(f.Aa,g,f.bi-f.Aa+1,x-g)}}Hb(e){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return void(this.Wb=[]);const t=Math.ceil(this.jt.ul*e)<=1?0:Math.max(1,Math.floor(e)),s=Math.round(this.jt.ul*e)-t;this.Wb=new Array(this.jt.lt.to-this.jt.lt.from);for(let o=this.jt.lt.from;o<this.jt.lt.to;o++){const c=this.jt.ot[o],u=Math.round(c._t*e);let h,f;if(s%2){const v=(s-1)/2;h=u-v,f=u+v}else{const v=s/2;h=u-v,f=u+v-1}this.Wb[o-this.jt.lt.from]={Aa:h,bi:f,$b:u,oe:c._t*e,wt:c.wt}}for(let o=this.jt.lt.from+1;o<this.jt.lt.to;o++){const c=this.Wb[o-this.jt.lt.from],u=this.Wb[o-this.jt.lt.from-1];c.wt===u.wt+1&&c.Aa-u.bi!==t+1&&(u.$b>u.oe?u.bi=c.Aa-t-1:c.Aa=u.bi+t+1)}let r=Math.ceil(this.jt.ul*e);for(let o=this.jt.lt.from;o<this.jt.lt.to;o++){const c=this.Wb[o-this.jt.lt.from];c.bi<c.Aa&&(c.bi=c.Aa);const u=c.bi-c.Aa+1;r=Math.min(u,r)}if(t>0&&r<4)for(let o=this.jt.lt.from;o<this.jt.lt.to;o++){const c=this.Wb[o-this.jt.lt.from];c.bi-c.Aa+1>r&&(c.$b>c.oe?c.bi-=1:c.Aa+=1)}}},JG=class extends dA{constructor(){super(...arguments),this.cM=new XG}tb(e,t,s){return{...this.QM(e,t),...s.gh(e)}}wM(){const e={ot:this.aM,ul:this.re.Et().ul(),lt:this.lM,Ub:this.ee.Ft().Nt(this.ee.N().base,be(this.ee.Lt()).Wt)};this.cM.ht(e)}};const g0={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},YM:(n,e)=>new JG(n,e)};({...HR});class Jo{logs=[];max_logs=1e4;memorySnapshots=[];max_memory_snapshots=1e3;record(e){this.logs.push(e),this.logs.length>this.max_logs&&(this.logs=this.logs.slice(Math.floor(this.max_logs*.2)))}getLogs(e,t){if(!e&&!t)return[...this.logs];const s=e?.getTime()??0,r=t?.getTime()??Date.now();return this.logs.filter(o=>{const c=o.timestamp.getTime();return c>=s&&c<=r})}getLogsByOperation(e){return this.logs.filter(t=>t.operation===e)}getLogsByCategory(e){return this.logs.filter(t=>t.category===e)}clear(){this.logs=[]}get size(){return this.logs.length}captureMemorySnapshot(){if("memory"in performance&&performance.memory){const e=performance.memory,t={timestamp:new Date,used_bytes:e.usedJSHeapSize,total_bytes:e.totalJSHeapSize,limit_bytes:e.jsHeapSizeLimit};return this.memorySnapshots.push(t),this.memorySnapshots.length>this.max_memory_snapshots&&(this.memorySnapshots=this.memorySnapshots.slice(Math.floor(this.max_memory_snapshots*.2))),t}return null}getMemorySnapshots(e,t){if(!e&&!t)return[...this.memorySnapshots];const s=e?.getTime()??0,r=t?.getTime()??Date.now();return this.memorySnapshots.filter(o=>{const c=o.timestamp.getTime();return c>=s&&c<=r})}getMemoryStats(){if(this.memorySnapshots.length===0)return null;const e=this.memorySnapshots.map(o=>o.used_bytes),t=Math.max(...e),s=e.reduce((o,c)=>o+c,0)/e.length,r=this.memorySnapshots[this.memorySnapshots.length-1];return{current_used_bytes:r.used_bytes,current_total_bytes:r.total_bytes,peak_used_bytes:t,average_used_bytes:s,snapshots_count:this.memorySnapshots.length}}clearMemorySnapshots(){this.memorySnapshots=[]}calculatePercentile(e,t){if(e.length===0)return 0;const s=[...e].sort((o,c)=>o-c),r=Math.ceil(t/100*s.length)-1;return s[Math.max(0,r)]}calculateCategoryStats(e){if(e.length===0)return{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0};const t=e.map(r=>r.duration_ms),s=t.reduce((r,o)=>r+o,0);return{total_duration_ms:s,operation_count:e.length,average_duration_ms:s/e.length,p50_duration_ms:this.calculatePercentile(t,50),p95_duration_ms:this.calculatePercentile(t,95),p99_duration_ms:this.calculatePercentile(t,99)}}calculateByCategory(){const e=["data_fetch","calculation","rendering","ui_interaction"],t={};for(const s of e)t[s]=this.calculateCategoryStats(this.getLogsByCategory(s));return t}identifyBottlenecks(e,t,s){const r=[],o=new Map;for(const c of this.logs)o.has(c.operation)||o.set(c.operation,[]),o.get(c.operation).push(c);for(const[c,u]of o.entries()){if(u.length<t.min_sample_count)continue;const h=u[0].category,f=u.reduce((x,w)=>x+w.duration_ms,0),v=s>0?f/s*100:0,g=t.operation_thresholds[c];if(g){const x=f/u.length;if(x>g){r.push({operation:c,category:h,reason:"threshold_exceeded",total_duration_ms:f,percent_of_total:v,impact:x>g*2?"critical":"high"});continue}}if(v>t.max_operation_contribution_percent){r.push({operation:c,category:h,reason:"high_contribution",total_duration_ms:f,percent_of_total:v,impact:v>t.max_operation_contribution_percent*2?"critical":"high"});continue}}return r.sort((c,u)=>u.total_duration_ms-c.total_duration_ms),r}createRankings(e,t){const s=new Map;for(const o of this.logs)s.has(o.operation)||s.set(o.operation,{logs:[],category:o.category}),s.get(o.operation).logs.push(o);const r=[];for(const[o,{logs:c,category:u}]of s.entries()){const h=c.reduce((f,v)=>f+v.duration_ms,0);r.push({operation:o,category:u,total_duration_ms:h,count:c.length,average_duration_ms:h/c.length,percent_of_total_load_time:t>0?h/t*100:0})}return r.sort((o,c)=>c.total_duration_ms-o.total_duration_ms),r}generateReport(e={operation_thresholds:{},max_operation_contribution_percent:20,min_sample_count:3}){const t=new Date;if(this.logs.length===0)return{generated_at:t,start_time:t,end_time:t,total_operations:0,by_category:{data_fetch:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0},calculation:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0},rendering:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0},ui_interaction:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0}},bottlenecks:[],rankings:[]};const s=this.calculateByCategory(),r=Object.values(s).reduce((v,g)=>v+g.total_duration_ms,0),o=this.identifyBottlenecks(s,e,r),c=this.createRankings(s,r),u=this.logs.map(v=>v.timestamp.getTime()),h=new Date(Math.min(...u)),f=new Date(Math.max(...u));return{generated_at:t,start_time:h,end_time:f,total_operations:this.logs.length,by_category:s,bottlenecks:o,rankings:c}}compare(e,t){const s=new Jo,r=new Jo;for(const f of e)s.record(f);for(const f of t)r.record(f);const o=s.generateReport(),c=r.generateReport(),u={},h=[];for(const f of["data_fetch","calculation","rendering","ui_interaction"]){const v=o.by_category[f],g=c.by_category[f];if(v.p95_duration_ms>0){const x=(v.p95_duration_ms-g.p95_duration_ms)/v.p95_duration_ms*100;u[f]=x,x<-10&&h.push(f)}}return{before:o.by_category,after:c.by_category,improvement:u,regressions:h}}detectRegressions(e,t,s=10){const r=new Jo,o=new Jo;r.logs=e,o.logs=t;const c=r.generateReport(),u=o.generateReport(),h=[];for(const f of["data_fetch","calculation","rendering","ui_interaction"]){const v=c.by_category[f].p95_duration_ms,g=u.by_category[f].p95_duration_ms;if(v>0){const x=(g-v)/v*100;x>s&&h.push(`${f}: +${x.toFixed(1)}%`)}}return h}}const v0=new Jo,U_=({symbol:n,candles:e,overlays:t=[],showVolume:s=!1,volumeColorUp:r="#26a69a",volumeColorDown:o="#ef5350",volumeHeightPercent:c=15,showLastPrice:u=!0,lastPriceUpColor:h="#26a69a",lastPriceDownColor:f="#ef5350",width:v,height:g,onTimeScaleInit:x,onCrosshairMove:w,onChartReady:S,onVisibleTimeRangeChange:C,onVisibleLogicalRangeChange:E})=>{const T=p.useRef(null),A=p.useRef(null),j=p.useRef(null),z=p.useRef(null),P=p.useRef(new Map),I=p.useRef(null),B=p.useRef(""),X=p.useRef(0),se=p.useRef(null),G=p.useRef(e.length>0),ee=p.useRef(null),[q,re]=p.useState(!0),J=p.useRef(x),k=p.useRef(w),F=p.useRef(C),V=p.useRef(E);p.useEffect(()=>{J.current=x},[x]),p.useEffect(()=>{k.current=w},[w]),p.useEffect(()=>{F.current=C},[C]),p.useEffect(()=>{V.current=E},[E]);const Q=()=>ee.current?.();return p.useEffect(()=>{if(!A.current||!G.current)return;const me=A.current.timeScale();try{F.current&&me.unsubscribeVisibleTimeRangeChange(F.current)}catch{}F.current&&me.subscribeVisibleTimeRangeChange(F.current)},[C]),p.useEffect(()=>{if(!T.current)return;const me=`${n}-${u}`;if(B.current===me&&A.current||T.current.querySelector("canvas"))return;if(A.current){try{A.current.remove()}catch(K){console.warn("ChartComponent: Error removing chart:",K)}A.current=null}T.current.innerHTML="";const O=uA(T.current,{layout:{background:{type:Cf.Solid,color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#1e222d"},horzLines:{color:"#1e222d"}},crosshair:{mode:1,horzLine:{visible:!0,labelVisible:!0},vertLine:{visible:!0,style:0,width:1,color:"rgba(224, 227, 235, 0.1)",labelVisible:!0}},timeScale:{timeVisible:!0,secondsVisible:!1,rightOffset:5,minBarSpacing:3,fixLeftEdge:!1,fixRightEdge:!1},width:v||T.current.clientWidth,height:g||T.current.clientHeight||400});se.current=null,A.current=O;const M=O.addSeries(KG,{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350",lastValueVisible:u,priceLineVisible:u});if(j.current=M,s){const K=O.addSeries(g0,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",lastValueVisible:!1,priceLineVisible:!1});z.current=K;const ue=100-c;O.priceScale("").applyOptions({scaleMargins:{top:ue/100,bottom:.05}})}J.current?.(O.timeScale());const L=K=>{if(G.current&&!(!K||typeof K.from!="number"||typeof K.to!="number"))try{const ue=X.current-1,ye=K.to>=ue;re(ye),V.current&&V.current(K)}catch{}};if(se.current=L,G.current&&O.timeScale().subscribeVisibleLogicalRangeChange(L),k.current&&O.subscribeCrosshairMove(k.current),S){const K=[M,...Array.from(P.current.values())];S(O,K)}const $=()=>{O.timeScale().applyOptions({rightOffset:5}),O.timeScale().fitContent()};ee.current=$;const ie=()=>$(),oe=T.current;return oe&&oe.addEventListener("dblclick",ie),B.current=me,()=>{if(B.current="",ee.current=null,oe&&oe.removeEventListener("dblclick",ie),k.current&&O.unsubscribeCrosshairMove(k.current),F.current)try{O.timeScale().unsubscribeVisibleTimeRangeChange(F.current)}catch{}if(se.current)try{O.timeScale().unsubscribeVisibleLogicalRangeChange(se.current)}catch{}J.current?.(null),O.remove(),T.current&&(T.current.innerHTML=""),A.current=null,j.current=null,z.current=null,I.current=null,P.current.clear()}},[n,u]),p.useEffect(()=>{if(!j.current)return;if(A.current){if(se.current)try{A.current.timeScale().unsubscribeVisibleLogicalRangeChange(se.current)}catch{}if(F.current)try{A.current.timeScale().unsubscribeVisibleTimeRangeChange(F.current)}catch{}G.current=!1}const me=performance.now();if(e.length>0){const L=e.map(K=>({time:Math.floor(new Date(K.timestamp).getTime()/1e3),open:K.open,high:K.high,low:K.low,close:K.close})).sort((K,ue)=>K.time-ue.time),$=L.filter((K,ue,ye)=>ue>0&&K.time===ye[ue-1].time);$.length>0&&console.warn("ChartComponent: Found",$.length,"duplicate candles in input data");const ie=new Map;L.forEach(K=>{ie.set(K.time,K)});const oe=Array.from(ie.values());X.current=oe.length,j.current.setData(oe),requestAnimationFrame(()=>{A.current&&(se.current&&A.current.timeScale().subscribeVisibleLogicalRangeChange(se.current),F.current&&A.current.timeScale().subscribeVisibleTimeRangeChange(F.current),G.current=!0)})}else j.current.setData([]),requestAnimationFrame(()=>{G.current=!0});const O=performance.now()-me;v0.record({id:crypto.randomUUID(),timestamp:new Date,category:"rendering",operation:"render_chart",duration_ms:O,context:{symbol:n,candle_count:e.length,overlay_count:t.length}})},[e,n,t]),p.useEffect(()=>{if(!(!z.current||!s))if(e.length>0){const M=e.map(L=>{const $=L.close>=L.open;return{time:Math.floor(new Date(L.timestamp).getTime()/1e3),value:L.volume||0,color:$?r:o}}).sort((L,$)=>L.time-$.time).filter((L,$,ie)=>$===0||L.time!==ie[$-1].time);z.current.setData(M)}else z.current.setData([])},[e,s,r,o]),p.useEffect(()=>{if(!j.current||!u||e.length===0)return;const me=e[e.length-1],M=me.close>=me.open?h:f;j.current.applyOptions({lastPriceColor:M})},[e,u,h,f]),p.useEffect(()=>{if(!A.current)return;const me=new Set(t.map(O=>O.id));P.current.forEach((O,M)=>{me.has(M)||(A.current.removeSeries(O),P.current.delete(M))}),t.forEach(O=>{let M=P.current.get(O.id);const L={color:O.color,lineWidth:O.lineWidth??2,lastValueVisible:O.showLastValue??!0,priceLineVisible:!1,visible:O.visible??!0};M?M.applyOptions(L):(M=A.current.addSeries(qh,L),P.current.set(O.id,M)),M.setData(O.data)})},[t]),p.useEffect(()=>{A.current&&v&&g&&A.current.applyOptions({width:v,height:g})},[v,g]),m.jsxs("div",{className:"relative w-full h-full",children:[m.jsx("div",{ref:T,"data-testid":"chart-container",className:"w-full h-full"}),!q&&m.jsx("div",{className:"absolute bottom-24 left-[90%] z-10 text-2xl pointer-events-none",children:m.jsx("button",{onClick:Q,className:"pointer-events-auto cursor-pointer bg-transparent hover:bg-transparent border-0 p-0",style:{color:"#d1d4dc"},title:"Return to latest",children:">>"})})]})};function QG(n,e="1d"){const t=new Date(n),s={weekday:"short",day:"numeric",month:"short",year:"2-digit"},r=t.toLocaleDateString("en-US",s).replace(",","");if(e!=="1d"&&e!=="1wk"&&e!=="1M"){const o={hour:"2-digit",minute:"2-digit",hour12:!1},c=t.toLocaleTimeString("en-US",o);return`${r} ${c}`}return r}function ZG({candle:n,interval:e="1d",className:t=""}){return p.useMemo(()=>{const r=n?QG(n.timestamp,e):"";if(!n)return m.jsxs("div",{className:`flex gap-4 text-xs ${t}`,children:[m.jsx("span",{className:"text-slate-500 w-32",children:r||"---"}),m.jsx("span",{className:"text-slate-500",children:"O"}),m.jsx("span",{className:"text-slate-500",children:"H"}),m.jsx("span",{className:"text-slate-500",children:"L"}),m.jsx("span",{className:"text-slate-500",children:"C"}),m.jsx("span",{className:"text-slate-500",children:"V"})]});const c=n.close>=n.open?"text-[#26a69a]":"text-[#ef5350]";return m.jsxs("div",{className:`flex gap-4 text-xs ${t}`,children:[m.jsx("span",{className:"text-slate-300 w-32",children:r}),m.jsxs("span",{className:"text-slate-400",children:["O ",m.jsx("span",{className:"text-white ml-1",children:n.open.toFixed(2)})]}),m.jsxs("span",{className:"text-slate-400",children:["H ",m.jsx("span",{className:"text-white ml-1",children:n.high.toFixed(2)})]}),m.jsxs("span",{className:"text-slate-400",children:["L ",m.jsx("span",{className:"text-white ml-1",children:n.low.toFixed(2)})]}),m.jsxs("span",{className:"text-slate-400",children:["C ",m.jsx("span",{className:`${c} ml-1`,children:n.close.toFixed(2)})]}),m.jsxs("span",{className:"text-slate-400",children:["V ",m.jsx("span",{className:"text-white ml-1",children:n.volume.toLocaleString()})]})]})},[n,e,t])}function eq(n){if(n instanceof Date)return Math.floor(n.getTime()/1e3);if(typeof n=="string"){const t=Number(n);return isNaN(t)?Math.floor(new Date(n).getTime()/1e3):t>1e12?Math.floor(t/1e3):t}const e=Number(n);return isNaN(e)?0:e>1e12?Math.floor(e/1e3):e}function tq(n,e){return!n||!e||n.length===0?[]:e.map((r,o)=>{if(r==null)return null;const c=n[o];if(!c)return null;const u=eq(c);return isNaN(u)?null:{time:u,value:r}}).filter(r=>r!==null).sort((r,o)=>r.time-o.time).filter((r,o,c)=>o===0||r.time!==c[o-1].time)}function _v(n){return n.length===0?[]:[...n].filter(e=>e.value!==void 0&&e.value!==null&&!isNaN(e.value)).sort((e,t)=>e.time-t.time)}function nq(n){if(n.length===0)return{up:[],down:[],neutral:[]};const e=[],t=[],s=[];let r="neutral",o=[n[0]];for(let c=1;c<n.length;c++){const u=n[c-1],h=n[c];let f;h.value>u.value?f="up":h.value<u.value?f="down":f="neutral",c===1&&(r=f),f===r?o.push(h):(o.push(h),(r==="up"?e:r==="down"?t:s).push(...o),o=[h],r=f)}return o.length>0&&(r==="up"?e:r==="down"?t:s).push(...o),{up:_v(e),down:_v(t),neutral:_v(s)}}function sq(n,e,t){if(!n||!n.timestamps||!n.data)return[];let s=e;if(s||(s=["sma","ema","adxvma","value","close"].find(S=>n.data[S]),!s&&Object.keys(n.data).length>0&&(s=Object.keys(n.data)[0])),!s||!n.data[s])return console.warn("[formatIndicatorData] No valid data field found (tried: auto-detect)"),[];const r=n.data[s];if(!r||!Array.isArray(r))return[];const c=n.metadata?.series_metadata?.find(w=>w.role==="signal")?.field,u=c?n.data[c]:null,h=n.metadata?.color_schemes||{},f=t?.bullish||h.bullish||"#00FF00",v=t?.neutral||h.neutral||"#FFFF00",g=t?.bearish||h.bearish||"#ef5350",x=[];for(let w=0;w<n.timestamps.length;w++){const S=n.timestamps[w],C=r[w];if(C==null||typeof S!="number"||isNaN(S)||typeof C!="number"||isNaN(C))continue;let E;if(u&&u[w]!==null&&u[w]!==void 0){const N=u[w];N===1?E=f:N===0?E=v:N===-1&&(E=g)}x.push({time:S,value:C,color:E})}return x}function hA(n){const e=iq(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(aq);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function iq(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=lq(r),u=oq(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var rq=Symbol("radix.slottable");function aq(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rq}function oq(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function lq(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var cq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fA=cq.reduce((n,e)=>{const t=hA(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),vm="Popover",[mA]=Ms(vm,[Cl]),Lu=Cl(),[uq,na]=mA(vm),pA=n=>{const{__scopePopover:e,children:t,open:s,defaultOpen:r,onOpenChange:o,modal:c=!1}=n,u=Lu(e),h=p.useRef(null),[f,v]=p.useState(!1),[g,x]=Zr({prop:s,defaultProp:r??!1,onChange:o,caller:vm});return m.jsx(K0,{...u,children:m.jsx(uq,{scope:e,contentId:Mn(),triggerRef:h,open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(w=>!w),[x]),hasCustomAnchor:f,onCustomAnchorAdd:p.useCallback(()=>v(!0),[]),onCustomAnchorRemove:p.useCallback(()=>v(!1),[]),modal:c,children:t})})};pA.displayName=vm;var gA="PopoverAnchor",dq=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=na(gA,t),o=Lu(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=r;return p.useEffect(()=>(c(),()=>u()),[c,u]),m.jsx(Bf,{...o,...s,ref:e})});dq.displayName=gA;var vA="PopoverTrigger",yA=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=na(vA,t),o=Lu(t),c=Lt(e,r.triggerRef),u=m.jsx(fA.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":CA(r.open),...s,ref:c,onClick:Ae(n.onClick,r.onOpenToggle)});return r.hasCustomAnchor?u:m.jsx(Bf,{asChild:!0,...o,children:u})});yA.displayName=vA;var Gy="PopoverPortal",[hq,fq]=mA(Gy,{forceMount:void 0}),bA=n=>{const{__scopePopover:e,forceMount:t,children:s,container:r}=n,o=na(Gy,e);return m.jsx(hq,{scope:e,forceMount:t,children:m.jsx(Xn,{present:t||o.open,children:m.jsx(pu,{asChild:!0,container:r,children:s})})})};bA.displayName=Gy;var yl="PopoverContent",xA=p.forwardRef((n,e)=>{const t=fq(yl,n.__scopePopover),{forceMount:s=t.forceMount,...r}=n,o=na(yl,n.__scopePopover);return m.jsx(Xn,{present:s||o.open,children:o.modal?m.jsx(pq,{...r,ref:e}):m.jsx(gq,{...r,ref:e})})});xA.displayName=yl;var mq=hA("PopoverContent.RemoveScroll"),pq=p.forwardRef((n,e)=>{const t=na(yl,n.__scopePopover),s=p.useRef(null),r=Lt(e,s),o=p.useRef(!1);return p.useEffect(()=>{const c=s.current;if(c)return Q0(c)},[]),m.jsx(Ff,{as:mq,allowPinchZoom:!0,children:m.jsx(wA,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(n.onCloseAutoFocus,c=>{c.preventDefault(),o.current||t.triggerRef.current?.focus()}),onPointerDownOutside:Ae(n.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),gq=p.forwardRef((n,e)=>{const t=na(yl,n.__scopePopover),s=p.useRef(!1),r=p.useRef(!1);return m.jsx(wA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||t.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=o.target;t.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),wA=p.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:v,...g}=n,x=na(yl,t),w=Lu(t);return $0(),m.jsx(Lf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:m.jsx(fu,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:v,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>x.onOpenChange(!1),children:m.jsx(X0,{"data-state":CA(x.open),role:"dialog",id:x.contentId,...w,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),SA="PopoverClose",vq=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=na(SA,t);return m.jsx(fA.button,{type:"button",...s,ref:e,onClick:Ae(n.onClick,()=>r.onOpenChange(!1))})});vq.displayName=SA;var yq="PopoverArrow",bq=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=Lu(t);return m.jsx(J0,{...r,...s,ref:e})});bq.displayName=yq;function CA(n){return n?"open":"closed"}var xq=pA,wq=yA,Sq=bA,_A=xA;const Cq=xq,_q=wq,EA=p.forwardRef(({className:n,align:e="center",sideOffset:t=4,...s},r)=>m.jsx(Sq,{children:m.jsx(_A,{ref:r,align:e,sideOffset:t,className:Ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})}));EA.displayName=_A.displayName;function Eh({icon:n,label:e,onClick:t,className:s}){return m.jsxs($M,{children:[m.jsx(UM,{asChild:!0,children:m.jsx("button",{onClick:t,className:Ce("h-6 w-6 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",s),type:"button",children:m.jsx(n,{className:"h-3 w-3"})})}),m.jsx(Ny,{children:e})]})}function Eq({name:n,isVisible:e,onToggleVisibility:t,onRemove:s,onSettings:r,onAlert:o,moreActions:c,className:u,legendItems:h}){const f=e?eL:Q5;return m.jsxs("div",{className:Ce("flex min-w-0 items-center gap-2 text-xs",u),children:[m.jsx("span",{className:"min-w-0 flex-1 truncate text-slate-300 font-medium",children:n}),h?.map(v=>m.jsx("span",{className:"pointer-events-none",style:{color:v.color},children:v.value.toFixed(2)},v.key)),m.jsxs("div",{className:"pointer-events-auto flex items-center gap-0.5 bg-slate-900/80 backdrop-blur-sm rounded px-1 opacity-0 transition-opacity duration-200 group-hover:opacity-100 group-focus-within:opacity-100 ml-auto",children:[m.jsx(Eh,{icon:f,label:e?"Hide":"Show",onClick:t}),r&&m.jsx(Eh,{icon:nN,label:"Settings",onClick:r}),o&&m.jsx(Eh,{icon:cl,label:"Alerts",onClick:o}),m.jsx(Eh,{icon:hu,label:"Remove",onClick:s}),c&&c.length>0&&m.jsxs(Cq,{children:[m.jsx(_q,{asChild:!0,children:m.jsx("button",{className:"h-6 w-6 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",children:m.jsx(K5,{className:"h-3 w-3"})})}),m.jsx(EA,{align:"start",className:"w-40 p-1",children:c.map(v=>m.jsx("button",{onClick:v.action,className:"w-full text-left px-2 py-1.5 text-sm text-slate-300 hover:bg-slate-700 rounded transition-colors",type:"button",children:v.label},v.label))})]})]})]})}function Nq(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const Tq=n=>{switch(n){case"success":return Aq;case"info":return kq;case"warning":return jq;case"error":return Oq;default:return null}},Mq=Array(12).fill(0),Rq=({visible:n,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ve.createElement("div",{className:"sonner-spinner"},Mq.map((t,s)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),Aq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Oq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Iq=()=>{const[n,e]=ve.useState(document.hidden);return ve.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let y0=1;class Lq{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...r}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:y0++,c=this.toasts.find(h=>h.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:s}),{...h,...e,id:o,dismissible:u,title:s}):h):this.addToast({title:s,...r,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let o=s!==void 0,c;const u=r.then(async f=>{if(c=["resolve",f],ve.isValidElement(f))o=!1,this.create({id:s,type:"default",message:f});else if(zq(f)&&!f.ok){o=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,S=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(f instanceof Error){o=!1;const g=typeof t.error=="function"?await t.error(f):t.error,x=typeof t.description=="function"?await t.description(f):t.description,S=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(t.success!==void 0){o=!1;const g=typeof t.success=="function"?await t.success(f):t.success,x=typeof t.description=="function"?await t.description(f):t.description,S=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:x,...S})}}).catch(async f=>{if(c=["reject",f],t.error!==void 0){o=!1;const v=typeof t.error=="function"?await t.error(f):t.error,g=typeof t.description=="function"?await t.description(f):t.description,w=typeof v=="object"&&!ve.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:g,...w})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((f,v)=>u.then(()=>c[0]==="reject"?v(c[1]):f(c[1])).catch(v));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(e,t)=>{const s=t?.id||y0++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wn=new Lq,Pq=(n,e)=>{const t=e?.id||y0++;return Wn.addToast({title:n,...e,id:t}),t},zq=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",$q=Pq,Uq=()=>Wn.toasts,Bq=()=>Wn.getActiveToasts(),Fn=Object.assign($q,{success:Wn.success,info:Wn.info,warning:Wn.warning,error:Wn.error,custom:Wn.custom,message:Wn.message,promise:Wn.promise,dismiss:Wn.dismiss,loading:Wn.loading},{getHistory:Uq,getToasts:Bq});Nq("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nh(n){return n.label!==void 0}const Vq=3,Fq="24px",Hq="16px",B_=4e3,Wq=356,Gq=14,qq=45,Yq=200;function Zs(...n){return n.filter(Boolean).join(" ")}function Kq(n){const[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const Xq=n=>{var e,t,s,r,o,c,u,h,f;const{invert:v,toast:g,unstyled:x,interacting:w,setHeights:S,visibleToasts:C,heights:E,index:N,toasts:T,expanded:A,removeToast:j,defaultRichColors:z,closeButton:P,style:I,cancelButtonStyle:B,actionButtonStyle:X,className:se="",descriptionClassName:G="",duration:ee,position:q,gap:re,expandByDefault:J,classNames:k,icons:F,closeButtonAriaLabel:V="Close toast"}=n,[Q,me]=ve.useState(null),[O,M]=ve.useState(null),[L,$]=ve.useState(!1),[ie,oe]=ve.useState(!1),[K,ue]=ve.useState(!1),[ye,we]=ve.useState(!1),[Ve,We]=ve.useState(!1),[xt,ct]=ve.useState(0),[At,Le]=ve.useState(0),Et=ve.useRef(g.duration||ee||B_),qt=ve.useRef(null),Xe=ve.useRef(null),pt=N===0,Qt=N+1<=C,ut=g.type,_n=g.dismissible!==!1,Nt=g.className||"",Fs=g.descriptionClassName||"",un=ve.useMemo(()=>E.findIndex(_e=>_e.toastId===g.id)||0,[E,g.id]),rn=ve.useMemo(()=>{var _e;return(_e=g.closeButton)!=null?_e:P},[g.closeButton,P]),Ut=ve.useMemo(()=>g.duration||ee||B_,[g.duration,ee]),En=ve.useRef(0),vn=ve.useRef(0),yn=ve.useRef(0),bn=ve.useRef(null),[hs,Bt]=q.split("-"),jt=ve.useMemo(()=>E.reduce((_e,Ge,ke)=>ke>=un?_e:_e+Ge.height,0),[E,un]),kt=Iq(),Qi=g.invert||v,it=ut==="loading";vn.current=ve.useMemo(()=>un*re+jt,[un,jt]),ve.useEffect(()=>{Et.current=Ut},[Ut]),ve.useEffect(()=>{$(!0)},[]),ve.useEffect(()=>{const _e=Xe.current;if(_e){const Ge=_e.getBoundingClientRect().height;return Le(Ge),S(ke=>[{toastId:g.id,height:Ge,position:g.position},...ke]),()=>S(ke=>ke.filter(Je=>Je.toastId!==g.id))}},[S,g.id]),ve.useLayoutEffect(()=>{if(!L)return;const _e=Xe.current,Ge=_e.style.height;_e.style.height="auto";const ke=_e.getBoundingClientRect().height;_e.style.height=Ge,Le(ke),S(Je=>Je.find(rt=>rt.toastId===g.id)?Je.map(rt=>rt.toastId===g.id?{...rt,height:ke}:rt):[{toastId:g.id,height:ke,position:g.position},...Je])},[L,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const dn=ve.useCallback(()=>{oe(!0),ct(vn.current),S(_e=>_e.filter(Ge=>Ge.toastId!==g.id)),setTimeout(()=>{j(g)},Yq)},[g,j,S,vn]);ve.useEffect(()=>{if(g.promise&&ut==="loading"||g.duration===1/0||g.type==="loading")return;let _e;return A||w||kt?(()=>{if(yn.current<En.current){const Je=new Date().getTime()-En.current;Et.current=Et.current-Je}yn.current=new Date().getTime()})():Et.current!==1/0&&(En.current=new Date().getTime(),_e=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),dn()},Et.current)),()=>clearTimeout(_e)},[A,w,g,ut,kt,dn]),ve.useEffect(()=>{g.delete&&(dn(),g.onDismiss==null||g.onDismiss.call(g,g))},[dn,g.delete]);function an(){var _e;if(F?.loading){var Ge;return ve.createElement("div",{className:Zs(k?.loader,g==null||(Ge=g.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":ut==="loading"},F.loading)}return ve.createElement(Rq,{className:Zs(k?.loader,g==null||(_e=g.classNames)==null?void 0:_e.loader),visible:ut==="loading"})}const fs=g.icon||F?.[ut]||Tq(ut);var Tt,wt;return ve.createElement("li",{tabIndex:0,ref:Xe,className:Zs(se,Nt,k?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,k?.default,k?.[ut],g==null||(t=g.classNames)==null?void 0:t[ut]),"data-sonner-toast":"","data-rich-colors":(Tt=g.richColors)!=null?Tt:z,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":L,"data-promise":!!g.promise,"data-swiped":Ve,"data-removed":ie,"data-visible":Qt,"data-y-position":hs,"data-x-position":Bt,"data-index":N,"data-front":pt,"data-swiping":K,"data-dismissible":_n,"data-type":ut,"data-invert":Qi,"data-swipe-out":ye,"data-swipe-direction":O,"data-expanded":!!(A||J&&L),"data-testid":g.testId,style:{"--index":N,"--toasts-before":N,"--z-index":T.length-N,"--offset":`${ie?xt:vn.current}px`,"--initial-height":J?"auto":`${At}px`,...I,...g.style},onDragEnd:()=>{ue(!1),me(null),bn.current=null},onPointerDown:_e=>{_e.button!==2&&(it||!_n||(qt.current=new Date,ct(vn.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(ue(!0),bn.current={x:_e.clientX,y:_e.clientY})))},onPointerUp:()=>{var _e,Ge,ke;if(ye||!_n)return;bn.current=null;const Je=Number(((_e=Xe.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mt=Number(((Ge=Xe.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rt=new Date().getTime()-((ke=qt.current)==null?void 0:ke.getTime()),st=Q==="x"?Je:Mt,on=Math.abs(st)/rt;if(Math.abs(st)>=qq||on>.11){ct(vn.current),g.onDismiss==null||g.onDismiss.call(g,g),M(Q==="x"?Je>0?"right":"left":Mt>0?"down":"up"),dn(),we(!0);return}else{var dt,ht;(dt=Xe.current)==null||dt.style.setProperty("--swipe-amount-x","0px"),(ht=Xe.current)==null||ht.style.setProperty("--swipe-amount-y","0px")}We(!1),ue(!1),me(null)},onPointerMove:_e=>{var Ge,ke,Je;if(!bn.current||!_n||((Ge=window.getSelection())==null?void 0:Ge.toString().length)>0)return;const rt=_e.clientY-bn.current.y,st=_e.clientX-bn.current.x;var on;const dt=(on=n.swipeDirections)!=null?on:Kq(q);!Q&&(Math.abs(st)>1||Math.abs(rt)>1)&&me(Math.abs(st)>Math.abs(rt)?"x":"y");let ht={x:0,y:0};const On=Zt=>1/(1.5+Math.abs(Zt)/20);if(Q==="y"){if(dt.includes("top")||dt.includes("bottom"))if(dt.includes("top")&&rt<0||dt.includes("bottom")&&rt>0)ht.y=rt;else{const Zt=rt*On(rt);ht.y=Math.abs(Zt)<Math.abs(rt)?Zt:rt}}else if(Q==="x"&&(dt.includes("left")||dt.includes("right")))if(dt.includes("left")&&st<0||dt.includes("right")&&st>0)ht.x=st;else{const Zt=st*On(st);ht.x=Math.abs(Zt)<Math.abs(st)?Zt:st}(Math.abs(ht.x)>0||Math.abs(ht.y)>0)&&We(!0),(ke=Xe.current)==null||ke.style.setProperty("--swipe-amount-x",`${ht.x}px`),(Je=Xe.current)==null||Je.style.setProperty("--swipe-amount-y",`${ht.y}px`)}},rn&&!g.jsx&&ut!=="loading"?ve.createElement("button",{"aria-label":V,"data-disabled":it,"data-close-button":!0,onClick:it||!_n?()=>{}:()=>{dn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Zs(k?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(wt=F?.close)!=null?wt:Dq):null,(ut||g.icon||g.promise)&&g.icon!==null&&(F?.[ut]!==null||g.icon)?ve.createElement("div",{"data-icon":"",className:Zs(k?.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||an():null,g.type!=="loading"?fs:null):null,ve.createElement("div",{"data-content":"",className:Zs(k?.content,g==null||(o=g.classNames)==null?void 0:o.content)},ve.createElement("div",{"data-title":"",className:Zs(k?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ve.createElement("div",{"data-description":"",className:Zs(G,Fs,k?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ve.isValidElement(g.cancel)?g.cancel:g.cancel&&Nh(g.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||B,onClick:_e=>{Nh(g.cancel)&&_n&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,_e),dn())},className:Zs(k?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ve.isValidElement(g.action)?g.action:g.action&&Nh(g.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||X,onClick:_e=>{Nh(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,_e),!_e.defaultPrevented&&dn())},className:Zs(k?.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function V_(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Jq(n,e){const t={};return[n,e].forEach((s,r)=>{const o=r===1,c=o?"--mobile-offset":"--offset",u=o?Hq:Fq;function h(f){["top","right","bottom","left"].forEach(v=>{t[`${c}-${v}`]=typeof f=="number"?`${f}px`:f})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(f=>{s[f]===void 0?t[`${c}-${f}`]=u:t[`${c}-${f}`]=typeof s[f]=="number"?`${s[f]}px`:s[f]}):h(u)}),t}const Qq=ve.forwardRef(function(e,t){const{id:s,invert:r,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:h,className:f,offset:v,mobileOffset:g,theme:x="light",richColors:w,duration:S,style:C,visibleToasts:E=Vq,toastOptions:N,dir:T=V_(),gap:A=Gq,icons:j,containerAriaLabel:z="Notifications"}=e,[P,I]=ve.useState([]),B=ve.useMemo(()=>s?P.filter(L=>L.toasterId===s):P.filter(L=>!L.toasterId),[P,s]),X=ve.useMemo(()=>Array.from(new Set([o].concat(B.filter(L=>L.position).map(L=>L.position)))),[B,o]),[se,G]=ve.useState([]),[ee,q]=ve.useState(!1),[re,J]=ve.useState(!1),[k,F]=ve.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=ve.useRef(null),Q=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=ve.useRef(null),O=ve.useRef(!1),M=ve.useCallback(L=>{I($=>{var ie;return(ie=$.find(oe=>oe.id===L.id))!=null&&ie.delete||Wn.dismiss(L.id),$.filter(({id:oe})=>oe!==L.id)})},[]);return ve.useEffect(()=>Wn.subscribe(L=>{if(L.dismiss){requestAnimationFrame(()=>{I($=>$.map(ie=>ie.id===L.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{mE.flushSync(()=>{I($=>{const ie=$.findIndex(oe=>oe.id===L.id);return ie!==-1?[...$.slice(0,ie),{...$[ie],...L},...$.slice(ie+1)]:[L,...$]})})})}),[P]),ve.useEffect(()=>{if(x!=="system"){F(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;const L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:$})=>{F($?"dark":"light")})}catch{L.addListener(({matches:ie})=>{try{F(ie?"dark":"light")}catch(oe){console.error(oe)}})}},[x]),ve.useEffect(()=>{P.length<=1&&q(!1)},[P]),ve.useEffect(()=>{const L=$=>{var ie;if(c.every(ue=>$[ue]||$.code===ue)){var K;q(!0),(K=V.current)==null||K.focus()}$.code==="Escape"&&(document.activeElement===V.current||(ie=V.current)!=null&&ie.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[c]),ve.useEffect(()=>{if(V.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,O.current=!1)}},[V.current]),ve.createElement("section",{ref:t,"aria-label":`${z} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},X.map((L,$)=>{var ie;const[oe,K]=L.split("-");return B.length?ve.createElement("ol",{key:L,dir:T==="auto"?V_():T,tabIndex:-1,ref:V,className:f,"data-sonner-toaster":!0,"data-sonner-theme":k,"data-y-position":oe,"data-x-position":K,style:{"--front-toast-height":`${((ie=se[0])==null?void 0:ie.height)||0}px`,"--width":`${Wq}px`,"--gap":`${A}px`,...C,...Jq(v,g)},onBlur:ue=>{O.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(O.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||O.current||(O.current=!0,me.current=ue.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{re||q(!1)},onDragEnd:()=>q(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},B.filter(ue=>!ue.position&&$===0||ue.position===L).map((ue,ye)=>{var we,Ve;return ve.createElement(Xq,{key:ue.id,icons:j,index:ye,toast:ue,defaultRichColors:w,duration:(we=N?.duration)!=null?we:S,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:r,visibleToasts:E,closeButton:(Ve=N?.closeButton)!=null?Ve:h,interacting:re,position:L,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:M,toasts:B.filter(We=>We.position==ue.position),heights:se.filter(We=>We.position==ue.position),setHeights:G,expandByDefault:u,gap:A,expanded:ee,swipeDirections:e.swipeDirections})})):null}))});function Zq(n){const e=eY(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(nY);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function eY(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=iY(r),u=sY(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var tY=Symbol("radix.slottable");function nY(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===tY}function sY(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function iY(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var rY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],NA=rY.reduce((n,e)=>{const t=Zq(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),ym="Switch",[aY]=Ms(ym),[oY,lY]=aY(ym),TA=p.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:r,defaultChecked:o,required:c,disabled:u,value:h="on",onCheckedChange:f,form:v,...g}=n,[x,w]=p.useState(null),S=Lt(e,A=>w(A)),C=p.useRef(!1),E=x?v||!!x.closest("form"):!0,[N,T]=Zr({prop:r,defaultProp:o??!1,onChange:f,caller:ym});return m.jsxs(oY,{scope:t,checked:N,disabled:u,children:[m.jsx(NA.button,{type:"button",role:"switch","aria-checked":N,"aria-required":c,"data-state":jA(N),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:S,onClick:Ae(n.onClick,A=>{T(j=>!j),E&&(C.current=A.isPropagationStopped(),C.current||A.stopPropagation())})}),E&&m.jsx(AA,{control:x,bubbles:!C.current,name:s,value:h,checked:N,required:c,disabled:u,form:v,style:{transform:"translateX(-100%)"}})]})});TA.displayName=ym;var MA="SwitchThumb",RA=p.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,r=lY(MA,t);return m.jsx(NA.span,{"data-state":jA(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});RA.displayName=MA;var cY="SwitchBubbleInput",AA=p.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...r},o)=>{const c=p.useRef(null),u=Lt(c,o),h=bM(t),f=G0(e);return p.useEffect(()=>{const v=c.current;if(!v)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==t&&w){const S=new Event("click",{bubbles:s});w.call(v,t),v.dispatchEvent(S)}},[h,t,s]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:u,style:{...r.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AA.displayName=cY;function jA(n){return n?"checked":"unchecked"}var qy=TA,kA=RA;function F_(...n){return I0(Of(n))}const Yh=ve.forwardRef(({className:n,...e},t)=>m.jsx(qy,{className:F_("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-blue-600 data-[state=unchecked]:bg-slate-700",n),...e,ref:t,children:m.jsx(kA,{className:F_("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Yh.displayName=qy.displayName;var uY="Label",OA=p.forwardRef((n,e)=>m.jsx(di.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));OA.displayName=uY;var DA=OA;function dY(...n){return I0(Of(n))}const ei=ve.forwardRef(({className:n,...e},t)=>m.jsx(DA,{ref:t,className:dY("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...e}));ei.displayName=DA.displayName;function IA({open:n,onClose:e,onAlertCreated:t,symbol:s,interval:r,indicator:o,existingAlert:c,className:u}){const[h,f]=p.useState("settings"),[v,g]=p.useState([]),[x,w]=p.useState(!1),[S,C]=p.useState(null),[E,N]=p.useState({}),[T,A]=p.useState(1),[j,z]=p.useState("once_per_bar_close"),[P,I]=p.useState(!1),[B,X]=p.useState(null),[se,G]=p.useState(null),[ee,q]=p.useState(null),[re,J]=p.useState("bell"),[k,F]=p.useState(null);if(p.useEffect(()=>{n&&o.name&&(w(!0),C(null),FR(o.name).then(M=>{g(M.conditions);const L={};M.conditions.forEach($=>{const ie=c?.enabled_conditions?.[$.condition_type]??!0,oe=c?.messages?.[$.condition_type];L[$.condition_type]={enabled:ie,message:oe||V($.condition_type,$.label),threshold:0}}),N(L),c?.cooldown!==void 0&&A(c.cooldown),c?.trigger_mode&&z(c.trigger_mode)}).catch(M=>{console.error("Failed to fetch indicator conditions:",M),C(M instanceof Error?M.message:"Failed to load alert conditions")}).finally(()=>{w(!1)}))},[n,o.name,c]),p.useEffect(()=>{n&&!c&&(A(1),z("once_per_bar_close"),X(null),f("settings"))},[n,o,c]),!n)return null;function V(M,L){const $=L.toLowerCase();return $.includes("upper")||$.includes("above")||$.includes("positive")||$.includes("bullish")?"It's time to sell!":$.includes("lower")||$.includes("below")||$.includes("negative")||$.includes("bearish")?"It's time to buy!":`Alert: ${L}`}const Q=()=>{const M=Object.values(E).filter(L=>L.enabled);if(M.length===0)return X("At least one condition must be enabled"),!1;for(const L of M)if(!L.message.trim())return X("All enabled conditions must have a message"),!1;return T<1?(X("Cooldown must be at least 1 minute"),!1):T>1440?(X("Cooldown cannot exceed 24 hours (1440 minutes)"),!1):!0},me=async()=>{if(Q()){if(x||v.length===0){X("Alert conditions are still loading. Please try again.");return}I(!0),X(null);try{const M={},L={};for(const[we,Ve]of Object.entries(E))Ve.enabled&&(M[we]=!0,L[we]=Ve.message.trim());let $="indicator_above_upper";const ie=Object.keys(M),oe=ie.some(we=>we.includes("upper")),K=ie.some(we=>we.includes("lower"));oe&&K?$="crsi_band_extremes":K?$="indicator_below_lower":$="indicator_above_upper";const ue={symbol:s,interval:r,indicator_name:o.name,indicator_field:o.field,indicator_params:o.params,enabled_conditions:M,messages:L,cooldown:T,trigger_mode:j,condition:$,threshold:0,is_active:!0};let ye;c?(ye=await UR(c.id,{enabled_conditions:M,messages:L,cooldown:T,trigger_mode:j}),Fn.success("Alert updated successfully")):(ye=await $R(ue),Fn.success("Alert created successfully")),(se!==null||ee!==null||k!==null)&&await $y(String(ye.id),{toastEnabled:se,soundEnabled:ee,soundType:re,telegramEnabled:k}),t?.(ye),e()}catch(M){console.error("Failed to save alert:",M);let L=M instanceof Error?M.message:"Failed to save alert";M.response?.data?.detail&&(L=typeof M.response.data.detail=="string"?M.response.data.detail:JSON.stringify(M.response.data.detail)),X(L),Fn.error(L)}finally{I(!1)}}},O=(M,L)=>{N($=>({...$,[M]:{...$[M],...L}}))};return p.useEffect(()=>{const M=L=>{L.key==="Escape"&&!P&&e()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[e,P]),x?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:m.jsx("div",{className:Ce("w-full max-w-lg rounded-lg border border-slate-700 bg-slate-800 shadow-xl p-8",u),onClick:M=>M.stopPropagation(),children:m.jsxs("div",{className:"flex flex-col items-center gap-4",children:[m.jsx(Qo,{className:"h-8 w-8 animate-spin text-blue-500"}),m.jsx("p",{className:"text-sm text-slate-300",children:"Loading alert conditions..."})]})})}):S?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:m.jsxs("div",{className:Ce("w-full max-w-lg rounded-lg border border-slate-700 bg-slate-800 shadow-xl p-6",u),onClick:M=>M.stopPropagation(),children:[m.jsxs("div",{className:"rounded border border-red-500/50 bg-red-500/10 px-4 py-3 text-sm text-red-400",children:[m.jsx("p",{className:"font-semibold",children:"Failed to load alert conditions"}),m.jsx("p",{className:"mt-1",children:S})]}),m.jsx("div",{className:"mt-4 flex justify-end",children:m.jsx("button",{onClick:e,className:"rounded border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 transition-colors hover:bg-slate-700",children:"Close"})})]})}):m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:m.jsxs("div",{className:Ce("w-full max-w-lg rounded-lg border border-slate-700 bg-slate-800 shadow-xl",u),onClick:M=>M.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 p-4",children:[m.jsx("h2",{className:"text-lg font-semibold text-white",children:c?"Edit Alert":`Create Alert on ${o.displayName}`}),m.jsx("button",{onClick:e,disabled:P,className:"rounded p-1 text-slate-400 transition-colors hover:bg-slate-700 hover:text-white disabled:opacity-50",children:m.jsx(sN,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"flex border-b border-slate-700",children:[m.jsx("button",{onClick:()=>f("settings"),className:Ce("flex-1 px-4 py-2 text-sm font-medium transition-colors",h==="settings"?"border-b-2 border-blue-500 text-white":"text-slate-400 hover:text-white"),children:"Settings"}),m.jsx("button",{onClick:()=>f("message"),className:Ce("flex-1 px-4 py-2 text-sm font-medium transition-colors",h==="message"?"border-b-2 border-blue-500 text-white":"text-slate-400 hover:text-white"),children:"Message"}),m.jsx("button",{onClick:()=>f("notifications"),className:Ce("flex-1 px-4 py-2 text-sm font-medium transition-colors",h==="notifications"?"border-b-2 border-blue-500 text-white":"text-slate-400 hover:text-white"),children:"Notifications"})]}),m.jsxs("div",{className:"p-4",children:[h==="settings"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Trigger Conditions"}),m.jsx("div",{className:"space-y-2",children:v.map(M=>{const L=E[M.condition_type];return L?m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[m.jsx("input",{type:"checkbox",checked:L.enabled,onChange:$=>O(M.condition_type,{enabled:$.target.checked}),className:"h-4 w-4 rounded border-slate-600 bg-slate-700 text-blue-500 focus:ring-blue-500"}),m.jsx("span",{children:M.label})]}),m.jsx("p",{className:"ml-6 text-xs text-slate-400",children:M.description}),M.requires_threshold&&L.enabled&&m.jsxs("div",{className:"ml-6 mt-1",children:[m.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Threshold value:"}),m.jsx("input",{type:"number",step:"0.01",value:L.threshold??0,onChange:$=>O(M.condition_type,{threshold:parseFloat($.target.value)||0}),className:"w-32 rounded border border-slate-600 bg-slate-700 px-2 py-1 text-sm text-white focus:border-blue-500 focus:outline-none"})]})]},M.condition_type):null})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cooldown",className:"block text-sm font-medium text-slate-300 mb-2",children:"Cooldown (minutes)"}),m.jsx("input",{id:"cooldown",type:"number",min:"1",max:"1440",value:T,onChange:M=>A(parseInt(M.target.value)||1),className:"w-full rounded border border-slate-600 bg-slate-700 px-3 py-2 text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"1"}),m.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Minimum 1 minute. Alert will not trigger again during this period after firing."})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"triggerMode",className:"block text-sm font-medium text-slate-300 mb-2",children:"Trigger Mode"}),m.jsxs("select",{id:"triggerMode",value:j,onChange:M=>z(M.target.value),className:"w-full rounded border border-slate-600 bg-slate-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[m.jsx("option",{value:"once",children:"Once (fire once and disable)"}),m.jsx("option",{value:"once_per_bar",children:"Once per bar update"}),m.jsx("option",{value:"once_per_bar_close",children:"Once per bar close"})]}),m.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:[j==="once"&&"Alert will fire once and then be automatically disabled",j==="once_per_bar"&&"Alert will fire at most once per bar update",j==="once_per_bar_close"&&"Alert will fire at most once per bar close (respects bar timestamps)"]})]})]}),h==="message"&&m.jsx("div",{className:"space-y-4",children:v.map(M=>{const L=E[M.condition_type];return L?m.jsxs("div",{children:[m.jsxs("label",{htmlFor:`msg-${M.condition_type}`,className:"block text-sm font-medium text-slate-300 mb-2",children:[M.label," Message"]}),m.jsx("input",{id:`msg-${M.condition_type}`,type:"text",value:L.message,onChange:$=>O(M.condition_type,{message:$.target.value}),disabled:!L.enabled,className:Ce("w-full rounded border bg-slate-700 px-3 py-2 text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",!L.enabled&&"opacity-50"),placeholder:V(M.condition_type,M.label)}),m.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Message shown when: ",M.description]})]},M.condition_type):null})}),h==="notifications"&&m.jsxs("div",{className:"space-y-4 p-4",children:[m.jsx("p",{className:"text-sm text-slate-400",children:'Configure how you want to be notified when this alert triggers. Leave as "Use global" to inherit your default notification preferences.'}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(ei,{htmlFor:"notif-toast",className:"text-white",children:"Toast Notification"}),m.jsx(Yh,{id:"notif-toast",checked:se??!0,onCheckedChange:M=>G(M?!0:null)})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(ei,{htmlFor:"notif-sound",className:"text-white",children:"Sound Notification"}),m.jsx(Yh,{id:"notif-sound",checked:ee??!1,onCheckedChange:M=>q(M?!0:null)})]}),ee&&m.jsx("div",{className:"grid grid-cols-3 gap-2",children:["bell","alert","chime"].map(M=>m.jsx("button",{type:"button",onClick:()=>J(M),className:`p-2 rounded text-sm border ${re===M?"border-[#26a69a] bg-[#26a69a]/20 text-white":"border-slate-600 text-slate-400 hover:border-slate-500"}`,children:M.charAt(0).toUpperCase()+M.slice(1)},M))}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(ei,{htmlFor:"notif-telegram",className:"text-white",children:"Telegram"}),m.jsx(Yh,{id:"notif-telegram",checked:k??!1,onCheckedChange:M=>F(M?!0:null)})]}),m.jsx("p",{className:"text-xs text-slate-500",children:'Set to "Use global" (default) to inherit settings from your notification preferences. Override by changing individual settings above.'})]}),B&&m.jsx("div",{className:"mt-4 rounded border border-red-500/50 bg-red-500/10 px-3 py-2 text-sm text-red-400",children:B})]}),m.jsxs("div",{className:"flex justify-end gap-2 border-t border-slate-700 p-4",children:[m.jsx("button",{onClick:e,disabled:P,className:"rounded border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 transition-colors hover:bg-slate-700 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:me,disabled:P||x||v.length===0,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700 disabled:opacity-50",children:P?"Saving...":x?"Loading...":"Save"})]})]})})}const hY=({name:n,symbol:e,interval:t,mainSeries:s,additionalSeries:r=[],candles:o=[],priceLines:c=[],height:u,width:h,scaleRanges:f,visible:v=!0,onTimeScaleInit:g,onChartInit:x,indicatorData:w,crosshairTime:S,showLastValue:C=!0,displayName:E,indicatorId:N,style:T,onSettingsClick:A,onViewSource:j,onAlertCreated:z,onRemove:P,params:I,alerts:B=[]})=>{const[X,se]=p.useState(v),[G,ee]=p.useState(!1),q=p.useMemo(()=>{if(!w)return{mainSeries:void 0,additionalSeries:[],priceLines:[]};const{data:oe,metadata:K}=w,ue=K.series_metadata[0];if(!ue)return{mainSeries:void 0,additionalSeries:[],priceLines:[]};const ye=oe[ue.field];if(!ye)return{mainSeries:void 0,additionalSeries:[],priceLines:[]};const we=w.timestamps.map((Le,Et)=>{const qt=ye[Et];return qt==null?null:{time:Le,value:qt}}).filter(Le=>Le!==null);let Ve,We=[];if(K.color_mode==="threshold"){const Le=K.series_metadata.find(Nt=>Nt.role==="signal"),Et=Le?oe[Le.field]:null,qt=K.color_schemes?.bullish||"#26a69a",Xe=K.color_schemes?.bearish||"#ef5350",pt=K.color_schemes?.neutral||"#787b86",Qt=K.thresholds?.upper??K.thresholds?.high??70,ut=K.thresholds?.lower??K.thresholds?.low??30;Ve={data:w.timestamps.map((Nt,Fs)=>{const un=ye[Fs];if(un==null)return null;const rn=Et?Et[Fs]:null,Ut=rn===1?qt:rn===0?pt:rn===-1?Xe:un>Qt?qt:un<ut?Xe:pt;return{time:Nt,value:un,color:Ut}}).filter(Nt=>Nt!==null),color:pt,displayType:"line",lineWidth:ue.line_width,visible:!0},We=[]}else if(K.color_mode==="trend"){const Le=nq(we),Et={up:K.color_schemes.bullish||"#2962ff",neutral:K.color_schemes.neutral||"#9e9e9e",down:K.color_schemes.bearish||"#ef5350"};Ve={data:Le.up,color:Et.up,displayType:"line",lineWidth:ue.line_width,visible:!0},Le.neutral.length>0&&We.push({id:`${ue.field}_neutral`,data:Le.neutral,color:Et.neutral,displayType:"line",lineWidth:ue.line_width,visible:!0}),Le.down.length>0&&We.push({id:`${ue.field}_down`,data:Le.down,color:Et.down,displayType:"line",lineWidth:ue.line_width,visible:!0})}else Ve={data:we,color:ue.line_color,displayType:"line",lineWidth:ue.line_width,visible:!0,field:ue.field};const xt=K.series_metadata.slice(1).filter(Le=>Le.role==="signal"?K.color_mode==="single":!0).map(Le=>{const Et=oe[Le.field];if(!Et)return null;const qt=w.timestamps.map((pt,Qt)=>{const ut=Et[Qt];return ut==null?null:{time:pt,value:ut}}).filter(pt=>pt!==null);let Xe="line";return Le.display_type==="histogram"&&(Xe="histogram"),{id:Le.field,data:qt,color:Le.line_color,displayType:Xe,lineWidth:Le.line_width,visible:!0,field:Le.field}}).filter(Le=>Le!==null),ct=[...We,...xt],At=(K.reference_levels||[]).map(Le=>({value:Le.value,color:Le.line_color,label:Le.line_label||`${Le.value}`,lineStyle:Le.line_style||"solid"}));if(At.length===0&&K.thresholds){const Le=K.thresholds.high??70,Et=K.thresholds.low??30;At.push({value:Le,color:"#ef5350",label:"",lineStyle:"dashed"},{value:Et,color:"#26a69a",label:"",lineStyle:"dashed"})}return{mainSeries:Ve,additionalSeries:ct,priceLines:At}},[w]),re=p.useMemo(()=>{if(!w||w.timestamps.length===0)return null;const{timestamps:oe,data:K,metadata:ue}=w,ye=oe.length-1,we=S??oe[ye];let Ve=oe.indexOf(we);return Ve===-1&&(Ve=ye),{items:ue.series_metadata.filter(xt=>xt.role!=="signal").map(xt=>{const ct=K[xt.field]?.[Ve];if(ct==null)return null;let At=xt.line_color;return T&&(xt.role==="main"?At=T.color||At:At=T.seriesColors?.[xt.field]||At),{key:xt.field,color:At,value:Number(ct)}}).filter(Boolean)}},[w,S,T]),J=q.mainSeries??s,k=q.additionalSeries.length>0?q.additionalSeries:r,F=q.priceLines.length>0?q.priceLines:c,V=p.useRef(null),Q=p.useRef(null),me=p.useRef(null),O=p.useRef(null),M=p.useRef(new Map),L=p.useRef([]),$=p.useMemo(()=>{if(!w)return null;const oe=w.metadata,K=n.toLowerCase(),ue=oe.series_metadata.find(ye=>ye.role==="main")||oe.series_metadata[0];return{name:K,field:ue?.field||n,params:I||{},displayName:E||n}},[w,n,E,I]),ie=p.useMemo(()=>!B||B.length===0?null:B.find(oe=>{const K=JSON.stringify(oe.indicator_params||{})===JSON.stringify(I||{});return oe.indicator_name===n&&K}),[B,n,I]);return p.useEffect(()=>{if(!V.current)return;const oe=uA(V.current,{layout:{background:{type:Cf.Solid,color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#1e222d"},horzLines:{color:"#1e222d"}},crosshair:{mode:0,horzLine:{visible:!1,labelVisible:!1},vertLine:{visible:!1,labelVisible:!1}},width:h||V.current.clientWidth,height:u||V.current.clientHeight||100,timeScale:{visible:!1,shiftVisibleRangeOnNewBar:!1},handleScroll:!1,handleScale:!1});Q.current=oe;const K=oe.addSeries(qh,{visible:!1,lastValueVisible:!1,priceLineVisible:!1});return O.current=K,g&&g(oe.timeScale()),O.current=K,x?.(oe,K),()=>{g&&g(null),oe.remove(),Q.current=null,me.current=null,O.current=null,M.current.clear(),L.current=[]}},[n,e,t]),p.useEffect(()=>{if(!O.current||o.length===0)return;const K=o.map(ue=>({time:Math.floor(new Date(ue.timestamp).getTime()/1e3),value:0})).sort((ue,ye)=>ue.time-ye.time).filter((ue,ye,we)=>ye===0||ue.time!==we[ye-1].time);O.current.setData(K)},[o]),p.useEffect(()=>{if(!Q.current)return;if(J){const ue=J.displayType==="line"?qh:g0,ye=J.field||"",we=T?.seriesColors?.[ye]||T?.color||J.color;!me.current||me.current.seriesType()!==(J.displayType==="line"?"Line":"Histogram")?(me.current&&Q.current.removeSeries(me.current),me.current=Q.current.addSeries(ue,{color:we,lineWidth:T?.lineWidth??J.lineWidth??2,visible:J.visible??!0,lastValueVisible:T?.showLastValue??C,priceLineVisible:!1})):me.current.applyOptions({color:we,lineWidth:T?.lineWidth??J.lineWidth??2,visible:J.visible??!0,lastValueVisible:T?.showLastValue??C,priceLineVisible:!1}),me.current.setData(J.data)}else me.current&&(Q.current.removeSeries(me.current),me.current=null);const oe=new Set(k.map(ue=>ue.id));M.current.forEach((ue,ye)=>{oe.has(ye)||(Q.current.removeSeries(ue),M.current.delete(ye))}),k.forEach(ue=>{const ye=ue.id;let we=M.current.get(ye);const Ve=T?.seriesColors?.[ue.field||""]||ue.color;we?we.applyOptions({color:Ve,lineWidth:ue.lineWidth??1,visible:ue.visible??!0,lastValueVisible:C,priceLineVisible:!1}):(we=Q.current.addSeries(ue.displayType==="line"?qh:g0,{color:Ve,lineWidth:ue.lineWidth??1,visible:ue.visible??!0,lastValueVisible:C,priceLineVisible:!1}),M.current.set(ye,we)),we.setData(ue.data)});const K=me.current||(M.current.size>0?M.current.values().next().value:null);K&&(L.current.forEach(ue=>{try{K.removePriceLine(ue)}catch{}}),L.current=[],F.forEach(ue=>{const ye=ue.lineStyle==="dashed"?2:ue.lineStyle==="dotted"?3:ue.lineStyle==="dashdot"?4:0,we=K.createPriceLine({price:ue.value,color:ue.color,lineWidth:1,lineStyle:ye,axisLabelVisible:!1,title:""});L.current.push(we)}))},[J,k,F,C,T]),p.useEffect(()=>{Q.current&&(Q.current.priceScale("right").applyOptions({autoScale:!0,scaleMargins:{top:.1,bottom:.1}}),f&&Q.current.priceScale("right").applyOptions({autoScale:!1,visiblePriceRange:{from:f.min,to:f.max}}))},[f]),p.useEffect(()=>{if(Q.current){const oe={};h&&(oe.width=h),u&&(oe.height=u),Q.current.applyOptions(oe)}},[h,u]),X?m.jsxs("div",{className:"relative w-full h-full",children:[m.jsx("div",{ref:V,"data-testid":`indicator-pane-${n}`,className:"w-full h-full"}),m.jsx("div",{className:"group absolute left-2 right-2 top-1 z-10 flex items-center gap-2 text-xs overflow-visible",children:m.jsx(Eq,{name:E||n,isVisible:X,onToggleVisibility:()=>se(!X),onRemove:P||(()=>{}),onSettings:A,onAlert:()=>ee(!0),moreActions:[...j?[{label:"View Source",action:j}]:[],...ie?[{label:"Edit alert on "+(E||n)+"...",action:()=>ee(!0)}]:[]],legendItems:re?.items})}),G&&$&&m.jsx(IA,{open:G,onClose:()=>ee(!1),onAlertCreated:()=>{z?.(),ee(!1)},symbol:e,interval:t,indicator:$,existingAlert:ie})]}):null},LA="trading_alert_layouts",PA="trading_alert_alerts",b0=n=>{localStorage.setItem(LA,JSON.stringify(n))},zA=()=>{const n=localStorage.getItem(LA);if(!n)return[];try{return JSON.parse(n)}catch(e){return console.error("Failed to parse layouts from localStorage",e),[]}},$A=n=>{localStorage.setItem(PA,JSON.stringify(n))},UA=()=>{const n=localStorage.getItem(PA);if(!n)return[{id:"1",symbol:"IBM",condition:"price_above",threshold:150,status:"active",createdAt:new Date().toISOString()}];try{return JSON.parse(n)}catch(e){return console.error("Failed to parse alerts from localStorage",e),[{id:"1",symbol:"IBM",condition:"price_above",threshold:150,status:"active",createdAt:new Date().toISOString()}]}},fY=Object.freeze(Object.defineProperty({__proto__:null,loadAlerts:UA,loadLayouts:zA,saveAlerts:$A,saveLayouts:b0},Symbol.toStringTag,{value:"Module"}));function Yy(n){if(!n)return null;const e=n.trim();return e.length>0?e:null}function mY(n){return Yy(n)!==null}const Gc=async(n,e="1d",t,s)=>{const r=Yy(n);if(!r)throw new Error("Symbol is required for candles API calls");const o={interval:e};return t&&(o.from=t),s&&(o.to=s),(await(await js()).get(`/candles/${r}`,{params:o})).data},Ky=async()=>(await(await js()).get("/indicators/supported")).data;function BA(n,e){const t={rsi:{length:{min:2,max:200}},atr:{length:{min:2,max:200}},sma:{length:{min:2,max:500}},ema:{length:{min:2,max:500}},crsi:{period:{min:2,max:200}},macd:{fast:{min:2,max:100},slow:{min:2,max:200},signal:{min:2,max:50}},bbands:{length:{min:2,max:200},std:{min:.1,max:5}}},s={...e},r=t[n.toLowerCase()];if(r)for(const[o,c]of Object.entries(s)){const u=r[o];u&&typeof c=="number"&&(c<u.min?(console.warn(`Clamping ${n}.${o} from ${c} to min ${u.min}`),s[o]=u.min):c>u.max&&(console.warn(`Clamping ${n}.${o} from ${c} to max ${u.max}`),s[o]=u.max))}return s}const pY=async(n,e,t="1d",s,r,o,c)=>{const u=Yy(n);if(!u)throw new Error("Symbol is required for indicator API calls");const h=s?BA(e,s):void 0,f={interval:t};return h&&Object.entries(h).forEach(([x,w])=>{let S=x;x==="period"&&(S="length"),S==="dom_cycle"?f.dom_cycle=w:S==="cyclic_memory"?f.cyclic_memory=w:f[S]=w}),o&&(f.from=o),c&&(f.to=c),(await(await js()).get(`/indicators/${u}/${e}`,{params:f})).data},gY=async n=>{const e=await js(),t=n.map(r=>{const o=r.params?BA(r.indicator_name,r.params):void 0;return{symbol:r.symbol,interval:r.interval,indicator_name:r.indicator_name,params:o,from_ts:r.from_ts,to_ts:r.to_ts}});return(await e.post("/indicators/batch",{requests:t})).data},vY={crsi:["length"],tdfi:["length","upper","lower"],adxvma:["length"],ema:["length"],sma:["length"]};function yY(n,e){const t=n.toUpperCase();if(!e)return t;const r=(vY[n.toLowerCase()]??Object.keys(e).sort()).map(o=>e[o]).filter(o=>o!=null).map(o=>String(o));return r.length?`${t} (${r.join(", ")})`:t}const ll={color:"#2962ff",lineWidth:2,showLastValue:!0},VA={sma:"#ff6d00",ema:"#2962ff",tdfi:"#9e9e9e",adxvma:"#ff6d00",crsi:"#00bcd4"},FA="tradingalert_indicators_global";function bY(n){const e=n.match(/^([a-zA-Z_]+)_(\d+(\.\d+)?)$/);if(e){const t=e[1];if(["sma","ema","dema","tema","wma","hma","vwma","kama","mama","rsi","cci","adx","aroon","mfi","willr","cmo","mom","roc","atr","stoch","stochrsi","macd","bbands","kc","donchian","uo","tsi","pgo","apo","ppo","ao","obv","fi","eri"].includes(t))return console.log(`[useIndicators] Migrating indicator name: '${n}' -> '${t}'`),t}return n}function xY(){try{const n=localStorage.getItem(FA);if(n){const e=JSON.parse(n);let t=!1;const s=e.indicators.map(r=>{const o=r.indicatorType.name,c=bY(o);return c!==o?(t=!0,{...r,indicatorType:{...r.indicatorType,name:c}}):r});return t&&(e.indicators=s,x0(e)),e}}catch(n){console.error("Failed to load indicators from localStorage:",n)}return{indicators:[],activeIndicatorId:null}}function x0(n){try{localStorage.setItem(FA,JSON.stringify(n))}catch(e){console.error("Failed to save indicators to localStorage:",e)}}function wY(){return`indicator-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function H_(n){return yY(n.name,n.params)}function SY(){const[n,e]=p.useState([]),[t,s]=p.useState(null),[r,o]=p.useState(!1),[c,u]=p.useState(null),h=p.useCallback(async()=>{if(c)return c;try{const E=await Ky(),N=new Map;return E.forEach(T=>{N.set(T.name,T)}),u(N),N}catch(E){return console.error("Error fetching indicator metadata:",E),new Map}},[c]),f=p.useCallback(()=>{const E=xY();E.indicators.filter(T=>!T.indicatorType.category||T.indicatorType.category!=="overlay"&&T.indicatorType.category!=="oscillator").length>0?h().then(T=>{const A=E.indicators.map(z=>{if(!z.indicatorType.category||z.indicatorType.category!=="overlay"&&z.indicatorType.category!=="oscillator"){const P=T.get(z.indicatorType.name);if(P&&P.category)return{...z,indicatorType:{...z.indicatorType,category:P.category}}}return z}),j={...E,indicators:A};x0(j),e(A),s(E.activeIndicatorId),o(!0)}).catch(T=>{console.error("Error updating indicator categories:",T),e(E.indicators),s(E.activeIndicatorId),o(!0)}):(e(E.indicators),s(E.activeIndicatorId),o(!0))},[h]);p.useEffect(()=>{f()},[f]);const v=p.useCallback((E,N)=>{x0({indicators:E,activeIndicatorId:N})},[]),g=p.useCallback(E=>{const N=VA?.[E.name.toLowerCase()]||ll.color,T={...ll,color:N},A={id:wY(),indicatorType:E,name:H_(E),displaySettings:{visible:!0,height:25,position:n.length+1},focusState:"active",style:T},j=[...n,A];return e(j),v(j,t),A.id},[n,t,v]),x=p.useCallback(E=>{const N=n.filter(A=>A.id!==E),T=t===E?null:t;e(N),s(T),v(N,T)},[n,t,v]),w=p.useCallback(E=>{const N=n.map(T=>T.id===E?{...T,displaySettings:{...T.displaySettings,visible:!T.displaySettings.visible}}:T);e(N),v(N,t)},[n,t,v]),S=p.useCallback((E,N)=>{const T=n.map(A=>{if(A.id===E){const j={...A.indicatorType,params:{...A.indicatorType.params,...N}},z=H_(j);return{...A,indicatorType:j,name:z}}return A});e(T),v(T,t)},[n,t,v]),C=p.useCallback((E,N)=>{const T=n.map(A=>A.id===E?{...A,style:{...A.style||ll,...N}}:A);e(T),v(T,t)},[n,t,v]);return{indicators:n,activeIndicatorId:t,isLoaded:r,addIndicator:g,removeIndicator:x,toggleIndicator:w,updateIndicatorParams:S,updateIndicatorStyle:C,setActiveIndicatorId:p.useCallback(E=>{s(E),v(n,E)},[n,v])}}const HA=p.createContext(void 0);function CY({children:n}){const e=SY();return m.jsx(HA.Provider,{value:e,children:n})}function WA(){const n=p.useContext(HA);if(!n)throw new Error("useIndicatorContext must be used within an IndicatorProvider");return n}function GA(n){const e=_Y(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(NY);if(h){const f=h.props.children,v=u.map(g=>g===h?p.Children.count(f)>1?p.Children.only(null):p.isValidElement(f)?f.props.children:null:g);return m.jsx(e,{...c,ref:r,children:p.isValidElement(f)?p.cloneElement(f,void 0,v):null})}return m.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function _Y(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=MY(r),u=TY(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var EY=Symbol("radix.slottable");function NY(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===EY}function TY(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function MY(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var RY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pu=RY.reduce((n,e)=>{const t=GA(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),bm="Dialog",[qA]=Ms(bm),[AY,Vs]=qA(bm),YA=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:r,onOpenChange:o,modal:c=!0}=n,u=p.useRef(null),h=p.useRef(null),[f,v]=Zr({prop:s,defaultProp:r??!1,onChange:o,caller:bm});return m.jsx(AY,{scope:e,triggerRef:u,contentRef:h,contentId:Mn(),titleId:Mn(),descriptionId:Mn(),open:f,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(g=>!g),[v]),modal:c,children:t})};YA.displayName=bm;var KA="DialogTrigger",jY=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Vs(KA,t),o=Lt(e,r.triggerRef);return m.jsx(Pu.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Qy(r.open),...s,ref:o,onClick:Ae(n.onClick,r.onOpenToggle)})});jY.displayName=KA;var Xy="DialogPortal",[kY,XA]=qA(Xy,{forceMount:void 0}),JA=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:r}=n,o=Vs(Xy,e);return m.jsx(kY,{scope:e,forceMount:t,children:p.Children.map(s,c=>m.jsx(Xn,{present:t||o.open,children:m.jsx(pu,{asChild:!0,container:r,children:c})}))})};JA.displayName=Xy;var _f="DialogOverlay",QA=p.forwardRef((n,e)=>{const t=XA(_f,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,o=Vs(_f,n.__scopeDialog);return o.modal?m.jsx(Xn,{present:s||o.open,children:m.jsx(DY,{...r,ref:e})}):null});QA.displayName=_f;var OY=GA("DialogOverlay.RemoveScroll"),DY=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Vs(_f,t);return m.jsx(Ff,{as:OY,allowPinchZoom:!0,shards:[r.contentRef],children:m.jsx(Pu.div,{"data-state":Qy(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Xa="DialogContent",ZA=p.forwardRef((n,e)=>{const t=XA(Xa,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,o=Vs(Xa,n.__scopeDialog);return m.jsx(Xn,{present:s||o.open,children:o.modal?m.jsx(IY,{...r,ref:e}):m.jsx(LY,{...r,ref:e})})});ZA.displayName=Xa;var IY=p.forwardRef((n,e)=>{const t=Vs(Xa,n.__scopeDialog),s=p.useRef(null),r=Lt(e,t.contentRef,s);return p.useEffect(()=>{const o=s.current;if(o)return Q0(o)},[]),m.jsx(ej,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(n.onCloseAutoFocus,o=>{o.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Ae(n.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Ae(n.onFocusOutside,o=>o.preventDefault())})}),LY=p.forwardRef((n,e)=>{const t=Vs(Xa,n.__scopeDialog),s=p.useRef(!1),r=p.useRef(!1);return m.jsx(ej,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||t.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=o.target;t.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),ej=p.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,...c}=n,u=Vs(Xa,t),h=p.useRef(null),f=Lt(e,h);return $0(),m.jsxs(m.Fragment,{children:[m.jsx(Lf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:m.jsx(fu,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Qy(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(PY,{titleId:u.titleId}),m.jsx($Y,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Jy="DialogTitle",tj=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Vs(Jy,t);return m.jsx(Pu.h2,{id:r.titleId,...s,ref:e})});tj.displayName=Jy;var nj="DialogDescription",sj=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Vs(nj,t);return m.jsx(Pu.p,{id:r.descriptionId,...s,ref:e})});sj.displayName=nj;var ij="DialogClose",rj=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Vs(ij,t);return m.jsx(Pu.button,{type:"button",...s,ref:e,onClick:Ae(n.onClick,()=>r.onOpenChange(!1))})});rj.displayName=ij;function Qy(n){return n?"open":"closed"}var aj="DialogTitleWarning",[bJ,oj]=FD(aj,{contentName:Xa,titleName:Jy,docsSlug:"dialog"}),PY=({titleId:n})=>{const e=oj(aj),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},zY="DialogDescriptionWarning",$Y=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oj(zY).contentName}}.`;return p.useEffect(()=>{const r=n.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},Zy=YA,eb=JA,xm=QA,wm=ZA,tb=tj,nb=sj,lj=rj;const $a=Zy,UY=eb,cj=p.forwardRef(({className:n,...e},t)=>m.jsx(xm,{ref:t,className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));cj.displayName=xm.displayName;const Wr=p.forwardRef(({className:n,children:e,...t},s)=>m.jsxs(UY,{children:[m.jsx(cj,{}),m.jsxs(wm,{ref:s,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,m.jsxs(lj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(sN,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wr.displayName=wm.displayName;const Ua=({className:n,...e})=>m.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Ua.displayName="DialogHeader";const uj=({className:n,...e})=>m.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});uj.displayName="DialogFooter";const Gr=p.forwardRef(({className:n,...e},t)=>m.jsx(tb,{ref:t,className:Ce("text-lg font-semibold leading-none tracking-tight",n),...e}));Gr.displayName=tb.displayName;const qr=p.forwardRef(({className:n,...e},t)=>m.jsx(nb,{ref:t,className:Ce("text-sm text-muted-foreground",n),...e}));qr.displayName=nb.displayName;function BY(n){const e="metadata"in n?n.metadata:null;if(e&&e.series_metadata&&e.series_metadata.length>0){const s=e.series_metadata[0];if(s?.label)return s.label}let t;return"indicatorType"in n?t=n.indicatorType.name:"name"in n?t=n.name:t=n.displayName||"INDICATOR",t.toUpperCase()}function VY(n){const e=Object.entries(n).filter(([s,r])=>!(r==null||typeof r=="number"&&(r===0||["offset","drift","signal"].includes(s)&&r===0)||typeof r=="string"&&r===""));return e.length===0?"":`(${e.map(([s,r])=>`${s}=${r}`).join(", ")})`}function FY(n){const e={};if(Array.isArray(n.parameters))for(const t of n.parameters)e[t.name]=t.default;else for(const[t,s]of Object.entries(n.parameters))typeof s=="object"&&s!==null&&"default"in s?e[t]=s.default:e[t]=s;return{category:n.category,name:n.name,params:e}}function HY({open:n,onOpenChange:e,onAddOverlayInstance:t}){const{addIndicator:s}=WA(),[r,o]=ve.useState("all"),[c,u]=p.useState([]),[h,f]=p.useState(!1);p.useEffect(()=>{n&&c.length===0&&(f(!0),Ky().then(g=>{u(g),f(!1)}).catch(g=>{console.error("Failed to load indicators:",g),f(!1)}))},[n,c.length]);const v=c.filter(g=>r==="all"?!0:g.category===r);return m.jsx($a,{open:n,onOpenChange:e,children:m.jsxs(Wr,{className:"bg-[#1e222d] border-[#2a2e39] text-slate-200 max-w-md",children:[m.jsxs(Ua,{children:[m.jsx(Gr,{className:"text-lg font-semibold text-white",children:"Add Indicator"}),m.jsx(qr,{className:"text-slate-400",children:"Select an indicator to add to your chart"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Pe,{variant:r==="all"?"default":"ghost",size:"sm",onClick:()=>o("all"),className:r==="all"?"bg-[#26a69a] text-white":"text-slate-400 hover:text-white",children:"All"}),m.jsx(Pe,{variant:r==="overlay"?"default":"ghost",size:"sm",onClick:()=>o("overlay"),className:r==="overlay"?"bg-[#26a69a] text-white":"text-slate-400 hover:text-white",children:"Overlays"}),m.jsx(Pe,{variant:r==="oscillator"?"default":"ghost",size:"sm",onClick:()=>o("oscillator"),className:r==="oscillator"?"bg-[#26a69a] text-white":"text-slate-400 hover:text-white",children:"Oscillators"})]}),h&&m.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading indicators..."}),!h&&m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:v.length===0?m.jsx("div",{className:"text-center py-8 text-slate-500",children:"No indicators available"}):v.map(g=>{const x=FY(g),w=g.category==="overlay",S=BY(g),C=VY(x.params);return m.jsxs("button",{onClick:()=>{w&&t?t(g.name,x.params):s(x),e(!1)},className:"w-full flex items-center justify-between px-3 py-2 rounded hover:bg-[#2a2e39] transition-colors text-left",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("span",{className:"text-sm text-slate-200",children:[S,C&&m.jsx("span",{className:"text-slate-500 text-xs ml-1",children:C})]}),m.jsx("span",{className:"text-xs text-slate-500 text-left",children:g.description})]}),m.jsx("span",{className:"text-xs text-slate-500 capitalize ml-2",children:g.category})]},g.name)})}),m.jsx("div",{className:"flex justify-end pt-2",children:m.jsx(Pe,{variant:"ghost",onClick:()=>e(!1),className:"text-slate-400 hover:text-white",children:"Cancel"})})]})]})})}class W_ extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.props.onError?.(e,t)}render(){return this.state.hasError?this.props.fallback||m.jsx("div",{className:"flex items-center justify-center h-full w-full bg-slate-900 p-8",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("div",{className:"text-rose-500 text-4xl",children:""}),m.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:"Something went wrong"}),m.jsx("p",{className:"text-sm text-slate-400 max-w-md",children:this.state.error?.message||"An error occurred while loading chart data"}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Reload Page"})]})}):this.props.children}}function G_(){return crypto.randomUUID()}async function w0(n,e,t,s){const r=performance.now(),o=new Date;try{const c=await t(),u=performance.now()-r;return v0.record({id:G_(),timestamp:o,category:e,operation:n,duration_ms:u,context:s||{}}),c}catch(c){const u=performance.now()-r;throw v0.record({id:G_(),timestamp:o,category:e,operation:n,duration_ms:u,context:{...s,error:!0,error_message:c instanceof Error?c.message:String(c)}}),c}}function Ev(n){const e=n.match(/^([a-zA-Z_]+)_(\d+(\.\d+)?)$/);if(e){const t=e[1];if(["sma","ema","dema","tema","wma","hma","vwma","kama","mama","rsi","cci","adx","aroon","mfi","willr","cmo","mom","roc","atr","stoch","stochrsi","macd","bbands","kc","donchian","uo","tsi","pgo","apo","ppo","ao","obv","fi","eri"].includes(t))return t}return n}function Nv(n){const e=JSON.stringify(n.indicatorType.params);return`${n.id}:${e}`}function WY(n,e,t,s,r,o){const[c,u]=p.useState({}),[h,f]=p.useState(!1),[v,g]=p.useState(null),x=p.useRef({});x.current=c;const w=p.useRef(new Set),S=p.useRef(""),C=p.useRef(0);p.useRef(null);const E=p.useCallback(async N=>{try{const T=Ev(N.indicatorType.name),A=UD(e,t,T,N.indicatorType.params,r?.from,r?.to);if(A)return{id:N.id,data:A};console.log("[API] Fetching indicator from API:",T,"range:",r?.from,"to",r?.to);const j=await w0(`calculate_${T}`,"calculation",()=>pY(e,T,t,N.indicatorType.params,void 0,r?.from,r?.to),{symbol:e,indicator:T,interval:t,params:JSON.stringify(N.indicatorType.params)});return j&&K1(e,t,T,N.indicatorType.params,j,r?.from,r?.to),{id:N.id,data:j}}catch(T){const A=T instanceof Error&&"response"in T?T.response?.data?.detail||T.message:T instanceof Error?T.message:"Unknown error";return console.error(`Failed to fetch data for ${N.indicatorType.name}:`,A),{id:N.id,data:null}}},[e,t,r]);return p.useEffect(()=>{if(!(o&&o.length>0))return;if(!mY(e)){w.current.clear(),u({});return}if(n.length===0){u({}),w.current.clear();return}const T=`${e}:${t}`,A=S.current!==T,j=s&&s!==C.current;(A||j)&&(j&&console.log("[useIndicatorData] dataVersion changed from",C.current,"to",s,"- clearing fetchedRefs to trigger refetch with extended range"),A&&(S.current=T),w.current.clear());const z=n.filter(se=>{const G=Nv(se);return!w.current.has(G)});if(n.every(se=>{const G=Nv(se);return w.current.has(G)&&x.current[se.id]!==void 0})&&!A&&z.length===0&&s===C.current)return;j&&(C.current=s);const I={...x.current},B=n.filter(se=>!I[se.id]).map(se=>se.id);B.length>0&&(B.forEach(se=>{I[se]=null}),u(I)),(async()=>{f(!0),g(null),console.log(`%c[T3 START] Fetching ${n.length} indicators for ${e} ${t}`,"color: #9C27B0; font-weight: bold");const G={...x.current},ee=[];for(const q of n){const re=Nv(q);w.current.has(re)||(ee.push(q),w.current.add(re))}if(ee.length>0){if(ee.length>1)try{console.log(`[Batch] Fetching ${ee.length} indicators via batch endpoint`);const re=ee.map(k=>({symbol:e,interval:t,indicator_name:Ev(k.indicatorType.name),params:k.indicatorType.params,from_ts:r?.from,to_ts:r?.to})),J=await gY(re);for(let k=0;k<ee.length;k++){const F=ee[k],V=J.results[k];if(V){const Q=Ev(F.indicatorType.name);K1(e,t,Q,F.indicatorType.params,V,r?.from,r?.to),G[F.id]=V}else{const Q=J.errors.find(me=>me.index===k);Q&&console.error(`[Batch] Failed to fetch ${F.indicatorType.name}:`,Q.error),G[F.id]=null}}console.log(`[Batch] Completed: ${J.cache_hits} cache hits, ${J.cache_misses} cache misses, ${J.total_duration_ms}ms`)}catch(re){console.error("[Batch] Batch fetch failed, falling back to individual fetches:",re);const J=ee.map(F=>E(F)),k=await Promise.all(J);for(const{id:F,data:V}of k)G[F]=V}else{const re=ee.map(k=>E(k)),J=await Promise.all(re);for(const{id:k,data:F}of J)G[k]=F}u(G)}console.log(`%c[T4 DONE] Fetched ${n.length} indicators for ${e} ${t}`,"color: #9C27B0; font-weight: bold"),f(!1)})()},[n,e,t,s,E,r,o]),c}function q_(n,e,t,s,r,o){const c=WY(n,e,t,s,r,o),[u,h]=p.useState(!1),[f,v]=p.useState(null);return p.useEffect(()=>{if(n.length===0){h(!1),v(null);return}const g=n.every(w=>c[w.id]!==void 0),x=n.some(w=>c[w.id]===null);g?(h(!1),v(x?"Some indicators failed to load":null)):h(!0)},[n,c]),{...c,isLoading:u,error:f}}const Y_="indicator_migration_v1",S0="tradingalert_indicators",GY="tradingalert_indicators_global",Kh="indicatorlist",K_="indicatorlistglobal",X_="indicatorinstance";function qY(){const[n,e]=p.useState(!1),[t,s]=p.useState(!1);return p.useEffect(()=>{if(localStorage.getItem(Y_)){s(!0);return}const c=setTimeout(()=>{console.log("[useIndicatorMigration] Starting migration from per-symbol to global storage..."),e(!0);try{console.log("[useIndicatorMigration] Step 1: Creating backups..."),YY(),console.log("[useIndicatorMigration] Step 2: Migrating pane indicators..."),KY(),console.log("[useIndicatorMigration] Step 3: Migrating overlay instances..."),XY(),localStorage.setItem(Y_,Date.now().toString()),console.log("[useIndicatorMigration] Migration complete!"),s(!0)}catch(u){console.error("[useIndicatorMigration] Migration failed:",u)}finally{e(!1)}},100);return()=>clearTimeout(c)},[]),{isMigrating:n,migrationComplete:t}}function YY(){const n=localStorage.getItem(S0);n&&(localStorage.setItem(`${S0}_backup`,n),console.log("[useIndicatorMigration] Backed up pane indicators"));const t=Object.keys(localStorage).filter(s=>s.startsWith(Kh));t.forEach(s=>{const r=localStorage.getItem(s);r&&localStorage.setItem(`${s}_backup`,r)}),console.log(`[useIndicatorMigration] Backed up ${t.length} overlay lists`)}function KY(){const n=localStorage.getItem(S0);if(!n){console.log("[useIndicatorMigration] No existing pane indicators found");return}try{const e=JSON.parse(n),t=Object.keys(e);if(t.length===0){console.log("[useIndicatorMigration] No symbols with pane indicators");return}console.log(`[useIndicatorMigration] Migrating pane indicators from ${t.length} symbols:`,t);const s=new Map;t.forEach(f=>{const v=e[f];v?.indicators&&v.indicators.forEach(g=>{const x=`${g.indicatorType.name}_${JSON.stringify(g.indicatorType.params)}`;s.has(x)||s.set(x,[]),s.get(x).push({symbol:f,indicator:g})})});const r=[];s.forEach((f,v)=>{if(f.length>0){const g=f[f.length-1];r.push(g.indicator),console.log(`[useIndicatorMigration] Merged indicator ${v} from ${f.length} symbols`)}});const o=new Map;t.forEach(f=>{const v=e[f];if(v?.activeIndicatorId){const g=o.get(v.activeIndicatorId)||0;o.set(v.activeIndicatorId,g+1)}});let c=null,u=0;o.forEach((f,v)=>{f>u&&(u=f,c=v)});const h={indicators:r,activeIndicatorId:c};localStorage.setItem(GY,JSON.stringify(h)),console.log(`[useIndicatorMigration] Migrated ${r.length} pane indicators to global storage`)}catch(e){throw console.error("[useIndicatorMigration] Failed to migrate pane indicators:",e),e}}function XY(){const e=Object.keys(localStorage).filter(o=>o.startsWith(Kh)&&!o.includes("_backup")&&o!==Kh&&o!==K_);if(e.length===0){console.log("[useIndicatorMigration] No existing overlay lists found");return}console.log(`[useIndicatorMigration] Found ${e.length} overlay lists to migrate`);const t=new Set,s={};e.forEach(o=>{try{const c=o.substring(Kh.length),u=localStorage.getItem(o);if(u){const f=JSON.parse(u).instances||[];console.log(`[useIndicatorMigration] Found ${f.length} instances for symbol ${c}`),f.forEach(v=>{t.add(v),s[v]||(s[v]=[]),s[v].push(c)}),f.forEach(v=>{const g=`${X_}${v}`,x=localStorage.getItem(g);x&&localStorage.setItem(`${g}_backup`,x)})}}catch(c){console.error(`[useIndicatorMigration] Failed to process list ${o}:`,c)}}),console.log(`[useIndicatorMigration] Removing symbol field from ${t.size} instances`),t.forEach(o=>{const c=`${X_}${o}`,u=localStorage.getItem(c);if(u)try{const h=JSON.parse(u);delete h.symbol,localStorage.setItem(c,JSON.stringify(h))}catch(h){console.error(`[useIndicatorMigration] Failed to update instance ${o}:`,h)}});const r={instances:Array.from(t),updatedAt:new Date().toISOString()};localStorage.setItem(K_,JSON.stringify(r)),console.log(`[useIndicatorMigration] Migrated ${t.size} overlay instances to global list`)}function JY(){const[n,e]=p.useState(null),[t,s]=p.useState(null),[r,o]=p.useState(WebSocket.CLOSED),c=p.useRef(null),u=p.useCallback(v=>{c.current&&c.current.readyState===WebSocket.OPEN?c.current.close():c.current=null;const g=new WebSocket(v);c.current=g,e(g),g.onopen=()=>{o(g.readyState)},g.onmessage=x=>{s(x)},g.onclose=()=>{o(g.readyState),c.current=null,e(null)},g.onerror=x=>{}},[]),h=p.useCallback(()=>{c.current&&c.current.readyState===WebSocket.OPEN&&c.current.close()},[]),f=p.useCallback(v=>{c.current&&c.current.readyState===WebSocket.OPEN&&c.current.send(v)},[]);return p.useEffect(()=>()=>{c.current&&c.current.readyState===WebSocket.OPEN?c.current.close():c.current=null},[]),{socket:n,connect:u,disconnect:h,sendMessage:f,lastMessage:t,readyState:r}}const QY=9,ZY=30,eK=16,tK=0,nK=4,sK={"1m":5e3,"5m":5e3,"15m":15e3,"1h":15e3,"1d":36e5,"1w":3e5,"1wk":3e5};function dj(n,e){let t;const s=()=>{t=window.setTimeout(()=>{n(),t=window.setTimeout(s,e)},e)};return s(),{id:t??0,interval:e,callback:n,cancel:()=>{t!==void 0&&clearTimeout(t)}}}function Ef(n){n&&n.cancel()}function iK(n){const e=n.toLowerCase().replace("wk","w");return sK[e]??6e4}function rK(){const n=new Date,e=n.getUTCHours(),t=n.getUTCMinutes(),s=n.getUTCDay(),r=(e-5+24)%24;if(s===0||s===6)return!1;const o=QY*60+ZY,c=eK*60+tK,u=r*60+t;return u>=o&&u<c}function aK(n){const e=iK(n);return rK()?e:e*nK}const oK={maxSize:20,ttl:6e4,memoryBudget:50*1024*1024};function Tv(n,e){return`${n.toLowerCase()}:${e}`}function Mv(n){return n.length*100}class lK{cache=new Map;config;currentMemory=0;constructor(e={}){this.config={...oK,...e}}get(e,t){const s=Tv(e,t),r=this.cache.get(s);if(!r)return null;const o=Date.now();return o-r.timestamp>this.config.ttl?(this.remove(s),null):(r.accessCount++,r.lastAccess=o,r.candles)}set(e,t,s){const r=Tv(e,t),o=Mv(s),c=this.cache.get(r);for(c&&(this.currentMemory-=Mv(c.candles));(this.cache.size>=this.config.maxSize||this.currentMemory+o>this.config.memoryBudget)&&this.cache.size>0;)this.evictLRU();const u=s.length>0?s[s.length-1].timestamp:"";this.cache.set(r,{candles:s,timestamp:Date.now(),latestTimestamp:u,accessCount:0,lastAccess:Date.now()}),this.currentMemory+=o}remove(e){const t=this.cache.get(e);t&&(this.currentMemory-=Mv(t.candles),this.cache.delete(e))}evictLRU(){let e=null,t=1/0;for(const[s,r]of this.cache.entries())r.lastAccess<t&&(t=r.lastAccess,e=s);e&&this.remove(e)}invalidate(e){const t=e.toLowerCase()+":",s=[];for(const r of this.cache.keys())r.startsWith(t)&&s.push(r);for(const r of s)this.remove(r)}clear(){this.cache.clear(),this.currentMemory=0}has(e,t){const s=Tv(e,t),r=this.cache.get(s);return r?Date.now()-r.timestamp>this.config.ttl?(this.remove(s),!1):!0:!1}getStats(){let e=0;for(const t of this.cache.values())e+=t.accessCount;return{entries:this.cache.size,maxSize:this.config.maxSize,memoryUsed:this.currentMemory,memoryBudget:this.config.memoryBudget,hitRate:e>0?1:0,ttl:this.config.ttl}}cleanup(){const e=Date.now(),t=[];for(const[s,r]of this.cache.entries())e-r.timestamp>this.config.ttl&&t.push(s);for(const s of t)this.remove(s);return t.length}}const hj=new lK;function cK(n,e){return hj.get(n,e)}function Nf(n,e,t){hj.set(n,e,t)}const uK="TradingAlertDB",dK=1,jr="candles",hK=3e5,Tf={async init(){return new Promise((n,e)=>{const t=indexedDB.open(uK,dK);t.onerror=()=>e(t.error),t.onsuccess=()=>n(t.result),t.onupgradeneeded=s=>{const r=s.target.result;if(!r.objectStoreNames.contains(jr)){const o=r.createObjectStore(jr,{keyPath:"id"});o.createIndex("symbol","symbol",{unique:!1}),o.createIndex("interval","interval",{unique:!1})}}})},async get(n,e){const t=await this.init(),s=`${n}:${e}`;return new Promise((r,o)=>{const u=t.transaction(jr,"readonly").objectStore(jr).get(s);u.onsuccess=()=>{const h=u.result;if(!h){r(null);return}if(Date.now()-h.timestamp>hK){this.delete(n,e).then(()=>r(null));return}r(h)},u.onerror=()=>o(u.error)})},async set(n,e,t){const s=await this.init(),r={id:`${n}:${e}`,symbol:n,interval:e,candles:t,timestamp:Date.now()};return new Promise((o,c)=>{const u=s.transaction(jr,"readwrite");u.objectStore(jr).put(r),u.oncomplete=()=>o(),u.onerror=()=>c(u.error)})},async delete(n,e){const t=await this.init(),s=`${n}:${e}`;return new Promise((r,o)=>{const c=t.transaction(jr,"readwrite");c.objectStore(jr).delete(s),c.oncomplete=()=>r(),c.onerror=()=>o(c.error)})}};async function fK(n,e,t){const s=cK(n,e);if(s&&s.length>0)return s;const r=await Tf.get(n,e);if(r&&r.candles.length>0)return Nf(n,e,r.candles),r.candles;const o=await t();return Nf(n,e,o),await Tf.set(n,e,o),o}async function mK(n,e,t,s){const r=new Map;s.forEach(f=>{r.set(f.timestamp,f)});const o=Array.from(r.values()),c=new Set(t.map(f=>f.timestamp)),u=o.filter(f=>!c.has(f.timestamp)),h=[...t,...u].sort((f,v)=>new Date(f.timestamp).getTime()-new Date(v.timestamp).getTime());return Nf(n,e,h),await Tf.set(n,e,h),h}async function pK(n,e,t){Nf(n,e,t),await Tf.set(n,e,t)}function gK(n){return!n||typeof n!="string"?!1:/^[A-Za-z0-9=.^_-]{1,20}$/.test(n)}function vK(n,e="1d"){const[t,s]=p.useState({candles:[],isLoading:!0,isRefreshing:!1,error:null,lastUpdate:null,isStale:!1,hasMore:!0}),[r,o]=p.useState(0),c=p.useRef(null),u=p.useRef(n),h=p.useRef(e),f=p.useRef(null),v=p.useRef(null),g=p.useRef(null),x=p.useCallback(async(C=!1)=>{if(!(n!==u.current||e!==h.current)){if(!gK(n)){s(E=>({...E,isLoading:!1,isRefreshing:!1,error:`Invalid symbol format: "${n}". Please use a valid stock symbol.`}));return}s(E=>({...E,isLoading:!C,isRefreshing:C,error:null})),console.log(`%c[T2 START] Fetching candles for ${n} ${e}`,"color: #FF9800; font-weight: bold");try{const E=await w0("fetch_candles","data_fetch",()=>fK(n,e,async()=>await Gc(n,e)),{symbol:n,interval:e,is_refresh:C});console.log(`%c[T2 DONE] Fetched ${E.length} candles for ${n} ${e}`,"color: #FF9800; font-weight: bold"),s(N=>({...N,candles:E,isLoading:!1,isRefreshing:!1,error:null,lastUpdate:new Date,isStale:!1}))}catch(E){s(N=>({...N,isLoading:!1,isRefreshing:!1,error:E instanceof Error?E.message:"Failed to fetch candles"}))}}},[n,e]),w=p.useCallback(()=>{x(!1)},[x]),S=p.useCallback(async(C,E)=>{if(!(n!==u.current||e!==h.current)){s(N=>({...N,isRefreshing:!0,error:null}));try{const N=await w0("fetch_candles_backfill","data_fetch",()=>Gc(n,e,C,E),{symbol:n,interval:e,from:C,to:E}),T=await mK(n,e,t.candles,N);jh(n),o(A=>A+1),s(A=>({...A,candles:T,isRefreshing:!1,lastUpdate:new Date,hasMore:N.length>0}))}catch(N){s(T=>({...T,isRefreshing:!1,error:N instanceof Error?N.message:"Failed to fetch backfill data"}))}}},[n,e,t.candles]);return p.useEffect(()=>(f.current&&clearTimeout(f.current),v.current=n,g.current=e,f.current=setTimeout(()=>{const C=v.current,E=g.current;if(C===n&&E===e){u.current=C,h.current=E,c.current&&(Ef(c.current),c.current=null),x();const N=aK(E);c.current=dj(()=>{x(!0)},N)}},300),()=>{f.current&&clearTimeout(f.current),c.current&&(Ef(c.current),c.current=null)}),[n,e,x]),{...t,refresh:w,fetchCandlesWithRange:S,dataVersion:r}}function yK({symbol:n,interval:e,children:t}){const s=vK(n,e);return m.jsx(m.Fragment,{children:t(s)})}const fj="polishedcharts_data";function Sm(){const n=localStorage.getItem(fj);if(!n)return{schemaVersion:1,alerts:[],watchlist:{uuid:crypto.randomUUID(),symbols:[],sort_order:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},layouts:[]};try{const e=JSON.parse(n);return e.watchlist||(e.watchlist={uuid:crypto.randomUUID(),symbols:[],sort_order:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},e.schemaVersion=e.schemaVersion||1),e}catch(e){return console.error("Failed to parse localStorage:",e),{schemaVersion:1,alerts:[],watchlist:{uuid:crypto.randomUUID(),symbols:[],sort_order:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},layouts:[]}}}function sb(n){n.watchlist.updated_at=new Date().toISOString(),localStorage.setItem(fj,JSON.stringify(n))}function bK(){return Sm().watchlist}function xK(n){const e=n.toUpperCase().trim(),t=Sm();return t.watchlist.symbols.includes(e)?"already_present":(t.watchlist.symbols.push(e),t.watchlist.sort_order.includes(e)||t.watchlist.sort_order.push(e),sb(t),"added")}function wK(n){const e=n.toUpperCase().trim(),t=Sm();t.watchlist.symbols=t.watchlist.symbols.filter(s=>s!==e),t.watchlist.sort_order=t.watchlist.sort_order.filter(s=>s!==e),sb(t)}function SK(n){const e=Sm(),t=n.filter(s=>e.watchlist.symbols.includes(s));e.watchlist.sort_order=t,sb(e)}const CK=async n=>{if(n.length<1||n.length>5)throw new Error("Query must be between 1 and 5 characters");return(await Rs.get("/symbols/search",{params:{q:n}})).data},_K=async()=>(await(await js()).get("/watchlist")).data,EK=async n=>{const e=n.toUpperCase().trim();return(await(await js()).post("/watchlist",{symbol:e})).data},NK=async n=>{const e=n.toUpperCase().trim();await(await js()).delete(`/watchlist/${e}`)},TK=async n=>(await(await js()).put("/watchlist/order",{ordered_symbols:n})).data,MK=async n=>{try{const e=n.join(",");return(await Rs.get(`/candles/latest_prices/${e}`)).data}catch(e){return console.error("Error fetching latest prices:",e),n.map(t=>({symbol:t,error:"Failed to fetch data"}))}},RK=18e5;function AK(n){const[e,t]=p.useState({entries:[],isLoading:!1,isRefreshing:!1,errors:new Map,lastUpdate:null}),s=p.useRef(null),r=p.useRef(n),o=p.useCallback(async(u=!1)=>{if(n.length===0){t(h=>({...h,isLoading:!1,isRefreshing:!1,entries:[],errors:new Map}));return}if(JSON.stringify(n)===JSON.stringify(r.current)){t(h=>({...h,isLoading:!u,isRefreshing:u,errors:new Map}));try{const h=await MK(n),f=new Map,v=new Map;for(const x of h)x.error&&v.set(x.symbol,x.error),f.set(x.symbol,x);const g=n.map(x=>f.get(x)||{symbol:x,price:void 0,changePercent:void 0});t(x=>({...x,entries:g,isLoading:!1,isRefreshing:!1,errors:v,lastUpdate:new Date}))}catch(h){const f=n.map(v=>({symbol:v,price:void 0,changePercent:void 0}));t(v=>({...v,entries:f,isLoading:!1,isRefreshing:!1,errors:new Map(n.map(g=>[g,h instanceof Error?h.message:"Failed to fetch prices"])),lastUpdate:new Date}))}}},[n]),c=p.useCallback(()=>{o(!1)},[o]);return p.useEffect(()=>{if(r.current=[...n],s.current&&(Ef(s.current),s.current=null),n.length===0){t(u=>({...u,isLoading:!1,isRefreshing:!1,entries:[],errors:new Map,lastUpdate:null}));return}return o(),s.current=dj(()=>{o(!0)},RK),()=>{s.current&&(Ef(s.current),s.current=null)}},[n,o]),{...e,refresh:c}}function jK({symbols:n,children:e}){const t=AK(n);return m.jsx(m.Fragment,{children:e(t)})}var kK="firebase",OK="12.7.0";sl(kK,OK,"app");function DK(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}const IK={apiKey:"AIzaSyBwTLxoLcoezdhZV5q4f-pFapDKYHpTxpk",authDomain:"polishedcharts.firebaseapp.com",projectId:"polishedcharts",storageBucket:"polishedcharts.firebasestorage.app",messagingSenderId:"470947462742",appId:"1:470947462742:web:9fc4a574e9a8c337ad45f7"},mj=xC().length===0?JM(IK):xC()[0],Hn=v7(mj);Hn.useDeviceLanguage();const Ba=new $i;Ba.addScope("email");Ba.addScope("profile");async function pj(){return Ba.setCustomParameters({prompt:"select_account"}),DK()?(await jH(Hn,Ba),null):await _H(Hn,Ba)}async function gj(){}gj();const vj=Object.freeze(Object.defineProperty({__proto__:null,app:mj,auth:Hn,connectAuthEmulatorIfEnabled:gj,googleProvider:Ba,signInWithGoogle:pj},Symbol.toStringTag,{value:"Module"})),Mc=1;class LK extends Error{code;originalError;constructor(e,t,s){super(e),this.name="AuthError",this.code=t,this.originalError=s}}class PK extends LK{existingEmail;existingProvider;attemptedProvider;constructor(e,t,s){super(`Account already exists with ${t}. Please sign in with ${t} to link your ${s} account.`,"auth/account-exists-with-different-credential"),this.name="ProviderLinkingError",this.existingEmail=e,this.existingProvider=t,this.attemptedProvider=s}}const Th="polishedcharts_data";async function zK(n){const e={schemaVersion:n.schemaVersion,alerts:n.alerts,watchlist:n.watchlist,layouts:n.layouts,indicators:n.indicators||[]};return await S7(e)}function ib(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function rb(){return new Date().toISOString()}function $K(n){const e=rb();return{uuid:n.uuid||ib(),symbol:n.symbol||"",condition:n.condition||"above",target:n.target??0,enabled:n.enabled??!0,created_at:n.created_at||e,updated_at:n.updated_at||e}}function qc(n){const e=rb();return{uuid:n.uuid||ib(),symbols:n.symbols||[],sort_order:n.sort_order||n.symbols||[],created_at:n.created_at||e,updated_at:n.updated_at||e}}function UK(n){const e=rb();return{uuid:n.uuid||ib(),name:n.name||"My Layout",config:n.config||{indicators:[],chartSettings:{interval:"1d",chartType:"candlestick"}},created_at:n.created_at||e,updated_at:n.updated_at||e}}const BK=[{version:1,migrate:n=>{const e=(n.alerts||[]).map($K),t=n.watchlist?qc(n.watchlist):qc({}),s=(n.layouts||[]).map(UK);return{schemaVersion:1,alerts:e,watchlist:t,layouts:s,indicators:n.indicators||[]}}}];function VK(n){let e=n;const t=n?.schemaVersion||0;for(const s of BK)t<s.version&&(console.log(`Running localStorage migration: v${t} -> v${s.version}`),e=s.migrate(e),e.schemaVersion=s.version);return e}function FK(){const[n,e]=p.useState(null),[t,s]=p.useState(!0),[r,o]=p.useState(!1);p.useEffect(()=>{try{const f=localStorage.getItem(Th);let v;f?v=JSON.parse(f):v={schemaVersion:Mc,alerts:[],watchlist:qc({}),layouts:[],indicators:[]};const g=VK(v);f&&JSON.stringify(g)!==f&&localStorage.setItem(Th,JSON.stringify(g)),e(g),o(!0)}catch(f){console.error("Failed to load localStorage:",f);const v={schemaVersion:Mc,alerts:[],watchlist:qc({}),layouts:[],indicators:[]};e(v),o(!0)}finally{s(!1)}},[]);const c=p.useCallback(f=>{try{f.schemaVersion=Mc,localStorage.setItem(Th,JSON.stringify(f)),e(f)}catch(v){throw console.error("Failed to save localStorage:",v),v}},[]),u=p.useCallback(()=>{try{localStorage.removeItem(Th);const f={schemaVersion:Mc,alerts:[],watchlist:qc({}),layouts:[],indicators:[]};e(f)}catch(f){throw console.error("Failed to clear localStorage:",f),f}},[]),h=p.useCallback(()=>n?.schemaVersion||Mc,[n]);return{data:n,isLoading:t,isLoaded:r,save:c,clear:u,getSchemaVersion:h}}const yj=p.createContext(void 0),HK=({children:n})=>{const[e,t]=p.useState(null),[s,r]=p.useState(null),[o,c]=p.useState(!0),[u,h]=p.useState(null),[f,v]=p.useState(null),[g,x]=p.useState(null),{data:w,isLoading:S,clear:C}=FK(),E=!!e&&!!s,N=e?.emailVerified??!1;p.useEffect(()=>{let q,re;return(async()=>{try{await iH(Hn,TR),q=_R(Hn,async k=>{if(t(k),k)try{const F=await k.getIdToken(),V=await Bo(F);r(V)}catch(F){console.error("Failed to fetch user profile:",F),await mh(Hn),t(null),r(null)}else r(null);c(!1)},k=>{console.error("Auth state change error:",k),h(k.message),c(!1)}),re=CR(Hn,async k=>{if(k)try{const F=await k.getIdToken(),V=await Bo(F);r(V),console.log("[T062] Token refreshed successfully")}catch(F){console.error("[T063] Token refresh failed, switching to guest mode:",F),await mh(Hn),t(null),r(null),h("Session expired. Please sign in again to sync your data.")}},k=>{console.error("[T063] Token refresh error:",k),t(null),r(null)})}catch(k){console.error("Failed to initialize auth:",k),c(!1)}})(),()=>{q&&q(),re&&re()}},[]);const T=async(q,re)=>{h(null),c(!0);try{const k=await(await sH(Hn,q,re)).user.getIdToken(),F=await Bo(k);r(F),w&&await G(w)}catch(J){const k=J.message||"Authentication failed. If an account exists, check your email for verification or password reset options";throw h(k),J}finally{c(!1)}},A=async(q,re)=>{h(null),c(!0);try{if(re.length<8)throw new Error("Password should be at least 8 characters.");const J=await nH(Hn,q,re);await DC(J.user);const k=await J.user.getIdToken(),F=await Bo(k);r(F),w&&await G(w)}catch(J){const k=J.message||"An error occurred during sign-up. Please try again.";throw h(k),J}finally{c(!1)}},j=async()=>{h(null),x(null),c(!0);try{const q=await pj();if(!q)return;const re=await q.user.getIdToken(),J=await Bo(re);r(J),w&&await G(w),v(null)}catch(q){if(q.code==="auth/account-exists-with-different-credential"){const re=q.customData?.email||e?.email||"",J=q.credential;if(J){v(J);const k=new PK(re,"password","google.com");x(k)}h(q.message)}else{const re=q.message||"An error occurred during sign-in. Please try again.";h(re)}throw q}finally{c(!1)}},z=async()=>{h(null),c(!0);try{if(e){const q=await e.getIdToken();await w7()}await mh(Hn),t(null),r(null)}catch(q){console.error("Sign out error:",q),await mh(Hn),t(null),r(null)}finally{c(!1)}},P=async()=>{if(h(null),!e)throw new Error("No user is currently signed in.");try{await DC(e)}catch(q){const re=q.message||"Failed to send verification email. Please try again.";throw h(re),q}},I=async q=>{h(null);try{await tH(Hn,q)}catch(re){const J=re.message||"Failed to send password reset email. Please try again.";throw h(J),re}},B=()=>{h(null)},X=()=>{x(null),v(null)},se=async()=>{if(h(null),c(!0),!e||!f){h("No pending provider credential to link. Please try signing in again."),c(!1);return}try{const q=await EH(e,Ba);console.log("[T068] Provider linked successfully:",q.providerId);const re=await e.getIdToken(),J=await Bo(re);r(J),w&&await G(w),v(null),x(null)}catch(q){throw console.error("[T068] Provider linking failed:",q),q.code==="auth/credential-already-in-use"||q.code==="auth/provider-already-linked"?h("This provider is already linked to your account."):h(q.message||"Failed to link provider. Please try again."),q}finally{c(!1)}},G=async q=>{try{const re={schemaVersion:q.schemaVersion,alerts:q.alerts,watchlist:q.watchlist,layouts:q.layouts,indicators:q.indicators||[]},J=await zK(re);(J.stats.alerts.added>0||J.stats.alerts.updated>0||J.stats.watchlist.added>0||J.stats.watchlist.updated>0||J.stats.layouts.added>0||J.stats.layouts.updated>0||J.stats.indicators.added>0||J.stats.indicators.updated>0)&&await C()}catch(re){console.error("Failed to merge guest data:",re)}},ee={user:e,userProfile:s,isAuthenticated:E,isEmailVerified:N,isLoading:o||S,error:u,pendingProviderCredential:f,providerLinkingError:g,signIn:T,signUp:A,signInWithGoogle:j,signOut:z,resendVerificationEmail:P,resetPassword:I,clearError:B,linkProvider:se,clearProviderLinkingError:X};return m.jsx(yj.Provider,{value:ee,children:n})},WK=()=>{const n=p.useContext(yj);if(!n)throw new Error("useAuthContext must be used within an AuthProvider");return n},eo=WK;function GK({open:n,onOpenChange:e,onOpenSignInDialog:t}){const{providerLinkingError:s,linkProvider:r,isLoading:o,error:c,clearError:u,clearProviderLinkingError:h}=eo();p.useEffect(()=>{n||h()},[n,h]);const f=p.useCallback(()=>{e(!1),t()},[e,t]),v=p.useCallback(async()=>{try{await r(),e(!1)}catch(C){console.error("Provider linking failed:",C)}},[r,e]),g=p.useCallback(()=>{h(),e(!1)},[h,e]),x=s?.existingEmail||"",w=s?.attemptedProvider==="google.com"?"Google":"this provider",S=s?.existingProvider==="password"?"email and password":"another provider";return m.jsx($a,{open:n,onOpenChange:e,children:m.jsxs(Wr,{className:"sm:max-w-[425px]",children:[m.jsxs(Ua,{children:[m.jsx(Gr,{children:"Link Your Accounts"}),m.jsx(qr,{asChild:!0,children:m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("p",{children:["An account with email ",m.jsx("strong",{children:x})," already exists."]}),m.jsxs("p",{children:["You previously created an account using ",m.jsx("strong",{children:S}),". To add ",w," sign-in to your account, please:"]}),m.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:[m.jsx("li",{children:"Sign in with your email and password below"}),m.jsxs("li",{children:['Then click "Link Accounts" to connect ',w]})]})]})})]}),c&&m.jsx("div",{className:"rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:c}),m.jsxs(uj,{className:"flex-col sm:flex-col gap-2",children:[m.jsx(Pe,{onClick:f,disabled:o,className:"w-full",children:o?m.jsxs(m.Fragment,{children:[m.jsx(Qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Sign In with Email"}),s&&m.jsx(Pe,{onClick:v,disabled:o,variant:"outline",className:"w-full",children:o?m.jsxs(m.Fragment,{children:[m.jsx(Qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking..."]}):`Link ${w} Account`}),m.jsx(Pe,{onClick:g,disabled:o,variant:"ghost",className:"w-full",children:"Cancel"})]})]})})}function bj({open:n,onOpenChange:e,defaultTab:t="sign-in"}){const{signIn:s,signUp:r,signInWithGoogle:o,resetPassword:c,isLoading:u,error:h,clearError:f,providerLinkingError:v}=eo(),[g,x]=p.useState(""),[w,S]=p.useState(""),[C,E]=p.useState(""),[N,T]=p.useState(""),[A,j]=p.useState(""),[z,P]=p.useState(""),[I,B]=p.useState(!1),[X,se]=p.useState(!1),[G,ee]=p.useState(!1),[q,re]=p.useState(t),[J,k]=p.useState(!1);p.useEffect(()=>{n?re(t):(x(""),S(""),E(""),T(""),j(""),P(""),B(!1),se(!1),ee(!1),k(!1),f())},[n,t,f]),p.useEffect(()=>{v&&k(!0)},[v]);const F=p.useCallback(async L=>{L.preventDefault(),f();try{await s(g,w),e(!1)}catch{}},[g,w,s,f,e]),V=p.useCallback(async L=>{if(L.preventDefault(),f(),N===A)try{await r(C,N),ee(!0),setTimeout(()=>{e(!1),ee(!1)},3e3)}catch{}},[C,N,A,r,f,e]),Q=p.useCallback(async()=>{f();try{await o(),e(!1)}catch{}},[o,f,e]),me=p.useCallback(async L=>{L.preventDefault(),f();try{await c(z),se(!0)}catch{}},[z,c,f]),O=p.useCallback(()=>{B(!1),se(!1),P(""),f()},[f]),M=p.useCallback(()=>{k(!1)},[]);return m.jsxs(m.Fragment,{children:[m.jsx($a,{open:n,onOpenChange:e,children:m.jsxs(Wr,{className:"sm:max-w-[425px]",children:[m.jsxs(Ua,{children:[m.jsx(Gr,{children:I?"Reset Password":"Welcome to PolishedCharts"}),m.jsx(qr,{children:I?"Enter your email to receive a password reset link.":"Sign in to access your alerts and watchlist, or create a new account."})]}),h&&m.jsx("div",{className:"rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:h}),G&&m.jsx("div",{className:"rounded-md bg-green-500/15 p-3 text-sm text-green-700 dark:text-green-400",children:"Verification email sent! Please check your inbox and click the link to verify your account."}),X&&m.jsx("div",{className:"rounded-md bg-green-500/15 p-3 text-sm text-green-700 dark:text-green-400",children:"If an account exists with this email, we sent an email with instructions to reset your password."}),I?m.jsxs("form",{onSubmit:me,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ei,{htmlFor:"reset-email",children:"Email"}),m.jsx(zi,{id:"reset-email",type:"email",placeholder:"name@example.com",value:z,onChange:L=>P(L.target.value),required:!0,disabled:u})]}),m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsx(Pe,{type:"submit",disabled:u,className:"w-full",children:u?m.jsxs(m.Fragment,{children:[m.jsx(Qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Email"}),m.jsx(Pe,{type:"button",variant:"ghost",onClick:O,disabled:u,className:"w-full",children:"Back to Sign In"})]})]}):m.jsxs(L0,{value:q,onValueChange:L=>re(L),children:[m.jsxs(Df,{className:"grid w-full grid-cols-2",children:[m.jsx(Ur,{value:"sign-in",children:"Sign In"}),m.jsx(Ur,{value:"sign-up",children:"Sign Up"})]}),m.jsx(Br,{value:"sign-in",className:"space-y-4",children:m.jsxs("form",{onSubmit:F,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ei,{htmlFor:"signin-email",children:"Email"}),m.jsx(zi,{id:"signin-email",type:"email",placeholder:"name@example.com",value:g,onChange:L=>x(L.target.value),required:!0,disabled:u})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(ei,{htmlFor:"signin-password",children:"Password"}),m.jsx("button",{type:"button",onClick:()=>B(!0),className:"text-xs text-muted-foreground hover:text-foreground",children:"Forgot password?"})]}),m.jsx(zi,{id:"signin-password",type:"password",placeholder:"Enter your password",value:w,onChange:L=>S(L.target.value),required:!0,disabled:u})]}),m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsx(Pe,{type:"submit",disabled:u,className:"w-full",children:u?m.jsxs(m.Fragment,{children:[m.jsx(Qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),m.jsxs(Pe,{type:"button",variant:"outline",onClick:Q,disabled:u,className:"w-full",children:[m.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})]})}),m.jsx(Br,{value:"sign-up",className:"space-y-4",children:m.jsxs("form",{onSubmit:V,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ei,{htmlFor:"signup-email",children:"Email"}),m.jsx(zi,{id:"signup-email",type:"email",placeholder:"name@example.com",value:C,onChange:L=>E(L.target.value),required:!0,disabled:u})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ei,{htmlFor:"signup-password",children:"Password"}),m.jsx(zi,{id:"signup-password",type:"password",placeholder:"Min. 8 characters",value:N,onChange:L=>T(L.target.value),required:!0,minLength:8,disabled:u}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long."})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ei,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),m.jsx(zi,{id:"signup-confirm-password",type:"password",placeholder:"Re-enter your password",value:A,onChange:L=>j(L.target.value),required:!0,disabled:u})]}),m.jsx(Pe,{type:"submit",disabled:u||N!==A,className:"w-full",children:u?m.jsxs(m.Fragment,{children:[m.jsx(Qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),m.jsxs(Pe,{type:"button",variant:"outline",onClick:Q,disabled:u,className:"w-full",children:[m.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),m.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),m.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),m.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})})]})]})}),m.jsx(GK,{open:J,onOpenChange:k,onOpenSignInDialog:M})]})}const qK=({email:n,photoUrl:e})=>{if(e)return m.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",overflow:"hidden",backgroundColor:"rgba(255,255,255,0.1)"},children:m.jsx("img",{src:e,alt:n||"User",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center 20%"},referrerPolicy:"no-referrer"})});const t=n?.charAt(0).toUpperCase()||"U";return m.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground text-base font-medium",children:t})};function YK({className:n}){const{userProfile:e,signOut:t,isLoading:s}=eo(),r=async()=>{try{await t()}catch(o){console.error("Sign out error:",o)}};return e?m.jsxs(Ih,{children:[m.jsx(Lh,{asChild:!0,children:m.jsx(Pe,{variant:"ghost",className:`relative h-12 w-12 rounded-full p-0 ${n||""}`,children:m.jsx(qK,{email:e.email,photoUrl:e.photo_url})})}),m.jsxs(Lc,{className:"w-56",align:"end",forceMount:!0,children:[m.jsx(Yo,{className:"font-normal",children:m.jsxs("div",{className:"flex flex-col space-y-1",children:[m.jsx("p",{className:"text-sm font-medium leading-none",children:e.email}),m.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email_verified?"Verified":"Unverified"})]})}),m.jsx(tl,{}),m.jsxs(W6,{children:[m.jsxs(_s,{children:[m.jsx(NL,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Profile"})]}),m.jsxs(_s,{children:[m.jsx(lL,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:e.email_verified?"Email Verified":"Verify Email"})]})]}),m.jsx(tl,{}),m.jsxs(_s,{onClick:r,disabled:s,className:"text-destructive focus:text-destructive",children:[m.jsx(aL,{className:"mr-2 h-4 w-4"}),m.jsx("span",{children:"Sign out"})]})]})]}):null}var J_=1,KK=.9,XK=.8,JK=.17,Rv=.1,Av=.999,QK=.9999,ZK=.99,eX=/[\\\/_+.#"@\[\(\{&]/,tX=/[\\\/_+.#"@\[\(\{&]/g,nX=/[\s-]/,xj=/[\s-]/g;function C0(n,e,t,s,r,o,c){if(o===e.length)return r===n.length?J_:ZK;var u=`${r},${o}`;if(c[u]!==void 0)return c[u];for(var h=s.charAt(o),f=t.indexOf(h,r),v=0,g,x,w,S;f>=0;)g=C0(n,e,t,s,f+1,o+1,c),g>v&&(f===r?g*=J_:eX.test(n.charAt(f-1))?(g*=XK,w=n.slice(r,f-1).match(tX),w&&r>0&&(g*=Math.pow(Av,w.length))):nX.test(n.charAt(f-1))?(g*=KK,S=n.slice(r,f-1).match(xj),S&&r>0&&(g*=Math.pow(Av,S.length))):(g*=JK,r>0&&(g*=Math.pow(Av,f-r))),n.charAt(f)!==e.charAt(o)&&(g*=QK)),(g<Rv&&t.charAt(f-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&t.charAt(f-1)!==s.charAt(o))&&(x=C0(n,e,t,s,f+1,o+2,c),x*Rv>g&&(g=x*Rv)),g>v&&(v=g),f=t.indexOf(h,f+1);return c[u]=v,v}function Q_(n){return n.toLowerCase().replace(xj," ")}function sX(n,e,t){return n=t&&t.length>0?`${n+" "+t.join(" ")}`:n,C0(n,e,Q_(n),Q_(e),0,0,{})}var Rc='[cmdk-group=""]',jv='[cmdk-group-items=""]',iX='[cmdk-group-heading=""]',wj='[cmdk-item=""]',Z_=`${wj}:not([aria-disabled="true"])`,_0="cmdk-item-select",Go="data-value",rX=(n,e,t)=>sX(n,e,t),Sj=p.createContext(void 0),zu=()=>p.useContext(Sj),Cj=p.createContext(void 0),ab=()=>p.useContext(Cj),_j=p.createContext(void 0),Ej=p.forwardRef((n,e)=>{let t=qo(()=>{var M,L;return{search:"",value:(L=(M=n.value)!=null?M:n.defaultValue)!=null?L:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=qo(()=>new Set),r=qo(()=>new Map),o=qo(()=>new Map),c=qo(()=>new Set),u=Nj(n),{label:h,children:f,value:v,onValueChange:g,filter:x,shouldFilter:w,loop:S,disablePointerSelection:C=!1,vimBindings:E=!0,...N}=n,T=Mn(),A=Mn(),j=Mn(),z=p.useRef(null),P=gX();Ja(()=>{if(v!==void 0){let M=v.trim();t.current.value=M,I.emit()}},[v]),Ja(()=>{P(6,q)},[]);let I=p.useMemo(()=>({subscribe:M=>(c.current.add(M),()=>c.current.delete(M)),snapshot:()=>t.current,setState:(M,L,$)=>{var ie,oe,K,ue;if(!Object.is(t.current[M],L)){if(t.current[M]=L,M==="search")ee(),se(),P(1,G);else if(M==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ye=document.getElementById(j);ye?ye.focus():(ie=document.getElementById(T))==null||ie.focus()}if(P(7,()=>{var ye;t.current.selectedItemId=(ye=re())==null?void 0:ye.id,I.emit()}),$||P(5,q),((oe=u.current)==null?void 0:oe.value)!==void 0){let ye=L??"";(ue=(K=u.current).onValueChange)==null||ue.call(K,ye);return}}I.emit()}},emit:()=>{c.current.forEach(M=>M())}}),[]),B=p.useMemo(()=>({value:(M,L,$)=>{var ie;L!==((ie=o.current.get(M))==null?void 0:ie.value)&&(o.current.set(M,{value:L,keywords:$}),t.current.filtered.items.set(M,X(L,$)),P(2,()=>{se(),I.emit()}))},item:(M,L)=>(s.current.add(M),L&&(r.current.has(L)?r.current.get(L).add(M):r.current.set(L,new Set([M]))),P(3,()=>{ee(),se(),t.current.value||G(),I.emit()}),()=>{o.current.delete(M),s.current.delete(M),t.current.filtered.items.delete(M);let $=re();P(4,()=>{ee(),$?.getAttribute("id")===M&&G(),I.emit()})}),group:M=>(r.current.has(M)||r.current.set(M,new Set),()=>{o.current.delete(M),r.current.delete(M)}),filter:()=>u.current.shouldFilter,label:h||n["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:T,inputId:j,labelId:A,listInnerRef:z}),[]);function X(M,L){var $,ie;let oe=(ie=($=u.current)==null?void 0:$.filter)!=null?ie:rX;return M?oe(M,t.current.search,L):0}function se(){if(!t.current.search||u.current.shouldFilter===!1)return;let M=t.current.filtered.items,L=[];t.current.filtered.groups.forEach(ie=>{let oe=r.current.get(ie),K=0;oe.forEach(ue=>{let ye=M.get(ue);K=Math.max(ye,K)}),L.push([ie,K])});let $=z.current;J().sort((ie,oe)=>{var K,ue;let ye=ie.getAttribute("id"),we=oe.getAttribute("id");return((K=M.get(we))!=null?K:0)-((ue=M.get(ye))!=null?ue:0)}).forEach(ie=>{let oe=ie.closest(jv);oe?oe.appendChild(ie.parentElement===oe?ie:ie.closest(`${jv} > *`)):$.appendChild(ie.parentElement===$?ie:ie.closest(`${jv} > *`))}),L.sort((ie,oe)=>oe[1]-ie[1]).forEach(ie=>{var oe;let K=(oe=z.current)==null?void 0:oe.querySelector(`${Rc}[${Go}="${encodeURIComponent(ie[0])}"]`);K?.parentElement.appendChild(K)})}function G(){let M=J().find($=>$.getAttribute("aria-disabled")!=="true"),L=M?.getAttribute(Go);I.setState("value",L||void 0)}function ee(){var M,L,$,ie;if(!t.current.search||u.current.shouldFilter===!1){t.current.filtered.count=s.current.size;return}t.current.filtered.groups=new Set;let oe=0;for(let K of s.current){let ue=(L=(M=o.current.get(K))==null?void 0:M.value)!=null?L:"",ye=(ie=($=o.current.get(K))==null?void 0:$.keywords)!=null?ie:[],we=X(ue,ye);t.current.filtered.items.set(K,we),we>0&&oe++}for(let[K,ue]of r.current)for(let ye of ue)if(t.current.filtered.items.get(ye)>0){t.current.filtered.groups.add(K);break}t.current.filtered.count=oe}function q(){var M,L,$;let ie=re();ie&&(((M=ie.parentElement)==null?void 0:M.firstChild)===ie&&(($=(L=ie.closest(Rc))==null?void 0:L.querySelector(iX))==null||$.scrollIntoView({block:"nearest"})),ie.scrollIntoView({block:"nearest"}))}function re(){var M;return(M=z.current)==null?void 0:M.querySelector(`${wj}[aria-selected="true"]`)}function J(){var M;return Array.from(((M=z.current)==null?void 0:M.querySelectorAll(Z_))||[])}function k(M){let L=J()[M];L&&I.setState("value",L.getAttribute(Go))}function F(M){var L;let $=re(),ie=J(),oe=ie.findIndex(ue=>ue===$),K=ie[oe+M];(L=u.current)!=null&&L.loop&&(K=oe+M<0?ie[ie.length-1]:oe+M===ie.length?ie[0]:ie[oe+M]),K&&I.setState("value",K.getAttribute(Go))}function V(M){let L=re(),$=L?.closest(Rc),ie;for(;$&&!ie;)$=M>0?mX($,Rc):pX($,Rc),ie=$?.querySelector(Z_);ie?I.setState("value",ie.getAttribute(Go)):F(M)}let Q=()=>k(J().length-1),me=M=>{M.preventDefault(),M.metaKey?Q():M.altKey?V(1):F(1)},O=M=>{M.preventDefault(),M.metaKey?k(0):M.altKey?V(-1):F(-1)};return p.createElement(di.div,{ref:e,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:M=>{var L;(L=N.onKeyDown)==null||L.call(N,M);let $=M.nativeEvent.isComposing||M.keyCode===229;if(!(M.defaultPrevented||$))switch(M.key){case"n":case"j":{E&&M.ctrlKey&&me(M);break}case"ArrowDown":{me(M);break}case"p":case"k":{E&&M.ctrlKey&&O(M);break}case"ArrowUp":{O(M);break}case"Home":{M.preventDefault(),k(0);break}case"End":{M.preventDefault(),Q();break}case"Enter":{M.preventDefault();let ie=re();if(ie){let oe=new Event(_0);ie.dispatchEvent(oe)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:B.inputId,id:B.labelId,style:yX},h),Cm(n,M=>p.createElement(Cj.Provider,{value:I},p.createElement(Sj.Provider,{value:B},M))))}),aX=p.forwardRef((n,e)=>{var t,s;let r=Mn(),o=p.useRef(null),c=p.useContext(_j),u=zu(),h=Nj(n),f=(s=(t=h.current)==null?void 0:t.forceMount)!=null?s:c?.forceMount;Ja(()=>{if(!f)return u.item(r,c?.id)},[f]);let v=Tj(r,o,[n.value,n.children,o],n.keywords),g=ab(),x=Jr(P=>P.value&&P.value===v.current),w=Jr(P=>f||u.filter()===!1?!0:P.search?P.filtered.items.get(r)>0:!0);p.useEffect(()=>{let P=o.current;if(!(!P||n.disabled))return P.addEventListener(_0,S),()=>P.removeEventListener(_0,S)},[w,n.onSelect,n.disabled]);function S(){var P,I;C(),(I=(P=h.current).onSelect)==null||I.call(P,v.current)}function C(){g.setState("value",v.current,!0)}if(!w)return null;let{disabled:E,value:N,onSelect:T,forceMount:A,keywords:j,...z}=n;return p.createElement(di.div,{ref:Rt(o,e),...z,id:r,"cmdk-item":"",role:"option","aria-disabled":!!E,"aria-selected":!!x,"data-disabled":!!E,"data-selected":!!x,onPointerMove:E||u.getDisablePointerSelection()?void 0:C,onClick:E?void 0:S},n.children)}),oX=p.forwardRef((n,e)=>{let{heading:t,children:s,forceMount:r,...o}=n,c=Mn(),u=p.useRef(null),h=p.useRef(null),f=Mn(),v=zu(),g=Jr(w=>r||v.filter()===!1?!0:w.search?w.filtered.groups.has(c):!0);Ja(()=>v.group(c),[]),Tj(c,u,[n.value,n.heading,h]);let x=p.useMemo(()=>({id:c,forceMount:r}),[r]);return p.createElement(di.div,{ref:Rt(u,e),...o,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&p.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},t),Cm(n,w=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?f:void 0},p.createElement(_j.Provider,{value:x},w))))}),lX=p.forwardRef((n,e)=>{let{alwaysRender:t,...s}=n,r=p.useRef(null),o=Jr(c=>!c.search);return!t&&!o?null:p.createElement(di.div,{ref:Rt(r,e),...s,"cmdk-separator":"",role:"separator"})}),cX=p.forwardRef((n,e)=>{let{onValueChange:t,...s}=n,r=n.value!=null,o=ab(),c=Jr(f=>f.search),u=Jr(f=>f.selectedItemId),h=zu();return p.useEffect(()=>{n.value!=null&&o.setState("search",n.value)},[n.value]),p.createElement(di.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":u,id:h.inputId,type:"text",value:r?n.value:c,onChange:f=>{r||o.setState("search",f.target.value),t?.(f.target.value)}})}),uX=p.forwardRef((n,e)=>{let{children:t,label:s="Suggestions",...r}=n,o=p.useRef(null),c=p.useRef(null),u=Jr(f=>f.selectedItemId),h=zu();return p.useEffect(()=>{if(c.current&&o.current){let f=c.current,v=o.current,g,x=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let w=f.offsetHeight;v.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return x.observe(f),()=>{cancelAnimationFrame(g),x.unobserve(f)}}},[]),p.createElement(di.div,{ref:Rt(o,e),...r,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":s,id:h.listId},Cm(n,f=>p.createElement("div",{ref:Rt(c,h.listInnerRef),"cmdk-list-sizer":""},f)))}),dX=p.forwardRef((n,e)=>{let{open:t,onOpenChange:s,overlayClassName:r,contentClassName:o,container:c,...u}=n;return p.createElement(Zy,{open:t,onOpenChange:s},p.createElement(eb,{container:c},p.createElement(xm,{"cmdk-overlay":"",className:r}),p.createElement(wm,{"aria-label":n.label,"cmdk-dialog":"",className:o},p.createElement(Ej,{ref:e,...u}))))}),hX=p.forwardRef((n,e)=>Jr(t=>t.filtered.count===0)?p.createElement(di.div,{ref:e,...n,"cmdk-empty":"",role:"presentation"}):null),fX=p.forwardRef((n,e)=>{let{progress:t,children:s,label:r="Loading...",...o}=n;return p.createElement(di.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},Cm(n,c=>p.createElement("div",{"aria-hidden":!0},c)))}),Qn=Object.assign(Ej,{List:uX,Item:aX,Input:cX,Group:oX,Separator:lX,Dialog:dX,Empty:hX,Loading:fX});function mX(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function pX(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function Nj(n){let e=p.useRef(n);return Ja(()=>{e.current=n}),e}var Ja=typeof window>"u"?p.useEffect:p.useLayoutEffect;function qo(n){let e=p.useRef();return e.current===void 0&&(e.current=n()),e}function Jr(n){let e=ab(),t=()=>n(e.snapshot());return p.useSyncExternalStore(e.subscribe,t,t)}function Tj(n,e,t,s=[]){let r=p.useRef(),o=zu();return Ja(()=>{var c;let u=(()=>{var f;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(f=v.current.textContent)==null?void 0:f.trim():r.current}})(),h=s.map(f=>f.trim());o.value(n,u,h),(c=e.current)==null||c.setAttribute(Go,u),r.current=u}),r}var gX=()=>{let[n,e]=p.useState(),t=qo(()=>new Map);return Ja(()=>{t.current.forEach(s=>s()),t.current=new Map},[n]),(s,r)=>{t.current.set(s,r),e({})}};function vX(n){let e=n.type;return typeof e=="function"?e(n.props):"render"in e?e.render(n.props):n}function Cm({asChild:n,children:e},t){return n&&p.isValidElement(e)?p.cloneElement(vX(e),{ref:e.ref},t(e.props.children)):t(e)}var yX={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ob=p.forwardRef(({className:n,...e},t)=>m.jsx(Qn,{ref:t,className:Ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...e}));ob.displayName=Qn.displayName;const bX=({children:n,...e})=>m.jsx($a,{...e,children:m.jsxs(Wr,{className:"overflow-hidden p-0",children:[m.jsx(Gr,{className:"sr-only",children:"Command Palette"}),m.jsx(qr,{className:"sr-only",children:"Search and execute commands."}),m.jsx(ob,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})]})}),Mj=p.forwardRef(({className:n,...e},t)=>m.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[m.jsx(If,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),m.jsx(Qn.Input,{ref:t,className:Ce("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...e})]}));Mj.displayName=Qn.Input.displayName;const Rj=p.forwardRef(({className:n,...e},t)=>m.jsx(Qn.List,{ref:t,className:Ce("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...e}));Rj.displayName=Qn.List.displayName;const Aj=p.forwardRef((n,e)=>m.jsx(Qn.Empty,{ref:e,className:"py-6 text-center text-sm",...n}));Aj.displayName=Qn.Empty.displayName;const jj=p.forwardRef(({className:n,...e},t)=>m.jsx(Qn.Group,{ref:t,className:Ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...e}));jj.displayName=Qn.Group.displayName;const xX=p.forwardRef(({className:n,...e},t)=>m.jsx(Qn.Separator,{ref:t,className:Ce("-mx-1 h-px bg-border",n),...e}));xX.displayName=Qn.Separator.displayName;const kj=p.forwardRef(({className:n,...e},t)=>m.jsx(Qn.Item,{ref:t,className:Ce("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n),...e}));kj.displayName=Qn.Item.displayName;const wX=({open:n,onOpenChange:e,onSelectSymbol:t,className:s})=>{const[r,o]=p.useState(""),[c,u]=p.useState(""),[h,f]=p.useState([]),[v,g]=p.useState(!1),[x,w]=p.useState(null),[S,C]=p.useState(!1),[E,N]=p.useState(null),T=p.useRef(!0);p.useEffect(()=>(T.current=!0,()=>{T.current=!1}),[]),p.useEffect(()=>{N(null)},[r]),p.useEffect(()=>{const P=setTimeout(()=>{u(r)},300);return()=>clearTimeout(P)},[r]),p.useEffect(()=>{(async()=>{if(w(null),!c||c.length<1){f([]),g(!1);return}if(c.length>5){f([]),g(!1);return}g(!0);try{const I=await CK(c);f(I)}catch(I){const B=I instanceof Error?I.message:"Search failed";w(B),f([])}finally{g(!1)}})()},[c]);const A=p.useCallback(async P=>{const I=await t(P);T.current&&(I.ok?(e(!1),o(""),f([]),w(null),C(!1),N(null)):N(I.detail))},[t,e]),j=p.useCallback(P=>{e(P),P||(o(""),f([]),w(null),C(!1),N(null))},[e]),z=p.useCallback(async P=>{C(!0),N(null);const I=P.trim().toUpperCase();try{const B=await t(I);if(!T.current)return;B.ok?(o(""),f([]),w(null),C(!1),N(null),e(!1)):N(B.detail)}finally{T.current&&C(!1)}},[t,e]);return m.jsx(bX,{open:n,onOpenChange:j,children:m.jsxs(ob,{className:s,children:[m.jsx(Mj,{placeholder:"Search symbols (e.g., AAPL)...",value:r,onValueChange:o}),m.jsxs(Rj,{children:[x&&m.jsx("div",{className:"py-6 text-center text-sm text-rose-500",children:x}),v&&!x&&m.jsxs("div",{className:"py-6 text-center text-sm text-slate-500 flex items-center justify-center gap-2",children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-slate-500 border-t-transparent"}),"Searching..."]}),!v&&!x&&c&&h.length===0&&m.jsx(Aj,{children:!v&&!x&&c&&m.jsx(m.Fragment,{children:S?m.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-slate-500 border-t-transparent"}),m.jsxs("p",{className:"text-sm text-slate-500",children:["Validating ",m.jsx("span",{className:"font-bold text-slate-200",children:c})," with Yahoo Finance..."]})]}):E?m.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[m.jsx("p",{className:"text-sm text-rose-500",children:E}),m.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>N(null),children:"Try again"})]}):m.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[m.jsxs("p",{className:"text-sm text-slate-500",children:["No symbols found for ",m.jsxs("span",{className:"font-bold text-slate-200",children:['"',c,'"']})]}),m.jsxs(Pe,{variant:"default",size:"sm",onClick:()=>z(c),className:"gap-2",disabled:S,children:["Add ",c.toUpperCase()," to watchlist"]}),m.jsx("p",{className:"text-xs text-slate-600 max-w-[250px]",children:"Ticker will be validated with Yahoo Finance and historical data will be backfilled"})]})})}),!v&&!x&&h.length>0&&m.jsx(jj,{heading:"Results",children:h.map(P=>m.jsxs(kj,{value:P.symbol,onSelect:()=>A(P.symbol),className:"cursor-pointer",children:[m.jsx("span",{className:"font-bold text-black",children:P.symbol}),m.jsx("span",{className:"ml-2 text-slate-500 truncate",children:P.display_name})]},P.symbol))}),!v&&!x&&!c&&m.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Type to search for stock symbols"})]})]})})};function SX(n){return n.sort_order.map((e,t)=>({id:t,symbol:e,added_at:n.created_at,sort_order:t}))}const Oj=(n=!0)=>{const{isAuthenticated:e,user:t}=eo(),s=!e||!t,[r,o]=p.useState([]),[c,u]=p.useState(!0),[h,f]=p.useState(null),v=p.useCallback(async()=>{u(!0),f(null);try{if(s){const E=bK();o(SX(E))}else{const E=await _K();o(E)}}catch(E){const N=E instanceof Error?E.message:"Failed to fetch watchlist";f(N),console.error("Error fetching watchlist:",E)}finally{u(!1)}},[s]),g=p.useCallback(async E=>{u(!0),f(null);try{if(s){const N=xK(E);return await v(),N}else{const N=await EK(E);return(N.status==="added"||N.status==="already_present")&&await v(),N}}catch(N){const T=N instanceof Error?N.message:"Failed to add symbol";throw f(T),console.error("Error adding symbol:",N),N}finally{u(!1)}},[s,v]),x=p.useCallback(async E=>{u(!0),f(null);try{s?wK(E):await NK(E),await v()}catch(N){const T=N instanceof Error?N.message:"Failed to remove symbol";throw f(T),console.error("Error removing symbol:",N),N}finally{u(!1)}},[s,v]),w=p.useCallback(async E=>{u(!0),f(null);try{s?SK(E):await TK(E),await v()}catch(N){const T=N instanceof Error?N.message:"Failed to update watchlist order";throw f(T),console.error("Error updating watchlist order:",N),N}finally{u(!1)}},[s,v]),S=p.useCallback(()=>{f(null)},[]);p.useEffect(()=>{n&&v()},[n,v]),p.useEffect(()=>{n&&v()},[s,n,v]);const C=p.useMemo(()=>r.map(E=>E.symbol),[r]);return{entries:r,symbols:C,isLoading:c,error:h,refetch:v,addSymbol:g,removeSymbol:x,updateOrder:w,clearError:S,isGuest:s}};function CX(n,e,t){const s=p.useRef(!1);p.useEffect(()=>{if(n.isLoading||s.current)return;const r=n.symbols.length>0?n.symbols[0]:e==="LOADING"?"SPY":e;r!==e&&t(r),s.current=!0},[n.isLoading,n.symbols,e,t])}function _X(n){return{"1m":6e4,"2m":12e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"4h":144e5,"1d":864e5,"1wk":6048e5}[n]||864e5}function eE({candles:n,symbol:e,interval:t,hasMore:s,isFetching:r,onFetchMore:o}){const c=p.useRef(n);c.current=n;const u=p.useRef(0),h=500;return p.useCallback(v=>{if(!v||r)return;const g=Date.now();if(g-u.current<h||c.current.length===0)return;const x=c.current,w=500,S=1500;if(s&&v.from<=w){u.current=g;const C=new Date(x[0].timestamp),E=C.toISOString(),N=_X(t),T=new Date(C.getTime()-S*N);o(T.toISOString(),E)}},[e,t,s,r,o])}const Mh="https://polishedcharts-backend.onrender.com/api/v1".replace("/api/v1","")||"",Ho=5,EX=1e3,NX=1e4,lb="indicatorinstance",cb="indicatorlistglobal";function kv(n){return new Promise(e=>setTimeout(e,n))}function Ov(n){const e=Math.min(EX*Math.pow(2,n),NX),t=Math.random()*1e3;return e+t}function TX(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function MX(n){return VA[n.toLowerCase()]||ll.color}function RX(n,e){const t=TX(),s=MX(n),r=Object.values(e).join(", "),o=`${n.toUpperCase()}(${r})`;return{id:t,indicatorType:{category:"overlay",name:n,params:e},displayName:o,style:{...ll,color:s},isVisible:!0,createdAt:new Date().toISOString()}}function AX(n){return{uuid:n.id,indicator_name:n.indicatorType.name.toLowerCase(),indicator_category:n.indicatorType.category,indicator_params:n.indicatorType.params,display_name:n.displayName,style:n.style,is_visible:n.isVisible}}function jX(n){return{id:n.uuid,indicatorType:{category:n.indicator_category,name:n.indicator_name,params:n.indicator_params},displayName:n.display_name,style:n.style,isVisible:n.is_visible,createdAt:n.created_at}}function Dj(n,e){try{return localStorage.setItem(n,e),!0}catch(t){return t instanceof DOMException&&(t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")?(console.warn("[useIndicatorInstances] localStorage quota exceeded:",n),!1):(console.error("[useIndicatorInstances] localStorage error:",t),!1)}}function Ij(n){try{return localStorage.getItem(n)}catch(e){return console.error("[useIndicatorInstances] localStorage read error:",e),null}}function Lj(n){try{return localStorage.removeItem(n),!0}catch(e){return console.error("[useIndicatorInstances] localStorage remove error:",e),!1}}function E0(){const n=Ij(cb);if(!n)return null;try{return JSON.parse(n)}catch(e){return console.error("[useIndicatorInstances] Failed to parse indicator list:",e),null}}function Dv(n){return Dj(cb,JSON.stringify(n))}function tE(n){const e=`${lb}${n}`,t=Ij(e);if(!t)return null;try{return JSON.parse(t)}catch(s){return console.error("[useIndicatorInstances] Failed to parse indicator instance:",s),null}}function Wo(n){const e=`${lb}${n.id}`;return Dj(e,JSON.stringify(n))}function Pj(n){const e=`${lb}${n}`;return Lj(e)}function kX(){const n=E0();if(n)for(const e of n.instances)Pj(e);Lj(cb)}function OX(){const{user:n,isAuthenticated:e}=eo(),[t,s]=p.useState([]),[r,o]=p.useState(!1),[c,u]=p.useState(!1),[h,f]=p.useState(null),[v,g]=p.useState(!1);p.useRef(new Map),p.useRef(null);const x=p.useRef(!1),w=p.useCallback(async X=>(await(await Gn(async()=>{const{default:ee}=await Promise.resolve().then(()=>ch);return{default:ee}},void 0)).default.get(`${Mh}/api/v1/indicator-configs`,{headers:{Authorization:`Bearer ${X}`},timeout:1e4})).data.map(jX),[]),S=p.useCallback(async()=>{if(!x.current){x.current=!0,u(!0),f(null);try{if(e&&n)try{const X=await n.getIdToken(),se=await w(X);s(se),g(!1)}catch(X){console.warn("[useIndicatorInstances] API fetch failed, using localStorage fallback:",X);const se=E0();if(se){const G=[];for(const ee of se.instances){const q=tE(ee);q&&G.push(q)}s(G),g(!0)}else s([]);f(X instanceof Error?X:new Error("API fetch failed"))}else{const X=E0();if(X){const se=[];for(const G of X.instances){const ee=tE(G);ee&&se.push(ee)}s(se)}else s([]);g(!1)}}catch(X){console.error("[useIndicatorInstances] Failed to load indicators:",X),f(X instanceof Error?X:new Error("Failed to load indicators"))}finally{u(!1),o(!0),x.current=!1}}},[e,n,w]);p.useEffect(()=>{S()},[e,n]);const C=p.useCallback(async(X,se)=>{const G=(await Gn(async()=>{const{default:q}=await Promise.resolve().then(()=>ch);return{default:q}},void 0)).default;let ee=null;for(let q=0;q<Ho;q++)try{await G.post(`${Mh}/api/v1/indicator-configs`,AX(X),{headers:{Authorization:`Bearer ${se}`},timeout:1e4});return}catch(re){if(ee=re instanceof Error?re:new Error("Failed to create indicator"),q<Ho-1){const J=Ov(q);await kv(J)}}throw ee},[]),E=p.useCallback(async(X,se)=>{const G=(await Gn(async()=>{const{default:q}=await Promise.resolve().then(()=>ch);return{default:q}},void 0)).default;let ee=null;for(let q=0;q<Ho;q++)try{await G.delete(`${Mh}/api/v1/indicator-configs/${X}`,{headers:{Authorization:`Bearer ${se}`},timeout:1e4});return}catch(re){if(ee=re instanceof Error?re:new Error("Failed to delete indicator"),q<Ho-1){const J=Ov(q);await kv(J)}}throw ee},[]),N=p.useCallback(async(X,se)=>{const G=(await Gn(async()=>{const{default:q}=await Promise.resolve().then(()=>ch);return{default:q}},void 0)).default;let ee=null;for(let q=0;q<Ho;q++)try{await G.put(`${Mh}/api/v1/indicator-configs/${X.id}`,{indicator_params:X.indicatorType.params,display_name:X.displayName,style:X.style,is_visible:X.isVisible},{headers:{Authorization:`Bearer ${se}`},timeout:1e4});return}catch(re){if(ee=re instanceof Error?re:new Error("Failed to update indicator"),q<Ho-1){const J=Ov(q);await kv(J)}}throw ee},[]),T=p.useCallback((X,se)=>{const G=RX(X,se),ee=[...t,G];if(s(ee),e&&n)n.getIdToken().then(q=>{C(G,q).catch(re=>{console.error("[useIndicatorInstances] Failed to create indicator in API, rolling back:",re),s(t),Wo(G);const J={instances:ee.map(k=>k.id),updatedAt:new Date().toISOString()};Dv(J),g(!0)})});else{Wo(G);const q={instances:ee.map(re=>re.id),updatedAt:new Date().toISOString()};Dv(q)}return{success:!0,instanceId:G.id}},[t,e,n,C]),A=p.useCallback(X=>{const se=t,G=t.filter(ee=>ee.id!==X);if(s(G),e&&n)n.getIdToken().then(ee=>{E(X,ee).catch(q=>{console.error("[useIndicatorInstances] Failed to delete indicator from API, rolling back:",q),s(se)})});else{Pj(X);const ee={instances:G.map(q=>q.id),updatedAt:new Date().toISOString()};Dv(ee)}return!0},[t,e,n,E]),j=p.useCallback((X,se)=>{const G=t.find(J=>J.id===X);if(!G)return!1;const ee={...G.style,...se},q={...G,style:ee},re=t.map(J=>J.id===X?q:J);return s(re),e&&n?n.getIdToken().then(J=>{N(q,J).catch(k=>{console.error("[useIndicatorInstances] Failed to update style in API, rolling back:",k),s(t)})}):Wo(q),!0},[t,e,n,N]),z=p.useCallback((X,se)=>{const G=t.find(F=>F.id===X);if(!G)return!1;const ee={...G.indicatorType.params,...se},q=Object.values(ee).join(", "),re=`${G.indicatorType.name.toUpperCase()}(${q})`,J={...G,indicatorType:{...G.indicatorType,params:ee},displayName:re},k=t.map(F=>F.id===X?J:F);return s(k),e&&n?n.getIdToken().then(F=>{N(J,F).catch(V=>{console.error("[useIndicatorInstances] Failed to update params in API, rolling back:",V),s(t)})}):Wo(J),!0},[t,e,n,N]),P=p.useCallback(X=>{const se=t.find(q=>q.id===X);if(!se)return!1;const G={...se,isVisible:!se.isVisible},ee=t.map(q=>q.id===X?G:q);return s(ee),e&&n?n.getIdToken().then(q=>{N(G,q).catch(re=>{console.error("[useIndicatorInstances] Failed to toggle visibility in API, rolling back:",re),s(t)})}):Wo(G),!0},[t,e,n,N]),I=p.useCallback((X,se)=>{const G=t.find(re=>re.id===X);if(!G)return!1;const ee={...G,...se},q=t.map(re=>re.id===X?ee:re);return s(q),e&&n?n.getIdToken().then(re=>{N(ee,re).catch(J=>{console.error("[useIndicatorInstances] Failed to update instance in API, rolling back:",J),s(t)})}):Wo(ee),!0},[t,e,n,N]),B=p.useCallback(()=>{kX()},[]);return{instances:t,isLoaded:r,isLoading:c,error:h,isOffline:v,addIndicator:T,removeIndicator:A,updateStyle:j,updateParams:z,toggleVisibility:P,updateInstance:I,clearLocalStorage:B}}function DX(n,e,t){if(t.type==="int"||t.type==="integer"){if(typeof e=="string"){const s=Number(e);if(isNaN(s)||!Number.isInteger(s))return`${n} must be an integer`;e=s}if(typeof e!="number"||!Number.isInteger(e))return`${n} must be an integer`}else if(t.type==="float"){if(typeof e=="string"){const s=Number(e);if(isNaN(s))return`${n} must be a number`;e=s}if(typeof e!="number"||isNaN(e))return`${n} must be a number`}return t.min!==void 0&&typeof e=="number"&&e<t.min?`${n} must be at least ${t.min}`:t.max!==void 0&&typeof e=="number"&&e>t.max?`${n} must be at most ${t.max}`:t.type==="str"&&typeof e=="string"&&e.trim()===""?`${n} cannot be empty`:null}function IX({params:n,parameterDefinitions:e,onParamChange:t,errors:s,disabled:r=!1,onDraftValidityChange:o}){const[c,u]=p.useState({}),[h,f]=p.useState({}),[v,g]=p.useState(new Set),x=p.useMemo(()=>e.map(j=>j.name).sort(),[e]);p.useEffect(()=>{const j={},z={};e.forEach(P=>{if(P.type==="int"||P.type==="float"){const I=n[P.name]??P.default;j[P.name]=I,v.has(P.name)||(z[P.name]=String(I))}}),f(j),u(P=>({...z,...P})),g(new Set)},[x]);const w=p.useCallback((j,z)=>{if(j===""||j==="-"||j==="."||j.endsWith("."))return{valid:!1,isPartial:!0};const P=z.type==="int"?parseInt(j,10):parseFloat(j);return isNaN(P)?{valid:!1,error:"Invalid number"}:z.min!==void 0&&P<z.min?{valid:!1,error:`Must be at least ${z.min}`,parsedValue:P}:z.max!==void 0&&P>z.max?{valid:!1,error:`Must be at most ${z.max}`,parsedValue:P}:{valid:!0,parsedValue:P}},[]),S=p.useCallback((j,z)=>{const P=c[j];if(!P||!v.has(j))return!1;const I=w(P,z);return!I.valid&&!I.isPartial},[c,v,w]),C=p.useCallback((j,z)=>{u(P=>({...P,[j]:z})),g(P=>new Set(P).add(j))},[]),E=p.useCallback(j=>{const{name:z}=j,P=c[z];if(!v.has(z))return;const I=w(P||"",j);I.valid&&I.parsedValue!==void 0?(t(z,I.parsedValue),f(B=>({...B,[z]:I.parsedValue})),u(B=>({...B,[z]:String(I.parsedValue)}))):!I.valid&&!I.isPartial||I.isPartial&&N(z)},[c,v,w,t]),N=p.useCallback(j=>{const z=h[j];z!==void 0&&(u(P=>({...P,[j]:String(z)})),g(P=>{const I=new Set(P);return I.delete(j),I}))},[h]);p.useEffect(()=>{const j=e.some(z=>z.type!=="int"&&z.type!=="float"?!1:S(z.name,z));o?.(j)},[c,e,S,o]);const T=j=>j.step!==void 0?j.step:j.type==="int"?1:.01,A=j=>{const{name:z,type:P,description:I}=j,B=n[z]??j.default,X=s[z],se=c[z],G=v.has(z),ee=G&&se?w(se||"",j):null,q=X!==void 0&&B!==""||ee&&!ee.valid&&!ee.isPartial,re=G&&ee&&!ee.valid,J=`
      w-full px-3 py-2 rounded border text-sm
      ${q?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-slate-700 focus:ring-blue-500 focus:border-blue-500"}
      bg-slate-800 text-white
      disabled:bg-slate-900 disabled:text-slate-500
      transition-colors
    `;if(P==="str")return m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("label",{htmlFor:`param-${z}`,className:"text-sm font-medium text-slate-300",children:z}),q&&m.jsx("span",{className:"text-xs text-red-400",children:X})]}),m.jsx("input",{id:`param-${z}`,type:"text",value:String(B??""),onChange:Q=>C(z,Q.target.value),onBlur:()=>E(j),disabled:r,className:J,placeholder:I}),I&&m.jsx("p",{className:"text-xs text-slate-500",children:I})]},z);const k=j.min??Number.MIN_SAFE_INTEGER,F=j.max??Number.MAX_SAFE_INTEGER,V=T(j);return m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{htmlFor:`param-${z}`,className:"text-sm font-medium text-slate-300",children:z}),re&&m.jsx(_L,{className:"w-4 h-4 text-amber-500","aria-label":"Invalid value"})]}),q&&m.jsx("span",{className:"text-xs text-red-400",children:ee?.error||X})]}),m.jsx("input",{id:`param-${z}`,type:"number",value:c[z]??String(B??""),onChange:Q=>C(z,Q.target.value),onBlur:()=>E(j),onKeyDown:Q=>{Q.key==="Enter"&&E(j),Q.key==="Escape"&&N(z)},disabled:r,min:k,max:F,step:V,className:J}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[m.jsx("span",{children:I}),m.jsx("span",{children:j.min!==void 0&&j.max!==void 0?`Range: ${j.min} - ${j.max}`:j.min!==void 0?`Min: ${j.min}`:j.max!==void 0?`Max: ${j.max}`:null})]})]},z)};return e.length===0?m.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No parameters available for this indicator"}):m.jsx("div",{className:"space-y-4",children:e.map(A)})}function LX(n){if(!n)return!1;const e=n.replace("#","");return/^[0-9A-Fa-f]{3}$|^[0-9A-Fa-f]{6}$/.test(e)}function N0(n){if(!n)return"#000000";let e=n.replace("#","").toLowerCase();return e.length===3&&(e=e.split("").map(t=>t+t).join("")),`#${e}`}function Ac(n){return N0(n).toUpperCase()}function T0({value:n,onChange:e,disabled:t=!1,label:s,showTextInput:r=!0,className:o=""}){const[c,u]=p.useState(()=>Ac(n)),[h,f]=p.useState(!0);p.useEffect(()=>{u(Ac(n)),f(!0)},[n]);const v=p.useCallback(w=>{const S=w.target.value;u(Ac(S)),f(!0),e(S)},[e]),g=p.useCallback(w=>{if(t)return;let S=w.target.value.slice(0,6);if(!S){u(""),f(!0);return}if((S.length===3||S.length===6)&&LX(S)){const E=N0(S);u(Ac(E)),f(!0),e(E)}else u(S),f(!1)},[e,t]),x=p.useCallback(()=>{(!h||!c)&&(u(Ac(n)),f(!0))},[h,c,n]);return m.jsxs("div",{className:`flex items-center gap-2 ${o}`,children:[s&&m.jsx("label",{className:"text-sm text-slate-300",children:s}),m.jsx("div",{className:"relative flex items-center",children:m.jsx("input",{type:"color",value:N0(n),onChange:v,disabled:t,className:`
            w-10 h-10 rounded cursor-pointer border-2
            ${t?"opacity-50 cursor-not-allowed":"hover:border-slate-400"}
            ${h?"border-slate-600":"border-red-500"}
          `,"aria-label":s||"Pick a color"})}),r&&m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400",children:"#"}),m.jsx("input",{type:"text",value:c.replace("#",""),onChange:g,onBlur:x,disabled:t,maxLength:6,className:`
              w-24 px-6 py-1.5 bg-slate-800 border rounded text-sm
              focus:outline-none focus:ring-2 focus:ring-blue-500
              ${t?"opacity-50 cursor-not-allowed":""}
              ${h?"border-slate-600 text-slate-200":"border-red-500 text-red-400"}
              font-mono uppercase
            `,"aria-label":"Hex color code",placeholder:"000000"})]}),!h&&m.jsx("span",{className:"text-xs text-red-400",role:"alert",children:"Invalid hex"})]})}const PX=[{name:"Orange",value:"#ff6d00"},{name:"Blue",value:"#2962ff"},{name:"Red",value:"#ef5350"},{name:"Green",value:"#26a69a"},{name:"Cyan",value:"#00bcd4"},{name:"Yellow",value:"#ffeb3b"},{name:"Purple",value:"#aa00ff"},{name:"Gray",value:"#9e9e9e"},{name:"White",value:"#ffffff"}];function zX({showPresets:n=!0,presets:e=PX,...t}){return m.jsxs("div",{className:"space-y-3",children:[m.jsx(T0,{...t}),n&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("span",{className:"text-sm text-slate-400",children:"Quick Select:"}),m.jsx("div",{className:"grid grid-cols-5 gap-2",children:e.map(s=>m.jsx("button",{type:"button",onClick:()=>t.onChange(s.value),disabled:t.disabled,className:`
                  w-full aspect-square rounded border-2 transition-all
                  ${t.disabled?"opacity-50 cursor-not-allowed":"hover:scale-105 hover:border-slate-400"}
                  ${t.value===s.value?"ring-2 ring-blue-500 ring-offset-2 ring-offset-slate-900":"border-slate-600"}
                `,style:{backgroundColor:s.value},title:s.name,"aria-label":`Select ${s.name} color`},s.value))})]})]})}const $X=[1,2,3,4];function UX(n,e){return p.useMemo(()=>{if(!n||n.length<=1)return null;const s=n.filter(r=>r.role==="signal"?e==="single":!0).sort((r,o)=>{const c=u=>u==="main"?0:u==="band"?1:u==="histogram"?2:3;return c(r.role)-c(o.role)});return s.length>0?s:null},[n,e])}function BX({instance:n,onStyleChange:e,disabled:t=!1,showLabels:s=!0,className:r="",seriesMetadata:o,indicatorMetadata:c}){const{style:u}=n,h=UX(o,c?.color_mode),f=p.useMemo(()=>c?.color_mode==="trend"&&o?.some(C=>C.role==="signal"),[c,o]),v=p.useCallback((C,E,N)=>{const T=E?{color:N}:{seriesColors:{...u.seriesColors||{},[C]:N}};e(T)},[e,u.seriesColors]),g=p.useCallback((C,E)=>{e({seriesColors:{...u.seriesColors||{},[C]:E}})},[e,u.seriesColors]),x=p.useCallback(C=>{e({color:C})},[e]),w=p.useCallback(C=>{e({lineWidth:C})},[e]),S=p.useCallback(C=>{e({showLastValue:C})},[e]);return m.jsxs("div",{className:`space-y-6 ${r}`,children:[f?m.jsxs("div",{className:"space-y-4",children:[s&&m.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Trend Colors"}),m.jsx("div",{className:"space-y-3",children:[{key:"bullish",label:"Bullish (Up)",default:"#00FF00"},{key:"neutral",label:"Neutral (Flat)",default:"#FFFF00"},{key:"bearish",label:"Bearish (Down)",default:"#ef5350"}].map(({key:C,label:E,default:N})=>{const T=u.seriesColors?.[C]||c?.color_schemes?.[C]||N;return m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:T},"aria-hidden":"true"}),m.jsx("span",{className:"text-sm text-slate-300",children:E})]}),m.jsx(T0,{value:T,onChange:A=>g(C,A),disabled:t})]},C)})}),m.jsx("p",{className:"text-xs text-slate-500",children:"Colors for uptrend, neutral, and downtrend states"})]}):h?m.jsxs("div",{className:"space-y-4",children:[s&&m.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Series Colors"}),m.jsx("div",{className:"space-y-3",children:h.map(C=>{const E=C.role==="main",N=E?u.color:u.seriesColors?.[C.field]||C.line_color;return m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[m.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:N},"aria-hidden":"true"}),m.jsx("span",{className:"text-sm text-slate-300",children:C.label}),E&&m.jsx("span",{className:"text-xs text-slate-500",children:"(main)"})]}),m.jsx(T0,{value:N,onChange:T=>v(C.field,E,T),disabled:t})]},C.field)})}),m.jsx("p",{className:"text-xs text-slate-500",children:"Customize color for each series"})]}):m.jsxs("div",{className:"space-y-3",children:[s&&m.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Line Color"}),m.jsx(zX,{value:u.color,onChange:x,disabled:t,showPresets:!0})]}),m.jsxs("div",{className:"space-y-3",children:[s&&m.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Line Width"}),m.jsx("div",{className:"flex items-center gap-2",children:$X.map(C=>m.jsxs("button",{type:"button",onClick:()=>w(C),disabled:t,className:`
                relative w-12 h-12 rounded-lg border-2 transition-all
                ${t?"opacity-50 cursor-not-allowed":"hover:border-slate-400 active:scale-95"}
                ${u.lineWidth===C?"border-blue-500 bg-blue-500/20 ring-2 ring-blue-500 ring-offset-2 ring-offset-slate-900":"border-slate-600 bg-slate-800"}
              `,"aria-label":`Line width ${C} pixel${C!==1?"s":""}`,"aria-pressed":u.lineWidth===C,children:[m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsx("div",{className:"bg-current",style:{width:"70%",height:`${C}px`,backgroundColor:u.color}})}),m.jsx("span",{className:"absolute bottom-1 right-1 text-xs font-mono text-slate-400",children:C})]},C))}),m.jsx("p",{className:"text-xs text-slate-500",children:"Line width in pixels (1-4)"})]}),m.jsxs("div",{className:"space-y-3",children:[s&&m.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Last Value Label"}),m.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg border border-slate-600",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm text-slate-200",children:"Show price value on chart"}),m.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Display the last value on the price scale"})]}),m.jsx("button",{type:"button",onClick:()=>S(!u.showLastValue),disabled:t,role:"switch","aria-checked":u.showLastValue,className:`
              relative inline-flex h-6 w-11 items-center rounded-full transition-colors
              ${t?"opacity-50 cursor-not-allowed bg-slate-700":u.showLastValue?"bg-blue-600":"bg-slate-600 hover:bg-slate-500"}
            `,children:m.jsx("span",{className:`
                inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                ${u.showLastValue?"translate-x-6":"translate-x-1"}
              `})})]})]}),m.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-700",children:[m.jsx("p",{className:"text-xs font-medium text-slate-400 uppercase tracking-wide",children:"Preview"}),m.jsx("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700",children:m.jsxs("svg",{width:"100%",height:"60",className:"overflow-visible",children:[m.jsx("line",{x1:"0",y1:"15",x2:"100",y2:"15",stroke:"#334155",strokeWidth:"1"}),m.jsx("line",{x1:"0",y1:"30",x2:"100",y2:"30",stroke:"#334155",strokeWidth:"1"}),m.jsx("line",{x1:"0",y1:"45",x2:"100",y2:"45",stroke:"#334155",strokeWidth:"1"}),m.jsx("polyline",{points:"0,45 20,35 40,40 60,20 80,25 100,15",fill:"none",stroke:u.color,strokeWidth:u.lineWidth,strokeLinecap:"round",strokeLinejoin:"round"}),u.showLastValue&&m.jsx("text",{x:"100%",y:"10",textAnchor:"end",fill:u.color,fontSize:"12",fontWeight:"600",children:"150.25"})]})}),m.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Changes apply immediately"})]})]})}function VX({visible:n,onToggle:e,disabled:t=!1,label:s="Visible",className:r}){const o=c=>{e(c)};return m.jsxs("div",{className:Ce("flex items-center gap-3",r),children:[m.jsx(qy,{checked:n,onCheckedChange:o,disabled:t,className:Ce("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-blue-600 data-[state=unchecked]:bg-slate-700"),children:m.jsx(kA,{className:Ce("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform","data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}),s&&m.jsx("label",{htmlFor:void 0,className:Ce("text-sm font-medium leading-none",t?"text-slate-500":"text-slate-300"),children:s})]})}function zj({open:n,onOpenChange:e,indicator:t,indicatorMetadata:s,onApplyChanges:r,onRemove:o,disabled:c=!1}){const[u,h]=p.useState("inputs"),[f,v]=p.useState(!1),[g,x]=p.useState(!1),[w,S]=p.useState({}),[C,E]=p.useState({}),[N,T]=p.useState({}),A=p.useMemo(()=>t?{...t.indicatorType.params,...w}:{},[t?.indicatorType?.params,w]),j=Object.keys(C).length>0,z=p.useCallback((J,k)=>{if(!t||!s)return;S(V=>({...V,[J]:k}));const F=s.parameters.find(V=>V.name===J);if(F){const V=DX(J,k,F);E(Q=>{if(V)return{...Q,[J]:V};{const{[J]:me,...O}=Q;return O}}),V||r?.(t.id,{indicatorType:{...t.indicatorType,params:{...t.indicatorType.params,[J]:k}}})}},[t,s,r]),P=p.useRef(t);p.useEffect(()=>{P.current=t},[t]);const I=p.useCallback(J=>{const k=P.current;if(!k)return;const F={...k.style,...J};r?.(k.id,{style:F})},[r]),B=p.useCallback(J=>{t&&r?.(t.id,{isVisible:J})},[t,r]),X=p.useCallback(()=>{t&&(e(!1),o?.(t.id))},[t,e,o]),se=p.useCallback(J=>{!J&&f?x(!0):e(J)},[f,e]),G=p.useCallback(J=>{f&&u==="inputs"?x(!0):h(J)},[f,u]),ee=p.useCallback(()=>{v(!1),x(!1),e(!1)},[e]),q=p.useCallback(()=>{x(!1)},[]),re=p.useCallback(()=>{S({}),E({}),T({}),h("inputs")},[]);return p.useEffect(()=>{re()},[t?.id,re]),t?m.jsxs(m.Fragment,{children:[m.jsx($a,{open:n,onOpenChange:se,children:m.jsxs(Wr,{className:"sm:max-w-[500px] bg-slate-900 border-slate-700 text-slate-100",children:[m.jsxs(Ua,{children:[m.jsx(Gr,{className:"text-xl text-slate-100",children:t.displayName}),m.jsx(qr,{className:"text-slate-400",children:"Customize indicator parameters, style, and visibility. Changes apply immediately."})]}),m.jsxs(L0,{value:u,onValueChange:G,className:"w-full",children:[m.jsxs(Df,{className:"grid w-full grid-cols-3 bg-slate-800",children:[m.jsx(Ur,{value:"inputs",className:"data-[state=active]:bg-slate-700",children:"Inputs"}),m.jsx(Ur,{value:"style",className:"data-[state=active]:bg-slate-700",children:"Style"}),m.jsx(Ur,{value:"visibility",className:"data-[state=active]:bg-slate-700",children:"Visibility"})]}),m.jsx(Br,{value:"inputs",className:"mt-4 space-y-4",children:s?.parameters&&Array.isArray(s.parameters)&&s.parameters.length>0?m.jsxs(m.Fragment,{children:[m.jsx(IX,{params:A,parameterDefinitions:s.parameters,onParamChange:z,errors:C,disabled:c,onDraftValidityChange:v}),j&&m.jsx("div",{className:"p-3 bg-red-900/20 border border-red-700 rounded-lg",children:m.jsx("p",{className:"text-sm text-red-400",children:"Please fix validation errors before continuing."})})]}):m.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No parameters available for this indicator"})}),m.jsx(Br,{value:"style",className:"mt-4",children:m.jsx(BX,{instance:t,onStyleChange:I,disabled:c,showLabels:!0,seriesMetadata:s?.series_metadata,indicatorMetadata:s})}),m.jsx(Br,{value:"visibility",className:"mt-4 space-y-6",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-4 bg-slate-800 rounded-lg border border-slate-700",children:[m.jsx(VX,{visible:t.isVisible,onToggle:B,disabled:c,label:"Show on chart"}),m.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t.isVisible?"Indicator is visible on the chart":"Indicator is hidden but not removed"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Instance Info"}),m.jsxs("div",{className:"p-3 bg-slate-800 rounded-lg border border-slate-700 space-y-1",children:[m.jsxs("p",{className:"text-xs text-slate-400",children:[m.jsx("span",{className:"font-medium",children:"Type:"})," ",t.indicatorType.name.toUpperCase()]}),m.jsxs("p",{className:"text-xs text-slate-400",children:[m.jsx("span",{className:"font-medium",children:"ID:"})," ",t.id]}),m.jsxs("p",{className:"text-xs text-slate-400",children:[m.jsx("span",{className:"font-medium",children:"Symbol:"})," ",t.symbol]})]})]}),o&&m.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[m.jsx("button",{type:"button",onClick:X,disabled:c,className:"w-full px-4 py-2 bg-red-900/30 hover:bg-red-900/50 border border-red-700 text-red-400 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Remove Indicator"}),m.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"This will permanently remove this indicator instance"})]})]})})]})]})}),m.jsx($a,{open:g,onOpenChange:x,children:m.jsxs(Wr,{className:"bg-slate-900 border-slate-700 text-slate-100 max-w-md",children:[m.jsxs(Ua,{children:[m.jsx(Gr,{children:"Invalid values detected"}),m.jsx(qr,{className:"text-slate-400",children:"You have invalid parameter values. Revert to last valid values?"})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[m.jsx(Pe,{onClick:q,variant:"outline",className:"bg-slate-700 hover:bg-slate-600 text-white border-slate-600",children:"Keep Editing"}),m.jsx(Pe,{onClick:ee,className:"bg-red-900 hover:bg-red-800 text-white",children:"Revert & Close"})]})]})})]}):m.jsx(m.Fragment,{children:m.jsx($a,{open:n,onOpenChange:e,children:m.jsxs(Wr,{className:"sm:max-w-[500px]",children:[m.jsxs(Ua,{children:[m.jsx(Gr,{children:"Indicator Settings"}),m.jsx(qr,{children:"No indicator selected. Select an indicator from the legend to edit its settings."})]}),m.jsxs("div",{className:"py-8 text-center text-slate-500",children:[m.jsx("p",{children:"No indicator selected"}),m.jsx("p",{className:"text-sm mt-2",children:"Select an indicator from the legend to edit its settings."})]})]})})})}Pt.create({baseURL:"/api/v1/notifications"});function FX({instances:n,onToggleVisibility:e,onRemove:t,onSettings:s,onViewSource:r,onAlertCreated:o,symbol:c,interval:u,className:h,crosshairTime:f,seriesDataMap:v}){const[g,x]=p.useState(!1),[w,S]=p.useState(null),C=p.useRef(new Map),E=p.useCallback(N=>{if(!f||!v)return null;const T=v[N];if(!T||T.length===0)return null;const A=T.find(j=>j.time===f);return A?A.value.toFixed(2):null},[f,v]);return n.length===0?null:m.jsxs("div",{className:h,children:[m.jsx("div",{className:"group flex gap-2 text-xs",children:n.map(N=>{const T=E(N.id);return m.jsxs("div",{ref:A=>{A&&C.current.set(N.id,A)},className:"relative group/instance inline-flex items-center gap-1",children:[m.jsxs("span",{className:"pointer-events-auto cursor-help",style:{color:N.isVisible?"#d1d4dc":"#787b86",opacity:N.isVisible?1:.5},title:N.displayName,children:[N.displayName,T&&m.jsx("span",{style:{marginLeft:"4px",opacity:.8,color:N.style.color},children:T})]}),m.jsxs("div",{className:"pointer-events-auto flex items-center gap-0.5 bg-slate-900/80 backdrop-blur-sm rounded px-1 opacity-0 transition-opacity duration-200 group-hover/instance:opacity-100",children:[m.jsx("button",{onClick:A=>{A.stopPropagation(),e(N.id)},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:N.isVisible?"Hide":"Show",children:m.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.isVisible?m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}):m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})}),s&&m.jsx("button",{onClick:A=>{A.stopPropagation(),s(N.id)},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:"Settings",children:m.jsxs("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r&&m.jsx("button",{onClick:A=>{A.stopPropagation(),x(!0),S({instance:N})},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:"Alerts",children:m.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H6"})})}),t&&m.jsx("button",{onClick:A=>{A.stopPropagation(),t(N.id)},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:"Remove",children:m.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},N.id)})}),g&&w&&m.jsx(IA,{open:g,onClose:()=>x(!1),onAlertCreated:()=>{o?.(),x(!1)},symbol:c,interval:u,indicator:{name:w.instance.indicatorType.name.toLowerCase(),field:w.instance.indicatorType.name.toLowerCase(),params:w.instance.indicatorType.params,displayName:w.instance.displayName}})]})}function HX(n){if(!n)return"";let e=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e=e.replace(/(\/\/.*$)/gm,'<span class="text-slate-500 italic">$1</span>');const t=["study","indicator","strategy","plot","plotshape","plotchar","plotarrow","plotbarcolor","plotcandle","if","else","for","to","while","switch","case","var","input","ta\\.","math\\."],s=new RegExp(`\\b(${t.join("|")})\\b`,"gi");e=e.replace(s,'<span class="text-purple-400">$1</span>');const r=["sma","ema","rsi","macd","bb","atr","volume","highest","lowest","max","min","abs","sqrt","log","exp","round","floor","ceil","sign"],o=new RegExp(`\\b(${r.join("|")})\\b`,"gi");e=e.replace(o,'<span class="text-blue-400">$1</span>'),e=e.replace(/\b(\d+\.?\d*)\b/g,'<span class="text-orange-400">$1</span>'),e=e.replace(/(".*?"|'.*?')/g,'<span class="text-green-400">$1</span>');const c=["true","false","na","close","open","high","low","volume"],u=new RegExp(`\\b(${c.join("|")})\\b`,"gi");return e=e.replace(u,'<span class="text-yellow-400">$1</span>'),e}function WX({open:n,onOpenChange:e,indicatorName:t,sourceCode:s,className:r}){const[o,c]=p.useState(!1),u=p.useCallback(async()=>{if(s)try{await navigator.clipboard.writeText(s),c(!0),setTimeout(()=>{c(!1)},2e3)}catch(h){console.error("Failed to copy source code:",h)}},[s]);return m.jsx(Zy,{open:n,onOpenChange:e,children:m.jsxs(eb,{children:[m.jsx(xm,{className:"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),m.jsxs(wm,{className:Ce("fixed left-1/2 top-1/2 z-50 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2","bg-slate-900 border border-slate-700 rounded-lg shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]","data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",r),children:[m.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[m.jsxs("div",{children:[m.jsxs(tb,{className:"text-lg font-semibold text-slate-100",children:[t," - Source Code"]}),m.jsx(nb,{className:"text-sm text-slate-400 mt-1",children:"View and copy the Pine Script source code for this indicator"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[s&&m.jsx("button",{onClick:u,className:"p-2 rounded text-slate-400 hover:text-slate-100 hover:bg-slate-800 transition-colors",title:o?"Copied!":"Copy to clipboard",children:o?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),m.jsx(lj,{className:"p-2 rounded text-slate-400 hover:text-slate-100 hover:bg-slate-800 transition-colors",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),m.jsx("div",{className:"px-6 py-4 max-h-[60vh] overflow-y-auto",children:s?m.jsx("pre",{className:"text-sm text-slate-300 font-mono whitespace-pre-wrap",children:m.jsx("code",{dangerouslySetInnerHTML:{__html:HX(s)}})}):m.jsxs("div",{className:"py-8 text-center text-slate-500",children:[m.jsx("p",{className:"text-sm",children:"Source code is not available for this indicator."}),m.jsx("p",{className:"text-xs mt-2",children:"This indicator is computed server-side. Pine Script source code will be displayed here when available."})]})})]})]})})}function GX(n){return{id:n.id,symbol:"oscillator",indicatorType:{category:"overlay",name:n.indicatorType.name,params:n.indicatorType.params},displayName:n.name,style:n.style||{...ll},isVisible:n.displaySettings.visible,createdAt:new Date().toISOString()}}function qX({open:n,onOpenChange:e,indicator:t,indicatorMetadata:s,onStyleChange:r,onParamsChange:o,onVisibilityToggle:c,onRemove:u,disabled:h=!1}){const f=p.useCallback((x,w)=>{t&&(w.style&&r&&r(x,w.style),w.indicatorType?.params&&o&&o(x,w.indicatorType.params),w.isVisible!==void 0&&c&&w.isVisible!==t.displaySettings.visible&&c(x))},[t,r,o,c]),v=p.useCallback(x=>{u?.(x)},[u]),g=p.useMemo(()=>t?GX(t):null,[t?.id,JSON.stringify(t?.style)]);return m.jsx(zj,{open:n,onOpenChange:e,indicator:g,indicatorMetadata:s,onApplyChanges:f,onRemove:v,disabled:h},t?.id||"oscillator-settings")}function YX({showInDev:n=!0,className:e=""}){const[t,s]=p.useState(null),[r,o]=p.useState(!1),[c,u]=p.useState(!1);return null}const KX=`
.performance-report-container {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
}

.performance-toggle {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: #2196F3;
  color: white;
  border: none;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  transition: transform 0.2s;
}

.performance-toggle:hover {
  transform: scale(1.1);
}

.performance-report-panel {
  position: absolute;
  bottom: 60px;
  right: 0;
  width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  padding: 20px;
}

.performance-report-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.performance-report-actions {
  display: flex;
  gap: 10px;
}

.performance-report-actions button {
  padding: 8px 16px;
  border: 1px solid #ddd;
  border-radius: 4px;
  background: white;
  cursor: pointer;
}

.performance-report-actions button:hover {
  background: #f5f5f5;
}

.performance-summary {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
  padding: 15px;
  background: #f9f9f9;
  border-radius: 4px;
}

.summary-item {
  display: flex;
  flex-direction: column;
}

.summary-label {
  font-size: 12px;
  color: #666;
}

.summary-value {
  font-size: 18px;
  font-weight: 600;
}

.performance-section {
  margin-bottom: 25px;
}

.performance-section h3 {
  margin-bottom: 10px;
  font-size: 16px;
  color: #333;
}

.bottlenecks-list,
.rankings-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.bottleneck-item {
  padding: 12px;
  border-left: 4px solid #ff9800;
  background: #fff8e1;
  border-radius: 4px;
}

.bottleneck-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

.bottleneck-operation {
  font-weight: 600;
}

.bottleneck-impact {
  font-size: 12px;
  font-weight: 600;
}

.bottleneck-details {
  display: flex;
  gap: 15px;
  font-size: 14px;
  color: #666;
}

.ranking-item {
  display: flex;
  align-items: center;
  padding: 10px;
  border-bottom: 1px solid #eee;
}

.ranking-position {
  font-weight: 600;
  margin-right: 10px;
  min-width: 30px;
}

.ranking-operation {
  flex: 1;
  font-weight: 500;
}

.ranking-stats {
  display: flex;
  gap: 15px;
  font-size: 14px;
  color: #666;
}

.category-stats {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.stats-row {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background: #f9f9f9;
  border-radius: 4px;
}

.stats-label {
  font-weight: 500;
}

.stats-values {
  display: flex;
  gap: 15px;
  font-size: 14px;
}

.stats-values .p95 {
  color: #2196F3;
  font-weight: 600;
}

.success-criteria {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.criteria-met {
  padding: 10px;
  background: #e8f5e9;
  border-radius: 4px;
}

.criteria-met h4 {
  color: #4CAF50;
  margin-bottom: 8px;
}

.criteria-not-met {
  padding: 10px;
  background: #ffebee;
  border-radius: 4px;
}

.criteria-not-met h4 {
  color: #f44336;
  margin-bottom: 8px;
}

.criteria-warnings {
  padding: 10px;
  background: #fff8e1;
  border-radius: 4px;
}

.criteria-warnings h4 {
  color: #ff9800;
  margin-bottom: 8px;
}

.performance-report-empty {
  text-align: center;
  padding: 40px 20px;
  color: #666;
}

.performance-report-empty .hint {
  font-size: 14px;
  color: #999;
  margin-top: 10px;
}
`;if(typeof document<"u"&&!document.getElementById("performance-report-styles")){const n=document.createElement("style");n.id="performance-report-styles",n.textContent=KX,document.head.appendChild(n)}function nE(n){return n.trim().toLowerCase()}function Rh(n){return n.toLowerCase()}function XX(n,e){const t=nE(n);return!e.some(s=>nE(s.name)===t)}function sE(n,e){const t=n.map(c=>Rh(c.indicatorType.name)),s=e.map(c=>Rh(c.indicatorType.name)),r=Array.from(new Set([...t,...s])),o={};for(const c of n){const u=Rh(c.indicatorType.name);o[u]=c.indicatorType.params}for(const c of e){const u=Rh(c.indicatorType.name);o[u]=c.indicatorType.params}return{activeIndicators:r,indicatorParams:o}}function JX(n,e){return{id:Date.now().toString(),name:n.trim(),activeIndicators:e.activeIndicators,indicatorParams:e.indicatorParams}}function QX({symbol:n,setSymbol:e}){const[t,s]=p.useState("1d"),[r,o]=p.useState("websocket"),[c,u]=p.useState(!1),[h,f]=p.useState(!1),{userProfile:v,isAuthenticated:g,isLoading:x}=eo(),[w,S]=p.useState(!1),[C,E]=p.useState("sign-in"),N=p.useRef(null),[T,A]=p.useState({width:0,height:0}),[j,z]=p.useState(null),P=p.useRef(new Map),{connect:I,disconnect:B,lastMessage:X}=JY(),{symbols:se,refetch:G,addSymbol:ee,removeSymbol:q,updateOrder:re}=Oj(g),[J,k]=p.useState([]);p.useEffect(()=>{k(D=>{const W=se.map(Oe=>Oe.toUpperCase());if(D.length===0||D.length!==W.length)return W;const Z=new Set(D.map(Oe=>Oe.toUpperCase())),he=new Set(W),ge=D.every(Oe=>he.has(Oe.toUpperCase())),xe=W.every(Oe=>Z.has(Oe));return ge&&xe&&D.length===W.length?D:W})},[se]);const F=p.useMemo(()=>J.map(D=>({symbol:D})),[J]),[V,Q]=p.useState(()=>UA()),[me,O]=p.useState([]),[M,L]=p.useState(null),[$,ie]=p.useState([]),[oe,K]=p.useState(!1),[ue,ye]=p.useState(null),[we,Ve]=p.useState(!0),We=p.useRef(null),[xt,ct]=p.useState(null),[At,Le]=p.useState(null),[Et,qt]=p.useState(null),[Xe,pt]=p.useState({}),[Qt,ut]=p.useState(!0),[_n,Nt]=p.useState(!1),[Fs,un]=p.useState(!1),[rn,Ut]=p.useState(null);p.useRef(null);const En=p.useRef(new Map),vn=p.useRef(null),[yn,bn]=p.useState(0),[hs,Bt]=p.useState(!1),[jt,kt]=p.useState(null),Qi=5e4,{indicators:it,addIndicator:dn,removeIndicator:an,updateIndicatorStyle:fs,updateIndicatorParams:Tt}=WA();qY();const wt=p.useMemo(()=>{if(jt&&jt.length>0){const Z={from:jt.reduce((he,ge)=>ge.timestamp<he?ge.timestamp:he,jt[0].timestamp),to:$[$.length-1].timestamp};return console.log("[targetCandleDateRange] Backfill mode:",{pendingCount:jt.length,from:Z.from,to:Z.to,candleCount:$.length}),Z}if(ue)return console.log("[targetCandleDateRange] Using request range for cache alignment:",{from:ue.from,to:ue.to,candleCount:$.length}),ue;if($.length===0)return;const D={from:$[0].timestamp,to:$[$.length-1].timestamp};return console.log("[targetCandleDateRange] Normal mode (fallback):",{from:D.from,to:D.to,candleCount:$.length}),D},[$,jt,ue]),_e=q_(it,n,t,yn,wt,$),Ge=_e.isLoading||!1,{instances:ke,addIndicator:Je,removeIndicator:Mt,toggleVisibility:rt,updateInstance:st}=OX(),[on,dt]=p.useState(!1),[ht,On]=p.useState(null),[Zt,Nn]=p.useState(!1),[Zn,Dn]=p.useState(null),[zt,xn]=p.useState({}),[fi,sa]=p.useState(null),$u=q_(ke,n,t,yn,wt,$),to={},ia=$u.isLoading||!1;Object.entries($u).forEach(([D,W])=>{D!=="isLoading"&&D!=="error"&&(to[D]=W)}),p.useEffect(()=>{Ky().then(D=>{const W={};D.forEach(Z=>{const he={...Z,parameters:Z.parameters?Object.entries(Z.parameters).map(([ge,xe])=>({name:ge,...xe})):void 0};W[Z.name]=he}),xn(W)}).catch(D=>{console.error("Failed to load indicator metadata:",D)})},[]);const ra=p.useCallback(D=>{pt(W=>({...W,[D]:{...W[D],visible:W[D]?.visible===!1}}))},[]),Al=p.useCallback((D,W)=>{pt(Z=>({...Z,[D]:{...Z[D],series:{...Z[D]?.series,[W]:Z[D]?.series?.[W]===!1}}}))},[]),Zi=p.useCallback(D=>{pt(W=>({...W,[D]:{...W[D],showLevels:W[D]?.showLevels===!1}}))},[]),er=p.useCallback(D=>{pt(W=>({...W,[D]:{...W[D],showLastValue:!(W[D]?.showLastValue??!1)}}))},[]);p.useEffect(()=>{if(!N.current)return;const D=new ResizeObserver(W=>{if(W[0]){const{width:Z,height:he}=W[0].contentRect;A({width:Z,height:he})}});return D.observe(N.current),()=>D.disconnect()},[]),p.useEffect(()=>{x||(async()=>{if(g)try{const{listAlerts:W,getAlertNotificationSettings:Z}=await Gn(async()=>{const{listAlerts:Se,getAlertNotificationSettings:Fe}=await Promise.resolve().then(()=>ja);return{listAlerts:Se,getAlertNotificationSettings:Fe}},void 0),he=await W(),ge=he.map(async Se=>{try{const Fe=await Z(String(Se.id));return{alertId:Se.id,settings:Fe}}catch{return{alertId:Se.id,settings:null}}}),xe=await Promise.all(ge),Oe=new Map(xe.map(Se=>[Se.alertId,Se.settings])),Ee=he.map(Se=>({id:String(Se.id),symbol:Se.symbol||"",condition:Se.condition,threshold:Se.threshold,status:Se.is_active?"active":"muted",createdAt:Se.created_at,interval:Se.interval,indicator_name:Se.indicator_name,indicator_field:Se.indicator_field,indicator_params:Se.indicator_params,enabled_conditions:Se.enabled_conditions,messages:Se.messages,notificationSettings:Oe.get(Se.id)??void 0}));Q(Ee)}catch(W){console.error("Failed to fetch alerts from backend:",W)}})()},[g,x]),p.useEffect(()=>{if(!j)return;const D=Z=>{Z&&P.current.forEach(he=>{try{he.getVisibleRange()!==null&&he.setVisibleLogicalRange(Z)}catch(ge){console.debug("[Chart] Ignoring time scale error from indicator chart:",ge)}})};j.subscribeVisibleLogicalRangeChange(D);const W=j.getVisibleLogicalRange();return W&&P.current.forEach(Z=>{try{Z.getVisibleRange()!==null&&Z.setVisibleLogicalRange(W)}catch(he){console.debug("[Chart] Ignoring time scale error from indicator chart:",he)}}),()=>{j.unsubscribeVisibleLogicalRangeChange(D)}},[j,M?.activeIndicators,$]),p.useEffect(()=>{$A(V)},[V]),p.useEffect(()=>{if(r==="websocket"&&n&&t){const D=`${window.location.protocol==="https:"?"wss://":"ws://"}${window.location.host}/api/v1/candles/ws/${n}?interval=${t}`;I(D)}else B();return()=>{B()}},[n,t,I,B,r]),p.useEffect(()=>{if(X&&!Qt){const D=JSON.parse(X.data);ie(W=>{if(W.length===0)return W;const Z=new Map;W.forEach(Ee=>{const Se=new Date(Ee.timestamp).getTime();Z.set(Se,Ee)});const he=new Date(D.timestamp).getTime(),ge=Z.get(he);if(ge&&ge.open===D.open&&ge.high===D.high&&ge.low===D.low&&ge.close===D.close&&ge.volume===D.volume)return W;Z.set(he,D);const Oe=Array.from(Z.values()).sort((Ee,Se)=>new Date(Ee.timestamp).getTime()-new Date(Se.timestamp).getTime());return pK(n,t,Oe).catch(Ee=>console.warn("[Cache] Failed to sync:",Ee)),Oe})}},[X,Qt,n,t]),p.useEffect(()=>{const D=W=>{if(W.key==="k"&&(W.metaKey||W.ctrlKey)&&(W.preventDefault(),u(Z=>!Z)),W.key==="i"&&(W.metaKey||W.ctrlKey)&&(W.preventDefault(),f(Z=>!Z)),(W.key==="="||W.key==="+")&&(W.preventDefault(),j)){const Z=j.getVisibleLogicalRange();if(Z){const ge=(Z.to-Z.from)*.8,xe=(Z.from+Z.to)/2;j.setVisibleLogicalRange({from:xe-ge/2,to:xe+ge/2})}}if((W.key==="-"||W.key==="_")&&(W.preventDefault(),j)){const Z=j.getVisibleLogicalRange();if(Z){const ge=(Z.to-Z.from)*1.2,xe=(Z.from+Z.to)/2;j.setVisibleLogicalRange({from:xe-ge/2,to:xe+ge/2})}}if(W.key==="0"&&!W.ctrlKey&&!W.metaKey){if(W.target instanceof HTMLElement&&(W.target.tagName==="INPUT"||W.target.tagName==="TEXTAREA"||W.target.contentEditable==="true"))return;W.preventDefault(),j&&j.fitContent()}W.key==="Escape"&&(c&&u(!1),h&&f(!1))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[j,c,h]),p.useEffect(()=>{const D=zA();O(D),D.length>0?L(D[0]):L({id:"default",name:"Default Layout",activeIndicators:[],indicatorParams:{}})},[]),p.useEffect(()=>{console.log("[Initial Fetch] Triggered for symbol:",n,"interval:",t,"dataMode:",r),console.log("[Initial Fetch] useEffect executing, current candles:",$.length);const D=`${n}-${t}-${Date.now()}`;es.current=D,console.log("[Initial Fetch] Generated fetchId:",D),Ve(!0),We.current=null,ut(!0),Ut(null),(async()=>{try{console.log("[Initial Fetch] fetchData() called for symbol:",n,"interval:",t,"fetchId:",D);const Z=new Date;let he;t==="1d"||t==="1wk"?(he=new Date(Z),he.setHours(23,59,59,999),he.setDate(he.getDate()-1)):he=Z;const ge=he.toISOString(),xe=700,Oe=ZX(t),Se=new Date(he.getTime()-xe*Oe).toISOString();ye({from:Se,to:ge}),console.log("[Initial Fetch] Fetching candles from",Se,"to",ge);const Fe=await Gc(n,t,Se,ge).catch(qe=>(console.error("[Initial Fetch] ERROR fetching candles:",qe),[]));if(console.log("[Initial Fetch] Received",Fe.length,"candles","fetchId:",D),es.current!==D){console.warn("[Initial Fetch] Stale response discarded - fetchId:",D,"current:",es.current);return}Fe.length>0?(ie(Fe),Ut(null),jh(n),bn(qe=>qe+1)):$.length===0&&(ie([]),Ut(`No data available for ${n}`))}catch(Z){console.error("Failed to fetch data",Z),$.length===0&&Ut(`Failed to load data for ${n}. Please try again.`)}})()},[n,t]),p.useEffect(()=>{Nt($.length>0)},[$.length]),p.useEffect(()=>{const D=Ge||ia,W=it.length>0||ke.length>0;un(!D||!W)},[Ge,ia,it.length,ke.length]);const Hs=_n&&Fs;p.useEffect(()=>{Hs&&Qt&&ut(!1)},[Hs,Qt]);const wn=p.useRef(null),Ot=p.useRef(null),mi=p.useRef(null),pi=p.useRef(null),[Ws,gi]=p.useState(!1),[Uu,no]=p.useState(!1),tr=p.useRef(null),jl=p.useRef(0),aa=p.useRef(it),oa=p.useRef(ke);aa.current=it,oa.current=ke;const es=p.useRef("");p.useEffect(()=>{const D=console.log;return console.log=(...W)=>{if(D.apply(console,W),!wn.current||!Ot.current)return;const Z=W[0];if(typeof Z!="string")return;const he=Ot.current;Z.includes("[Initial Fetch] Received")&&(wn.current&&(mi.current=performance.now()),gi(!0),console.log(`%c[T2 DONE] Candles received for ${he}`,"color: #FF9800; font-weight: bold"),aa.current.length===0&&oa.current.length===0&&(console.log("%c[INDICATORS DONE] No indicators configured - immediate ready state","color: #4CAF50; font-weight: bold"),no(!0))),Z.includes("[T4 DONE]")&&(jl.current++,wn.current&&(pi.current=performance.now()),tr.current&&clearTimeout(tr.current),tr.current=setTimeout(()=>{console.log(`%c[INDICATORS DONE] Total T4 DONE messages: ${jl.current}`,"color: #4CAF50; font-weight: bold"),no(!0),jl.current=0},100))},()=>{console.log=D,tr.current&&clearTimeout(tr.current)}},[]),p.useEffect(()=>{if(!(!wn.current||!Ot.current)&&Ws&&Uu){const D=Ot.current,W=wn.current;gi(!1),no(!1),requestAnimationFrame(()=>{const ge=performance.now()-W;console.log(`%c[T5 DONE] Chart render complete for ${D}`,"color: #2196F3; font-weight: bold");const xe=mi.current?mi.current-wn.current:0,Oe=pi.current&&mi.current?pi.current-mi.current:0,Ee=ge-(pi.current?pi.current-wn.current:0);if(console.log(`%c[LOAD DONE] ${D} - ${ge.toFixed(0)}ms TOTAL (candles: ${xe.toFixed(0)}ms, indicators: ${Oe.toFixed(0)}ms, render: ${Ee.toFixed(0)}ms)`,`color: ${ge<500?"#4CAF50":ge<1e3?"#FF9800":"#F44336"}; font-weight: bold; font-size: 14px`),!document.getElementById("load-time-animations")){const qe=document.createElement("style");qe.id="load-time-animations",qe.textContent=`
                  @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-10px); }
                    to { opacity: 1; transform: translateY(0); }
                  }
                  @keyframes fadeOut {
                    from { opacity: 1; transform: translateY(0); }
                    to { opacity: 0; transform: translateY(-10px); }
                  }
                `,document.head.appendChild(qe)}const Se=document.getElementById("load-time-overlay");Se&&Se.remove();const Fe=document.createElement("div");Fe.id="load-time-overlay",Fe.style.cssText=`
                position: fixed;
                top: 10px;
                right: 10px;
                background: ${ge<500?"#4CAF50":ge<1e3?"#FF9800":"#F44336"};
                color: white;
                padding: 10px 15px;
                border-radius: 5px;
                font-family: monospace;
                font-weight: bold;
                font-size: 14px;
                z-index: 10000;
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                animation: fadeIn 0.3s ease-in;
                max-width: 300px;
              `,Fe.innerHTML=` ${D}: ${ge.toFixed(0)}ms<br><small>candles: ${xe.toFixed(0)}ms | indicators: ${Oe.toFixed(0)}ms | render: ${Ee.toFixed(0)}ms</small>`,document.body.appendChild(Fe),setTimeout(()=>{Fe.style.animation="fadeOut 0.3s ease-out",setTimeout(()=>Fe.remove(),300)},3e3),wn.current=null,Ot.current=null,mi.current=null,pi.current=null})}},[Ws,Uu]);const In=p.useCallback(D=>{wn.current=performance.now(),Ot.current=D,console.log(`%c[T1 START] Symbol click: ${D}`,"color: #4CAF50; font-weight: bold; font-size: 14px"),ie([]),e(D)},[]),Bu=p.useCallback(D=>{const W=D.trim();if(!W)return;if(!XX(W,me)){Fn.error(`Layout "${W}" already exists`);return}const Z=sE(it,ke),he=JX(W,Z),ge=[...me,he];O(ge),b0(ge),L(he)},[me,it,ke]),_m=p.useCallback(()=>{if(!M||M.id==="default")return;const{activeIndicators:D,indicatorParams:W}=sE(it,ke),Z={...M,activeIndicators:D,indicatorParams:W},he=me.map(ge=>ge.id===M.id?Z:ge);O(he),b0(he),L(Z)},[M,me,it,ke]);p.useCallback(D=>{const W=zt[D.toLowerCase()];if(!W){console.warn(`Unknown indicator: ${D}`);return}const Z=W.category;if(Z==="oscillator"){const he=it.find(ge=>ge.indicatorType.name.toLowerCase()===D.toLowerCase());if(he)an(he.id);else{const ge=M?.indicatorParams[D]||{};dn({category:"oscillator",name:D,params:ge})}}else if(Z==="overlay"){const he=ke.find(ge=>ge.indicatorType.name.toLowerCase()===D.toLowerCase());if(he)Mt(he.id);else{const ge=M?.indicatorParams[D]||{};Je(D,ge)}}},[it,ke,M,zt,dn,an,Je,Mt]);const kl=p.useCallback(D=>{L(D);const W=new Set(it.map(xe=>xe.indicatorType.name.toLowerCase())),Z=new Set(ke.map(xe=>xe.indicatorType.name.toLowerCase())),he=[],ge=[];for(const xe of D.activeIndicators){const Oe=zt[xe.toLowerCase()];if(!Oe){console.warn(`Unknown indicator in layout: ${xe}`);continue}Oe.category==="oscillator"?he.push(xe):Oe.category==="overlay"&&ge.push(xe)}for(const xe of it){const Oe=xe.indicatorType.name.toLowerCase();he.includes(Oe)||an(xe.id)}for(const xe of he)if(!W.has(xe)){const Oe=D.indicatorParams[xe]||{};dn({category:"oscillator",name:xe,params:Oe})}for(const xe of ke){const Oe=xe.indicatorType.name.toLowerCase();ge.includes(Oe)||Mt(xe.id)}for(const xe of ge)if(!Z.has(xe)){const Oe=D.indicatorParams[xe]||{};Je(xe,Oe)}},[it,ke,zt,dn,an,Je,Mt]),Vu=V.filter(D=>D.status==="triggered").length,so=p.useCallback(()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(D=>{console.error(`Error attempting to enable full-screen mode: ${D.message}`)})},[]),Em=p.useCallback(()=>{o(D=>D==="websocket"?"polling":"websocket")},[]),Ln=p.useCallback(()=>{r==="polling"&&vn.current&&vn.current()},[r]),Ol=p.useCallback(async D=>{for(const W of D)try{await q(W),k(Z=>Z.filter(he=>he!==W)),Fn.success(`Removed ${W} from watchlist`)}catch(Z){console.error("Failed to remove symbol:",Z),Fn.error(`Failed to remove ${W}`)}},[q]),Fu=p.useCallback(async D=>{let W;if(D.length===2){const[he,ge]=D,xe=J.findIndex(Se=>Se.toUpperCase()===he.symbol.toUpperCase()),Oe=J.findIndex(Se=>Se.toUpperCase()===ge.symbol.toUpperCase());if(xe===-1||Oe===-1){console.error("[REORDER] Symbol not found in orderedSymbols:",he.symbol,ge.symbol),console.error("[REORDER] orderedSymbols contains:",J.slice(0,10),"...");return}W=J.map(Se=>Se.toUpperCase());const[Ee]=W.splice(xe,1);W.splice(Oe,0,Ee)}else W=D.map(he=>he.symbol.toUpperCase());const Z=J;k(W);try{await re(W)}catch(he){console.error("Failed to persist watchlist order:",he),k(Z),Fn.error("Failed to save watchlist order. Please try again."),G()}},[re,J,G]),Dl=p.useCallback(async D=>{const W=D.trim().toUpperCase();try{const Z=await ee(W);return(typeof Z=="string"?Z:Z.status)==="already_present"?(e(W),Fn.success(`${W} is already in your watchlist`)):(e(W),Fn.success(`Added ${W} to watchlist`)),{ok:!0}}catch(Z){console.error("Failed to add symbol to watchlist:",Z);const ge=Z.response?.data?.detail||"";return ge.startsWith("invalidticker")?{ok:!1,detail:`${W} is not a valid ticker on Yahoo Finance`}:ge.startsWith("nodata")?{ok:!1,detail:`No historical data available for ${W}`}:ge.startsWith("timeout")?{ok:!1,detail:"Validation timed out. Yahoo Finance may be slow. Please try again."}:ge.startsWith("ratelimited")?{ok:!1,detail:"Rate limited by Yahoo Finance. Please wait a moment and try again."}:{ok:!1,detail:ge||`Failed to add ${W} to watchlist`}}},[ee,e]),vi=p.useMemo(()=>it.filter(D=>D.indicatorType.category==="overlay"),[it]),la=p.useMemo(()=>it.filter(D=>D.indicatorType.category==="oscillator"),[it]),Hu=p.useMemo(()=>la.filter(D=>_e[D.id]&&D.displaySettings.visible&&Xe[D.id]?.visible!==!1),[la,_e,Xe]),yi=3,Wu=1,Il=100,ca=Math.max(T.height-40,300),Ll=Math.floor(ca/Il),nr=Hu.slice(0,Ll),Gu=yi+nr.length*Wu,sr=nr.length===0?ca:ca*(yi/Gu),ms=nr.length>0?Math.max(ca*(Wu/Gu),Il):0,ua=p.useMemo(()=>{const D=[];return vi.filter(W=>Xe[W.id]?.visible!==!1).forEach(W=>{const Z=_e[W.id];if(!Z)return;const he=Z.metadata.series_metadata[0];if(!he)return;const ge=Z.data[he.field];if(!ge)return;const xe=Z.timestamps,Oe=Z.metadata.series_metadata.find(Se=>Se.role==="signal"),Ee=Oe?Z.data[Oe.field]:null;if(Ee){const Se=xe.map((Gs,ao)=>{const ma=ge[ao],gt=Ee[ao];if(ma==null)return null;const xi=Gs,Nm=gt===1?"#00FF00":gt===0?"#FFFF00":gt===-1?"#ef5350":he.line_color;return{time:xi,value:ma,color:Nm}}).filter(Gs=>Gs!==null),Fe=W.indicatorType.name.toLowerCase(),qe=Xe[W.id]?.showLastValue??Xe[Fe]?.showLastValue??!0;D.push({id:W.id,data:Se,color:he.line_color,lineWidth:he.line_width,showLastValue:qe})}else{const Se=tq(xe,ge),Fe=W.indicatorType.name.toLowerCase(),qe=Xe[W.id]?.showLastValue??Xe[Fe]?.showLastValue??!0;D.push({id:W.id,data:Se,color:he.line_color,lineWidth:he.line_width,showLastValue:qe})}}),D},[vi,_e,Xe]),ir=p.useMemo(()=>{const D=[];return ke.filter(W=>W.isVisible).forEach(W=>{const Z=to[W.id];if(!Z)return;if(Z.metadata.series_metadata.every(ge=>ge.role==="band")&&Z.metadata.series_metadata.length>1)Z.metadata.series_metadata.forEach(ge=>{const xe=Z.data[ge.field];if(!xe)return;const Oe=Z.timestamps.map((Se,Fe)=>{const qe=xe[Fe];return qe==null?null:{time:Se,value:qe}}).filter(Se=>Se!==null),Ee=W.style.seriesColors?.[ge.field]||ge.line_color;D.push({id:`${W.id}-${ge.field}`,data:Oe,color:Ee,lineWidth:W.style.lineWidth||ge.line_width||1,showLastValue:W.style.showLastValue,visible:W.isVisible})});else{const ge=sq(Z,void 0,W.style.seriesColors);D.push({id:W.id,data:ge,color:W.style.color,lineWidth:W.style.lineWidth,showLastValue:W.style.showLastValue,visible:W.isVisible})}}),D},[ke,to]),bi=p.useMemo(()=>{new Set(ua.map(W=>W.id));const D=[...ua];return ir.forEach(W=>{const Z=D.findIndex(he=>he.id===W.id);Z>=0?D[Z]=W:D.push(W)}),D},[ua,ir]),rr=p.useMemo(()=>{const D={};return ir.forEach(W=>{D[W.id]=W.data}),D},[ir]),Pl=p.useCallback(D=>{if(!D?.sourceEvent)return;const W=D?.time;if(!W){En.current.forEach(({chart:he})=>{try{he.clearCrosshairPosition?.()}catch{}}),qt(null);return}Le(W);const Z=$.find(he=>Math.floor(new Date(he.timestamp).getTime()/1e3)===W);qt(Z||null),la.forEach(he=>{const ge=En.current.get(he.id);if(!ge||!ge.chart||!ge.series)return;const xe=_e[he.id];if(!xe)return;const Oe=xe.metadata.series_metadata[0];if(!Oe)return;const Ee=xe.data[Oe.field];if(!Ee)return;const Se=xe.timestamps.indexOf(W);if(Se===-1)return;const Fe=Ee[Se];if(Fe!=null)try{ge.chart.setCrosshairPosition(Fe,W,ge.series)}catch(qe){console.debug("[App] Failed to set crosshair position for indicator:",he.id,qe)}else try{ge.chart.clearCrosshairPosition?.()}catch{}})},[la,_e,$]),zl=p.useCallback(D=>{s(D.toLowerCase())},[]),qu=p.useCallback(D=>{Dn(D),Nn(!0)},[]),da=p.useCallback(D=>{an(D)},[an]),ks=p.useCallback((D,W)=>{fs&&fs(D,W)},[fs]),$l=p.useCallback(D=>{sa(D)},[]),ha=p.useRef(null),ps=p.useCallback(async()=>{if(oe||!we||$.length===0)return;const D=$[0].timestamp;if(We.current!==D){We.current=D,K(!0),Bt(!0);try{const W=new Date(D),Z=W.toISOString(),he=new Date(W),xe={"1m":7,"2m":30,"5m":30,"15m":30,"30m":60,"1h":60,"4h":120,"1d":365*5,"1wk":365*10}[t]||60;he.setDate(he.getDate()-xe);const Oe=he.toISOString(),Ee=await Gc(n,t,Oe,Z);if(Ee.length>0)kt(Ee),jh(n),bn(Se=>Se+1);else{console.log("[fetchMoreHistory] No data returned, trying smaller window...");const Se=new Date(W);Se.setDate(Se.getDate()-xe/2);const Fe=Se.toISOString(),qe=await Gc(n,t,Fe,Z);qe.length>0?(kt(qe),jh(n),bn(Gs=>Gs+1)):(Ve(!1),console.warn(`[fetchMoreHistory] Reached beginning of available data for ${n}`),Bt(!1),kt(null))}}catch(W){console.error("Failed to fetch more history",W),Bt(!1),kt(null)}finally{K(!1)}}},[oe,we,$,n,t]);p.useEffect(()=>{ha.current=ps},[ps]),p.useEffect(()=>{if(jt&&!Ge&&!ia&&hs){const W=((Z,he)=>[...he,...Z].filter((Oe,Ee,Se)=>Ee===Se.findIndex(Fe=>Fe.timestamp===Oe.timestamp)).sort((Oe,Ee)=>new Date(Oe.timestamp).getTime()-new Date(Ee.timestamp).getTime()))($,jt);W.length>Qi&&(console.warn(`[Backfill] Reached maximum candle limit (${Qi})`),Ve(!1)),ie(W),kt(null),Bt(!1)}},[jt,Ge,ia,hs,$]);const io=p.useCallback(D=>{D&&ct(D)},[$.length,n,we,oe,_n]),fa=eE({candles:$,symbol:n,interval:t,hasMore:we,isFetching:oe,onFetchMore:ps}),Yu=p.useCallback(D=>{io(D)},[io]),ro=p.useCallback(D=>{fa(D)},[fa]);return m.jsxs(m.Fragment,{children:[m.jsx(Qq,{}),m.jsx(YX,{}),m.jsxs(fV,{children:[m.jsx(jL,{alertsBadgeCount:Vu,userMenuContent:v?m.jsx(YK,{}):null,watchlistContent:m.jsx(jK,{symbols:J,children:D=>m.jsx(gV,{items:D.entries.length>0?D.entries:F,onAddClick:()=>u(!0),onRemove:Ol,onSelect:In,onReorder:Fu,isRefreshing:D.isRefreshing,lastUpdate:D.lastUpdate})}),alertsContent:m.jsx(k7,{alerts:V,symbol:n,onToggleMute:async D=>{const W=V.find(Z=>Z.id===D);if(W)try{const{muteAlert:Z,unmuteAlert:he}=await Gn(async()=>{const{muteAlert:ge,unmuteAlert:xe}=await Promise.resolve().then(()=>ja);return{muteAlert:ge,unmuteAlert:xe}},void 0);W.status==="muted"?(await he(Number(D)),Q(ge=>ge.map(xe=>xe.id===D?{...xe,status:"active"}:xe)),Fn.success("Alert unmuted")):(await Z(Number(D)),Q(ge=>ge.map(xe=>xe.id===D?{...xe,status:"muted"}:xe)),Fn.success("Alert muted"))}catch(Z){console.error("Failed to toggle mute:",Z),Fn.error("Failed to toggle mute")}},onDelete:async D=>{try{if(g){const{deleteAlert:W}=await Gn(async()=>{const{deleteAlert:Z}=await Promise.resolve().then(()=>ja);return{deleteAlert:Z}},void 0);await W(Number(D))}else{const{saveAlerts:W}=await Gn(async()=>{const{saveAlerts:he}=await Promise.resolve().then(()=>fY);return{saveAlerts:he}},void 0),Z=V.filter(he=>he.id!==D);W(Z)}Q(W=>W.filter(Z=>Z.id!==D)),Fn.success("Alert deleted")}catch(W){console.error("Failed to delete alert:",W),Fn.error("Failed to delete alert")}},onSelect:e,onTriggerDemo:D=>Q(W=>W.map(Z=>Z.id===D?{...Z,status:"triggered"}:Z)),onAlertCreated:D=>Q(W=>[...W,D])}),children:m.jsxs("div",{ref:N,"data-testid":"main-viewport",className:"flex flex-col h-full w-full p-0 space-y-0",children:[m.jsx(Y$,{symbol:n,interval:t,onIntervalSelect:zl,onSymbolClick:()=>u(!0),onIndicatorsClick:()=>f(!0),onFullscreenToggle:so,activeLayout:M,savedLayouts:me,onLayoutSelect:kl,onLayoutSave:Bu,indicatorSettings:Xe,indicators:it,onToggleIndicatorVisibility:ra,onToggleSeriesVisibility:Al,onToggleLevelsVisibility:Zi,onToggleLastValueVisibility:er,onRemoveIndicator:D=>{if(it.find(he=>he.id===D)){an(D);return}const Z=it.find(he=>he.indicatorType.name.toLowerCase()===D.toLowerCase());Z?an(Z.id):console.warn(`Could not find indicator to remove: ${D}`)},dataMode:r,onDataModeToggle:Em,onManualRefresh:Ln,onLayoutUpdate:_m}),m.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[m.jsx("div",{className:"bg-[#131722] px-2 py-1 flex items-center justify-between",children:m.jsx(ZG,{candle:Et,interval:t})}),m.jsxs("div",{style:{height:sr},className:"shrink-0 bg-slate-900 border-b-0 border-slate-800 relative min-h-0 overflow-hidden w-full",children:[ke.length>0&&m.jsx("div",{className:"absolute left-2 top-1 z-10 flex gap-2 text-xs pointer-events-none",children:m.jsx(FX,{instances:ke,symbol:n,interval:t,onToggleVisibility:D=>rt(D),onRemove:D=>Mt(D),onSettings:D=>{On(D),dt(!0)},onViewSource:D=>sa(D),onAlertCreated:async()=>{try{if(g){const{listAlerts:D,getAlertNotificationSettings:W}=await Gn(async()=>{const{listAlerts:Ee,getAlertNotificationSettings:Se}=await Promise.resolve().then(()=>ja);return{listAlerts:Ee,getAlertNotificationSettings:Se}},void 0),Z=await D(),he=Z.map(async Ee=>{try{const Se=await W(String(Ee.id));return{alertId:Ee.id,settings:Se}}catch{return{alertId:Ee.id,settings:null}}}),ge=await Promise.all(he),xe=new Map(ge.map(Ee=>[Ee.alertId,Ee.settings])),Oe=Z.map(Ee=>({id:String(Ee.id),symbol:Ee.symbol||"",condition:Ee.condition,threshold:Ee.threshold,status:Ee.is_active?"active":"muted",createdAt:Ee.created_at,interval:Ee.interval,indicator_name:Ee.indicator_name,indicator_field:Ee.indicator_field,indicator_params:Ee.indicator_params,enabled_conditions:Ee.enabled_conditions,messages:Ee.messages,notificationSettings:xe.get(Ee.id)??void 0}));Q(Oe)}else{const{getGuestAlerts:D}=await Gn(async()=>{const{getGuestAlerts:he}=await Promise.resolve().then(()=>ja);return{getGuestAlerts:he}},void 0),Z=D().map(he=>({id:he.uuid,symbol:he.symbol,condition:he.condition.replace("-","_"),threshold:he.target,status:he.enabled?"active":"muted",createdAt:he.created_at,interval:void 0,indicator_name:void 0,indicator_field:void 0,indicator_params:void 0,enabled_conditions:void 0,messages:void 0}));Q(Z)}}catch(D){console.error("Failed to refresh alerts:",D)}},crosshairTime:At,seriesDataMap:rr})}),r==="polling"?m.jsx(yK,{symbol:n,interval:t,children:D=>{vn.current=D.refresh,bn(D.dataVersion);const W=eE({candles:D.candles,symbol:n,interval:t,hasMore:D.hasMore,isFetching:D.isRefreshing,onFetchMore:D.fetchCandlesWithRange}),Z=ge=>{console.log("[Scroll] handlePollingScrollRangeChange called",{range:ge,candlesLength:D.candles.length,hasMore:D.hasMore,isRefreshing:D.isRefreshing})},he=ge=>{console.log("[Scroll] handlePollingScrollLogicalRangeChange called",{range:ge,candlesLength:D.candles.length,hasMore:D.hasMore}),W(ge)};return m.jsxs(m.Fragment,{children:[D.isLoading&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"}),m.jsx("span",{className:"text-slate-400 text-sm",children:"Loading chart data..."})]})}),D.isRefreshing&&!D.isLoading&&m.jsx("div",{className:"absolute top-2 right-2 z-10",children:m.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 px-2 py-1 rounded",children:[m.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border border-blue-400 border-t-transparent"}),m.jsx("span",{className:"text-xs text-slate-400",children:"Updating..."}),D.lastUpdate&&m.jsx("span",{className:"text-xs text-slate-500",children:D.lastUpdate.toLocaleTimeString()})]})}),!D.isRefreshing&&!D.isLoading&&D.lastUpdate&&m.jsx("div",{className:"absolute top-2 right-2 z-10",children:m.jsxs("span",{className:"text-xs text-slate-500 bg-slate-800 px-2 py-1 rounded",children:["Updated: ",D.lastUpdate.toLocaleTimeString()]})}),D.error&&!D.isLoading&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:m.jsxs("div",{className:"flex flex-col items-center gap-3 text-center px-4",children:[m.jsx("div",{className:"text-red-400 text-sm font-medium",children:D.error}),m.jsx("button",{onClick:D.refresh,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Retry"})]})}),m.jsx(W_,{fallback:m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-red-400 text-sm mb-2",children:"Chart rendering failed"}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Reload"})]})}),children:m.jsx(U_,{symbol:n,candles:D.candles,width:T.width,height:sr,onTimeScaleInit:z,onCrosshairMove:Pl,overlays:bi,onVisibleTimeRangeChange:Z,onVisibleLogicalRangeChange:he,showVolume:!0,showLastPrice:!0},`${n}-${t}-polling`)})]})}}):m.jsxs(m.Fragment,{children:[!Hs&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:m.jsxs("div",{className:"flex flex-col items-center gap-3",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"}),m.jsx("span",{className:"text-slate-400 text-sm",children:"Loading chart data..."})]})}),rn&&Hs&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:m.jsxs("div",{className:"flex flex-col items-center gap-3 text-center px-4",children:[m.jsx("div",{className:"text-red-400 text-sm font-medium",children:rn}),m.jsx("button",{onClick:()=>{Ut(null);const D=n;e(""),setTimeout(()=>e(D),0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Retry"})]})}),m.jsx(W_,{fallback:m.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-red-400 text-sm mb-2",children:"Chart rendering failed"}),m.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Reload"})]})}),children:$.length>0&&m.jsx(U_,{symbol:n,candles:$,width:T.width,height:sr,onTimeScaleInit:z,onCrosshairMove:Pl,overlays:bi,onVisibleTimeRangeChange:Yu,onVisibleLogicalRangeChange:ro,showVolume:!0,showLastPrice:!0},`${n}-${t}`)})]})]}),nr.length>0&&m.jsx("div",{className:"flex flex-col gap-0 min-h-0 w-full",children:nr.map((D,W)=>{const Z=_e[D.id]??void 0,he=D.displaySettings.visible&&Xe[D.id]?.visible!==!1,ge=W===nr.length-1;if(!he)return null;const xe=D.indicatorType.name.toLowerCase(),Oe=Xe[D.id]?.showLastValue??Xe[xe]?.showLastValue??!0;return m.jsx("div",{className:"bg-slate-900 p-1 border border-t-0 border-slate-800 w-full relative shrink-0",style:{borderRadius:ge?"0 0 0.5rem 0.5rem":"0",height:ms},children:m.jsx(hY,{name:D.name,displayName:D.name,indicatorId:D.id,style:D.style,symbol:n,interval:t,width:T.width,height:ms,onTimeScaleInit:Ee=>{if(Ee){if(P.current.set(D.id,Ee),j){const Se=j.getVisibleLogicalRange();Se&&Ee.setVisibleLogicalRange(Se)}}else P.current.delete(D.id)},onChartInit:(Ee,Se)=>{En.current.set(D.id,{chart:Ee,series:Se})},candles:$,indicatorData:Z,crosshairTime:At,showLastValue:Oe,onSettingsClick:()=>qu(D.id),onViewSource:()=>$l(D.id),onRemove:()=>an(D.id),onAlertCreated:async()=>{try{if(g){const{listAlerts:Ee,getAlertNotificationSettings:Se}=await Gn(async()=>{const{listAlerts:gt,getAlertNotificationSettings:xi}=await Promise.resolve().then(()=>ja);return{listAlerts:gt,getAlertNotificationSettings:xi}},void 0),Fe=await Ee(),qe=Fe.map(async gt=>{try{const xi=await Se(String(gt.id));return{alertId:gt.id,settings:xi}}catch{return{alertId:gt.id,settings:null}}}),Gs=await Promise.all(qe),ao=new Map(Gs.map(gt=>[gt.alertId,gt.settings])),ma=Fe.map(gt=>({id:String(gt.id),symbol:gt.symbol||"",condition:gt.condition,threshold:gt.threshold,status:gt.is_active?"active":"muted",createdAt:gt.created_at,interval:gt.interval,indicator_name:gt.indicator_name,indicator_field:gt.indicator_field,indicator_params:gt.indicator_params,enabled_conditions:gt.enabled_conditions,messages:gt.messages,notificationSettings:ao.get(gt.id)??void 0}));Q(ma)}else{const{getGuestAlerts:Ee}=await Gn(async()=>{const{getGuestAlerts:qe}=await Promise.resolve().then(()=>ja);return{getGuestAlerts:qe}},void 0),Fe=Ee().map(qe=>({id:qe.uuid,symbol:qe.symbol,condition:qe.condition.replace("-","_"),threshold:qe.target,status:qe.enabled?"active":"muted",createdAt:qe.created_at,interval:void 0,indicator_name:void 0,indicator_field:void 0,indicator_params:void 0,enabled_conditions:void 0,messages:void 0}));Q(Fe)}}catch(Ee){console.error("Failed to refresh alerts:",Ee)}},params:D.indicatorType.params,alerts:V})},D.id)})})]})]})}),m.jsx(HY,{open:h,onOpenChange:f,onAddOverlayInstance:(D,W)=>Je(D,W)}),m.jsx(zj,{open:on,onOpenChange:dt,indicator:ke.find(D=>D.id===ht)||null,indicatorMetadata:ht?(()=>{const D=ke.find(he=>he.id===ht);if(!D)return;const W=zt[D.indicatorType.name];if(!W)return;const Z={...W,...to[ht]?.metadata};return W.parameters&&!Array.isArray(Z.parameters)&&(Z.parameters=W.parameters),Z})():void 0,onApplyChanges:(D,W)=>{st(D,W)},onRemove:D=>{Mt(D),dt(!1)}}),m.jsx(qX,{open:Zt,onOpenChange:Nn,indicator:it.find(D=>D.id===Zn)||null,indicatorMetadata:Zn?(()=>{const D=it.find(ge=>ge.id===Zn);if(!D)return;const W=D.indicatorType.name,Z=zt[W];if(!Z||!Z.parameters)return;const he=Array.isArray(Z.parameters)?Z.parameters:Object.entries(Z.parameters).map(([ge,xe])=>({name:ge,type:xe.type,default:xe.default,min:xe.min,max:xe.max,step:xe.step,description:xe.description}));return{...Z.metadata||{},parameters:he,series_metadata:_e[Zn]?.metadata.series_metadata}})():void 0,onStyleChange:ks,onParamsChange:(D,W)=>{Tt(D,W)},onVisibilityToggle:D=>{it.find(Z=>Z.id===D)&&pt(Z=>({...Z,[D]:{...Z[D],visible:Z[D]?.visible===!1}}))},onRemove:da}),m.jsx(WX,{open:fi!==null,onOpenChange:D=>!D&&sa(null),indicator:ke.find(D=>D.id===fi)||null}),m.jsx(wX,{open:c,onOpenChange:u,onSelectSymbol:Dl}),m.jsx(bj,{open:w,onOpenChange:S,defaultTab:C})]})]})}function ZX(n){return{"1m":6e4,"2m":12e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"4h":144e5,"1d":864e5,"1wk":6048e5}[n]||864e5}function eJ(){const{isAuthenticated:n,isLoading:e}=eo(),[t,s]=p.useState(!1),[r,o]=p.useState("sign-in"),c=Oj(n),[u,h]=p.useState(()=>"LOADING");return p.useEffect(()=>{const f=g=>{g.message.includes("Value is null")&&g.filename&&g.filename.includes("lightweight-charts")&&(g.preventDefault(),console.debug("[Chart] Suppressed lightweight-charts error (edge case during zoom/symbol change)"))},v=g=>{g.reason instanceof Error&&g.reason.message.includes("Value is null")&&g.reason.stack&&g.reason.stack.includes("lightweight-charts")&&(g.preventDefault(),console.debug("[Chart] Suppressed lightweight-charts promise rejection (edge case during zoom/symbol change)"))};return window.addEventListener("error",f),window.addEventListener("unhandledrejection",v),()=>{window.removeEventListener("error",f),window.removeEventListener("unhandledrejection",v)}},[]),CX({isLoading:c.isLoading,symbols:c.symbols},u,h),e?m.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:m.jsx("div",{children:"Loading..."})}):n?u==="LOADING"||c.isLoading?m.jsx("div",{className:"flex items-center justify-center h-screen text-slate-400",children:"Loading chart..."}):m.jsx(CY,{children:m.jsx(QX,{symbol:u,setSymbol:h})}):m.jsxs(m.Fragment,{children:[m.jsx(VD,{onOpenChart:()=>{},onLoginClick:()=>{o("sign-in"),s(!0)},onGoogleClick:()=>{o("sign-in"),s(!0)},onEmailClick:()=>{o("sign-in"),s(!0)}}),m.jsx(bj,{open:t,onOpenChange:s,defaultTab:r})]})}WO.createRoot(document.getElementById("root")).render(m.jsxs(HK,{children:[m.jsx(OD,{position:"top-right",toastOptions:{duration:5e3,style:{background:"var(--toast-bg, #363636)",color:"var(--toast-color, #fff)"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}}),m.jsx(eJ,{})]}));
