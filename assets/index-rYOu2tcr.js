function EO(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function YE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gg={exports:{}},yc={};var T1;function _O(){if(T1)return yc;T1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:s,key:c,ref:r!==void 0?r:null,props:o}}return yc.Fragment=e,yc.jsx=t,yc.jsxs=t,yc}var M1;function NO(){return M1||(M1=1,gg.exports=_O()),gg.exports}var f=NO(),vg={exports:{}},xc={},bg={exports:{}},yg={};var R1;function TO(){return R1||(R1=1,(function(n){function e(k,W){var V=k.length;k.push(W);e:for(;0<V;){var Y=V-1>>>1,me=k[Y];if(0<r(me,W))k[Y]=W,k[V]=me,V=Y;else break e}}function t(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var W=k[0],V=k.pop();if(V!==W){k[0]=V;e:for(var Y=0,me=k.length,D=me>>>1;Y<D;){var R=2*(Y+1)-1,z=k[R],$=R+1,J=k[$];if(0>r(z,V))$<me&&0>r(J,z)?(k[Y]=J,k[$]=V,Y=$):(k[Y]=z,k[R]=V,Y=R);else if($<me&&0>r(J,V))k[Y]=J,k[$]=V,Y=$;else break e}}return W}function r(k,W){var V=k.sortIndex-W.sortIndex;return V!==0?V:k.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var h=[],m=[],v=1,g=null,x=3,w=!1,S=!1,C=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function j(k){for(var W=t(m);W!==null;){if(W.callback===null)s(m);else if(W.startTime<=k)s(m),W.sortIndex=W.expirationTime,e(h,W);else break;W=t(m)}}function P(k){if(C=!1,j(k),!S)if(t(h)!==null)S=!0,I||(I=!0,he());else{var W=t(m);W!==null&&ne(P,W.startTime-k)}}var I=!1,O=-1,B=5,re=-1;function le(){return _?!0:!(n.unstable_now()-re<B)}function te(){if(_=!1,I){var k=n.unstable_now();re=k;var W=!0;try{e:{S=!1,C&&(C=!1,T(O),O=-1),w=!0;var V=x;try{t:{for(j(k),g=t(h);g!==null&&!(g.expirationTime>k&&le());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,x=g.priorityLevel;var me=Y(g.expirationTime<=k);if(k=n.unstable_now(),typeof me=="function"){g.callback=me,j(k),W=!0;break t}g===t(h)&&s(h),j(k)}else s(h);g=t(h)}if(g!==null)W=!0;else{var D=t(m);D!==null&&ne(P,D.startTime-k),W=!1}}break e}finally{g=null,x=V,w=!1}W=void 0}}finally{W?he():I=!1}}}var he;if(typeof M=="function")he=function(){M(te)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ce=oe.port2;oe.port1.onmessage=te,he=function(){ce.postMessage(null)}}else he=function(){N(te,0)};function ne(k,W){O=N(function(){k(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(k){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var V=x;x=W;try{return k()}finally{x=V}},n.unstable_requestPaint=function(){_=!0},n.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=x;x=k;try{return W()}finally{x=V}},n.unstable_scheduleCallback=function(k,W,V){var Y=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,k){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=V+me,k={id:v++,callback:W,priorityLevel:k,startTime:V,expirationTime:me,sortIndex:-1},V>Y?(k.sortIndex=V,e(m,k),t(h)===null&&k===t(m)&&(C?(T(O),O=-1):C=!0,ne(P,V-Y))):(k.sortIndex=me,e(h,k),S||w||(S=!0,I||(I=!0,he()))),k},n.unstable_shouldYield=le,n.unstable_wrapCallback=function(k){var W=x;return function(){var V=x;x=W;try{return k.apply(this,arguments)}finally{x=V}}}})(yg)),yg}var A1;function MO(){return A1||(A1=1,bg.exports=TO()),bg.exports}var xg={exports:{}},ze={};var j1;function RO(){if(j1)return ze;j1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function N(D,R,z){this.props=D,this.context=R,this.refs=_,this.updater=z||S}N.prototype.isReactComponent={},N.prototype.setState=function(D,R){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,R,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=N.prototype;function M(D,R,z){this.props=D,this.context=R,this.refs=_,this.updater=z||S}var j=M.prototype=new T;j.constructor=M,C(j,N.prototype),j.isPureReactComponent=!0;var P=Array.isArray;function I(){}var O={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function re(D,R,z){var $=z.ref;return{$$typeof:n,type:D,key:R,ref:$!==void 0?$:null,props:z}}function le(D,R){return re(D.type,R,D.props)}function te(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function he(D){var R={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(z){return R[z]})}var oe=/\/+/g;function ce(D,R){return typeof D=="object"&&D!==null&&D.key!=null?he(""+D.key):R.toString(36)}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(I,I):(D.status="pending",D.then(function(R){D.status==="pending"&&(D.status="fulfilled",D.value=R)},function(R){D.status==="pending"&&(D.status="rejected",D.reason=R)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function k(D,R,z,$,J){var Q=typeof D;(Q==="undefined"||Q==="boolean")&&(D=null);var q=!1;if(D===null)q=!0;else switch(Q){case"bigint":case"string":case"number":q=!0;break;case"object":switch(D.$$typeof){case n:case e:q=!0;break;case v:return q=D._init,k(q(D._payload),R,z,$,J)}}if(q)return J=J(D),q=$===""?"."+ce(D,0):$,P(J)?(z="",q!=null&&(z=q.replace(oe,"$&/")+"/"),k(J,R,z,"",function(we){return we})):J!=null&&(te(J)&&(J=le(J,z+(J.key==null||D&&D.key===J.key?"":(""+J.key).replace(oe,"$&/")+"/")+q)),R.push(J)),1;q=0;var ae=$===""?".":$+":";if(P(D))for(var be=0;be<D.length;be++)$=D[be],Q=ae+ce($,be),q+=k($,R,z,Q,J);else if(be=w(D),typeof be=="function")for(D=be.call(D),be=0;!($=D.next()).done;)$=$.value,Q=ae+ce($,be++),q+=k($,R,z,Q,J);else if(Q==="object"){if(typeof D.then=="function")return k(ne(D),R,z,$,J);throw R=String(D),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return q}function W(D,R,z){if(D==null)return D;var $=[],J=0;return k(D,$,"","",function(Q){return R.call(z,Q,J++)}),$}function V(D){if(D._status===-1){var R=D._result;R=R(),R.then(function(z){(D._status===0||D._status===-1)&&(D._status=1,D._result=z)},function(z){(D._status===0||D._status===-1)&&(D._status=2,D._result=z)}),D._status===-1&&(D._status=0,D._result=R)}if(D._status===1)return D._result.default;throw D._result}var Y=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},me={map:W,forEach:function(D,R,z){W(D,function(){R.apply(this,arguments)},z)},count:function(D){var R=0;return W(D,function(){R++}),R},toArray:function(D){return W(D,function(R){return R})||[]},only:function(D){if(!te(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return ze.Activity=g,ze.Children=me,ze.Component=N,ze.Fragment=t,ze.Profiler=r,ze.PureComponent=M,ze.StrictMode=s,ze.Suspense=h,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return O.H.useMemoCache(D)}},ze.cache=function(D){return function(){return D.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(D,R,z){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=C({},D.props),J=D.key;if(R!=null)for(Q in R.key!==void 0&&(J=""+R.key),R)!B.call(R,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&R.ref===void 0||($[Q]=R[Q]);var Q=arguments.length-2;if(Q===1)$.children=z;else if(1<Q){for(var q=Array(Q),ae=0;ae<Q;ae++)q[ae]=arguments[ae+2];$.children=q}return re(D.type,J,$)},ze.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},ze.createElement=function(D,R,z){var $,J={},Q=null;if(R!=null)for($ in R.key!==void 0&&(Q=""+R.key),R)B.call(R,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(J[$]=R[$]);var q=arguments.length-2;if(q===1)J.children=z;else if(1<q){for(var ae=Array(q),be=0;be<q;be++)ae[be]=arguments[be+2];J.children=ae}if(D&&D.defaultProps)for($ in q=D.defaultProps,q)J[$]===void 0&&(J[$]=q[$]);return re(D,Q,J)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(D){return{$$typeof:u,render:D}},ze.isValidElement=te,ze.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:V}},ze.memo=function(D,R){return{$$typeof:m,type:D,compare:R===void 0?null:R}},ze.startTransition=function(D){var R=O.T,z={};O.T=z;try{var $=D(),J=O.S;J!==null&&J(z,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(I,Y)}catch(Q){Y(Q)}finally{R!==null&&z.types!==null&&(R.types=z.types),O.T=R}},ze.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ze.use=function(D){return O.H.use(D)},ze.useActionState=function(D,R,z){return O.H.useActionState(D,R,z)},ze.useCallback=function(D,R){return O.H.useCallback(D,R)},ze.useContext=function(D){return O.H.useContext(D)},ze.useDebugValue=function(){},ze.useDeferredValue=function(D,R){return O.H.useDeferredValue(D,R)},ze.useEffect=function(D,R){return O.H.useEffect(D,R)},ze.useEffectEvent=function(D){return O.H.useEffectEvent(D)},ze.useId=function(){return O.H.useId()},ze.useImperativeHandle=function(D,R,z){return O.H.useImperativeHandle(D,R,z)},ze.useInsertionEffect=function(D,R){return O.H.useInsertionEffect(D,R)},ze.useLayoutEffect=function(D,R){return O.H.useLayoutEffect(D,R)},ze.useMemo=function(D,R){return O.H.useMemo(D,R)},ze.useOptimistic=function(D,R){return O.H.useOptimistic(D,R)},ze.useReducer=function(D,R,z){return O.H.useReducer(D,R,z)},ze.useRef=function(D){return O.H.useRef(D)},ze.useState=function(D){return O.H.useState(D)},ze.useSyncExternalStore=function(D,R,z){return O.H.useSyncExternalStore(D,R,z)},ze.useTransition=function(){return O.H.useTransition()},ze.version="19.2.3",ze}var k1;function b0(){return k1||(k1=1,xg.exports=RO()),xg.exports}var wg={exports:{}},Sn={};var O1;function AO(){if(O1)return Sn;O1=1;var n=b0();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(h,m,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:h,containerInfo:m,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,v)},Sn.flushSync=function(h){var m=c.T,v=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=m,s.p=v,s.d.f()}},Sn.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Sn.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Sn.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,g=u(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:w}):v==="script"&&s.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Sn.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=u(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Sn.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,g=u(v,m.crossOrigin);s.d.L(h,v,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Sn.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=u(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Sn.requestFormReset=function(h){s.d.r(h)},Sn.unstable_batchedUpdates=function(h,m){return h(m)},Sn.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},Sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var D1;function KE(){if(D1)return wg.exports;D1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wg.exports=AO(),wg.exports}var I1;function jO(){if(I1)return xc;I1=1;var n=MO(),e=b0(),t=KE();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(s(188))}function m(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(s(188));return a!==i?null:i}for(var l=i,d=a;;){var b=l.return;if(b===null)break;var y=b.alternate;if(y===null){if(d=b.return,d!==null){l=d;continue}break}if(b.child===y.child){for(y=b.child;y;){if(y===l)return h(b),i;if(y===d)return h(b),a;y=y.sibling}throw Error(s(188))}if(l.return!==d.return)l=b,d=y;else{for(var E=!1,A=b.child;A;){if(A===l){E=!0,l=b,d=y;break}if(A===d){E=!0,d=b,l=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===l){E=!0,l=y,d=b;break}if(A===d){E=!0,d=y,l=b;break}A=A.sibling}if(!E)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=te&&i[te]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList";case re:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case M:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case j:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return a=i.displayName||null,a!==null?a:ce(i.type)||"Memo";case B:a=i._payload,i=i._init;try{return ce(i(a))}catch{}}return null}var ne=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Y=[],me=-1;function D(i){return{current:i}}function R(i){0>me||(i.current=Y[me],Y[me]=null,me--)}function z(i,a){me++,Y[me]=i.current,i.current=a}var $=D(null),J=D(null),Q=D(null),q=D(null);function ae(i,a){switch(z(Q,a),z(J,i),z($,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Xw(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Xw(a),i=Jw(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}R($),z($,i)}function be(){R($),R(J),R(Q)}function we(i){i.memoizedState!==null&&z(q,i);var a=$.current,l=Jw(a,i.type);a!==l&&(z(J,i),z($,l))}function Ve(i){J.current===i&&(R($),R(J)),q.current===i&&(R(q),pc._currentValue=V)}var He,xt;function ct(i){if(He===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);He=a&&a[1]||"",xt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+i+xt}var At=!1;function Le(i,a){if(!i||At)return"";At=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(ie){var ee=ie}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(ie){ee=ie}i.call(pe.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),E=y[0],A=y[1];if(E&&A){var U=E.split(`
`),X=A.split(`
`);for(b=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;b<X.length&&!X[b].includes("DetermineComponentFrameRoot");)b++;if(d===U.length||b===X.length)for(d=U.length-1,b=X.length-1;1<=d&&0<=b&&U[d]!==X[b];)b--;for(;1<=d&&0<=b;d--,b--)if(U[d]!==X[b]){if(d!==1||b!==1)do if(d--,b--,0>b||U[d]!==X[b]){var ue=`
`+U[d].replace(" at new "," at ");return i.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",i.displayName)),ue}while(1<=d&&0<=b);break}}}finally{At=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ct(l):""}function _t(i,a){switch(i.tag){case 26:case 27:case 5:return ct(i.type);case 16:return ct("Lazy");case 13:return i.child!==a&&a!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Le(i.type,!1);case 11:return Le(i.type.render,!1);case 1:return Le(i.type,!0);case 31:return ct("Activity");default:return""}}function qt(i){try{var a="",l=null;do a+=_t(i,l),l=i,i=i.return;while(i);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ke=Object.prototype.hasOwnProperty,pt=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,ut=n.unstable_shouldYield,En=n.unstable_requestPaint,Nt=n.unstable_now,Hs=n.unstable_getCurrentPriorityLevel,un=n.unstable_ImmediatePriority,rn=n.unstable_UserBlockingPriority,Ut=n.unstable_NormalPriority,_n=n.unstable_LowPriority,vn=n.unstable_IdlePriority,bn=n.log,yn=n.unstable_setDisableYieldValue,us=null,Bt=null;function jt(i){if(typeof bn=="function"&&yn(i),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(us,i)}catch{}}var kt=Math.clz32?Math.clz32:dn,Zi=Math.log,it=Math.LN2;function dn(i){return i>>>=0,i===0?32:31-(Zi(i)/it|0)|0}var an=256,ds=262144,Tt=4194304;function wt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ee(i,a,l){var d=i.pendingLanes;if(d===0)return 0;var b=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=d&134217727;return A!==0?(d=A&~y,d!==0?b=wt(d):(E&=A,E!==0?b=wt(E):l||(l=A&~i,l!==0&&(b=wt(l))))):(A=d&~y,A!==0?b=wt(A):E!==0?b=wt(E):l||(l=d&~i,l!==0&&(b=wt(l)))),b===0?0:a!==0&&a!==b&&(a&y)===0&&(y=b&-b,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:b}function We(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Oe(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var i=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),i}function Mt(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function rt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nt(i,a,l,d,b,y){var E=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var A=i.entanglements,U=i.expirationTimes,X=i.hiddenUpdates;for(l=E&~l;0<l;){var ue=31-kt(l),pe=1<<ue;A[ue]=0,U[ue]=-1;var ee=X[ue];if(ee!==null)for(X[ue]=null,ue=0;ue<ee.length;ue++){var ie=ee[ue];ie!==null&&(ie.lane&=-536870913)}l&=~pe}d!==0&&on(i,d,0),y!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~a))}function on(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var d=31-kt(a);i.entangledLanes|=a,i.entanglements[d]=i.entanglements[d]|1073741824|l&261930}function dt(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var d=31-kt(l),b=1<<d;b&a|i[d]&a&&(i[d]|=a),l&=~b}}function ht(i,a){var l=a&-a;return l=(l&42)!==0?1:On(l),(l&(i.suspendedLanes|a))!==0?0:l}function On(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Zt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Nn(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:x1(i.type))}function Jn(i,a){var l=W.p;try{return W.p=i,a()}finally{W.p=l}}var Dn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Dn,xn="__reactProps$"+Dn,fi="__reactContainer$"+Dn,na="__reactEvents$"+Dn,Du="__reactListeners$"+Dn,Ja="__reactHandles$"+Dn,sa="__reactResources$"+Dn,ia="__reactMarker$"+Dn;function Tl(i){delete i[Pt],delete i[xn],delete i[na],delete i[Du],delete i[Ja]}function er(i){var a=i[Pt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[fi]||l[Pt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=i1(i);i!==null;){if(l=i[Pt])return l;i=i1(i)}return a}i=l,l=i.parentNode}return null}function tr(i){if(i=i[Pt]||i[fi]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Ws(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function wn(i){var a=i[sa];return a||(a=i[sa]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(i){i[ia]=!0}var mi=new Set,pi={};function Gs(i,a){gi(i,a),gi(i+"Capture",a)}function gi(i,a){for(pi[i]=a,i=0;i<a.length;i++)mi.add(a[i])}var Iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qa={},nr={};function Ml(i){return Ke.call(nr,i)?!0:Ke.call(Qa,i)?!1:Iu.test(i)?nr[i]=!0:(Qa[i]=!0,!1)}function ra(i,a,l){if(Ml(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function aa(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function As(i,a,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+d)}}function In(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Lu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ym(i,a,l){var d=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,y=d.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return b.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(i,a,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Rl(i){if(!i._valueTracker){var a=Lu(i)?"checked":"value";i._valueTracker=ym(i,a,""+i[a])}}function Pu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return i&&(d=Lu(i)?i.checked?"true":"false":i.value),i=d,i!==l?(a.setValue(i),!0):!1}function Za(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xm=/[\n"\\]/g;function Ln(i){return i.replace(xm,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Al(i,a,l,d,b,y,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),a!=null?E==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+In(a)):i.value!==""+In(a)&&(i.value=""+In(a)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),a!=null?eo(i,E,In(a)):l!=null?eo(i,E,In(l)):d!=null&&i.removeAttribute("value"),b==null&&y!=null&&(i.defaultChecked=!!y),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+In(A):i.removeAttribute("name")}function zu(i,a,l,d,b,y,E,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Rl(i);return}l=l!=null?""+In(l):"",a=a!=null?""+In(a):l,A||a===i.value||(i.value=a),i.defaultValue=a}d=d??b,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=A?i.checked:!!d,i.defaultChecked=!!d,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Rl(i)}function eo(i,a,l){a==="number"&&Za(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function js(i,a,l,d){if(i=i.options,a){a={};for(var b=0;b<l.length;b++)a["$"+l[b]]=!0;for(l=0;l<i.length;l++)b=a.hasOwnProperty("$"+i[l].value),i[l].selected!==b&&(i[l].selected=b),b&&d&&(i[l].defaultSelected=!0)}else{for(l=""+In(l),a=null,b=0;b<i.length;b++){if(i[b].value===l){i[b].selected=!0,d&&(i[b].defaultSelected=!0);return}a!==null||i[b].disabled||(a=i[b])}a!==null&&(a.selected=!0)}}function $u(i,a,l){if(a!=null&&(a=""+In(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+In(l):""}function jl(i,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(s(92));if(ne(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=In(a),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d),Rl(i)}function vi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oa(i,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":d?i.setProperty(a,l):typeof l!="number"||l===0||Uu.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function Bu(i,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var b in a)d=a[b],a.hasOwnProperty(b)&&l[b]!==d&&oa(i,b,d)}else for(var y in a)a.hasOwnProperty(y)&&oa(i,y,a[y])}function qs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(i){return kl.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Qn(){}var sr=null;function to(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ir=null,bi=null;function Fu(i){var a=tr(i);if(a&&(i=a.stateNode)){var l=i[xn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Al(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ln(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==i&&d.form===i.form){var b=d[xn]||null;if(!b)throw Error(s(90));Al(d,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===i.form&&Pu(d)}break e;case"textarea":$u(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&js(i,!!l.multiple,a,!1)}}}var Ol=!1;function Hu(i,a,l){if(Ol)return i(a,l);Ol=!0;try{var d=i(a);return d}finally{if(Ol=!1,(ir!==null||bi!==null)&&(Td(),ir&&(a=ir,i=bi,bi=ir=null,Fu(a),i)))for(a=0;a<i.length;a++)Fu(i[a])}}function ca(i,a){var l=i.stateNode;if(l===null)return null;var d=l[xn]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dl=!1;if(ks)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Dl=!1}var Os=null,no=null,so=null;function Wu(){if(so)return so;var i,a=no,l=a.length,d,b="value"in Os?Os.value:Os.textContent,y=b.length;for(i=0;i<l&&a[i]===b[i];i++);var E=l-i;for(d=1;d<=E&&a[l-d]===b[y-d];d++);return so=b.slice(i,1<d?1-d:void 0)}function L(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function F(){return!0}function Z(){return!1}function de(i){function a(l,d,b,y,E){this._reactName=l,this._targetInst=b,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?F:Z,this.isPropagationStopped=Z,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=F)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=F)},persist:function(){},isPersistent:F}),a}var ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=de(ge),je=g({},ge,{view:0,detail:0}),_e=de(je),Se,Ge,st,hs=g({},je,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==st&&(st&&i.type==="mousemove"?(Se=i.screenX-st.screenX,Ge=i.screenY-st.screenY):Ge=Se=0,st=i),Se)},movementY:function(i){return"movementY"in i?i.movementY:Ge}}),ua=de(hs),da=g({},hs,{dataTransfer:0}),gt=de(da),ha=g({},je,{relatedTarget:0}),Il=de(ha),Nj=g({},ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Tj=de(Nj),Mj=g({},ge,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Rj=de(Mj),Aj=g({},ge,{data:0}),ey=de(Aj),jj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dj(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Oj[i])?!!a[i]:!1}function wm(){return Dj}var Ij=g({},je,{key:function(i){if(i.key){var a=jj[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=L(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?kj[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wm,charCode:function(i){return i.type==="keypress"?L(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?L(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Lj=de(Ij),Pj=g({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ty=de(Pj),zj=g({},je,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wm}),$j=de(zj),Uj=g({},ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bj=de(Uj),Vj=g({},hs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fj=de(Vj),Hj=g({},ge,{newState:0,oldState:0}),Wj=de(Hj),Gj=[9,13,27,32],Sm=ks&&"CompositionEvent"in window,Ll=null;ks&&"documentMode"in document&&(Ll=document.documentMode);var qj=ks&&"TextEvent"in window&&!Ll,ny=ks&&(!Sm||Ll&&8<Ll&&11>=Ll),sy=" ",iy=!1;function ry(i,a){switch(i){case"keyup":return Gj.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ay(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var io=!1;function Yj(i,a){switch(i){case"compositionend":return ay(a);case"keypress":return a.which!==32?null:(iy=!0,sy);case"textInput":return i=a.data,i===sy&&iy?null:i;default:return null}}function Kj(i,a){if(io)return i==="compositionend"||!Sm&&ry(i,a)?(i=Wu(),so=no=Os=null,io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ny&&a.locale!=="ko"?null:a.data;default:return null}}var Xj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Xj[i.type]:a==="textarea"}function ly(i,a,l,d){ir?bi?bi.push(d):bi=[d]:ir=d,a=Dd(a,"onChange"),0<a.length&&(l=new xe("onChange","change",null,l,d),i.push({event:l,listeners:a}))}var Pl=null,zl=null;function Jj(i){Hw(i,0)}function Gu(i){var a=Ws(i);if(Pu(a))return i}function cy(i,a){if(i==="change")return a}var uy=!1;if(ks){var Cm;if(ks){var Em="oninput"in document;if(!Em){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),Em=typeof dy.oninput=="function"}Cm=Em}else Cm=!1;uy=Cm&&(!document.documentMode||9<document.documentMode)}function hy(){Pl&&(Pl.detachEvent("onpropertychange",fy),zl=Pl=null)}function fy(i){if(i.propertyName==="value"&&Gu(zl)){var a=[];ly(a,zl,i,to(i)),Hu(Jj,a)}}function Qj(i,a,l){i==="focusin"?(hy(),Pl=a,zl=l,Pl.attachEvent("onpropertychange",fy)):i==="focusout"&&hy()}function Zj(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gu(zl)}function ek(i,a){if(i==="click")return Gu(a)}function tk(i,a){if(i==="input"||i==="change")return Gu(a)}function nk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Zn=typeof Object.is=="function"?Object.is:nk;function $l(i,a){if(Zn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var b=l[d];if(!Ke.call(a,b)||!Zn(i[b],a[b]))return!1}return!0}function my(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function py(i,a){var l=my(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=a&&d>=a)return{node:l,offset:a-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=my(l)}}function gy(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?gy(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function vy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Za(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Za(i.document)}return a}function _m(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var sk=ks&&"documentMode"in document&&11>=document.documentMode,ro=null,Nm=null,Ul=null,Tm=!1;function by(i,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tm||ro==null||ro!==Za(d)||(d=ro,"selectionStart"in d&&_m(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ul&&$l(Ul,d)||(Ul=d,d=Dd(Nm,"onSelect"),0<d.length&&(a=new xe("onSelect","select",null,a,l),i.push({event:a,listeners:d}),a.target=ro)))}function fa(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ao={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Mm={},yy={};ks&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ma(i){if(Mm[i])return Mm[i];if(!ao[i])return i;var a=ao[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in yy)return Mm[i]=a[l];return i}var xy=ma("animationend"),wy=ma("animationiteration"),Sy=ma("animationstart"),ik=ma("transitionrun"),rk=ma("transitionstart"),ak=ma("transitioncancel"),Cy=ma("transitionend"),Ey=new Map,Rm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rm.push("scrollEnd");function Ds(i,a){Ey.set(i,a),Gs(a,[i])}var qu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},fs=[],oo=0,Am=0;function Yu(){for(var i=oo,a=Am=oo=0;a<i;){var l=fs[a];fs[a++]=null;var d=fs[a];fs[a++]=null;var b=fs[a];fs[a++]=null;var y=fs[a];if(fs[a++]=null,d!==null&&b!==null){var E=d.pending;E===null?b.next=b:(b.next=E.next,E.next=b),d.pending=b}y!==0&&_y(l,b,y)}}function Ku(i,a,l,d){fs[oo++]=i,fs[oo++]=a,fs[oo++]=l,fs[oo++]=d,Am|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function jm(i,a,l,d){return Ku(i,a,l,d),Xu(i)}function pa(i,a){return Ku(i,null,null,a),Xu(i)}function _y(i,a,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var b=!1,y=i.return;y!==null;)y.childLanes|=l,d=y.alternate,d!==null&&(d.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(b=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,b&&a!==null&&(b=31-kt(l),i=y.hiddenUpdates,d=i[b],d===null?i[b]=[a]:d.push(a),a.lane=l|536870912),y):null}function Xu(i){if(50<lc)throw lc=0,Up=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var lo={};function ok(i,a,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(i,a,l,d){return new ok(i,a,l,d)}function km(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xi(i,a){var l=i.alternate;return l===null?(l=es(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Ny(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Ju(i,a,l,d,b,y){var E=0;if(d=i,typeof i=="function")km(i)&&(E=1);else if(typeof i=="string")E=hO(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case re:return i=es(31,l,a,b),i.elementType=re,i.lanes=y,i;case C:return ga(l.children,b,y,a);case _:E=8,b|=24;break;case N:return i=es(12,l,a,b|2),i.elementType=N,i.lanes=y,i;case P:return i=es(13,l,a,b),i.elementType=P,i.lanes=y,i;case I:return i=es(19,l,a,b),i.elementType=I,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:E=10;break e;case T:E=9;break e;case j:E=11;break e;case O:E=14;break e;case B:E=16,d=null;break e}E=29,l=Error(s(130,i===null?"null":typeof i,"")),d=null}return a=es(E,l,a,b),a.elementType=i,a.type=d,a.lanes=y,a}function ga(i,a,l,d){return i=es(7,i,d,a),i.lanes=l,i}function Om(i,a,l){return i=es(6,i,null,a),i.lanes=l,i}function Ty(i){var a=es(18,null,null,0);return a.stateNode=i,a}function Dm(i,a,l){return a=es(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var My=new WeakMap;function ms(i,a){if(typeof i=="object"&&i!==null){var l=My.get(i);return l!==void 0?l:(a={value:i,source:a,stack:qt(a)},My.set(i,a),a)}return{value:i,source:a,stack:qt(a)}}var co=[],uo=0,Qu=null,Bl=0,ps=[],gs=0,rr=null,Ys=1,Ks="";function wi(i,a){co[uo++]=Bl,co[uo++]=Qu,Qu=i,Bl=a}function Ry(i,a,l){ps[gs++]=Ys,ps[gs++]=Ks,ps[gs++]=rr,rr=i;var d=Ys;i=Ks;var b=32-kt(d)-1;d&=~(1<<b),l+=1;var y=32-kt(a)+b;if(30<y){var E=b-b%5;y=(d&(1<<E)-1).toString(32),d>>=E,b-=E,Ys=1<<32-kt(a)+b|l<<b|d,Ks=y+i}else Ys=1<<y|l<<b|d,Ks=i}function Im(i){i.return!==null&&(wi(i,1),Ry(i,1,0))}function Lm(i){for(;i===Qu;)Qu=co[--uo],co[uo]=null,Bl=co[--uo],co[uo]=null;for(;i===rr;)rr=ps[--gs],ps[gs]=null,Ks=ps[--gs],ps[gs]=null,Ys=ps[--gs],ps[gs]=null}function Ay(i,a){ps[gs++]=Ys,ps[gs++]=Ks,ps[gs++]=rr,Ys=a.id,Ks=a.overflow,rr=i}var hn=null,Dt=null,Ze=!1,ar=null,vs=!1,Pm=Error(s(519));function or(i){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(ms(a,i)),Pm}function jy(i){var a=i.stateNode,l=i.type,d=i.memoizedProps;switch(a[Pt]=i,a[xn]=d,l){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(l=0;l<uc.length;l++)Ye(uc[l],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":Ye("invalid",a),zu(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ye("invalid",a);break;case"textarea":Ye("invalid",a),jl(a,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||Yw(a.textContent,l)?(d.popover!=null&&(Ye("beforetoggle",a),Ye("toggle",a)),d.onScroll!=null&&Ye("scroll",a),d.onScrollEnd!=null&&Ye("scrollend",a),d.onClick!=null&&(a.onclick=Qn),a=!0):a=!1,a||or(i,!0)}function ky(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 31:case 13:vs=!1;return;case 27:case 3:vs=!0;return;default:hn=hn.return}}function ho(i){if(i!==hn)return!1;if(!Ze)return ky(i),Ze=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||tg(i.type,i.memoizedProps)),l=!l),l&&Dt&&or(i),ky(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Dt=s1(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Dt=s1(i)}else a===27?(a=Dt,wr(i.type)?(i=ag,ag=null,Dt=i):Dt=a):Dt=hn?ys(i.stateNode.nextSibling):null;return!0}function va(){Dt=hn=null,Ze=!1}function zm(){var i=ar;return i!==null&&(Un===null?Un=i:Un.push.apply(Un,i),ar=null),i}function Vl(i){ar===null?ar=[i]:ar.push(i)}var $m=D(null),ba=null,Si=null;function lr(i,a,l){z($m,a._currentValue),a._currentValue=l}function Ci(i){i._currentValue=$m.current,R($m)}function Um(i,a,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),i===l)break;i=i.return}}function Bm(i,a,l,d){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var y=b.dependencies;if(y!==null){var E=b.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=b;for(var U=0;U<a.length;U++)if(A.context===a[U]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),Um(y.return,l,i),d||(E=null);break e}y=A.next}}else if(b.tag===18){if(E=b.return,E===null)throw Error(s(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Um(E,l,i),E=null}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===i){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}}function fo(i,a,l,d){i=null;for(var b=a,y=!1;b!==null;){if(!y){if((b.flags&524288)!==0)y=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var E=b.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=b.type;Zn(b.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(b===q.current){if(E=b.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(pc):i=[pc])}b=b.return}i!==null&&Bm(a,i,l,d),a.flags|=262144}function Zu(i){for(i=i.firstContext;i!==null;){if(!Zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ya(i){ba=i,Si=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fn(i){return Oy(ba,i)}function ed(i,a){return ba===null&&ya(i),Oy(i,a)}function Oy(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Si===null){if(i===null)throw Error(s(308));Si=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Si=Si.next=a;return l}var lk=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},ck=n.unstable_scheduleCallback,uk=n.unstable_NormalPriority,Yt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new lk,data:new Map,refCount:0}}function Fl(i){i.refCount--,i.refCount===0&&ck(uk,function(){i.controller.abort()})}var Hl=null,Fm=0,mo=0,po=null;function dk(i,a){if(Hl===null){var l=Hl=[];Fm=0,mo=Gp(),po={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Fm++,a.then(Dy,Dy),a}function Dy(){if(--Fm===0&&Hl!==null){po!==null&&(po.status="fulfilled");var i=Hl;Hl=null,mo=0,po=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function hk(i,a){var l=[],d={status:"pending",value:null,reason:null,then:function(b){l.push(b)}};return i.then(function(){d.status="fulfilled",d.value=a;for(var b=0;b<l.length;b++)(0,l[b])(a)},function(b){for(d.status="rejected",d.reason=b,b=0;b<l.length;b++)(0,l[b])(void 0)}),d}var Iy=k.S;k.S=function(i,a){bw=Nt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&dk(i,a),Iy!==null&&Iy(i,a)};var xa=D(null);function Hm(){var i=xa.current;return i!==null?i:St.pooledCache}function td(i,a){a===null?z(xa,xa.current):z(xa,a.pool)}function Ly(){var i=Hm();return i===null?null:{parent:Yt._currentValue,pool:i}}var go=Error(s(460)),Wm=Error(s(474)),nd=Error(s(542)),sd={then:function(){}};function Py(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zy(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Qn,Qn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Uy(i),i;default:if(typeof a.status=="string")a.then(Qn,Qn);else{if(i=St,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(d){if(a.status==="pending"){var b=a;b.status="fulfilled",b.value=d}},function(d){if(a.status==="pending"){var b=a;b.status="rejected",b.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Uy(i),i}throw Sa=a,go}}function wa(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Sa=l,go):l}}var Sa=null;function $y(){if(Sa===null)throw Error(s(459));var i=Sa;return Sa=null,i}function Uy(i){if(i===go||i===nd)throw Error(s(483))}var vo=null,Wl=0;function id(i){var a=Wl;return Wl+=1,vo===null&&(vo=[]),zy(vo,i,a)}function Gl(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function rd(i,a){throw a.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function By(i){function a(G,H){if(i){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function l(G,H){if(!i)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function d(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function b(G,H){return G=xi(G,H),G.index=0,G.sibling=null,G}function y(G,H,K){return G.index=K,i?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function E(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function A(G,H,K,fe){return H===null||H.tag!==6?(H=Om(K,G.mode,fe),H.return=G,H):(H=b(H,K),H.return=G,H)}function U(G,H,K,fe){var ke=K.type;return ke===C?ue(G,H,K.props.children,fe,K.key):H!==null&&(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===B&&wa(ke)===H.type)?(H=b(H,K.props),Gl(H,K),H.return=G,H):(H=Ju(K.type,K.key,K.props,null,G.mode,fe),Gl(H,K),H.return=G,H)}function X(G,H,K,fe){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Dm(K,G.mode,fe),H.return=G,H):(H=b(H,K.children||[]),H.return=G,H)}function ue(G,H,K,fe,ke){return H===null||H.tag!==7?(H=ga(K,G.mode,fe,ke),H.return=G,H):(H=b(H,K),H.return=G,H)}function pe(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Om(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return K=Ju(H.type,H.key,H.props,null,G.mode,K),Gl(K,H),K.return=G,K;case S:return H=Dm(H,G.mode,K),H.return=G,H;case B:return H=wa(H),pe(G,H,K)}if(ne(H)||he(H))return H=ga(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return pe(G,id(H),K);if(H.$$typeof===M)return pe(G,ed(G,H),K);rd(G,H)}return null}function ee(G,H,K,fe){var ke=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ke!==null?null:A(G,H,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===ke?U(G,H,K,fe):null;case S:return K.key===ke?X(G,H,K,fe):null;case B:return K=wa(K),ee(G,H,K,fe)}if(ne(K)||he(K))return ke!==null?null:ue(G,H,K,fe,null);if(typeof K.then=="function")return ee(G,H,id(K),fe);if(K.$$typeof===M)return ee(G,H,ed(G,K),fe);rd(G,K)}return null}function ie(G,H,K,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return G=G.get(K)||null,A(H,G,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return G=G.get(fe.key===null?K:fe.key)||null,U(H,G,fe,ke);case S:return G=G.get(fe.key===null?K:fe.key)||null,X(H,G,fe,ke);case B:return fe=wa(fe),ie(G,H,K,fe,ke)}if(ne(fe)||he(fe))return G=G.get(K)||null,ue(H,G,fe,ke,null);if(typeof fe.then=="function")return ie(G,H,K,id(fe),ke);if(fe.$$typeof===M)return ie(G,H,K,ed(H,fe),ke);rd(H,fe)}return null}function Ne(G,H,K,fe){for(var ke=null,at=null,Re=H,Be=H=0,Qe=null;Re!==null&&Be<K.length;Be++){Re.index>Be?(Qe=Re,Re=null):Qe=Re.sibling;var ot=ee(G,Re,K[Be],fe);if(ot===null){Re===null&&(Re=Qe);break}i&&Re&&ot.alternate===null&&a(G,Re),H=y(ot,H,Be),at===null?ke=ot:at.sibling=ot,at=ot,Re=Qe}if(Be===K.length)return l(G,Re),Ze&&wi(G,Be),ke;if(Re===null){for(;Be<K.length;Be++)Re=pe(G,K[Be],fe),Re!==null&&(H=y(Re,H,Be),at===null?ke=Re:at.sibling=Re,at=Re);return Ze&&wi(G,Be),ke}for(Re=d(Re);Be<K.length;Be++)Qe=ie(Re,G,Be,K[Be],fe),Qe!==null&&(i&&Qe.alternate!==null&&Re.delete(Qe.key===null?Be:Qe.key),H=y(Qe,H,Be),at===null?ke=Qe:at.sibling=Qe,at=Qe);return i&&Re.forEach(function(Nr){return a(G,Nr)}),Ze&&wi(G,Be),ke}function De(G,H,K,fe){if(K==null)throw Error(s(151));for(var ke=null,at=null,Re=H,Be=H=0,Qe=null,ot=K.next();Re!==null&&!ot.done;Be++,ot=K.next()){Re.index>Be?(Qe=Re,Re=null):Qe=Re.sibling;var Nr=ee(G,Re,ot.value,fe);if(Nr===null){Re===null&&(Re=Qe);break}i&&Re&&Nr.alternate===null&&a(G,Re),H=y(Nr,H,Be),at===null?ke=Nr:at.sibling=Nr,at=Nr,Re=Qe}if(ot.done)return l(G,Re),Ze&&wi(G,Be),ke;if(Re===null){for(;!ot.done;Be++,ot=K.next())ot=pe(G,ot.value,fe),ot!==null&&(H=y(ot,H,Be),at===null?ke=ot:at.sibling=ot,at=ot);return Ze&&wi(G,Be),ke}for(Re=d(Re);!ot.done;Be++,ot=K.next())ot=ie(Re,G,Be,ot.value,fe),ot!==null&&(i&&ot.alternate!==null&&Re.delete(ot.key===null?Be:ot.key),H=y(ot,H,Be),at===null?ke=ot:at.sibling=ot,at=ot);return i&&Re.forEach(function(CO){return a(G,CO)}),Ze&&wi(G,Be),ke}function yt(G,H,K,fe){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var ke=K.key;H!==null;){if(H.key===ke){if(ke=K.type,ke===C){if(H.tag===7){l(G,H.sibling),fe=b(H,K.props.children),fe.return=G,G=fe;break e}}else if(H.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===B&&wa(ke)===H.type){l(G,H.sibling),fe=b(H,K.props),Gl(fe,K),fe.return=G,G=fe;break e}l(G,H);break}else a(G,H);H=H.sibling}K.type===C?(fe=ga(K.props.children,G.mode,fe,K.key),fe.return=G,G=fe):(fe=Ju(K.type,K.key,K.props,null,G.mode,fe),Gl(fe,K),fe.return=G,G=fe)}return E(G);case S:e:{for(ke=K.key;H!==null;){if(H.key===ke)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){l(G,H.sibling),fe=b(H,K.children||[]),fe.return=G,G=fe;break e}else{l(G,H);break}else a(G,H);H=H.sibling}fe=Dm(K,G.mode,fe),fe.return=G,G=fe}return E(G);case B:return K=wa(K),yt(G,H,K,fe)}if(ne(K))return Ne(G,H,K,fe);if(he(K)){if(ke=he(K),typeof ke!="function")throw Error(s(150));return K=ke.call(K),De(G,H,K,fe)}if(typeof K.then=="function")return yt(G,H,id(K),fe);if(K.$$typeof===M)return yt(G,H,ed(G,K),fe);rd(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(l(G,H.sibling),fe=b(H,K),fe.return=G,G=fe):(l(G,H),fe=Om(K,G.mode,fe),fe.return=G,G=fe),E(G)):l(G,H)}return function(G,H,K,fe){try{Wl=0;var ke=yt(G,H,K,fe);return vo=null,ke}catch(Re){if(Re===go||Re===nd)throw Re;var at=es(29,Re,null,G.mode);return at.lanes=fe,at.return=G,at}}}var Ca=By(!0),Vy=By(!1),cr=!1;function Gm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ur(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function dr(i,a,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(lt&2)!==0){var b=d.pending;return b===null?a.next=a:(a.next=b.next,b.next=a),d.pending=a,a=Xu(i),_y(i,null,l),a}return Ku(i,d,a,l),Xu(i)}function ql(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,dt(i,l)}}function Ym(i,a){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var b=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?b=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?b=y=a:y=y.next=a}else b=y=a;l={baseState:d.baseState,firstBaseUpdate:b,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Km=!1;function Yl(){if(Km){var i=po;if(i!==null)throw i}}function Kl(i,a,l,d){Km=!1;var b=i.updateQueue;cr=!1;var y=b.firstBaseUpdate,E=b.lastBaseUpdate,A=b.shared.pending;if(A!==null){b.shared.pending=null;var U=A,X=U.next;U.next=null,E===null?y=X:E.next=X,E=U;var ue=i.alternate;ue!==null&&(ue=ue.updateQueue,A=ue.lastBaseUpdate,A!==E&&(A===null?ue.firstBaseUpdate=X:A.next=X,ue.lastBaseUpdate=U))}if(y!==null){var pe=b.baseState;E=0,ue=X=U=null,A=y;do{var ee=A.lane&-536870913,ie=ee!==A.lane;if(ie?(Je&ee)===ee:(d&ee)===ee){ee!==0&&ee===mo&&(Km=!0),ue!==null&&(ue=ue.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ne=i,De=A;ee=a;var yt=l;switch(De.tag){case 1:if(Ne=De.payload,typeof Ne=="function"){pe=Ne.call(yt,pe,ee);break e}pe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=De.payload,ee=typeof Ne=="function"?Ne.call(yt,pe,ee):Ne,ee==null)break e;pe=g({},pe,ee);break e;case 2:cr=!0}}ee=A.callback,ee!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ue===null?(X=ue=ie,U=pe):ue=ue.next=ie,E|=ee;if(A=A.next,A===null){if(A=b.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);ue===null&&(U=pe),b.baseState=U,b.firstBaseUpdate=X,b.lastBaseUpdate=ue,y===null&&(b.shared.lanes=0),gr|=E,i.lanes=E,i.memoizedState=pe}}function Fy(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function Hy(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Fy(l[i],a)}var bo=D(null),ad=D(0);function Wy(i,a){i=ki,z(ad,i),z(bo,a),ki=i|a.baseLanes}function Xm(){z(ad,ki),z(bo,bo.current)}function Jm(){ki=ad.current,R(bo),R(ad)}var ts=D(null),bs=null;function hr(i){var a=i.alternate;z(Ht,Ht.current&1),z(ts,i),bs===null&&(a===null||bo.current!==null||a.memoizedState!==null)&&(bs=i)}function Qm(i){z(Ht,Ht.current),z(ts,i),bs===null&&(bs=i)}function Gy(i){i.tag===22?(z(Ht,Ht.current),z(ts,i),bs===null&&(bs=i)):fr()}function fr(){z(Ht,Ht.current),z(ts,ts.current)}function ns(i){R(ts),bs===i&&(bs=null),R(Ht)}var Ht=D(0);function od(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ig(l)||rg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ei=0,$e=null,vt=null,Kt=null,ld=!1,yo=!1,Ea=!1,cd=0,Xl=0,xo=null,fk=0;function Vt(){throw Error(s(321))}function Zm(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Zn(i[l],a[l]))return!1;return!0}function ep(i,a,l,d,b,y){return Ei=y,$e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=i===null||i.memoizedState===null?Rx:pp,Ea=!1,y=l(d,b),Ea=!1,yo&&(y=Yy(a,l,d,b)),qy(i),y}function qy(i){k.H=Zl;var a=vt!==null&&vt.next!==null;if(Ei=0,Kt=vt=$e=null,ld=!1,Xl=0,xo=null,a)throw Error(s(300));i===null||Xt||(i=i.dependencies,i!==null&&Zu(i)&&(Xt=!0))}function Yy(i,a,l,d){$e=i;var b=0;do{if(yo&&(xo=null),Xl=0,yo=!1,25<=b)throw Error(s(301));if(b+=1,Kt=vt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}k.H=Ax,y=a(l,d)}while(yo);return y}function mk(){var i=k.H,a=i.useState()[0];return a=typeof a.then=="function"?Jl(a):a,i=i.useState()[0],(vt!==null?vt.memoizedState:null)!==i&&($e.flags|=1024),a}function tp(){var i=cd!==0;return cd=0,i}function np(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function sp(i){if(ld){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}ld=!1}Ei=0,Kt=vt=$e=null,yo=!1,Xl=cd=0,xo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?$e.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Wt(){if(vt===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var a=Kt===null?$e.memoizedState:Kt.next;if(a!==null)Kt=a,vt=i;else{if(i===null)throw $e.alternate===null?Error(s(467)):Error(s(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Kt===null?$e.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(i){var a=Xl;return Xl+=1,xo===null&&(xo=[]),i=zy(xo,i,a),a=$e,(Kt===null?a.memoizedState:Kt.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?Rx:pp),i}function dd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Jl(i);if(i.$$typeof===M)return fn(i)}throw Error(s(438,String(i)))}function ip(i){var a=null,l=$e.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=$e.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(b){return b.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ud(),$e.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),d=0;d<i;d++)l[d]=le;return a.index++,l}function _i(i,a){return typeof a=="function"?a(i):a}function hd(i){var a=Wt();return rp(a,vt,i)}function rp(i,a,l){var d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var b=i.baseQueue,y=d.pending;if(y!==null){if(b!==null){var E=b.next;b.next=y.next,y.next=E}a.baseQueue=b=y,d.pending=null}if(y=i.baseState,b===null)i.memoizedState=y;else{a=b.next;var A=E=null,U=null,X=a,ue=!1;do{var pe=X.lane&-536870913;if(pe!==X.lane?(Je&pe)===pe:(Ei&pe)===pe){var ee=X.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),pe===mo&&(ue=!0);else if((Ei&ee)===ee){X=X.next,ee===mo&&(ue=!0);continue}else pe={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(A=U=pe,E=y):U=U.next=pe,$e.lanes|=ee,gr|=ee;pe=X.action,Ea&&l(y,pe),y=X.hasEagerState?X.eagerState:l(y,pe)}else ee={lane:pe,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?(A=U=ee,E=y):U=U.next=ee,$e.lanes|=pe,gr|=pe;X=X.next}while(X!==null&&X!==a);if(U===null?E=y:U.next=A,!Zn(y,i.memoizedState)&&(Xt=!0,ue&&(l=po,l!==null)))throw l;i.memoizedState=y,i.baseState=E,i.baseQueue=U,d.lastRenderedState=y}return b===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function ap(i){var a=Wt(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var d=l.dispatch,b=l.pending,y=a.memoizedState;if(b!==null){l.pending=null;var E=b=b.next;do y=i(y,E.action),E=E.next;while(E!==b);Zn(y,a.memoizedState)||(Xt=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,d]}function Ky(i,a,l){var d=$e,b=Wt(),y=Ze;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=a();var E=!Zn((vt||b).memoizedState,l);if(E&&(b.memoizedState=l,Xt=!0),b=b.queue,cp(Qy.bind(null,d,b,i),[i]),b.getSnapshot!==a||E||Kt!==null&&Kt.memoizedState.tag&1){if(d.flags|=2048,wo(9,{destroy:void 0},Jy.bind(null,d,b,l,a),null),St===null)throw Error(s(349));y||(Ei&127)!==0||Xy(d,a,l)}return l}function Xy(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=$e.updateQueue,a===null?(a=ud(),$e.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Jy(i,a,l,d){a.value=l,a.getSnapshot=d,Zy(a)&&ex(i)}function Qy(i,a,l){return l(function(){Zy(a)&&ex(i)})}function Zy(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Zn(i,l)}catch{return!0}}function ex(i){var a=pa(i,2);a!==null&&Bn(a,i,2)}function op(i){var a=Tn();if(typeof i=="function"){var l=i;if(i=l(),Ea){jt(!0);try{l()}finally{jt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:i},a}function tx(i,a,l,d){return i.baseState=l,rp(i,vt,typeof d=="function"?d:_i)}function pk(i,a,l,d,b){if(pd(i))throw Error(s(485));if(i=a.action,i!==null){var y={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};k.T!==null?l(!0):y.isTransition=!1,d(y),l=a.pending,l===null?(y.next=a.pending=y,nx(a,y)):(y.next=l.next,a.pending=l.next=y)}}function nx(i,a){var l=a.action,d=a.payload,b=i.state;if(a.isTransition){var y=k.T,E={};k.T=E;try{var A=l(b,d),U=k.S;U!==null&&U(E,A),sx(i,a,A)}catch(X){lp(i,a,X)}finally{y!==null&&E.types!==null&&(y.types=E.types),k.T=y}}else try{y=l(b,d),sx(i,a,y)}catch(X){lp(i,a,X)}}function sx(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){ix(i,a,d)},function(d){return lp(i,a,d)}):ix(i,a,l)}function ix(i,a,l){a.status="fulfilled",a.value=l,rx(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,nx(i,l)))}function lp(i,a,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,rx(a),a=a.next;while(a!==d)}i.action=null}function rx(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function ax(i,a){return a}function ox(i,a){if(Ze){var l=St.formState;if(l!==null){e:{var d=$e;if(Ze){if(Dt){t:{for(var b=Dt,y=vs;b.nodeType!==8;){if(!y){b=null;break t}if(b=ys(b.nextSibling),b===null){b=null;break t}}y=b.data,b=y==="F!"||y==="F"?b:null}if(b){Dt=ys(b.nextSibling),d=b.data==="F!";break e}}or(d)}d=!1}d&&(a=l[0])}}return l=Tn(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ax,lastRenderedState:a},l.queue=d,l=Nx.bind(null,$e,d),d.dispatch=l,d=op(!1),y=mp.bind(null,$e,!1,d.queue),d=Tn(),b={state:a,dispatch:null,action:i,pending:null},d.queue=b,l=pk.bind(null,$e,b,y,l),b.dispatch=l,d.memoizedState=i,[a,l,!1]}function lx(i){var a=Wt();return cx(a,vt,i)}function cx(i,a,l){if(a=rp(i,a,ax)[0],i=hd(_i)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Jl(a)}catch(E){throw E===go?nd:E}else d=a;a=Wt();var b=a.queue,y=b.dispatch;return l!==a.memoizedState&&($e.flags|=2048,wo(9,{destroy:void 0},gk.bind(null,b,l),null)),[d,y,i]}function gk(i,a){i.action=a}function ux(i){var a=Wt(),l=vt;if(l!==null)return cx(a,l,i);Wt(),a=a.memoizedState,l=Wt();var d=l.queue.dispatch;return l.memoizedState=i,[a,d,!1]}function wo(i,a,l,d){return i={tag:i,create:l,deps:d,inst:a,next:null},a=$e.updateQueue,a===null&&(a=ud(),$e.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,a.lastEffect=i),i}function dx(){return Wt().memoizedState}function fd(i,a,l,d){var b=Tn();$e.flags|=i,b.memoizedState=wo(1|a,{destroy:void 0},l,d===void 0?null:d)}function md(i,a,l,d){var b=Wt();d=d===void 0?null:d;var y=b.memoizedState.inst;vt!==null&&d!==null&&Zm(d,vt.memoizedState.deps)?b.memoizedState=wo(a,y,l,d):($e.flags|=i,b.memoizedState=wo(1|a,y,l,d))}function hx(i,a){fd(8390656,8,i,a)}function cp(i,a){md(2048,8,i,a)}function vk(i){$e.flags|=4;var a=$e.updateQueue;if(a===null)a=ud(),$e.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function fx(i){var a=Wt().memoizedState;return vk({ref:a,nextImpl:i}),function(){if((lt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function mx(i,a){return md(4,2,i,a)}function px(i,a){return md(4,4,i,a)}function gx(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function vx(i,a,l){l=l!=null?l.concat([i]):null,md(4,4,gx.bind(null,a,i),l)}function up(){}function bx(i,a){var l=Wt();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&Zm(a,d[1])?d[0]:(l.memoizedState=[i,a],i)}function yx(i,a){var l=Wt();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&Zm(a,d[1]))return d[0];if(d=i(),Ea){jt(!0);try{i()}finally{jt(!1)}}return l.memoizedState=[d,a],d}function dp(i,a,l){return l===void 0||(Ei&1073741824)!==0&&(Je&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=xw(),$e.lanes|=i,gr|=i,l)}function xx(i,a,l,d){return Zn(l,a)?l:bo.current!==null?(i=dp(i,l,d),Zn(i,a)||(Xt=!0),i):(Ei&42)===0||(Ei&1073741824)!==0&&(Je&261930)===0?(Xt=!0,i.memoizedState=l):(i=xw(),$e.lanes|=i,gr|=i,a)}function wx(i,a,l,d,b){var y=W.p;W.p=y!==0&&8>y?y:8;var E=k.T,A={};k.T=A,mp(i,!1,a,l);try{var U=b(),X=k.S;if(X!==null&&X(A,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ue=hk(U,d);Ql(i,a,ue,rs(i))}else Ql(i,a,d,rs(i))}catch(pe){Ql(i,a,{then:function(){},status:"rejected",reason:pe},rs())}finally{W.p=y,E!==null&&A.types!==null&&(E.types=A.types),k.T=E}}function bk(){}function hp(i,a,l,d){if(i.tag!==5)throw Error(s(476));var b=Sx(i).queue;wx(i,b,a,V,l===null?bk:function(){return Cx(i),l(d)})}function Sx(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:V},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Cx(i){var a=Sx(i);a.next===null&&(a=i.alternate.memoizedState),Ql(i,a.next.queue,{},rs())}function fp(){return fn(pc)}function Ex(){return Wt().memoizedState}function _x(){return Wt().memoizedState}function yk(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=rs();i=ur(l);var d=dr(a,i,l);d!==null&&(Bn(d,a,l),ql(d,a,l)),a={cache:Vm()},i.payload=a;return}a=a.return}}function xk(i,a,l){var d=rs();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pd(i)?Tx(a,l):(l=jm(i,a,l,d),l!==null&&(Bn(l,i,d),Mx(l,a,d)))}function Nx(i,a,l){var d=rs();Ql(i,a,l,d)}function Ql(i,a,l,d){var b={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(pd(i))Tx(a,b);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,A=y(E,l);if(b.hasEagerState=!0,b.eagerState=A,Zn(A,E))return Ku(i,a,b,0),St===null&&Yu(),!1}catch{}if(l=jm(i,a,b,d),l!==null)return Bn(l,i,d),Mx(l,a,d),!0}return!1}function mp(i,a,l,d){if(d={lane:2,revertLane:Gp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},pd(i)){if(a)throw Error(s(479))}else a=jm(i,l,d,2),a!==null&&Bn(a,i,2)}function pd(i){var a=i.alternate;return i===$e||a!==null&&a===$e}function Tx(i,a){yo=ld=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Mx(i,a,l){if((l&4194048)!==0){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,dt(i,l)}}var Zl={readContext:fn,use:dd,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};Zl.useEffectEvent=Vt;var Rx={readContext:fn,use:dd,useCallback:function(i,a){return Tn().memoizedState=[i,a===void 0?null:a],i},useContext:fn,useEffect:hx,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,fd(4194308,4,gx.bind(null,a,i),l)},useLayoutEffect:function(i,a){return fd(4194308,4,i,a)},useInsertionEffect:function(i,a){fd(4,2,i,a)},useMemo:function(i,a){var l=Tn();a=a===void 0?null:a;var d=i();if(Ea){jt(!0);try{i()}finally{jt(!1)}}return l.memoizedState=[d,a],d},useReducer:function(i,a,l){var d=Tn();if(l!==void 0){var b=l(a);if(Ea){jt(!0);try{l(a)}finally{jt(!1)}}}else b=a;return d.memoizedState=d.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},d.queue=i,i=i.dispatch=xk.bind(null,$e,i),[d.memoizedState,i]},useRef:function(i){var a=Tn();return i={current:i},a.memoizedState=i},useState:function(i){i=op(i);var a=i.queue,l=Nx.bind(null,$e,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:up,useDeferredValue:function(i,a){var l=Tn();return dp(l,i,a)},useTransition:function(){var i=op(!1);return i=wx.bind(null,$e,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var d=$e,b=Tn();if(Ze){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),St===null)throw Error(s(349));(Je&127)!==0||Xy(d,a,l)}b.memoizedState=l;var y={value:l,getSnapshot:a};return b.queue=y,hx(Qy.bind(null,d,y,i),[i]),d.flags|=2048,wo(9,{destroy:void 0},Jy.bind(null,d,y,l,a),null),l},useId:function(){var i=Tn(),a=St.identifierPrefix;if(Ze){var l=Ks,d=Ys;l=(d&~(1<<32-kt(d)-1)).toString(32)+l,a="_"+a+"R_"+l,l=cd++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=fk++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:fp,useFormState:ox,useActionState:ox,useOptimistic:function(i){var a=Tn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=mp.bind(null,$e,!0,l),l.dispatch=a,[i,a]},useMemoCache:ip,useCacheRefresh:function(){return Tn().memoizedState=yk.bind(null,$e)},useEffectEvent:function(i){var a=Tn(),l={impl:i};return a.memoizedState=l,function(){if((lt&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},pp={readContext:fn,use:dd,useCallback:bx,useContext:fn,useEffect:cp,useImperativeHandle:vx,useInsertionEffect:mx,useLayoutEffect:px,useMemo:yx,useReducer:hd,useRef:dx,useState:function(){return hd(_i)},useDebugValue:up,useDeferredValue:function(i,a){var l=Wt();return xx(l,vt.memoizedState,i,a)},useTransition:function(){var i=hd(_i)[0],a=Wt().memoizedState;return[typeof i=="boolean"?i:Jl(i),a]},useSyncExternalStore:Ky,useId:Ex,useHostTransitionStatus:fp,useFormState:lx,useActionState:lx,useOptimistic:function(i,a){var l=Wt();return tx(l,vt,i,a)},useMemoCache:ip,useCacheRefresh:_x};pp.useEffectEvent=fx;var Ax={readContext:fn,use:dd,useCallback:bx,useContext:fn,useEffect:cp,useImperativeHandle:vx,useInsertionEffect:mx,useLayoutEffect:px,useMemo:yx,useReducer:ap,useRef:dx,useState:function(){return ap(_i)},useDebugValue:up,useDeferredValue:function(i,a){var l=Wt();return vt===null?dp(l,i,a):xx(l,vt.memoizedState,i,a)},useTransition:function(){var i=ap(_i)[0],a=Wt().memoizedState;return[typeof i=="boolean"?i:Jl(i),a]},useSyncExternalStore:Ky,useId:Ex,useHostTransitionStatus:fp,useFormState:ux,useActionState:ux,useOptimistic:function(i,a){var l=Wt();return vt!==null?tx(l,vt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:ip,useCacheRefresh:_x};Ax.useEffectEvent=fx;function gp(i,a,l,d){a=i.memoizedState,l=l(d,a),l=l==null?a:g({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var vp={enqueueSetState:function(i,a,l){i=i._reactInternals;var d=rs(),b=ur(d);b.payload=a,l!=null&&(b.callback=l),a=dr(i,b,d),a!==null&&(Bn(a,i,d),ql(a,i,d))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var d=rs(),b=ur(d);b.tag=1,b.payload=a,l!=null&&(b.callback=l),a=dr(i,b,d),a!==null&&(Bn(a,i,d),ql(a,i,d))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=rs(),d=ur(l);d.tag=2,a!=null&&(d.callback=a),a=dr(i,d,l),a!==null&&(Bn(a,i,l),ql(a,i,l))}};function jx(i,a,l,d,b,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,E):a.prototype&&a.prototype.isPureReactComponent?!$l(l,d)||!$l(b,y):!0}function kx(i,a,l,d){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==i&&vp.enqueueReplaceState(a,a.state,null)}function _a(i,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(i=i.defaultProps){l===a&&(l=g({},l));for(var b in i)l[b]===void 0&&(l[b]=i[b])}return l}function Ox(i){qu(i)}function Dx(i){console.error(i)}function Ix(i){qu(i)}function gd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Lx(i,a,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function bp(i,a,l){return l=ur(l),l.tag=3,l.payload={element:null},l.callback=function(){gd(i,a)},l}function Px(i){return i=ur(i),i.tag=3,i}function zx(i,a,l,d){var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var y=d.value;i.payload=function(){return b(y)},i.callback=function(){Lx(a,l,d)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Lx(a,l,d),typeof b!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function wk(i,a,l,d,b){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&fo(a,l,b,!0),l=ts.current,l!==null){switch(l.tag){case 31:case 13:return bs===null?Md():l.alternate===null&&Ft===0&&(Ft=3),l.flags&=-257,l.flags|=65536,l.lanes=b,d===sd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),Fp(i,d,b)),!1;case 22:return l.flags|=65536,d===sd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),Fp(i,d,b)),!1}throw Error(s(435,l.tag))}return Fp(i,d,b),Md(),!1}if(Ze)return a=ts.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=b,d!==Pm&&(i=Error(s(422),{cause:d}),Vl(ms(i,l)))):(d!==Pm&&(a=Error(s(423),{cause:d}),Vl(ms(a,l))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,d=ms(d,l),b=bp(i.stateNode,d,b),Ym(i,b),Ft!==4&&(Ft=2)),!1;var y=Error(s(520),{cause:d});if(y=ms(y,l),oc===null?oc=[y]:oc.push(y),Ft!==4&&(Ft=2),a===null)return!0;d=ms(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=b&-b,l.lanes|=i,i=bp(l.stateNode,d,i),Ym(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y))))return l.flags|=65536,b&=-b,l.lanes|=b,b=Px(b),zx(b,i,l,d),Ym(l,b),!1}l=l.return}while(l!==null);return!1}var yp=Error(s(461)),Xt=!1;function mn(i,a,l,d){a.child=i===null?Vy(a,null,l,d):Ca(a,i.child,l,d)}function $x(i,a,l,d,b){l=l.render;var y=a.ref;if("ref"in d){var E={};for(var A in d)A!=="ref"&&(E[A]=d[A])}else E=d;return ya(a),d=ep(i,a,l,E,y,b),A=tp(),i!==null&&!Xt?(np(i,a,b),Ni(i,a,b)):(Ze&&A&&Im(a),a.flags|=1,mn(i,a,d,b),a.child)}function Ux(i,a,l,d,b){if(i===null){var y=l.type;return typeof y=="function"&&!km(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,Bx(i,a,y,d,b)):(i=Ju(l.type,null,d,a,a.mode,b),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Tp(i,b)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:$l,l(E,d)&&i.ref===a.ref)return Ni(i,a,b)}return a.flags|=1,i=xi(y,d),i.ref=a.ref,i.return=a,a.child=i}function Bx(i,a,l,d,b){if(i!==null){var y=i.memoizedProps;if($l(y,d)&&i.ref===a.ref)if(Xt=!1,a.pendingProps=d=y,Tp(i,b))(i.flags&131072)!==0&&(Xt=!0);else return a.lanes=i.lanes,Ni(i,a,b)}return xp(i,a,l,d,b)}function Vx(i,a,l,d){var b=d.children,y=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(d=a.child=i.child,b=0;d!==null;)b=b|d.lanes|d.childLanes,d=d.sibling;d=b&~y}else d=0,a.child=null;return Fx(i,a,y,l,d)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&td(a,y!==null?y.cachePool:null),y!==null?Wy(a,y):Xm(),Gy(a);else return d=a.lanes=536870912,Fx(i,a,y!==null?y.baseLanes|l:l,l,d)}else y!==null?(td(a,y.cachePool),Wy(a,y),fr(),a.memoizedState=null):(i!==null&&td(a,null),Xm(),fr());return mn(i,a,b,l),a.child}function ec(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Fx(i,a,l,d,b){var y=Hm();return y=y===null?null:{parent:Yt._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},i!==null&&td(a,null),Xm(),Gy(a),i!==null&&fo(i,a,d,!0),a.childLanes=b,null}function vd(i,a){return a=yd({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Hx(i,a,l){return Ca(a,i.child,null,l),i=vd(a,a.pendingProps),i.flags|=2,ns(a),a.memoizedState=null,i}function Sk(i,a,l){var d=a.pendingProps,b=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Ze){if(d.mode==="hidden")return i=vd(a,d),a.lanes=536870912,ec(null,i);if(Qm(a),(i=Dt)?(i=n1(i,vs),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:rr!==null?{id:Ys,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},l=Ty(i),l.return=a,a.child=l,hn=a,Dt=null)):i=null,i===null)throw or(a);return a.lanes=536870912,null}return vd(a,d)}var y=i.memoizedState;if(y!==null){var E=y.dehydrated;if(Qm(a),b)if(a.flags&256)a.flags&=-257,a=Hx(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(s(558));else if(Xt||fo(i,a,l,!1),b=(l&i.childLanes)!==0,Xt||b){if(d=St,d!==null&&(E=ht(d,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,pa(i,E),Bn(d,i,E),yp;Md(),a=Hx(i,a,l)}else i=y.treeContext,Dt=ys(E.nextSibling),hn=a,Ze=!0,ar=null,vs=!1,i!==null&&Ay(a,i),a=vd(a,d),a.flags|=4096;return a}return i=xi(i.child,{mode:d.mode,children:d.children}),i.ref=a.ref,a.child=i,i.return=a,i}function bd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function xp(i,a,l,d,b){return ya(a),l=ep(i,a,l,d,void 0,b),d=tp(),i!==null&&!Xt?(np(i,a,b),Ni(i,a,b)):(Ze&&d&&Im(a),a.flags|=1,mn(i,a,l,b),a.child)}function Wx(i,a,l,d,b,y){return ya(a),a.updateQueue=null,l=Yy(a,d,l,b),qy(i),d=tp(),i!==null&&!Xt?(np(i,a,y),Ni(i,a,y)):(Ze&&d&&Im(a),a.flags|=1,mn(i,a,l,y),a.child)}function Gx(i,a,l,d,b){if(ya(a),a.stateNode===null){var y=lo,E=l.contextType;typeof E=="object"&&E!==null&&(y=fn(E)),y=new l(d,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=vp,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=d,y.state=a.memoizedState,y.refs={},Gm(a),E=l.contextType,y.context=typeof E=="object"&&E!==null?fn(E):lo,y.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(gp(a,l,E,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&vp.enqueueReplaceState(y,y.state,null),Kl(a,d,y,b),Yl(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(i===null){y=a.stateNode;var A=a.memoizedProps,U=_a(l,A);y.props=U;var X=y.context,ue=l.contextType;E=lo,typeof ue=="object"&&ue!==null&&(E=fn(ue));var pe=l.getDerivedStateFromProps;ue=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||X!==E)&&kx(a,y,d,E),cr=!1;var ee=a.memoizedState;y.state=ee,Kl(a,d,y,b),Yl(),X=a.memoizedState,A||ee!==X||cr?(typeof pe=="function"&&(gp(a,l,pe,d),X=a.memoizedState),(U=cr||jx(a,l,U,d,ee,X,E))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=X),y.props=d,y.state=X,y.context=E,d=U):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{y=a.stateNode,qm(i,a),E=a.memoizedProps,ue=_a(l,E),y.props=ue,pe=a.pendingProps,ee=y.context,X=l.contextType,U=lo,typeof X=="object"&&X!==null&&(U=fn(X)),A=l.getDerivedStateFromProps,(X=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==pe||ee!==U)&&kx(a,y,d,U),cr=!1,ee=a.memoizedState,y.state=ee,Kl(a,d,y,b),Yl();var ie=a.memoizedState;E!==pe||ee!==ie||cr||i!==null&&i.dependencies!==null&&Zu(i.dependencies)?(typeof A=="function"&&(gp(a,l,A,d),ie=a.memoizedState),(ue=cr||jx(a,l,ue,d,ee,ie,U)||i!==null&&i.dependencies!==null&&Zu(i.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,ie,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,ie,U)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=ie),y.props=d,y.state=ie,y.context=U,d=ue):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),d=!1)}return y=d,bd(i,a),d=(a.flags&128)!==0,y||d?(y=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&d?(a.child=Ca(a,i.child,null,b),a.child=Ca(a,null,l,b)):mn(i,a,l,b),a.memoizedState=y.state,i=a.child):i=Ni(i,a,b),i}function qx(i,a,l,d){return va(),a.flags|=256,mn(i,a,l,d),a.child}var wp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sp(i){return{baseLanes:i,cachePool:Ly()}}function Cp(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=is),i}function Yx(i,a,l){var d=a.pendingProps,b=!1,y=(a.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Ht.current&2)!==0),E&&(b=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ze){if(b?hr(a):fr(),(i=Dt)?(i=n1(i,vs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:rr!==null?{id:Ys,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},l=Ty(i),l.return=a,a.child=l,hn=a,Dt=null)):i=null,i===null)throw or(a);return rg(i)?a.lanes=32:a.lanes=536870912,null}var A=d.children;return d=d.fallback,b?(fr(),b=a.mode,A=yd({mode:"hidden",children:A},b),d=ga(d,b,l,null),A.return=a,d.return=a,A.sibling=d,a.child=A,d=a.child,d.memoizedState=Sp(l),d.childLanes=Cp(i,E,l),a.memoizedState=wp,ec(null,d)):(hr(a),Ep(a,A))}var U=i.memoizedState;if(U!==null&&(A=U.dehydrated,A!==null)){if(y)a.flags&256?(hr(a),a.flags&=-257,a=_p(i,a,l)):a.memoizedState!==null?(fr(),a.child=i.child,a.flags|=128,a=null):(fr(),A=d.fallback,b=a.mode,d=yd({mode:"visible",children:d.children},b),A=ga(A,b,l,null),A.flags|=2,d.return=a,A.return=a,d.sibling=A,a.child=d,Ca(a,i.child,null,l),d=a.child,d.memoizedState=Sp(l),d.childLanes=Cp(i,E,l),a.memoizedState=wp,a=ec(null,d));else if(hr(a),rg(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var X=E.dgst;E=X,d=Error(s(419)),d.stack="",d.digest=E,Vl({value:d,source:null,stack:null}),a=_p(i,a,l)}else if(Xt||fo(i,a,l,!1),E=(l&i.childLanes)!==0,Xt||E){if(E=St,E!==null&&(d=ht(E,l),d!==0&&d!==U.retryLane))throw U.retryLane=d,pa(i,d),Bn(E,i,d),yp;ig(A)||Md(),a=_p(i,a,l)}else ig(A)?(a.flags|=192,a.child=i.child,a=null):(i=U.treeContext,Dt=ys(A.nextSibling),hn=a,Ze=!0,ar=null,vs=!1,i!==null&&Ay(a,i),a=Ep(a,d.children),a.flags|=4096);return a}return b?(fr(),A=d.fallback,b=a.mode,U=i.child,X=U.sibling,d=xi(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,X!==null?A=xi(X,A):(A=ga(A,b,l,null),A.flags|=2),A.return=a,d.return=a,d.sibling=A,a.child=d,ec(null,d),d=a.child,A=i.child.memoizedState,A===null?A=Sp(l):(b=A.cachePool,b!==null?(U=Yt._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=Ly(),A={baseLanes:A.baseLanes|l,cachePool:b}),d.memoizedState=A,d.childLanes=Cp(i,E,l),a.memoizedState=wp,ec(i.child,d)):(hr(a),l=i.child,i=l.sibling,l=xi(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,i!==null&&(E=a.deletions,E===null?(a.deletions=[i],a.flags|=16):E.push(i)),a.child=l,a.memoizedState=null,l)}function Ep(i,a){return a=yd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function yd(i,a){return i=es(22,i,null,a),i.lanes=0,i}function _p(i,a,l){return Ca(a,i.child,null,l),i=Ep(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Kx(i,a,l){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a),Um(i.return,a,l)}function Np(i,a,l,d,b,y){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:b,treeForkCount:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=l,E.tailMode=b,E.treeForkCount=y)}function Xx(i,a,l){var d=a.pendingProps,b=d.revealOrder,y=d.tail;d=d.children;var E=Ht.current,A=(E&2)!==0;if(A?(E=E&1|2,a.flags|=128):E&=1,z(Ht,E),mn(i,a,d,l),d=Ze?Bl:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Kx(i,l,a);else if(i.tag===19)Kx(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(l=a.child,b=null;l!==null;)i=l.alternate,i!==null&&od(i)===null&&(b=l),l=l.sibling;l=b,l===null?(b=a.child,a.child=null):(b=l.sibling,l.sibling=null),Np(a,!1,b,l,y,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,b=a.child,a.child=null;b!==null;){if(i=b.alternate,i!==null&&od(i)===null){a.child=b;break}i=b.sibling,b.sibling=l,l=b,b=i}Np(a,!0,l,null,y,d);break;case"together":Np(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Ni(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),gr|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(fo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,l=xi(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=xi(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Tp(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Zu(i)))}function Ck(i,a,l){switch(a.tag){case 3:ae(a,a.stateNode.containerInfo),lr(a,Yt,i.memoizedState.cache),va();break;case 27:case 5:we(a);break;case 4:ae(a,a.stateNode.containerInfo);break;case 10:lr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Qm(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(hr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?Yx(i,a,l):(hr(a),i=Ni(i,a,l),i!==null?i.sibling:null);hr(a);break;case 19:var b=(i.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(fo(i,a,l,!1),d=(l&a.childLanes)!==0),b){if(d)return Xx(i,a,l);a.flags|=128}if(b=a.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),z(Ht,Ht.current),d)break;return null;case 22:return a.lanes=0,Vx(i,a,l,a.pendingProps);case 24:lr(a,Yt,i.memoizedState.cache)}return Ni(i,a,l)}function Jx(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Xt=!0;else{if(!Tp(i,l)&&(a.flags&128)===0)return Xt=!1,Ck(i,a,l);Xt=(i.flags&131072)!==0}else Xt=!1,Ze&&(a.flags&1048576)!==0&&Ry(a,Bl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(i=wa(a.elementType),a.type=i,typeof i=="function")km(i)?(d=_a(i,d),a.tag=1,a=Gx(null,a,i,d,l)):(a.tag=0,a=xp(null,a,i,d,l));else{if(i!=null){var b=i.$$typeof;if(b===j){a.tag=11,a=$x(null,a,i,d,l);break e}else if(b===O){a.tag=14,a=Ux(null,a,i,d,l);break e}}throw a=ce(i)||i,Error(s(306,a,""))}}return a;case 0:return xp(i,a,a.type,a.pendingProps,l);case 1:return d=a.type,b=_a(d,a.pendingProps),Gx(i,a,d,b,l);case 3:e:{if(ae(a,a.stateNode.containerInfo),i===null)throw Error(s(387));d=a.pendingProps;var y=a.memoizedState;b=y.element,qm(i,a),Kl(a,d,null,l);var E=a.memoizedState;if(d=E.cache,lr(a,Yt,d),d!==y.cache&&Bm(a,[Yt],l,!0),Yl(),d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=qx(i,a,d,l);break e}else if(d!==b){b=ms(Error(s(424)),a),Vl(b),a=qx(i,a,d,l);break e}else for(i=a.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Dt=ys(i.firstChild),hn=a,Ze=!0,ar=null,vs=!0,l=Vy(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(va(),d===b){a=Ni(i,a,l);break e}mn(i,a,d,l)}a=a.child}return a;case 26:return bd(i,a),i===null?(l=l1(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,i=a.pendingProps,d=Id(Q.current).createElement(l),d[Pt]=a,d[xn]=i,pn(d,l,i),Ot(d),a.stateNode=d):a.memoizedState=l1(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return we(a),i===null&&Ze&&(d=a.stateNode=r1(a.type,a.pendingProps,Q.current),hn=a,vs=!0,b=Dt,wr(a.type)?(ag=b,Dt=ys(d.firstChild)):Dt=b),mn(i,a,a.pendingProps.children,l),bd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ze&&((b=d=Dt)&&(d=Zk(d,a.type,a.pendingProps,vs),d!==null?(a.stateNode=d,hn=a,Dt=ys(d.firstChild),vs=!1,b=!0):b=!1),b||or(a)),we(a),b=a.type,y=a.pendingProps,E=i!==null?i.memoizedProps:null,d=y.children,tg(b,y)?d=null:E!==null&&tg(b,E)&&(a.flags|=32),a.memoizedState!==null&&(b=ep(i,a,mk,null,null,l),pc._currentValue=b),bd(i,a),mn(i,a,d,l),a.child;case 6:return i===null&&Ze&&((i=l=Dt)&&(l=eO(l,a.pendingProps,vs),l!==null?(a.stateNode=l,hn=a,Dt=null,i=!0):i=!1),i||or(a)),null;case 13:return Yx(i,a,l);case 4:return ae(a,a.stateNode.containerInfo),d=a.pendingProps,i===null?a.child=Ca(a,null,d,l):mn(i,a,d,l),a.child;case 11:return $x(i,a,a.type,a.pendingProps,l);case 7:return mn(i,a,a.pendingProps,l),a.child;case 8:return mn(i,a,a.pendingProps.children,l),a.child;case 12:return mn(i,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,lr(a,a.type,d.value),mn(i,a,d.children,l),a.child;case 9:return b=a.type._context,d=a.pendingProps.children,ya(a),b=fn(b),d=d(b),a.flags|=1,mn(i,a,d,l),a.child;case 14:return Ux(i,a,a.type,a.pendingProps,l);case 15:return Bx(i,a,a.type,a.pendingProps,l);case 19:return Xx(i,a,l);case 31:return Sk(i,a,l);case 22:return Vx(i,a,l,a.pendingProps);case 24:return ya(a),d=fn(Yt),i===null?(b=Hm(),b===null&&(b=St,y=Vm(),b.pooledCache=y,y.refCount++,y!==null&&(b.pooledCacheLanes|=l),b=y),a.memoizedState={parent:d,cache:b},Gm(a),lr(a,Yt,b)):((i.lanes&l)!==0&&(qm(i,a),Kl(a,null,null,l),Yl()),b=i.memoizedState,y=a.memoizedState,b.parent!==d?(b={parent:d,cache:d},a.memoizedState=b,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=b),lr(a,Yt,d)):(d=y.cache,lr(a,Yt,d),d!==b.cache&&Bm(a,[Yt],l,!0))),mn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Ti(i){i.flags|=4}function Mp(i,a,l,d,b){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(Ew())i.flags|=8192;else throw Sa=sd,Wm}else i.flags&=-16777217}function Qx(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!f1(a))if(Ew())i.flags|=8192;else throw Sa=sd,Wm}function xd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Xe():536870912,i.lanes|=a,_o|=a)}function tc(i,a){if(!Ze)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function It(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(a)for(var b=i.child;b!==null;)l|=b.lanes|b.childLanes,d|=b.subtreeFlags&65011712,d|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)l|=b.lanes|b.childLanes,d|=b.subtreeFlags,d|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=d,i.childLanes=l,a}function Ek(i,a,l){var d=a.pendingProps;switch(Lm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return l=a.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ci(Yt),be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(ho(a)?Ti(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zm())),It(a),null;case 26:var b=a.type,y=a.memoizedState;return i===null?(Ti(a),y!==null?(It(a),Qx(a,y)):(It(a),Mp(a,b,null,d,l))):y?y!==i.memoizedState?(Ti(a),It(a),Qx(a,y)):(It(a),a.flags&=-16777217):(i=i.memoizedProps,i!==d&&Ti(a),It(a),Mp(a,b,i,d,l)),null;case 27:if(Ve(a),l=Q.current,b=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Ti(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return It(a),null}i=$.current,ho(a)?jy(a):(i=r1(b,d,l),a.stateNode=i,Ti(a))}return It(a),null;case 5:if(Ve(a),b=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Ti(a);else{if(!d){if(a.stateNode===null)throw Error(s(166));return It(a),null}if(y=$.current,ho(a))jy(a);else{var E=Id(Q.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof d.is=="string"?E.createElement("select",{is:d.is}):E.createElement("select"),d.multiple?y.multiple=!0:d.size&&(y.size=d.size);break;default:y=typeof d.is=="string"?E.createElement(b,{is:d.is}):E.createElement(b)}}y[Pt]=a,y[xn]=d;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=y;e:switch(pn(y,b,d),b){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Ti(a)}}return It(a),Mp(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==d&&Ti(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(s(166));if(i=Q.current,ho(a)){if(i=a.stateNode,l=a.memoizedProps,d=null,b=hn,b!==null)switch(b.tag){case 27:case 5:d=b.memoizedProps}i[Pt]=a,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||Yw(i.nodeValue,l)),i||or(a,!0)}else i=Id(i).createTextNode(d),i[Pt]=a,a.stateNode=i}return It(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(d=ho(a),l!==null){if(i===null){if(!d)throw Error(s(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Pt]=a}else va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),i=!1}else l=zm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(ns(a),a):(ns(a),null);if((a.flags&128)!==0)throw Error(s(558))}return It(a),null;case 13:if(d=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=ho(a),d!==null&&d.dehydrated!==null){if(i===null){if(!b)throw Error(s(318));if(b=a.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(s(317));b[Pt]=a}else va(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),b=!1}else b=zm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return a.flags&256?(ns(a),a):(ns(a),null)}return ns(a),(a.flags&128)!==0?(a.lanes=l,a):(l=d!==null,i=i!==null&&i.memoizedState!==null,l&&(d=a.child,b=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(b=d.alternate.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==b&&(d.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),xd(a,a.updateQueue),It(a),null);case 4:return be(),i===null&&Xp(a.stateNode.containerInfo),It(a),null;case 10:return Ci(a.type),It(a),null;case 19:if(R(Ht),d=a.memoizedState,d===null)return It(a),null;if(b=(a.flags&128)!==0,y=d.rendering,y===null)if(b)tc(d,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=od(i),y!==null){for(a.flags|=128,tc(d,!1),i=y.updateQueue,a.updateQueue=i,xd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)Ny(l,i),l=l.sibling;return z(Ht,Ht.current&1|2),Ze&&wi(a,d.treeForkCount),a.child}i=i.sibling}d.tail!==null&&Nt()>_d&&(a.flags|=128,b=!0,tc(d,!1),a.lanes=4194304)}else{if(!b)if(i=od(y),i!==null){if(a.flags|=128,b=!0,i=i.updateQueue,a.updateQueue=i,xd(a,i),tc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!Ze)return It(a),null}else 2*Nt()-d.renderingStartTime>_d&&l!==536870912&&(a.flags|=128,b=!0,tc(d,!1),a.lanes=4194304);d.isBackwards?(y.sibling=a.child,a.child=y):(i=d.last,i!==null?i.sibling=y:a.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Nt(),i.sibling=null,l=Ht.current,z(Ht,b?l&1|2:l&1),Ze&&wi(a,d.treeForkCount),i):(It(a),null);case 22:case 23:return ns(a),Jm(),d=a.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),l=a.updateQueue,l!==null&&xd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),i!==null&&R(xa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ci(Yt),It(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function _k(i,a){switch(Lm(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ci(Yt),be(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ve(a),null;case 31:if(a.memoizedState!==null){if(ns(a),a.alternate===null)throw Error(s(340));va()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(ns(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));va()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return R(Ht),null;case 4:return be(),null;case 10:return Ci(a.type),null;case 22:case 23:return ns(a),Jm(),i!==null&&R(xa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ci(Yt),null;case 25:return null;default:return null}}function Zx(i,a){switch(Lm(a),a.tag){case 3:Ci(Yt),be();break;case 26:case 27:case 5:Ve(a);break;case 4:be();break;case 31:a.memoizedState!==null&&ns(a);break;case 13:ns(a);break;case 19:R(Ht);break;case 10:Ci(a.type);break;case 22:case 23:ns(a),Jm(),i!==null&&R(xa);break;case 24:Ci(Yt)}}function nc(i,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var b=d.next;l=b;do{if((l.tag&i)===i){d=void 0;var y=l.create,E=l.inst;d=y(),E.destroy=d}l=l.next}while(l!==b)}}catch(A){mt(a,a.return,A)}}function mr(i,a,l){try{var d=a.updateQueue,b=d!==null?d.lastEffect:null;if(b!==null){var y=b.next;d=y;do{if((d.tag&i)===i){var E=d.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,b=a;var U=l,X=A;try{X()}catch(ue){mt(b,U,ue)}}}d=d.next}while(d!==y)}}catch(ue){mt(a,a.return,ue)}}function ew(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Hy(a,l)}catch(d){mt(i,i.return,d)}}}function tw(i,a,l){l.props=_a(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){mt(i,a,d)}}function sc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(b){mt(i,a,b)}}function Xs(i,a){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(b){mt(i,a,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(b){mt(i,a,b)}else l.current=null}function nw(i){var a=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(b){mt(i,i.return,b)}}function Rp(i,a,l){try{var d=i.stateNode;qk(d,i.type,l,a),d[xn]=a}catch(b){mt(i,i.return,b)}}function sw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&wr(i.type)||i.tag===4}function Ap(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||sw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&wr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jp(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Qn));else if(d!==4&&(d===27&&wr(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(jp(i,a,l),i=i.sibling;i!==null;)jp(i,a,l),i=i.sibling}function wd(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(d!==4&&(d===27&&wr(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(wd(i,a,l),i=i.sibling;i!==null;)wd(i,a,l),i=i.sibling}function iw(i){var a=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,b=a.attributes;b.length;)a.removeAttributeNode(b[0]);pn(a,d,l),a[Pt]=i,a[xn]=l}catch(y){mt(i,i.return,y)}}var Mi=!1,Jt=!1,kp=!1,rw=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Nk(i,a){if(i=i.containerInfo,Zp=Vd,i=vy(i),_m(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var b=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,A=-1,U=-1,X=0,ue=0,pe=i,ee=null;t:for(;;){for(var ie;pe!==l||b!==0&&pe.nodeType!==3||(A=E+b),pe!==y||d!==0&&pe.nodeType!==3||(U=E+d),pe.nodeType===3&&(E+=pe.nodeValue.length),(ie=pe.firstChild)!==null;)ee=pe,pe=ie;for(;;){if(pe===i)break t;if(ee===l&&++X===b&&(A=E),ee===y&&++ue===d&&(U=E),(ie=pe.nextSibling)!==null)break;pe=ee,ee=pe.parentNode}pe=ie}l=A===-1||U===-1?null:{start:A,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(eg={focusedElem:i,selectionRange:l},Vd=!1,ln=a;ln!==null;)if(a=ln,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,ln=i;else for(;ln!==null;){switch(a=ln,y=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)b=i[l],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,b=y.memoizedProps,y=y.memoizedState,d=l.stateNode;try{var Ne=_a(l.type,b);i=d.getSnapshotBeforeUpdate(Ne,y),d.__reactInternalSnapshotBeforeUpdate=i}catch(De){mt(l,l.return,De)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)sg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,ln=i;break}ln=a.return}}function aw(i,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Ai(i,l),d&4&&nc(5,l);break;case 1:if(Ai(i,l),d&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(E){mt(l,l.return,E)}else{var b=_a(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(b,a,i.__reactInternalSnapshotBeforeUpdate)}catch(E){mt(l,l.return,E)}}d&64&&ew(l),d&512&&sc(l,l.return);break;case 3:if(Ai(i,l),d&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Hy(i,a)}catch(E){mt(l,l.return,E)}}break;case 27:a===null&&d&4&&iw(l);case 26:case 5:Ai(i,l),a===null&&d&4&&nw(l),d&512&&sc(l,l.return);break;case 12:Ai(i,l);break;case 31:Ai(i,l),d&4&&cw(i,l);break;case 13:Ai(i,l),d&4&&uw(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Ik.bind(null,l),tO(i,l))));break;case 22:if(d=l.memoizedState!==null||Mi,!d){a=a!==null&&a.memoizedState!==null||Jt,b=Mi;var y=Jt;Mi=d,(Jt=a)&&!y?ji(i,l,(l.subtreeFlags&8772)!==0):Ai(i,l),Mi=b,Jt=y}break;case 30:break;default:Ai(i,l)}}function ow(i){var a=i.alternate;a!==null&&(i.alternate=null,ow(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Tl(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var zt=null,Pn=!1;function Ri(i,a,l){for(l=l.child;l!==null;)lw(i,a,l),l=l.sibling}function lw(i,a,l){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(us,l)}catch{}switch(l.tag){case 26:Jt||Xs(l,a),Ri(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Jt||Xs(l,a);var d=zt,b=Pn;wr(l.type)&&(zt=l.stateNode,Pn=!1),Ri(i,a,l),hc(l.stateNode),zt=d,Pn=b;break;case 5:Jt||Xs(l,a);case 6:if(d=zt,b=Pn,zt=null,Ri(i,a,l),zt=d,Pn=b,zt!==null)if(Pn)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(l.stateNode)}catch(y){mt(l,a,y)}else try{zt.removeChild(l.stateNode)}catch(y){mt(l,a,y)}break;case 18:zt!==null&&(Pn?(i=zt,e1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Oo(i)):e1(zt,l.stateNode));break;case 4:d=zt,b=Pn,zt=l.stateNode.containerInfo,Pn=!0,Ri(i,a,l),zt=d,Pn=b;break;case 0:case 11:case 14:case 15:mr(2,l,a),Jt||mr(4,l,a),Ri(i,a,l);break;case 1:Jt||(Xs(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&tw(l,a,d)),Ri(i,a,l);break;case 21:Ri(i,a,l);break;case 22:Jt=(d=Jt)||l.memoizedState!==null,Ri(i,a,l),Jt=d;break;default:Ri(i,a,l)}}function cw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Oo(i)}catch(l){mt(a,a.return,l)}}}function uw(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Oo(i)}catch(l){mt(a,a.return,l)}}function Tk(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new rw),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new rw),a;default:throw Error(s(435,i.tag))}}function Sd(i,a){var l=Tk(i);a.forEach(function(d){if(!l.has(d)){l.add(d);var b=Lk.bind(null,i,d);d.then(b,b)}})}function zn(i,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var b=l[d],y=i,E=a,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(wr(A.type)){zt=A.stateNode,Pn=!1;break e}break;case 5:zt=A.stateNode,Pn=!1;break e;case 3:case 4:zt=A.stateNode.containerInfo,Pn=!0;break e}A=A.return}if(zt===null)throw Error(s(160));lw(y,E,b),zt=null,Pn=!1,y=b.alternate,y!==null&&(y.return=null),b.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)dw(a,i),a=a.sibling}var Is=null;function dw(i,a){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zn(a,i),$n(i),d&4&&(mr(3,i,i.return),nc(3,i),mr(5,i,i.return));break;case 1:zn(a,i),$n(i),d&512&&(Jt||l===null||Xs(l,l.return)),d&64&&Mi&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var b=Is;if(zn(a,i),$n(i),d&512&&(Jt||l===null||Xs(l,l.return)),d&4){var y=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,b=b.ownerDocument||b;t:switch(d){case"title":y=b.getElementsByTagName("title")[0],(!y||y[ia]||y[Pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=b.createElement(d),b.head.insertBefore(y,b.querySelector("head > title"))),pn(y,d,l),y[Pt]=i,Ot(y),d=y;break e;case"link":var E=d1("link","href",b).get(d+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(y=E[A],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break t}}y=b.createElement(d),pn(y,d,l),b.head.appendChild(y);break;case"meta":if(E=d1("meta","content",b).get(d+(l.content||""))){for(A=0;A<E.length;A++)if(y=E[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break t}}y=b.createElement(d),pn(y,d,l),b.head.appendChild(y);break;default:throw Error(s(468,d))}y[Pt]=i,Ot(y),d=y}i.stateNode=d}else h1(b,i.type,i.stateNode);else i.stateNode=u1(b,d,i.memoizedProps);else y!==d?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,d===null?h1(b,i.type,i.stateNode):u1(b,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Rp(i,i.memoizedProps,l.memoizedProps)}break;case 27:zn(a,i),$n(i),d&512&&(Jt||l===null||Xs(l,l.return)),l!==null&&d&4&&Rp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(zn(a,i),$n(i),d&512&&(Jt||l===null||Xs(l,l.return)),i.flags&32){b=i.stateNode;try{vi(b,"")}catch(Ne){mt(i,i.return,Ne)}}d&4&&i.stateNode!=null&&(b=i.memoizedProps,Rp(i,b,l!==null?l.memoizedProps:b)),d&1024&&(kp=!0);break;case 6:if(zn(a,i),$n(i),d&4){if(i.stateNode===null)throw Error(s(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(Ne){mt(i,i.return,Ne)}}break;case 3:if(zd=null,b=Is,Is=Ld(a.containerInfo),zn(a,i),Is=b,$n(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Oo(a.containerInfo)}catch(Ne){mt(i,i.return,Ne)}kp&&(kp=!1,hw(i));break;case 4:d=Is,Is=Ld(i.stateNode.containerInfo),zn(a,i),$n(i),Is=d;break;case 12:zn(a,i),$n(i);break;case 31:zn(a,i),$n(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sd(i,d)));break;case 13:zn(a,i),$n(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ed=Nt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sd(i,d)));break;case 22:b=i.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,X=Mi,ue=Jt;if(Mi=X||b,Jt=ue||U,zn(a,i),Jt=ue,Mi=X,$n(i),d&8192)e:for(a=i.stateNode,a._visibility=b?a._visibility&-2:a._visibility|1,b&&(l===null||U||Mi||Jt||Na(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){U=l=a;try{if(y=U.stateNode,b)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=U.stateNode;var pe=U.memoizedProps.style,ee=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;A.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ne){mt(U,U.return,Ne)}}}else if(a.tag===6){if(l===null){U=a;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(Ne){mt(U,U.return,Ne)}}}else if(a.tag===18){if(l===null){U=a;try{var ie=U.stateNode;b?t1(ie,!0):t1(U.stateNode,!1)}catch(Ne){mt(U,U.return,Ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,Sd(i,l))));break;case 19:zn(a,i),$n(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Sd(i,d)));break;case 30:break;case 21:break;default:zn(a,i),$n(i)}}function $n(i){var a=i.flags;if(a&2){try{for(var l,d=i.return;d!==null;){if(sw(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var b=l.stateNode,y=Ap(i);wd(i,y,b);break;case 5:var E=l.stateNode;l.flags&32&&(vi(E,""),l.flags&=-33);var A=Ap(i);wd(i,A,E);break;case 3:case 4:var U=l.stateNode.containerInfo,X=Ap(i);jp(i,X,U);break;default:throw Error(s(161))}}catch(ue){mt(i,i.return,ue)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function hw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;hw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ai(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)aw(i,a.alternate,a),a=a.sibling}function Na(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:mr(4,a,a.return),Na(a);break;case 1:Xs(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&tw(a,a.return,l),Na(a);break;case 27:hc(a.stateNode);case 26:case 5:Xs(a,a.return),Na(a);break;case 22:a.memoizedState===null&&Na(a);break;case 30:Na(a);break;default:Na(a)}i=i.sibling}}function ji(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,b=i,y=a,E=y.flags;switch(y.tag){case 0:case 11:case 15:ji(b,y,l),nc(4,y);break;case 1:if(ji(b,y,l),d=y,b=d.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(X){mt(d,d.return,X)}if(d=y,b=d.updateQueue,b!==null){var A=d.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)Fy(U[b],A)}catch(X){mt(d,d.return,X)}}l&&E&64&&ew(y),sc(y,y.return);break;case 27:iw(y);case 26:case 5:ji(b,y,l),l&&d===null&&E&4&&nw(y),sc(y,y.return);break;case 12:ji(b,y,l);break;case 31:ji(b,y,l),l&&E&4&&cw(b,y);break;case 13:ji(b,y,l),l&&E&4&&uw(b,y);break;case 22:y.memoizedState===null&&ji(b,y,l),sc(y,y.return);break;case 30:break;default:ji(b,y,l)}a=a.sibling}}function Op(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Fl(l))}function Dp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Fl(i))}function Ls(i,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fw(i,a,l,d),a=a.sibling}function fw(i,a,l,d){var b=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(i,a,l,d),b&2048&&nc(9,a);break;case 1:Ls(i,a,l,d);break;case 3:Ls(i,a,l,d),b&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Fl(i)));break;case 12:if(b&2048){Ls(i,a,l,d),i=a.stateNode;try{var y=a.memoizedProps,E=y.id,A=y.onPostCommit;typeof A=="function"&&A(E,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){mt(a,a.return,U)}}else Ls(i,a,l,d);break;case 31:Ls(i,a,l,d);break;case 13:Ls(i,a,l,d);break;case 23:break;case 22:y=a.stateNode,E=a.alternate,a.memoizedState!==null?y._visibility&2?Ls(i,a,l,d):ic(i,a):y._visibility&2?Ls(i,a,l,d):(y._visibility|=2,So(i,a,l,d,(a.subtreeFlags&10256)!==0||!1)),b&2048&&Op(E,a);break;case 24:Ls(i,a,l,d),b&2048&&Dp(a.alternate,a);break;default:Ls(i,a,l,d)}}function So(i,a,l,d,b){for(b=b&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=i,E=a,A=l,U=d,X=E.flags;switch(E.tag){case 0:case 11:case 15:So(y,E,A,U,b),nc(8,E);break;case 23:break;case 22:var ue=E.stateNode;E.memoizedState!==null?ue._visibility&2?So(y,E,A,U,b):ic(y,E):(ue._visibility|=2,So(y,E,A,U,b)),b&&X&2048&&Op(E.alternate,E);break;case 24:So(y,E,A,U,b),b&&X&2048&&Dp(E.alternate,E);break;default:So(y,E,A,U,b)}a=a.sibling}}function ic(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,d=a,b=d.flags;switch(d.tag){case 22:ic(l,d),b&2048&&Op(d.alternate,d);break;case 24:ic(l,d),b&2048&&Dp(d.alternate,d);break;default:ic(l,d)}a=a.sibling}}var rc=8192;function Co(i,a,l){if(i.subtreeFlags&rc)for(i=i.child;i!==null;)mw(i,a,l),i=i.sibling}function mw(i,a,l){switch(i.tag){case 26:Co(i,a,l),i.flags&rc&&i.memoizedState!==null&&fO(l,Is,i.memoizedState,i.memoizedProps);break;case 5:Co(i,a,l);break;case 3:case 4:var d=Is;Is=Ld(i.stateNode.containerInfo),Co(i,a,l),Is=d;break;case 22:i.memoizedState===null&&(d=i.alternate,d!==null&&d.memoizedState!==null?(d=rc,rc=16777216,Co(i,a,l),rc=d):Co(i,a,l));break;default:Co(i,a,l)}}function pw(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ac(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];ln=d,vw(d,i)}pw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gw(i),i=i.sibling}function gw(i){switch(i.tag){case 0:case 11:case 15:ac(i),i.flags&2048&&mr(9,i,i.return);break;case 3:ac(i);break;case 12:ac(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Cd(i)):ac(i);break;default:ac(i)}}function Cd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];ln=d,vw(d,i)}pw(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:mr(8,a,a.return),Cd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Cd(a));break;default:Cd(a)}i=i.sibling}}function vw(i,a){for(;ln!==null;){var l=ln;switch(l.tag){case 0:case 11:case 15:mr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Fl(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,ln=d;else e:for(l=i;ln!==null;){d=ln;var b=d.sibling,y=d.return;if(ow(d),d===l){ln=null;break e}if(b!==null){b.return=y,ln=b;break e}ln=y}}}var Mk={getCacheForType:function(i){var a=fn(Yt),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return fn(Yt).controller.signal}},Rk=typeof WeakMap=="function"?WeakMap:Map,lt=0,St=null,qe=null,Je=0,ft=0,ss=null,pr=!1,Eo=!1,Ip=!1,ki=0,Ft=0,gr=0,Ta=0,Lp=0,is=0,_o=0,oc=null,Un=null,Pp=!1,Ed=0,bw=0,_d=1/0,Nd=null,vr=null,en=0,br=null,No=null,Oi=0,zp=0,$p=null,yw=null,lc=0,Up=null;function rs(){return(lt&2)!==0&&Je!==0?Je&-Je:k.T!==null?Gp():Nn()}function xw(){if(is===0)if((Je&536870912)===0||Ze){var i=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),is=i}else is=536870912;return i=ts.current,i!==null&&(i.flags|=32),is}function Bn(i,a,l){(i===St&&(ft===2||ft===9)||i.cancelPendingCommit!==null)&&(To(i,0),yr(i,Je,is,!1)),rt(i,l),((lt&2)===0||i!==St)&&(i===St&&((lt&2)===0&&(Ta|=l),Ft===4&&yr(i,Je,is,!1)),Js(i))}function ww(i,a,l){if((lt&6)!==0)throw Error(s(327));var d=!l&&(a&127)===0&&(a&i.expiredLanes)===0||We(i,a),b=d?kk(i,a):Vp(i,a,!0),y=d;do{if(b===0){Eo&&!d&&yr(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!Ak(l)){b=Vp(i,a,!1),y=!1;continue}if(b===2){if(y=a,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var A=i;b=oc;var U=A.current.memoizedState.isDehydrated;if(U&&(To(A,E).flags|=256),E=Vp(A,E,!1),E!==2){if(Ip&&!U){A.errorRecoveryDisabledLanes|=y,Ta|=y,b=4;break e}y=Un,Un=b,y!==null&&(Un===null?Un=y:Un.push.apply(Un,y))}b=E}if(y=!1,b!==2)continue}}if(b===1){To(i,0),yr(i,a,0,!0);break}e:{switch(d=i,y=b,y){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:yr(d,a,is,!pr);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(b=Ed+300-Nt(),10<b)){if(yr(d,a,is,!pr),Ee(d,0,!0)!==0)break e;Oi=a,d.timeoutHandle=Qw(Sw.bind(null,d,l,Un,Nd,Pp,a,is,Ta,_o,pr,y,"Throttled",-0,0),b);break e}Sw(d,l,Un,Nd,Pp,a,is,Ta,_o,pr,y,null,-0,0)}}break}while(!0);Js(i)}function Sw(i,a,l,d,b,y,E,A,U,X,ue,pe,ee,ie){if(i.timeoutHandle=-1,pe=a.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},mw(a,y,pe);var Ne=(y&62914560)===y?Ed-Nt():(y&4194048)===y?bw-Nt():0;if(Ne=mO(pe,Ne),Ne!==null){Oi=y,i.cancelPendingCommit=Ne(Aw.bind(null,i,a,y,l,d,b,E,A,U,ue,pe,null,ee,ie)),yr(i,y,E,!X);return}}Aw(i,a,y,l,d,b,E,A,U)}function Ak(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var b=l[d],y=b.getSnapshot;b=b.value;try{if(!Zn(y(),b))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yr(i,a,l,d){a&=~Lp,a&=~Ta,i.suspendedLanes|=a,i.pingedLanes&=~a,d&&(i.warmLanes|=a),d=i.expirationTimes;for(var b=a;0<b;){var y=31-kt(b),E=1<<y;d[y]=-1,b&=~E}l!==0&&on(i,l,a)}function Td(){return(lt&6)===0?(cc(0),!1):!0}function Bp(){if(qe!==null){if(ft===0)var i=qe.return;else i=qe,Si=ba=null,sp(i),vo=null,Wl=0,i=qe;for(;i!==null;)Zx(i.alternate,i),i=i.return;qe=null}}function To(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Xk(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Oi=0,Bp(),St=i,qe=l=xi(i.current,null),Je=a,ft=0,ss=null,pr=!1,Eo=We(i,a),Ip=!1,_o=is=Lp=Ta=gr=Ft=0,Un=oc=null,Pp=!1,(a&8)!==0&&(a|=a&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=a;0<d;){var b=31-kt(d),y=1<<b;a|=i[b],d&=~y}return ki=a,Yu(),l}function Cw(i,a){$e=null,k.H=Zl,a===go||a===nd?(a=$y(),ft=3):a===Wm?(a=$y(),ft=4):ft=a===yp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ss=a,qe===null&&(Ft=1,gd(i,ms(a,i.current)))}function Ew(){var i=ts.current;return i===null?!0:(Je&4194048)===Je?bs===null:(Je&62914560)===Je||(Je&536870912)!==0?i===bs:!1}function _w(){var i=k.H;return k.H=Zl,i===null?Zl:i}function Nw(){var i=k.A;return k.A=Mk,i}function Md(){Ft=4,pr||(Je&4194048)!==Je&&ts.current!==null||(Eo=!0),(gr&134217727)===0&&(Ta&134217727)===0||St===null||yr(St,Je,is,!1)}function Vp(i,a,l){var d=lt;lt|=2;var b=_w(),y=Nw();(St!==i||Je!==a)&&(Nd=null,To(i,a)),a=!1;var E=Ft;e:do try{if(ft!==0&&qe!==null){var A=qe,U=ss;switch(ft){case 8:Bp(),E=6;break e;case 3:case 2:case 9:case 6:ts.current===null&&(a=!0);var X=ft;if(ft=0,ss=null,Mo(i,A,U,X),l&&Eo){E=0;break e}break;default:X=ft,ft=0,ss=null,Mo(i,A,U,X)}}jk(),E=Ft;break}catch(ue){Cw(i,ue)}while(!0);return a&&i.shellSuspendCounter++,Si=ba=null,lt=d,k.H=b,k.A=y,qe===null&&(St=null,Je=0,Yu()),E}function jk(){for(;qe!==null;)Tw(qe)}function kk(i,a){var l=lt;lt|=2;var d=_w(),b=Nw();St!==i||Je!==a?(Nd=null,_d=Nt()+500,To(i,a)):Eo=We(i,a);e:do try{if(ft!==0&&qe!==null){a=qe;var y=ss;t:switch(ft){case 1:ft=0,ss=null,Mo(i,a,y,1);break;case 2:case 9:if(Py(y)){ft=0,ss=null,Mw(a);break}a=function(){ft!==2&&ft!==9||St!==i||(ft=7),Js(i)},y.then(a,a);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Py(y)?(ft=0,ss=null,Mw(a)):(ft=0,ss=null,Mo(i,a,y,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var A=qe;if(E?f1(E):A.stateNode.complete){ft=0,ss=null;var U=A.sibling;if(U!==null)qe=U;else{var X=A.return;X!==null?(qe=X,Rd(X)):qe=null}break t}}ft=0,ss=null,Mo(i,a,y,5);break;case 6:ft=0,ss=null,Mo(i,a,y,6);break;case 8:Bp(),Ft=6;break e;default:throw Error(s(462))}}Ok();break}catch(ue){Cw(i,ue)}while(!0);return Si=ba=null,k.H=d,k.A=b,lt=l,qe!==null?0:(St=null,Je=0,Yu(),Ft)}function Ok(){for(;qe!==null&&!ut();)Tw(qe)}function Tw(i){var a=Jx(i.alternate,i,ki);i.memoizedProps=i.pendingProps,a===null?Rd(i):qe=a}function Mw(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=Wx(l,a,a.pendingProps,a.type,void 0,Je);break;case 11:a=Wx(l,a,a.pendingProps,a.type.render,a.ref,Je);break;case 5:sp(a);default:Zx(l,a),a=qe=Ny(a,ki),a=Jx(l,a,ki)}i.memoizedProps=i.pendingProps,a===null?Rd(i):qe=a}function Mo(i,a,l,d){Si=ba=null,sp(a),vo=null,Wl=0;var b=a.return;try{if(wk(i,b,a,l,Je)){Ft=1,gd(i,ms(l,i.current)),qe=null;return}}catch(y){if(b!==null)throw qe=b,y;Ft=1,gd(i,ms(l,i.current)),qe=null;return}a.flags&32768?(Ze||d===1?i=!0:Eo||(Je&536870912)!==0?i=!1:(pr=i=!0,(d===2||d===9||d===3||d===6)&&(d=ts.current,d!==null&&d.tag===13&&(d.flags|=16384))),Rw(a,i)):Rd(a)}function Rd(i){var a=i;do{if((a.flags&32768)!==0){Rw(a,pr);return}i=a.return;var l=Ek(a.alternate,a,ki);if(l!==null){qe=l;return}if(a=a.sibling,a!==null){qe=a;return}qe=a=i}while(a!==null);Ft===0&&(Ft=5)}function Rw(i,a){do{var l=_k(i.alternate,i);if(l!==null){l.flags&=32767,qe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){qe=i;return}qe=i=l}while(i!==null);Ft=6,qe=null}function Aw(i,a,l,d,b,y,E,A,U){i.cancelPendingCommit=null;do Ad();while(en!==0);if((lt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(y=a.lanes|a.childLanes,y|=Am,nt(i,l,y,E,A,U),i===St&&(qe=St=null,Je=0),No=a,br=i,Oi=l,zp=y,$p=b,yw=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Pk(Ut,function(){return Iw(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=k.T,k.T=null,b=W.p,W.p=2,E=lt,lt|=4;try{Nk(i,a,l)}finally{lt=E,W.p=b,k.T=d}}en=1,jw(),kw(),Ow()}}function jw(){if(en===1){en=0;var i=br,a=No,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var d=W.p;W.p=2;var b=lt;lt|=4;try{dw(a,i);var y=eg,E=vy(i.containerInfo),A=y.focusedElem,U=y.selectionRange;if(E!==A&&A&&A.ownerDocument&&gy(A.ownerDocument.documentElement,A)){if(U!==null&&_m(A)){var X=U.start,ue=U.end;if(ue===void 0&&(ue=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ue,A.value.length);else{var pe=A.ownerDocument||document,ee=pe&&pe.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),Ne=A.textContent.length,De=Math.min(U.start,Ne),yt=U.end===void 0?De:Math.min(U.end,Ne);!ie.extend&&De>yt&&(E=yt,yt=De,De=E);var G=py(A,De),H=py(A,yt);if(G&&H&&(ie.rangeCount!==1||ie.anchorNode!==G.node||ie.anchorOffset!==G.offset||ie.focusNode!==H.node||ie.focusOffset!==H.offset)){var K=pe.createRange();K.setStart(G.node,G.offset),ie.removeAllRanges(),De>yt?(ie.addRange(K),ie.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),ie.addRange(K))}}}}for(pe=[],ie=A;ie=ie.parentNode;)ie.nodeType===1&&pe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<pe.length;A++){var fe=pe[A];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Vd=!!Zp,eg=Zp=null}finally{lt=b,W.p=d,k.T=l}}i.current=a,en=2}}function kw(){if(en===2){en=0;var i=br,a=No,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var d=W.p;W.p=2;var b=lt;lt|=4;try{aw(i,a.alternate,a)}finally{lt=b,W.p=d,k.T=l}}en=3}}function Ow(){if(en===4||en===3){en=0,En();var i=br,a=No,l=Oi,d=yw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,No=br=null,Dw(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(vr=null),Zt(l),a=a.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(us,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=k.T,b=W.p,W.p=2,k.T=null;try{for(var y=i.onRecoverableError,E=0;E<d.length;E++){var A=d[E];y(A.value,{componentStack:A.stack})}}finally{k.T=a,W.p=b}}(Oi&3)!==0&&Ad(),Js(i),b=i.pendingLanes,(l&261930)!==0&&(b&42)!==0?i===Up?lc++:(lc=0,Up=i):lc=0,cc(0)}}function Dw(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Fl(a)))}function Ad(){return jw(),kw(),Ow(),Iw()}function Iw(){if(en!==5)return!1;var i=br,a=zp;zp=0;var l=Zt(Oi),d=k.T,b=W.p;try{W.p=32>l?32:l,k.T=null,l=$p,$p=null;var y=br,E=Oi;if(en=0,No=br=null,Oi=0,(lt&6)!==0)throw Error(s(331));var A=lt;if(lt|=4,gw(y.current),fw(y,y.current,E,l),lt=A,cc(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(us,y)}catch{}return!0}finally{W.p=b,k.T=d,Dw(i,a)}}function Lw(i,a,l){a=ms(l,a),a=bp(i.stateNode,a,2),i=dr(i,a,2),i!==null&&(rt(i,2),Js(i))}function mt(i,a,l){if(i.tag===3)Lw(i,i,l);else for(;a!==null;){if(a.tag===3){Lw(a,i,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(vr===null||!vr.has(d))){i=ms(l,i),l=Px(2),d=dr(a,l,2),d!==null&&(zx(l,d,a,i),rt(d,2),Js(d));break}}a=a.return}}function Fp(i,a,l){var d=i.pingCache;if(d===null){d=i.pingCache=new Rk;var b=new Set;d.set(a,b)}else b=d.get(a),b===void 0&&(b=new Set,d.set(a,b));b.has(l)||(Ip=!0,b.add(l),i=Dk.bind(null,i,a,l),a.then(i,i))}function Dk(i,a,l){var d=i.pingCache;d!==null&&d.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,St===i&&(Je&l)===l&&(Ft===4||Ft===3&&(Je&62914560)===Je&&300>Nt()-Ed?(lt&2)===0&&To(i,0):Lp|=l,_o===Je&&(_o=0)),Js(i)}function Pw(i,a){a===0&&(a=Xe()),i=pa(i,a),i!==null&&(rt(i,a),Js(i))}function Ik(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Pw(i,l)}function Lk(i,a){var l=0;switch(i.tag){case 31:case 13:var d=i.stateNode,b=i.memoizedState;b!==null&&(l=b.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(a),Pw(i,l)}function Pk(i,a){return pt(i,a)}var jd=null,Ro=null,Hp=!1,kd=!1,Wp=!1,xr=0;function Js(i){i!==Ro&&i.next===null&&(Ro===null?jd=Ro=i:Ro=Ro.next=i),kd=!0,Hp||(Hp=!0,$k())}function cc(i,a){if(!Wp&&kd){Wp=!0;do for(var l=!1,d=jd;d!==null;){if(i!==0){var b=d.pendingLanes;if(b===0)var y=0;else{var E=d.suspendedLanes,A=d.pingedLanes;y=(1<<31-kt(42|i)+1)-1,y&=b&~(E&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Bw(d,y))}else y=Je,y=Ee(d,d===St?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||We(d,y)||(l=!0,Bw(d,y));d=d.next}while(l);Wp=!1}}function zk(){zw()}function zw(){kd=Hp=!1;var i=0;xr!==0&&Kk()&&(i=xr);for(var a=Nt(),l=null,d=jd;d!==null;){var b=d.next,y=$w(d,a);y===0?(d.next=null,l===null?jd=b:l.next=b,b===null&&(Ro=l)):(l=d,(i!==0||(y&3)!==0)&&(kd=!0)),d=b}en!==0&&en!==5||cc(i),xr!==0&&(xr=0)}function $w(i,a){for(var l=i.suspendedLanes,d=i.pingedLanes,b=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-kt(y),A=1<<E,U=b[E];U===-1?((A&l)===0||(A&d)!==0)&&(b[E]=Oe(A,a)):U<=a&&(i.expiredLanes|=A),y&=~A}if(a=St,l=Je,l=Ee(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===a&&(ft===2||ft===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Qt(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||We(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(d!==null&&Qt(d),Zt(l)){case 2:case 8:l=rn;break;case 32:l=Ut;break;case 268435456:l=vn;break;default:l=Ut}return d=Uw.bind(null,i),l=pt(l,d),i.callbackPriority=a,i.callbackNode=l,a}return d!==null&&d!==null&&Qt(d),i.callbackPriority=2,i.callbackNode=null,2}function Uw(i,a){if(en!==0&&en!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ad()&&i.callbackNode!==l)return null;var d=Je;return d=Ee(i,i===St?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(ww(i,d,a),$w(i,Nt()),i.callbackNode!=null&&i.callbackNode===l?Uw.bind(null,i):null)}function Bw(i,a){if(Ad())return null;ww(i,a,!0)}function $k(){Jk(function(){(lt&6)!==0?pt(un,zk):zw()})}function Gp(){if(xr===0){var i=mo;i===0&&(i=an,an<<=1,(an&261888)===0&&(an=256)),xr=i}return xr}function Vw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:la(""+i)}function Fw(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Uk(i,a,l,d,b){if(a==="submit"&&l&&l.stateNode===b){var y=Vw((b[xn]||null).action),E=d.submitter;E&&(a=(a=E[xn]||null)?Vw(a.formAction):E.getAttribute("formAction"),a!==null&&(y=a,E=null));var A=new xe("action","action",null,d,b);i.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(xr!==0){var U=E?Fw(b,E):new FormData(b);hp(l,{pending:!0,data:U,method:b.method,action:y},null,U)}}else typeof y=="function"&&(A.preventDefault(),U=E?Fw(b,E):new FormData(b),hp(l,{pending:!0,data:U,method:b.method,action:y},y,U))},currentTarget:b}]})}}for(var qp=0;qp<Rm.length;qp++){var Yp=Rm[qp],Bk=Yp.toLowerCase(),Vk=Yp[0].toUpperCase()+Yp.slice(1);Ds(Bk,"on"+Vk)}Ds(xy,"onAnimationEnd"),Ds(wy,"onAnimationIteration"),Ds(Sy,"onAnimationStart"),Ds("dblclick","onDoubleClick"),Ds("focusin","onFocus"),Ds("focusout","onBlur"),Ds(ik,"onTransitionRun"),Ds(rk,"onTransitionStart"),Ds(ak,"onTransitionCancel"),Ds(Cy,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function Hw(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],b=d.event;d=d.listeners;e:{var y=void 0;if(a)for(var E=d.length-1;0<=E;E--){var A=d[E],U=A.instance,X=A.currentTarget;if(A=A.listener,U!==y&&b.isPropagationStopped())break e;y=A,b.currentTarget=X;try{y(b)}catch(ue){qu(ue)}b.currentTarget=null,y=U}else for(E=0;E<d.length;E++){if(A=d[E],U=A.instance,X=A.currentTarget,A=A.listener,U!==y&&b.isPropagationStopped())break e;y=A,b.currentTarget=X;try{y(b)}catch(ue){qu(ue)}b.currentTarget=null,y=U}}}}function Ye(i,a){var l=a[na];l===void 0&&(l=a[na]=new Set);var d=i+"__bubble";l.has(d)||(Ww(a,i,2,!1),l.add(d))}function Kp(i,a,l){var d=0;a&&(d|=4),Ww(l,i,d,a)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Xp(i){if(!i[Od]){i[Od]=!0,mi.forEach(function(l){l!=="selectionchange"&&(Fk.has(l)||Kp(l,!1,i),Kp(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Od]||(a[Od]=!0,Kp("selectionchange",!1,a))}}function Ww(i,a,l,d){switch(x1(a)){case 2:var b=vO;break;case 8:b=bO;break;default:b=dg}l=b.bind(null,a,l,i),b=void 0,!Dl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(b=!0),d?b!==void 0?i.addEventListener(a,l,{capture:!0,passive:b}):i.addEventListener(a,l,!0):b!==void 0?i.addEventListener(a,l,{passive:b}):i.addEventListener(a,l,!1)}function Jp(i,a,l,d,b){var y=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var A=d.stateNode.containerInfo;if(A===b)break;if(E===4)for(E=d.return;E!==null;){var U=E.tag;if((U===3||U===4)&&E.stateNode.containerInfo===b)return;E=E.return}for(;A!==null;){if(E=er(A),E===null)return;if(U=E.tag,U===5||U===6||U===26||U===27){d=y=E;continue e}A=A.parentNode}}d=d.return}Hu(function(){var X=y,ue=to(l),pe=[];e:{var ee=Ey.get(i);if(ee!==void 0){var ie=xe,Ne=i;switch(i){case"keypress":if(L(l)===0)break e;case"keydown":case"keyup":ie=Lj;break;case"focusin":Ne="focus",ie=Il;break;case"focusout":Ne="blur",ie=Il;break;case"beforeblur":case"afterblur":ie=Il;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$j;break;case xy:case wy:case Sy:ie=Tj;break;case Cy:ie=Bj;break;case"scroll":case"scrollend":ie=_e;break;case"wheel":ie=Fj;break;case"copy":case"cut":case"paste":ie=Rj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ty;break;case"toggle":case"beforetoggle":ie=Wj}var De=(a&4)!==0,yt=!De&&(i==="scroll"||i==="scrollend"),G=De?ee!==null?ee+"Capture":null:ee;De=[];for(var H=X,K;H!==null;){var fe=H;if(K=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||K===null||G===null||(fe=ca(H,G),fe!=null&&De.push(dc(H,fe,K))),yt)break;H=H.return}0<De.length&&(ee=new ie(ee,Ne,null,l,ue),pe.push({event:ee,listeners:De}))}}if((a&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",ee&&l!==sr&&(Ne=l.relatedTarget||l.fromElement)&&(er(Ne)||Ne[fi]))break e;if((ie||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(Ne=l.relatedTarget||l.toElement,ie=X,Ne=Ne?er(Ne):null,Ne!==null&&(yt=o(Ne),De=Ne.tag,Ne!==yt||De!==5&&De!==27&&De!==6)&&(Ne=null)):(ie=null,Ne=X),ie!==Ne)){if(De=ua,fe="onMouseLeave",G="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(De=ty,fe="onPointerLeave",G="onPointerEnter",H="pointer"),yt=ie==null?ee:Ws(ie),K=Ne==null?ee:Ws(Ne),ee=new De(fe,H+"leave",ie,l,ue),ee.target=yt,ee.relatedTarget=K,fe=null,er(ue)===X&&(De=new De(G,H+"enter",Ne,l,ue),De.target=K,De.relatedTarget=yt,fe=De),yt=fe,ie&&Ne)t:{for(De=Hk,G=ie,H=Ne,K=0,fe=G;fe;fe=De(fe))K++;fe=0;for(var ke=H;ke;ke=De(ke))fe++;for(;0<K-fe;)G=De(G),K--;for(;0<fe-K;)H=De(H),fe--;for(;K--;){if(G===H||H!==null&&G===H.alternate){De=G;break t}G=De(G),H=De(H)}De=null}else De=null;ie!==null&&Gw(pe,ee,ie,De,!1),Ne!==null&&yt!==null&&Gw(pe,yt,Ne,De,!0)}}e:{if(ee=X?Ws(X):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var at=cy;else if(oy(ee))if(uy)at=tk;else{at=Zj;var Re=Qj}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&qs(X.elementType)&&(at=cy):at=ek;if(at&&(at=at(i,X))){ly(pe,at,l,ue);break e}Re&&Re(i,ee,X),i==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&eo(ee,"number",ee.value)}switch(Re=X?Ws(X):window,i){case"focusin":(oy(Re)||Re.contentEditable==="true")&&(ro=Re,Nm=X,Ul=null);break;case"focusout":Ul=Nm=ro=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,by(pe,l,ue);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":by(pe,l,ue)}var Be;if(Sm)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else io?ry(i,l)&&(Qe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(ny&&l.locale!=="ko"&&(io||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&io&&(Be=Wu()):(Os=ue,no="value"in Os?Os.value:Os.textContent,io=!0)),Re=Dd(X,Qe),0<Re.length&&(Qe=new ey(Qe,i,null,l,ue),pe.push({event:Qe,listeners:Re}),Be?Qe.data=Be:(Be=ay(l),Be!==null&&(Qe.data=Be)))),(Be=qj?Yj(i,l):Kj(i,l))&&(Qe=Dd(X,"onBeforeInput"),0<Qe.length&&(Re=new ey("onBeforeInput","beforeinput",null,l,ue),pe.push({event:Re,listeners:Qe}),Re.data=Be)),Uk(pe,i,X,l,ue)}Hw(pe,a)})}function dc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Dd(i,a){for(var l=a+"Capture",d=[];i!==null;){var b=i,y=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||y===null||(b=ca(i,l),b!=null&&d.unshift(dc(i,b,y)),b=ca(i,a),b!=null&&d.push(dc(i,b,y))),i.tag===3)return d;i=i.return}return[]}function Hk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Gw(i,a,l,d,b){for(var y=a._reactName,E=[];l!==null&&l!==d;){var A=l,U=A.alternate,X=A.stateNode;if(A=A.tag,U!==null&&U===d)break;A!==5&&A!==26&&A!==27||X===null||(U=X,b?(X=ca(l,y),X!=null&&E.unshift(dc(l,X,U))):b||(X=ca(l,y),X!=null&&E.push(dc(l,X,U)))),l=l.return}E.length!==0&&i.push({event:a,listeners:E})}var Wk=/\r\n?/g,Gk=/\u0000|\uFFFD/g;function qw(i){return(typeof i=="string"?i:""+i).replace(Wk,`
`).replace(Gk,"")}function Yw(i,a){return a=qw(a),qw(i)===a}function bt(i,a,l,d,b,y){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||vi(i,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&vi(i,""+d);break;case"className":aa(i,"class",d);break;case"tabIndex":aa(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":aa(i,l,d);break;case"style":Bu(i,d,y);break;case"data":if(a!=="object"){aa(i,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=la(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&bt(i,a,"name",b.name,b,null),bt(i,a,"formEncType",b.formEncType,b,null),bt(i,a,"formMethod",b.formMethod,b,null),bt(i,a,"formTarget",b.formTarget,b,null)):(bt(i,a,"encType",b.encType,b,null),bt(i,a,"method",b.method,b,null),bt(i,a,"target",b.target,b,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=la(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Qn);break;case"onScroll":d!=null&&Ye("scroll",i);break;case"onScrollEnd":d!=null&&Ye("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(b.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=la(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":Ye("beforetoggle",i),Ye("toggle",i),ra(i,"popover",d);break;case"xlinkActuate":As(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":As(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":As(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":As(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":As(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":As(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":As(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":As(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":As(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":ra(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vu.get(l)||l,ra(i,l,d))}}function Qp(i,a,l,d,b,y){switch(l){case"style":Bu(i,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(b.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof d=="string"?vi(i,d):(typeof d=="number"||typeof d=="bigint")&&vi(i,""+d);break;case"onScroll":d!=null&&Ye("scroll",i);break;case"onScrollEnd":d!=null&&Ye("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(b=l.endsWith("Capture"),a=l.slice(2,b?l.length-7:void 0),y=i[xn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,b),typeof d=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,d,b);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):ra(i,l,d)}}}function pn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",i),Ye("load",i);var d=!1,b=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":d=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:bt(i,a,y,E,l,null)}}b&&bt(i,a,"srcSet",l.srcSet,l,null),d&&bt(i,a,"src",l.src,l,null);return;case"input":Ye("invalid",i);var A=y=E=b=null,U=null,X=null;for(d in l)if(l.hasOwnProperty(d)){var ue=l[d];if(ue!=null)switch(d){case"name":b=ue;break;case"type":E=ue;break;case"checked":U=ue;break;case"defaultChecked":X=ue;break;case"value":y=ue;break;case"defaultValue":A=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,a));break;default:bt(i,a,d,ue,l,null)}}zu(i,y,A,U,X,E,b,!1);return;case"select":Ye("invalid",i),d=E=y=null;for(b in l)if(l.hasOwnProperty(b)&&(A=l[b],A!=null))switch(b){case"value":y=A;break;case"defaultValue":E=A;break;case"multiple":d=A;default:bt(i,a,b,A,l,null)}a=y,l=E,i.multiple=!!d,a!=null?js(i,!!d,a,!1):l!=null&&js(i,!!d,l,!0);return;case"textarea":Ye("invalid",i),y=b=d=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":d=A;break;case"defaultValue":b=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:bt(i,a,E,A,l,null)}jl(i,d,b,y);return;case"option":for(U in l)l.hasOwnProperty(U)&&(d=l[U],d!=null)&&(U==="selected"?i.selected=d&&typeof d!="function"&&typeof d!="symbol":bt(i,a,U,d,l,null));return;case"dialog":Ye("beforetoggle",i),Ye("toggle",i),Ye("cancel",i),Ye("close",i);break;case"iframe":case"object":Ye("load",i);break;case"video":case"audio":for(d=0;d<uc.length;d++)Ye(uc[d],i);break;case"image":Ye("error",i),Ye("load",i);break;case"details":Ye("toggle",i);break;case"embed":case"source":case"link":Ye("error",i),Ye("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(d=l[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:bt(i,a,X,d,l,null)}return;default:if(qs(a)){for(ue in l)l.hasOwnProperty(ue)&&(d=l[ue],d!==void 0&&Qp(i,a,ue,d,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(d=l[A],d!=null&&bt(i,a,A,d,l,null))}function qk(i,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,y=null,E=null,A=null,U=null,X=null,ue=null;for(ie in l){var pe=l[ie];if(l.hasOwnProperty(ie)&&pe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=pe;default:d.hasOwnProperty(ie)||bt(i,a,ie,null,d,pe)}}for(var ee in d){var ie=d[ee];if(pe=l[ee],d.hasOwnProperty(ee)&&(ie!=null||pe!=null))switch(ee){case"type":y=ie;break;case"name":b=ie;break;case"checked":X=ie;break;case"defaultChecked":ue=ie;break;case"value":E=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,a));break;default:ie!==pe&&bt(i,a,ee,ie,d,pe)}}Al(i,E,A,U,X,ue,y,b);return;case"select":ie=E=A=ee=null;for(y in l)if(U=l[y],l.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":ie=U;default:d.hasOwnProperty(y)||bt(i,a,y,null,d,U)}for(b in d)if(y=d[b],U=l[b],d.hasOwnProperty(b)&&(y!=null||U!=null))switch(b){case"value":ee=y;break;case"defaultValue":A=y;break;case"multiple":E=y;default:y!==U&&bt(i,a,b,y,d,U)}a=A,l=E,d=ie,ee!=null?js(i,!!l,ee,!1):!!d!=!!l&&(a!=null?js(i,!!l,a,!0):js(i,!!l,l?[]:"",!1));return;case"textarea":ie=ee=null;for(A in l)if(b=l[A],l.hasOwnProperty(A)&&b!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:bt(i,a,A,null,d,b)}for(E in d)if(b=d[E],y=l[E],d.hasOwnProperty(E)&&(b!=null||y!=null))switch(E){case"value":ee=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:b!==y&&bt(i,a,E,b,d,y)}$u(i,ee,ie);return;case"option":for(var Ne in l)ee=l[Ne],l.hasOwnProperty(Ne)&&ee!=null&&!d.hasOwnProperty(Ne)&&(Ne==="selected"?i.selected=!1:bt(i,a,Ne,null,d,ee));for(U in d)ee=d[U],ie=l[U],d.hasOwnProperty(U)&&ee!==ie&&(ee!=null||ie!=null)&&(U==="selected"?i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":bt(i,a,U,ee,d,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in l)ee=l[De],l.hasOwnProperty(De)&&ee!=null&&!d.hasOwnProperty(De)&&bt(i,a,De,null,d,ee);for(X in d)if(ee=d[X],ie=l[X],d.hasOwnProperty(X)&&ee!==ie&&(ee!=null||ie!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,a));break;default:bt(i,a,X,ee,d,ie)}return;default:if(qs(a)){for(var yt in l)ee=l[yt],l.hasOwnProperty(yt)&&ee!==void 0&&!d.hasOwnProperty(yt)&&Qp(i,a,yt,void 0,d,ee);for(ue in d)ee=d[ue],ie=l[ue],!d.hasOwnProperty(ue)||ee===ie||ee===void 0&&ie===void 0||Qp(i,a,ue,ee,d,ie);return}}for(var G in l)ee=l[G],l.hasOwnProperty(G)&&ee!=null&&!d.hasOwnProperty(G)&&bt(i,a,G,null,d,ee);for(pe in d)ee=d[pe],ie=l[pe],!d.hasOwnProperty(pe)||ee===ie||ee==null&&ie==null||bt(i,a,pe,ee,d,ie)}function Kw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var b=l[d],y=b.transferSize,E=b.initiatorType,A=b.duration;if(y&&A&&Kw(E)){for(E=0,A=b.responseEnd,d+=1;d<l.length;d++){var U=l[d],X=U.startTime;if(X>A)break;var ue=U.transferSize,pe=U.initiatorType;ue&&Kw(pe)&&(U=U.responseEnd,E+=ue*(U<A?1:(A-X)/(U-X)))}if(--d,a+=8*(y+E)/(b.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Zp=null,eg=null;function Id(i){return i.nodeType===9?i:i.ownerDocument}function Xw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jw(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function tg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ng=null;function Kk(){var i=window.event;return i&&i.type==="popstate"?i===ng?!1:(ng=i,!0):(ng=null,!1)}var Qw=typeof setTimeout=="function"?setTimeout:void 0,Xk=typeof clearTimeout=="function"?clearTimeout:void 0,Zw=typeof Promise=="function"?Promise:void 0,Jk=typeof queueMicrotask=="function"?queueMicrotask:typeof Zw<"u"?function(i){return Zw.resolve(null).then(i).catch(Qk)}:Qw;function Qk(i){setTimeout(function(){throw i})}function wr(i){return i==="head"}function e1(i,a){var l=a,d=0;do{var b=l.nextSibling;if(i.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"||l==="/&"){if(d===0){i.removeChild(b),Oo(a);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")hc(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,hc(l);for(var y=l.firstChild;y;){var E=y.nextSibling,A=y.nodeName;y[ia]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&hc(i.ownerDocument.body);l=b}while(l);Oo(a)}function t1(i,a){var l=i;i=0;do{var d=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=d}while(l)}function sg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sg(l),Tl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Zk(i,a,l,d){for(;i.nodeType===1;){var b=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[ia])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ys(i.nextSibling),i===null)break}return null}function eO(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ys(i.nextSibling),i===null))return null;return i}function n1(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ys(i.nextSibling),i===null))return null;return i}function ig(i){return i.data==="$?"||i.data==="$~"}function rg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function tO(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function ys(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var ag=null;function s1(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return ys(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function i1(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function r1(i,a,l){switch(a=Id(l),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function hc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Tl(i)}var xs=new Map,a1=new Set;function Ld(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Di=W.d;W.d={f:nO,r:sO,D:iO,C:rO,L:aO,m:oO,X:cO,S:lO,M:uO};function nO(){var i=Di.f(),a=Td();return i||a}function sO(i){var a=tr(i);a!==null&&a.tag===5&&a.type==="form"?Cx(a):Di.r(i)}var Ao=typeof document>"u"?null:document;function o1(i,a,l){var d=Ao;if(d&&typeof a=="string"&&a){var b=Ln(a);b='link[rel="'+i+'"][href="'+b+'"]',typeof l=="string"&&(b+='[crossorigin="'+l+'"]'),a1.has(b)||(a1.add(b),i={rel:i,crossOrigin:l,href:a},d.querySelector(b)===null&&(a=d.createElement("link"),pn(a,"link",i),Ot(a),d.head.appendChild(a)))}}function iO(i){Di.D(i),o1("dns-prefetch",i,null)}function rO(i,a){Di.C(i,a),o1("preconnect",i,a)}function aO(i,a,l){Di.L(i,a,l);var d=Ao;if(d&&i&&a){var b='link[rel="preload"][as="'+Ln(a)+'"]';a==="image"&&l&&l.imageSrcSet?(b+='[imagesrcset="'+Ln(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(b+='[imagesizes="'+Ln(l.imageSizes)+'"]')):b+='[href="'+Ln(i)+'"]';var y=b;switch(a){case"style":y=jo(i);break;case"script":y=ko(i)}xs.has(y)||(i=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),xs.set(y,i),d.querySelector(b)!==null||a==="style"&&d.querySelector(fc(y))||a==="script"&&d.querySelector(mc(y))||(a=d.createElement("link"),pn(a,"link",i),Ot(a),d.head.appendChild(a)))}}function oO(i,a){Di.m(i,a);var l=Ao;if(l&&i){var d=a&&typeof a.as=="string"?a.as:"script",b='link[rel="modulepreload"][as="'+Ln(d)+'"][href="'+Ln(i)+'"]',y=b;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ko(i)}if(!xs.has(y)&&(i=g({rel:"modulepreload",href:i},a),xs.set(y,i),l.querySelector(b)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mc(y)))return}d=l.createElement("link"),pn(d,"link",i),Ot(d),l.head.appendChild(d)}}}function lO(i,a,l){Di.S(i,a,l);var d=Ao;if(d&&i){var b=wn(d).hoistableStyles,y=jo(i);a=a||"default";var E=b.get(y);if(!E){var A={loading:0,preload:null};if(E=d.querySelector(fc(y)))A.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},l),(l=xs.get(y))&&og(i,l);var U=E=d.createElement("link");Ot(U),pn(U,"link",i),U._p=new Promise(function(X,ue){U.onload=X,U.onerror=ue}),U.addEventListener("load",function(){A.loading|=1}),U.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Pd(E,a,d)}E={type:"stylesheet",instance:E,count:1,state:A},b.set(y,E)}}}function cO(i,a){Di.X(i,a);var l=Ao;if(l&&i){var d=wn(l).hoistableScripts,b=ko(i),y=d.get(b);y||(y=l.querySelector(mc(b)),y||(i=g({src:i,async:!0},a),(a=xs.get(b))&&lg(i,a),y=l.createElement("script"),Ot(y),pn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(b,y))}}function uO(i,a){Di.M(i,a);var l=Ao;if(l&&i){var d=wn(l).hoistableScripts,b=ko(i),y=d.get(b);y||(y=l.querySelector(mc(b)),y||(i=g({src:i,async:!0,type:"module"},a),(a=xs.get(b))&&lg(i,a),y=l.createElement("script"),Ot(y),pn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(b,y))}}function l1(i,a,l,d){var b=(b=Q.current)?Ld(b):null;if(!b)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=jo(l.href),l=wn(b).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=jo(l.href);var y=wn(b).hoistableStyles,E=y.get(i);if(E||(b=b.ownerDocument||b,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=b.querySelector(fc(i)))&&!y._p&&(E.instance=y,E.state.loading=5),xs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},xs.set(i,l),y||dO(b,i,l,E.state))),a&&d===null)throw Error(s(528,""));return E}if(a&&d!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ko(l),l=wn(b).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function jo(i){return'href="'+Ln(i)+'"'}function fc(i){return'link[rel="stylesheet"]['+i+"]"}function c1(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function dO(i,a,l,d){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=i.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),pn(a,"link",l),Ot(a),i.head.appendChild(a))}function ko(i){return'[src="'+Ln(i)+'"]'}function mc(i){return"script[async]"+i}function u1(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=i.querySelector('style[data-href~="'+Ln(l.href)+'"]');if(d)return a.instance=d,Ot(d),d;var b=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Ot(d),pn(d,"style",b),Pd(d,l.precedence,i),a.instance=d;case"stylesheet":b=jo(l.href);var y=i.querySelector(fc(b));if(y)return a.state.loading|=4,a.instance=y,Ot(y),y;d=c1(l),(b=xs.get(b))&&og(d,b),y=(i.ownerDocument||i).createElement("link"),Ot(y);var E=y;return E._p=new Promise(function(A,U){E.onload=A,E.onerror=U}),pn(y,"link",d),a.state.loading|=4,Pd(y,l.precedence,i),a.instance=y;case"script":return y=ko(l.src),(b=i.querySelector(mc(y)))?(a.instance=b,Ot(b),b):(d=l,(b=xs.get(y))&&(d=g({},l),lg(d,b)),i=i.ownerDocument||i,b=i.createElement("script"),Ot(b),pn(b,"link",d),i.head.appendChild(b),a.instance=b);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Pd(d,l.precedence,i));return a.instance}function Pd(i,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=d.length?d[d.length-1]:null,y=b,E=0;E<d.length;E++){var A=d[E];if(A.dataset.precedence===a)y=A;else if(y!==b)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function og(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function lg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var zd=null;function d1(i,a,l){if(zd===null){var d=new Map,b=zd=new Map;b.set(l,d)}else b=zd,d=b.get(l),d||(d=new Map,b.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),b=0;b<l.length;b++){var y=l[b];if(!(y[ia]||y[Pt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(a)||"";E=i+E;var A=d.get(E);A?A.push(y):d.set(E,[y])}}return d}function h1(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function hO(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(i=a.disabled,typeof a.precedence=="string"&&i==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function f1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function fO(i,a,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=jo(d.href),y=a.querySelector(fc(b));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=$d.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=y,Ot(y);return}y=a.ownerDocument||a,d=c1(d),(b=xs.get(b))&&og(d,b),y=y.createElement("link"),Ot(y);var E=y;E._p=new Promise(function(A,U){E.onload=A,E.onerror=U}),pn(y,"link",d),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=$d.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var cg=0;function mO(i,a){return i.stylesheets&&i.count===0&&Bd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var d=setTimeout(function(){if(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+a);0<i.imgBytes&&cg===0&&(cg=62500*Yk());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>cg?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(d),clearTimeout(b)}}:null}function $d(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ud=null;function Bd(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ud=new Map,a.forEach(pO,i),Ud=null,$d.call(i))}function pO(i,a){if(!(a.state.loading&4)){var l=Ud.get(i);if(l)var d=l.get(null);else{l=new Map,Ud.set(i,l);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<b.length;y++){var E=b[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),d=E)}d&&l.set(null,d)}b=a.instance,E=b.getAttribute("data-precedence"),y=l.get(E)||d,y===d&&l.set(null,b),l.set(E,b),this.count++,d=$d.bind(this),b.addEventListener("load",d),b.addEventListener("error",d),y?y.parentNode.insertBefore(b,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),a.state.loading|=4}}var pc={$$typeof:M,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function gO(i,a,l,d,b,y,E,A,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mt(0),this.hiddenUpdates=Mt(null),this.identifierPrefix=d,this.onUncaughtError=b,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function m1(i,a,l,d,b,y,E,A,U,X,ue,pe){return i=new gO(i,a,l,E,U,X,ue,pe,A),a=1,y===!0&&(a|=24),y=es(3,null,null,a),i.current=y,y.stateNode=i,a=Vm(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:d,isDehydrated:l,cache:a},Gm(y),i}function p1(i){return i?(i=lo,i):lo}function g1(i,a,l,d,b,y){b=p1(b),d.context===null?d.context=b:d.pendingContext=b,d=ur(a),d.payload={element:l},y=y===void 0?null:y,y!==null&&(d.callback=y),l=dr(i,d,a),l!==null&&(Bn(l,i,a),ql(l,i,a))}function v1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function ug(i,a){v1(i,a),(i=i.alternate)&&v1(i,a)}function b1(i){if(i.tag===13||i.tag===31){var a=pa(i,67108864);a!==null&&Bn(a,i,67108864),ug(i,67108864)}}function y1(i){if(i.tag===13||i.tag===31){var a=rs();a=On(a);var l=pa(i,a);l!==null&&Bn(l,i,a),ug(i,a)}}var Vd=!0;function vO(i,a,l,d){var b=k.T;k.T=null;var y=W.p;try{W.p=2,dg(i,a,l,d)}finally{W.p=y,k.T=b}}function bO(i,a,l,d){var b=k.T;k.T=null;var y=W.p;try{W.p=8,dg(i,a,l,d)}finally{W.p=y,k.T=b}}function dg(i,a,l,d){if(Vd){var b=hg(d);if(b===null)Jp(i,a,d,Fd,l),w1(i,d);else if(xO(b,i,a,l,d))d.stopPropagation();else if(w1(i,d),a&4&&-1<yO.indexOf(i)){for(;b!==null;){var y=tr(b);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=wt(y.pendingLanes);if(E!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var U=1<<31-kt(E);A.entanglements[1]|=U,E&=~U}Js(y),(lt&6)===0&&(_d=Nt()+500,cc(0))}}break;case 31:case 13:A=pa(y,2),A!==null&&Bn(A,y,2),Td(),ug(y,2)}if(y=hg(d),y===null&&Jp(i,a,d,Fd,l),y===b)break;b=y}b!==null&&d.stopPropagation()}else Jp(i,a,d,null,l)}}function hg(i){return i=to(i),fg(i)}var Fd=null;function fg(i){if(Fd=null,i=er(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=c(a),i!==null)return i;i=null}else if(l===31){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Fd=i,null}function x1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case un:return 2;case rn:return 8;case Ut:case _n:return 32;case vn:return 268435456;default:return 32}default:return 32}}var mg=!1,Sr=null,Cr=null,Er=null,gc=new Map,vc=new Map,_r=[],yO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w1(i,a){switch(i){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":gc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(a.pointerId)}}function bc(i,a,l,d,b,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[b]},a!==null&&(a=tr(a),a!==null&&b1(a)),i):(i.eventSystemFlags|=d,a=i.targetContainers,b!==null&&a.indexOf(b)===-1&&a.push(b),i)}function xO(i,a,l,d,b){switch(a){case"focusin":return Sr=bc(Sr,i,a,l,d,b),!0;case"dragenter":return Cr=bc(Cr,i,a,l,d,b),!0;case"mouseover":return Er=bc(Er,i,a,l,d,b),!0;case"pointerover":var y=b.pointerId;return gc.set(y,bc(gc.get(y)||null,i,a,l,d,b)),!0;case"gotpointercapture":return y=b.pointerId,vc.set(y,bc(vc.get(y)||null,i,a,l,d,b)),!0}return!1}function S1(i){var a=er(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){i.blockedOn=a,Jn(i.priority,function(){y1(l)});return}}else if(a===31){if(a=u(l),a!==null){i.blockedOn=a,Jn(i.priority,function(){y1(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=hg(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);sr=d,l.target.dispatchEvent(d),sr=null}else return a=tr(l),a!==null&&b1(a),i.blockedOn=l,!1;a.shift()}return!0}function C1(i,a,l){Hd(i)&&l.delete(a)}function wO(){mg=!1,Sr!==null&&Hd(Sr)&&(Sr=null),Cr!==null&&Hd(Cr)&&(Cr=null),Er!==null&&Hd(Er)&&(Er=null),gc.forEach(C1),vc.forEach(C1)}function Wd(i,a){i.blockedOn===a&&(i.blockedOn=null,mg||(mg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,wO)))}var Gd=null;function E1(i){Gd!==i&&(Gd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gd===i&&(Gd=null);for(var a=0;a<i.length;a+=3){var l=i[a],d=i[a+1],b=i[a+2];if(typeof d!="function"){if(fg(d||l)===null)continue;break}var y=tr(l);y!==null&&(i.splice(a,3),a-=3,hp(y,{pending:!0,data:b,method:l.method,action:d},d,b))}}))}function Oo(i){function a(U){return Wd(U,i)}Sr!==null&&Wd(Sr,i),Cr!==null&&Wd(Cr,i),Er!==null&&Wd(Er,i),gc.forEach(a),vc.forEach(a);for(var l=0;l<_r.length;l++){var d=_r[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<_r.length&&(l=_r[0],l.blockedOn===null);)S1(l),l.blockedOn===null&&_r.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var b=l[d],y=l[d+1],E=b[xn]||null;if(typeof y=="function")E||E1(l);else if(E){var A=null;if(y&&y.hasAttribute("formAction")){if(b=y,E=y[xn]||null)A=E.formAction;else if(fg(b)!==null)continue}else A=E.action;typeof A=="function"?l[d+1]=A:(l.splice(d,3),d-=3),E1(l)}}}function _1(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return b=E})},focusReset:"manual",scroll:"manual"})}function a(){b!==null&&(b(),b=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),b!==null&&(b(),b=null)}}}function pg(i){this._internalRoot=i}qd.prototype.render=pg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,d=rs();g1(l,d,i,a,null,null)},qd.prototype.unmount=pg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;g1(i.current,2,null,i,null,null),Td(),a[fi]=null}};function qd(i){this._internalRoot=i}qd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Nn();i={blockedOn:null,target:i,priority:a};for(var l=0;l<_r.length&&a!==0&&a<_r[l].priority;l++);_r.splice(l,0,i),l===0&&S1(i)}};var N1=e.version;if(N1!=="19.2.3")throw Error(s(527,N1,"19.2.3"));W.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var SO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{us=Yd.inject(SO),Bt=Yd}catch{}}return xc.createRoot=function(i,a){if(!r(i))throw Error(s(299));var l=!1,d="",b=Ox,y=Dx,E=Ix;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=m1(i,1,!1,null,null,l,d,null,b,y,E,_1),i[fi]=a.current,Xp(i),new pg(a)},xc.hydrateRoot=function(i,a,l){if(!r(i))throw Error(s(299));var d=!1,b="",y=Ox,E=Dx,A=Ix,U=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(U=l.formState)),a=m1(i,1,!0,a,l??null,d,b,U,y,E,A,_1),a.context=p1(null),l=a.current,d=rs(),d=On(d),b=ur(d),b.callback=null,dr(l,b,d),l=d,a.current.lanes=l,rt(a,l),Js(a),i[fi]=a.current,Xp(i),new qd(a)},xc.version="19.2.3",xc}var L1;function kO(){if(L1)return vg.exports;L1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vg.exports=jO(),vg.exports}var OO=kO(),p=b0();const ve=YE(p),y0=EO({__proto__:null,default:ve},[p]);let DO={data:""},IO=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||DO},LO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,PO=/\/\*[^]*?\*\/|  +/g,P1=/\n+/g,Or=(n,e)=>{let t="",s="",r="";for(let o in n){let c=n[o];o[0]=="@"?o[1]=="i"?t=o+" "+c+";":s+=o[1]=="f"?Or(c,o):o+"{"+Or(c,o[1]=="k"?"":e)+"}":typeof c=="object"?s+=Or(c,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Or.p?Or.p(o,c):o+":"+c+";")}return t+(e&&r?e+"{"+r+"}":r)+s},Ii={},XE=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+XE(n[t]);return e}return n},zO=(n,e,t,s,r)=>{let o=XE(n),c=Ii[o]||(Ii[o]=(h=>{let m=0,v=11;for(;m<h.length;)v=101*v+h.charCodeAt(m++)>>>0;return"go"+v})(o));if(!Ii[c]){let h=o!==n?n:(m=>{let v,g,x=[{}];for(;v=LO.exec(m.replace(PO,""));)v[4]?x.shift():v[3]?(g=v[3].replace(P1," ").trim(),x.unshift(x[0][g]=x[0][g]||{})):x[0][v[1]]=v[2].replace(P1," ").trim();return x[0]})(n);Ii[c]=Or(r?{["@keyframes "+c]:h}:h,t?"":"."+c)}let u=t&&Ii.g?Ii.g:null;return t&&(Ii.g=Ii[c]),((h,m,v,g)=>{g?m.data=m.data.replace(g,h):m.data.indexOf(h)===-1&&(m.data=v?h+m.data:m.data+h)})(Ii[c],e,s,u),c},$O=(n,e,t)=>n.reduce((s,r,o)=>{let c=e[o];if(c&&c.call){let u=c(t),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":Or(u,""):u===!1?"":u}return s+r+(c??"")},"");function Cf(n){let e=this||{},t=n.call?n(e.p):n;return zO(t.unshift?t.raw?$O(t,[].slice.call(arguments,1),e.p):t.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):t,IO(e.target),e.g,e.o,e.k)}let JE,Nv,Tv;Cf.bind({g:1});let Wi=Cf.bind({k:1});function UO(n,e,t,s){Or.p=e,JE=n,Nv=t,Tv=s}function Jr(n,e){let t=this||{};return function(){let s=arguments;function r(o,c){let u=Object.assign({},o),h=u.className||r.className;t.p=Object.assign({theme:Nv&&Nv()},u),t.o=/ *go\d+/.test(h),u.className=Cf.apply(t,s)+(h?" "+h:"");let m=n;return n[0]&&(m=u.as||n,delete u.as),Tv&&m[0]&&Tv(u),JE(m,u)}return r}}var BO=n=>typeof n=="function",Wh=(n,e)=>BO(n)?n(e):n,VO=(()=>{let n=0;return()=>(++n).toString()})(),QE=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),FO=20,x0="default",ZE=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return ZE(n,{type:n.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(c=>c.id===r||r===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},_h=[],e_={toasts:[],pausedAt:void 0,settings:{toastLimit:FO}},ii={},t_=(n,e=x0)=>{ii[e]=ZE(ii[e]||e_,n),_h.forEach(([t,s])=>{t===e&&s(ii[e])})},n_=n=>Object.keys(ii).forEach(e=>t_(n,e)),HO=n=>Object.keys(ii).find(e=>ii[e].toasts.some(t=>t.id===n)),Ef=(n=x0)=>e=>{t_(e,n)},WO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GO=(n={},e=x0)=>{let[t,s]=p.useState(ii[e]||e_),r=p.useRef(ii[e]);p.useEffect(()=>(r.current!==ii[e]&&s(ii[e]),_h.push([e,s]),()=>{let c=_h.findIndex(([u])=>u===e);c>-1&&_h.splice(c,1)}),[e]);let o=t.toasts.map(c=>{var u,h,m;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((u=n[c.type])==null?void 0:u.removeDelay)||n?.removeDelay,duration:c.duration||((h=n[c.type])==null?void 0:h.duration)||n?.duration||WO[c.type],style:{...n.style,...(m=n[c.type])==null?void 0:m.style,...c.style}}});return{...t,toasts:o}},qO=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||VO()}),au=n=>(e,t)=>{let s=qO(e,n,t);return Ef(s.toasterId||HO(s.id))({type:2,toast:s}),s.id},sn=(n,e)=>au("blank")(n,e);sn.error=au("error");sn.success=au("success");sn.loading=au("loading");sn.custom=au("custom");sn.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Ef(e)(t):n_(t)};sn.dismissAll=n=>sn.dismiss(void 0,n);sn.remove=(n,e)=>{let t={type:4,toastId:n};e?Ef(e)(t):n_(t)};sn.removeAll=n=>sn.remove(void 0,n);sn.promise=(n,e,t)=>{let s=sn.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let o=e.success?Wh(e.success,r):void 0;return o?sn.success(o,{id:s,...t,...t?.success}):sn.dismiss(s),r}).catch(r=>{let o=e.error?Wh(e.error,r):void 0;o?sn.error(o,{id:s,...t,...t?.error}):sn.dismiss(s)}),n};var YO=1e3,KO=(n,e="default")=>{let{toasts:t,pausedAt:s}=GO(n,e),r=p.useRef(new Map).current,o=p.useCallback((g,x=YO)=>{if(r.has(g))return;let w=setTimeout(()=>{r.delete(g),c({type:4,toastId:g})},x);r.set(g,w)},[]);p.useEffect(()=>{if(s)return;let g=Date.now(),x=t.map(w=>{if(w.duration===1/0)return;let S=(w.duration||0)+w.pauseDuration-(g-w.createdAt);if(S<0){w.visible&&sn.dismiss(w.id);return}return setTimeout(()=>sn.dismiss(w.id,e),S)});return()=>{x.forEach(w=>w&&clearTimeout(w))}},[t,s,e]);let c=p.useCallback(Ef(e),[e]),u=p.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=p.useCallback((g,x)=>{c({type:1,toast:{id:g,height:x}})},[c]),m=p.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),v=p.useCallback((g,x)=>{let{reverseOrder:w=!1,gutter:S=8,defaultPosition:C}=x||{},_=t.filter(M=>(M.position||C)===(g.position||C)&&M.height),N=_.findIndex(M=>M.id===g.id),T=_.filter((M,j)=>j<N&&M.visible).length;return _.filter(M=>M.visible).slice(...w?[T+1]:[0,T]).reduce((M,j)=>M+(j.height||0)+S,0)},[t]);return p.useEffect(()=>{t.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let x=r.get(g.id);x&&(clearTimeout(x),r.delete(g.id))}})},[t,o]),{toasts:t,handlers:{updateHeight:h,startPause:u,endPause:m,calculateOffset:v}}},XO=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,JO=Wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QO=Wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZO=Jr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${JO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,eD=Wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tD=Jr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${eD} 1s linear infinite;
`,nD=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sD=Wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,iD=Jr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rD=Jr("div")`
  position: absolute;
`,aD=Jr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oD=Wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lD=Jr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cD=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?p.createElement(lD,null,e):e:t==="blank"?null:p.createElement(aD,null,p.createElement(tD,{...s}),t!=="loading"&&p.createElement(rD,null,t==="error"?p.createElement(ZO,{...s}):p.createElement(iD,{...s})))},uD=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,dD=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,hD="0%{opacity:0;} 100%{opacity:1;}",fD="0%{opacity:1;} 100%{opacity:0;}",mD=Jr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pD=Jr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gD=(n,e)=>{let t=n.includes("top")?1:-1,[s,r]=QE()?[hD,fD]:[uD(t),dD(t)];return{animation:e?`${Wi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wi(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},vD=p.memo(({toast:n,position:e,style:t,children:s})=>{let r=n.height?gD(n.position||e||"top-center",n.visible):{opacity:0},o=p.createElement(cD,{toast:n}),c=p.createElement(pD,{...n.ariaProps},Wh(n.message,n));return p.createElement(mD,{className:n.className,style:{...r,...t,...n.style}},typeof s=="function"?s({icon:o,message:c}):p.createElement(p.Fragment,null,o,c))});UO(p.createElement);var bD=({id:n,className:e,style:t,onHeightUpdate:s,children:r})=>{let o=p.useCallback(c=>{if(c){let u=()=>{let h=c.getBoundingClientRect().height;s(n,h)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return p.createElement("div",{ref:o,className:e,style:t},r)},yD=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:QE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...r}},xD=Cf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kd=16,wD=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:r,toasterId:o,containerStyle:c,containerClassName:u})=>{let{toasts:h,handlers:m}=KO(t,o);return p.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Kd,left:Kd,right:Kd,bottom:Kd,pointerEvents:"none",...c},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(v=>{let g=v.position||e,x=m.calculateOffset(v,{reverseOrder:n,gutter:s,defaultPosition:e}),w=yD(g,x);return p.createElement(bD,{id:v.id,key:v.id,onHeightUpdate:m.updateHeight,className:v.visible?xD:"",style:w},v.type==="custom"?Wh(v.message,v):r?r(v):p.createElement(vD,{toast:v,position:g}))}))},Sg=sn;const SD="modulepreload",CD=function(n){return"/PolishedCharts/"+n},z1={},ti=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let m=function(v){return Promise.all(v.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var c=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");r=m(t.map(v=>{if(v=CD(v),v in z1)return;z1[v]=!0;const g=v.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":SD,g||(w.as="script"),w.crossOrigin="",w.href=v,h&&w.setAttribute("nonce",h),document.head.appendChild(w),g)return new Promise((S,C)=>{w.addEventListener("load",S),w.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return r.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},ED={maxSize:100,ttl:3e5,memoryBudget:100*1024*1024};function _D(n,e,t="1d"){if(!n||!e)return{from:n,to:e};const s=new Date(e),r=new Date(n),o=new Date,c=s.getHours()===0&&s.getMinutes()===0&&s.getSeconds()===0&&s.getMilliseconds()===0;if(!((o.getTime()-s.getTime())/(1440*60*1e3)<7||c))return{from:n,to:e};const m=ND(s,t);return{from:new Date(m.getTime()-(s.getTime()-r.getTime())).toISOString(),to:m.toISOString()}}function ND(n,e){const t=new Date(n);switch(e){case"1d":case"1wk":t.setHours(23,59,59,999);break;case"1h":case"4h":t.setMinutes(59,59,999);break;case"1m":case"2m":case"5m":case"15m":case"30m":t.setSeconds(59,999);break}return t}function Cg(n,e,t,s,r,o){const c=Object.entries(s).sort((v,g)=>v[0].localeCompare(g[0])).map(([v,g])=>`${v}=${g}`).join("&"),u=_D(r,o,e),h=u.from&&u.to?`:${u.from}:${u.to}`:"";return`${n.toLowerCase()}:${e}:${t}:${c}${h}`}function Eg(n){const e=n.data_points||0,t=Object.keys(n.data).length;return e*t*16+1e3}class TD{cache=new Map;config;currentMemory=0;constructor(e={}){this.config={...ED,...e}}get(e,t,s,r,o,c){const u=Cg(e,t,s,r,o,c),h=this.cache.get(u);if(!h)return null;const m=Date.now();return m-h.timestamp>this.config.ttl?(this.remove(u),null):(h.accessCount++,h.lastAccess=m,h.data)}set(e,t,s,r,o,c,u){const h=Cg(e,t,s,r,c,u),m=Eg(o),v=this.cache.get(h);for(v&&(this.currentMemory-=Eg(v.data));(this.cache.size>=this.config.maxSize||this.currentMemory+m>this.config.memoryBudget)&&this.cache.size>0;)this.evictLRU();const g=o.timestamps&&o.timestamps.length>0?new Date(o.timestamps[o.timestamps.length-1]*1e3).toISOString():"";this.cache.set(h,{data:o,timestamp:Date.now(),dataTimestamp:g,accessCount:0,lastAccess:Date.now()}),this.currentMemory+=m}remove(e){const t=this.cache.get(e);t&&(this.currentMemory-=Eg(t.data),this.cache.delete(e))}evictLRU(){let e=null,t=1/0;for(const[s,r]of this.cache.entries())r.lastAccess<t&&(t=r.lastAccess,e=s);e&&this.remove(e)}invalidate(e){const t=e.toLowerCase()+":",s=[];for(const r of this.cache.keys())r.startsWith(t)&&s.push(r);for(const r of s)this.remove(r)}clear(){this.cache.clear(),this.currentMemory=0}has(e,t,s,r,o,c){const u=Cg(e,t,s,r,o,c),h=this.cache.get(u);return h?Date.now()-h.timestamp>this.config.ttl?(this.remove(u),!1):!0:!1}getStats(){return{entries:this.cache.size,maxSize:this.config.maxSize,memoryUsed:this.currentMemory,memoryBudget:this.config.memoryBudget,ttl:this.config.ttl}}cleanup(){const e=Date.now(),t=[];for(const[s,r]of this.cache.entries())e-r.timestamp>this.config.ttl&&t.push(s);for(const s of t)this.remove(s);return t.length}}const w0=new TD;function MD(n,e,t,s,r,o){return w0.get(n,e,t,s,r,o)}function $1(n,e,t,s,r,o,c){w0.set(n,e,t,s,r,o,c)}function Nh(n){w0.invalidate(n)}const RD="/PolishedCharts/assets/Hussar-DenpIlN5.jpeg";function Xd({name:n,className:e="h-5 w-5"}){const t={className:e,fill:"none",stroke:"currentColor",strokeWidth:1.8};switch(n){case"watchlist":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 6h13M8 12h13M8 18h13"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.5 6h.01M3.5 12h.01M3.5 18h.01"})]});case"alerts":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.4-1.4A2 2 0 0 1 18 14.2V11a6 6 0 1 0-12 0v3.2a2 2 0 0 1-.6 1.4L4 17h5"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17a3 3 0 0 0 6 0"})]});case"layouts":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4h16v16H4z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 9h16M9 4v16"})]});case"indicators":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 19V5"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 19h16"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 15l3-3 3 2 4-6"})]});case"realtime":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v4"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v4"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 12h4"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12h4"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 17l10-10"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 8h0"})]});case"crosshair":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2v5M12 17v5M2 12h5M17 12h5"}),f.jsx("circle",{cx:"12",cy:"12",r:"4.5"})]});case"compare":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6v12"})]});case"heart":return f.jsx("svg",{...t,viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21s-7-4.6-9.2-8.4C1.2 9.6 3.1 6.5 6.2 6.1c1.7-.2 3.3.6 4.3 1.9 1-1.3 2.6-2.1 4.3-1.9 3.1.4 5 3.5 3.4 6.5C19 16.4 12 21 12 21z"})});case"spark":return f.jsxs("svg",{...t,viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 2l1.2 4.2L17.4 8 13.2 9.2 12 13.4 10.8 9.2 6.6 8l4.2-1.8L12 2z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 13l.8 2.8 2.2.7-2.2.8L19 20l-.8-2.7-2.2-.8 2.2-.7L19 13z"})]});default:return null}}function AD({onOpenChart:n,onLoginClick:e,onGoogleClick:t,onEmailClick:s}){const[r,o]=p.useState(!1),c=p.useMemo(()=>[{title:"Watchlist + search",desc:"Find symbols fast, manage your watch list, drag to reorder. Syncs to cloud when signed in.",icon:"watchlist"},{title:"Alerts: create / mute / delete",desc:"Manage alert noise without losing setups. Triggered count badge. Full control over what fires.",icon:"alerts"},{title:"Layouts: save and reload setups",desc:"Swap indicator bundles instantly. Save your best trading setups and load them one click.",icon:"layouts"},{title:"Overlay + oscillator indicators",desc:"Signals overlaid on price + dedicated panes below. Works with any Pine indicator logic.",icon:"indicators"},{title:"WebSocket or polling mode",desc:"Choose real-time streaming or reliable polling refresh. Toggle between modes anytime.",icon:"realtime"},{title:"Crosshair + synced panes",desc:"Read values across all panes at the exact same time. Professional crosshair interaction.",icon:"crosshair"}],[]);return f.jsxs("div",{className:"min-h-screen bg-[#0b1220] text-slate-100",children:[f.jsx("div",{className:"pointer-events-none fixed inset-0 opacity-[0.08]",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.18) 1px, transparent 0)",backgroundSize:"28px 28px"}}),f.jsxs("header",{className:"sticky top-0 z-50 border-b border-slate-800/70 bg-[#0b1220]/85 backdrop-blur",children:[f.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between px-6 py-4 lg:px-10",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl font-bold tracking-tight text-white",children:""}),f.jsxs("div",{className:"leading-tight",children:[f.jsx("div",{className:"text-lg font-semibold tracking-tight text-white",children:"PolishedCharts"}),f.jsx("div",{className:"text-xs text-slate-400",children:"by Marek (solo dev, Poland)"})]})]}),f.jsxs("div",{className:"hidden flex-1 items-center justify-end gap-3 md:flex",children:[f.jsx("button",{onClick:e,className:"text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Log in"}),f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"rounded-md border border-[#DC143C] px-4 py-2 text-sm font-semibold text-white hover:bg-[#DC143C]/15 transition-colors",children:"Support Marek (Kofi)"})]}),f.jsx("button",{onClick:()=>o(!r),className:"md:hidden text-slate-300 hover:text-white","aria-label":"Open menu",children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),r&&f.jsxs("div",{className:"border-t border-slate-800 bg-[#0b1220] px-6 py-3 md:hidden",children:[f.jsx("button",{onClick:()=>{e?.(),o(!1)},className:"block w-full text-left text-sm text-slate-300 hover:text-white py-2",children:"Log in"}),f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"block w-full text-left text-sm text-slate-300 hover:text-white py-2",onClick:()=>o(!1),children:"Support Marek (Kofi)"})]})]}),f.jsxs("main",{className:"relative mx-auto max-w-screen-2xl px-6 py-14 lg:px-10 lg:py-20",children:[f.jsx("section",{className:"mb-20",children:f.jsxs("div",{className:"grid gap-10 lg:grid-cols-12 lg:items-start",children:[f.jsxs("div",{className:"lg:col-span-4",children:[f.jsx("h1",{className:"text-5xl font-bold leading-tight tracking-tight text-white sm:text-6xl",children:"Custom-indicator alerts without insane limits"}),f.jsx("p",{className:"mt-6 text-xl leading-relaxed text-slate-300",children:'Built to trigger alerts from non-standard Pine indicatorsso you can stop paying "pro" pricing just to run more alerts.'}),f.jsxs("div",{className:"mt-8 flex flex-col gap-4",children:[f.jsx("button",{onClick:n,className:"w-full rounded-xl bg-[#DC143C] px-8 py-5 text-xl font-bold tracking-wide text-white hover:bg-[#c51235] transition-all duration-200 shadow-lg hover:shadow-[#DC143C]/45",children:"OPEN THE CHART"}),f.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[f.jsx("button",{onClick:t,className:"rounded-lg border border-slate-700 bg-slate-900/30 px-6 py-3 text-base font-semibold text-slate-100 hover:bg-slate-900/55 transition-colors",children:"Sign in with Google"}),f.jsx("button",{onClick:s,className:"rounded-lg border border-slate-700 bg-slate-900/20 px-6 py-3 text-base font-semibold text-slate-100 hover:bg-slate-900/45 transition-colors",children:"Email login"})]}),f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"text-sm text-slate-300 underline underline-offset-4 hover:text-white transition-colors",children:" Request an indicator for $1+ support"}),f.jsxs("div",{className:"mt-2 grid gap-3 sm:grid-cols-3",children:[f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-slate-400",children:"Limits"}),f.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Unlimited alerts"})]}),f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-slate-400",children:"Indicators"}),f.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Custom Pine logic"})]}),f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-slate-400",children:"Layouts"}),f.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Save & reload"})]})]})]})]}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/30 p-6",children:[f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-slate-900/40 border border-slate-800",children:f.jsx("span",{className:"text-slate-200",children:f.jsx(Xd,{name:"spark",className:"h-5 w-5"})})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-semibold text-white",children:"Optional Membership"}),f.jsx("div",{className:"text-xs text-slate-400",children:"Support + priority"})]})]}),f.jsx("div",{className:"text-sm font-semibold text-[#DC143C]",children:"from $3/mo"})]}),f.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-slate-300",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),f.jsx("span",{children:"Unlimited watchlists (synced to cloud)"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),f.jsx("span",{children:"Unlimited alerts & alarms"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),f.jsx("span",{children:"Priority indicator requests"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 h-5 w-5 shrink-0 rounded-full bg-emerald-500/15 text-emerald-300 flex items-center justify-center text-xs",children:""}),f.jsx("span",{children:"Helps fund real-time data"})]})]}),f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"mt-5 block w-full rounded-xl bg-[#DC143C] px-4 py-3 text-center text-sm font-semibold text-white hover:bg-[#c51235] transition-colors",children:"Become a member"})]}),f.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/25 p-6",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-slate-900/40 border border-slate-800",children:f.jsx("span",{className:"text-slate-200",children:f.jsx(Xd,{name:"heart",className:"h-5 w-5"})})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-sm font-semibold text-white",children:"One-time Donation"}),f.jsx("div",{className:"mt-1 text-sm text-slate-300",children:"Building this solo takes time. Even $1 helps keep servers running."})]})]}),f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"mt-5 inline-flex w-full items-center justify-center rounded-xl border border-slate-700 bg-slate-900/15 px-4 py-3 text-sm font-semibold text-white hover:bg-slate-900/35 transition-colors",children:"Donate on Kofi"})]}),f.jsx("div",{className:"rounded-xl border-2 border-amber-500/70 bg-amber-500/15 px-5 py-6",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"mt-0.5 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-amber-500",children:f.jsx("span",{className:"text-lg font-bold",children:""})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-lg font-bold text-amber-300",children:"~15 Minute Data Delay"}),f.jsx("div",{className:"mt-2 text-sm text-amber-200/90 leading-relaxed",children:"Great for daily/longer-term charts. For short-term trading, be aware of the delay. Real-time data is a future goalfunding needed."})]})]})})]})}),f.jsx("div",{className:"lg:col-span-5",children:f.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/25 p-6 lg:p-8",children:[f.jsx("div",{className:"text-center",children:f.jsx("div",{className:"text-base font-semibold text-white",children:"Built in Poland with Love"})}),f.jsx("div",{className:"mt-6 flex justify-center",children:f.jsx("img",{src:RD,alt:"Polish Hussar made of candlesticks",className:"w-full h-auto"})}),f.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-slate-400",children:"Focus"}),f.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Alerts at scale"})]}),f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 px-4 py-3",children:[f.jsx("div",{className:"text-xs text-slate-400",children:"Goal"}),f.jsx("div",{className:"mt-1 text-sm font-semibold text-white",children:"Real-time data"})]})]})]})})]})}),f.jsxs("section",{className:"mb-20",children:[f.jsxs("div",{className:"mx-auto max-w-5xl text-center",children:[f.jsx("h2",{className:"text-4xl font-bold text-white",children:"What's Already Built"}),f.jsx("p",{className:"mt-3 text-lg text-slate-300",children:"The core workflow is livecharting, indicators, alerts, and layouts."})]}),f.jsx("div",{className:"mt-10 grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(u=>f.jsxs("div",{className:"h-full rounded-2xl border border-slate-800 bg-slate-900/25 p-6 hover:bg-slate-900/35 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-800 bg-slate-900/40 text-slate-200",children:f.jsx(Xd,{name:u.icon,className:"h-5 w-5"})}),f.jsx("h3",{className:"text-base font-semibold text-white",children:u.title})]}),f.jsx("p",{className:"mt-3 text-sm leading-relaxed text-slate-400",children:u.desc})]},u.title))})]}),f.jsx("section",{className:"mb-20 rounded-3xl border border-slate-800 bg-slate-900/30 p-8 lg:p-12",children:f.jsxs("div",{className:"grid gap-8 lg:grid-cols-12 lg:items-start",children:[f.jsxs("div",{className:"lg:col-span-7",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl border border-slate-800 bg-slate-900/40 text-slate-200",children:f.jsx(Xd,{name:"compare",className:"h-5 w-5"})}),f.jsx("h2",{className:"text-3xl font-bold text-white",children:"Why This Exists"})]}),f.jsxs("div",{className:"mt-6 space-y-5 text-lg leading-relaxed text-slate-300",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Other platforms often gate higher alert counts behind expensive tiers."})," Want alerts on custom Pine logic? The pricing often jumps fast."]}),f.jsxs("p",{children:[f.jsx("strong",{children:"This project stays lean:"})," the app remains usable for free, while supporters help fund servers, data providers, and development time."]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Charging something is fair"}),"but it should stay reasonable and not feel punitive."]})]})]}),f.jsx("div",{className:"lg:col-span-5",children:f.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-[#0b1220]/60 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-sm font-semibold text-white",children:"Quick comparison"}),f.jsx("div",{className:"text-xs text-slate-400",children:"High-level"})]}),f.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/25 p-4",children:[f.jsx("div",{className:"text-xs text-slate-400",children:"Typical pro tiers"}),f.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 text-slate-500",children:""}),f.jsx("span",{children:"Alert caps or high tiers"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 text-slate-500",children:""}),f.jsx("span",{children:"Pay more for unlimited"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 text-slate-500",children:""}),f.jsx("span",{children:"Feature gating by plan"})]})]})]}),f.jsxs("div",{className:"rounded-xl border border-[#DC143C]/35 bg-[#DC143C]/10 p-4",children:[f.jsx("div",{className:"text-xs text-slate-200",children:"PolishedCharts"}),f.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-slate-200",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 text-emerald-300",children:""}),f.jsx("span",{children:"Unlimited alerts"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 text-emerald-300",children:""}),f.jsx("span",{children:"Custom-indicator focus"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"mt-0.5 text-emerald-300",children:""}),f.jsx("span",{children:"Support funds growth"})]})]})]})]}),f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"mt-5 inline-flex w-full items-center justify-center rounded-xl bg-[#DC143C] px-4 py-3 text-sm font-semibold text-white hover:bg-[#c51235] transition-colors",children:"Support development"})]})})]})}),f.jsx("section",{className:"mb-20 rounded-3xl border border-[#DC143C]/40 bg-[#DC143C]/10 p-10 lg:p-14",children:f.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[f.jsx("h2",{className:"text-4xl font-bold text-white",children:"One-man show (Marek)"}),f.jsx("p",{className:"mt-5 text-lg leading-relaxed text-slate-200",children:"Built solo in Poland. If you support with even $1 and need an indicator added, send the request and Ill do my best to add it. More support = faster development = real-time data eventually."}),f.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-2",children:[f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-xl bg-[#DC143C] px-6 py-4 text-base font-semibold text-white hover:bg-[#c51235] transition-colors",children:"Support on Kofi"}),f.jsx("a",{href:"https://ko-fi.com/marekdabrowski",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-xl border border-slate-700 bg-slate-900/25 px-6 py-4 text-base font-semibold text-white hover:bg-slate-900/45 transition-colors",children:"Request an indicator"})]})]})}),f.jsxs("footer",{className:"border-t border-slate-800/70 pt-10 pb-8",children:[f.jsxs("div",{className:"mx-auto max-w-4xl space-y-3 text-sm text-slate-400",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Not financial advice."})," Always verify alerts on your broker before acting on them. Alerts may be delayed due to data sources."]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Data delays & limitations:"})," Currently using Yahoo Finance (typically ~15 min delay). Real-time data is a future goal requiring investment."]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Contact / Feedback:"})," Support the project on Kofi or reach out through the app."]})]}),f.jsx("div",{className:"mx-auto mt-7 max-w-4xl border-t border-slate-800/40 pt-6 text-xs text-slate-500",children:f.jsx("p",{children:" 2025 PolishedCharts by Marek. Made in Poland with  for traders who refuse to pay insane platform fees."})})]})]})]})}function Ae(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function jD(n,e){const t=p.createContext(e),s=o=>{const{children:c,...u}=o,h=p.useMemo(()=>u,Object.values(u));return f.jsx(t.Provider,{value:h,children:c})};s.displayName=n+"Provider";function r(o){const c=p.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[s,r]}function Ns(n,e=[]){let t=[];function s(o,c){const u=p.createContext(c),h=t.length;t=[...t,c];const m=g=>{const{scope:x,children:w,...S}=g,C=x?.[n]?.[h]||u,_=p.useMemo(()=>S,Object.values(S));return f.jsx(C.Provider,{value:_,children:w})};m.displayName=o+"Provider";function v(g,x){const w=x?.[n]?.[h]||u,S=p.useContext(w);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[m,v]}const r=()=>{const o=t.map(c=>p.createContext(c));return function(u){const h=u?.[n]||o;return p.useMemo(()=>({[`__scope${n}`]:{...u,[n]:h}}),[u,h])}};return r.scopeName=n,[s,kD(r,...e)]}function kD(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const s=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(o){const c=s.reduce((u,{useScope:h,scopeName:m})=>{const g=h(o)[`__scope${m}`];return{...u,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function U1(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Rt(...n){return e=>{let t=!1;const s=n.map(r=>{const o=U1(r,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let r=0;r<s.length;r++){const o=s[r];typeof o=="function"?o():U1(n[r],null)}}}}function Lt(...n){return p.useCallback(Rt(...n),n)}function B1(n){const e=OD(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(ID);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function OD(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=PD(r),u=LD(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var DD=Symbol("radix.slottable");function ID(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===DD}function LD(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function PD(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function s_(n){const e=n+"CollectionProvider",[t,s]=Ns(e),[r,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=C=>{const{scope:_,children:N}=C,T=ve.useRef(null),M=ve.useRef(new Map).current;return f.jsx(r,{scope:_,itemMap:M,collectionRef:T,children:N})};c.displayName=e;const u=n+"CollectionSlot",h=B1(u),m=ve.forwardRef((C,_)=>{const{scope:N,children:T}=C,M=o(u,N),j=Lt(_,M.collectionRef);return f.jsx(h,{ref:j,children:T})});m.displayName=u;const v=n+"CollectionItemSlot",g="data-radix-collection-item",x=B1(v),w=ve.forwardRef((C,_)=>{const{scope:N,children:T,...M}=C,j=ve.useRef(null),P=Lt(_,j),I=o(v,N);return ve.useEffect(()=>(I.itemMap.set(j,{ref:j,...M}),()=>{I.itemMap.delete(j)})),f.jsx(x,{[g]:"",ref:P,children:T})});w.displayName=v;function S(C){const _=o(n+"CollectionConsumer",C);return ve.useCallback(()=>{const T=_.collectionRef.current;if(!T)return[];const M=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(_.itemMap.values()).sort((I,O)=>M.indexOf(I.ref.current)-M.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:m,ItemSlot:w},S,s]}var qr=globalThis?.document?p.useLayoutEffect:()=>{},zD=y0[" useId ".trim().toString()]||(()=>{}),$D=0;function Mn(n){const[e,t]=p.useState(zD());return qr(()=>{t(s=>s??String($D++))},[n]),e?`radix-${e}`:""}var $i=KE();const i_=YE($i);function UD(n){const e=BD(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(FD);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function BD(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=WD(r),u=HD(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var VD=Symbol("radix.slottable");function FD(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===VD}function HD(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function WD(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var GD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],r_=GD.reduce((n,e)=>{const t=UD(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function li(n){const e=p.useRef(n);return p.useEffect(()=>{e.current=n}),p.useMemo(()=>(...t)=>e.current?.(...t),[])}var qD=y0[" useInsertionEffect ".trim().toString()]||qr;function Qr({prop:n,defaultProp:e,onChange:t=()=>{},caller:s}){const[r,o,c]=YD({defaultProp:e,onChange:t}),u=n!==void 0,h=u?n:r;{const v=p.useRef(n!==void 0);p.useEffect(()=>{const g=v.current;g!==u&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=u},[u,s])}const m=p.useCallback(v=>{if(u){const g=KD(v)?v(n):v;g!==n&&c.current?.(g)}else o(v)},[u,n,o,c]);return[h,m]}function YD({defaultProp:n,onChange:e}){const[t,s]=p.useState(n),r=p.useRef(t),o=p.useRef(e);return qD(()=>{o.current=e},[e]),p.useEffect(()=>{r.current!==t&&(o.current?.(t),r.current=t)},[t,r]),[t,s,o]}function KD(n){return typeof n=="function"}var XD=p.createContext(void 0);function S0(n){const e=p.useContext(XD);return n||e||"ltr"}var _g="rovingFocusGroup.onEntryFocus",JD={bubbles:!1,cancelable:!0},ou="RovingFocusGroup",[Mv,a_,QD]=s_(ou),[ZD,_f]=Ns(ou,[QD]),[eI,tI]=ZD(ou),o_=p.forwardRef((n,e)=>f.jsx(Mv.Provider,{scope:n.__scopeRovingFocusGroup,children:f.jsx(Mv.Slot,{scope:n.__scopeRovingFocusGroup,children:f.jsx(nI,{...n,ref:e})})}));o_.displayName=ou;var nI=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:s,loop:r=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...g}=n,x=p.useRef(null),w=Lt(e,x),S=S0(o),[C,_]=Qr({prop:c,defaultProp:u??null,onChange:h,caller:ou}),[N,T]=p.useState(!1),M=li(m),j=a_(t),P=p.useRef(!1),[I,O]=p.useState(0);return p.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(_g,M),()=>B.removeEventListener(_g,M)},[M]),f.jsx(eI,{scope:t,orientation:s,dir:S,loop:r,currentTabStopId:C,onItemFocus:p.useCallback(B=>_(B),[_]),onItemShiftTab:p.useCallback(()=>T(!0),[]),onFocusableItemAdd:p.useCallback(()=>O(B=>B+1),[]),onFocusableItemRemove:p.useCallback(()=>O(B=>B-1),[]),children:f.jsx(r_.div,{tabIndex:N||I===0?-1:0,"data-orientation":s,...g,ref:w,style:{outline:"none",...n.style},onMouseDown:Ae(n.onMouseDown,()=>{P.current=!0}),onFocus:Ae(n.onFocus,B=>{const re=!P.current;if(B.target===B.currentTarget&&re&&!N){const le=new CustomEvent(_g,JD);if(B.currentTarget.dispatchEvent(le),!le.defaultPrevented){const te=j().filter(k=>k.focusable),he=te.find(k=>k.active),oe=te.find(k=>k.id===C),ne=[he,oe,...te].filter(Boolean).map(k=>k.ref.current);u_(ne,v)}}P.current=!1}),onBlur:Ae(n.onBlur,()=>T(!1))})})}),l_="RovingFocusGroupItem",c_=p.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:s=!0,active:r=!1,tabStopId:o,children:c,...u}=n,h=Mn(),m=o||h,v=tI(l_,t),g=v.currentTabStopId===m,x=a_(t),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:C}=v;return p.useEffect(()=>{if(s)return w(),()=>S()},[s,w,S]),f.jsx(Mv.ItemSlot,{scope:t,id:m,focusable:s,active:r,children:f.jsx(r_.span,{tabIndex:g?0:-1,"data-orientation":v.orientation,...u,ref:e,onMouseDown:Ae(n.onMouseDown,_=>{s?v.onItemFocus(m):_.preventDefault()}),onFocus:Ae(n.onFocus,()=>v.onItemFocus(m)),onKeyDown:Ae(n.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){v.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=rI(_,v.orientation,v.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let M=x().filter(j=>j.focusable).map(j=>j.ref.current);if(N==="last")M.reverse();else if(N==="prev"||N==="next"){N==="prev"&&M.reverse();const j=M.indexOf(_.currentTarget);M=v.loop?aI(M,j+1):M.slice(j+1)}setTimeout(()=>u_(M))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:C!=null}):c})})});c_.displayName=l_;var sI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iI(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function rI(n,e,t){const s=iI(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return sI[s]}function u_(n,e=!1){const t=document.activeElement;for(const s of n)if(s===t||(s.focus({preventScroll:e}),document.activeElement!==t))return}function aI(n,e){return n.map((t,s)=>n[(e+s)%n.length])}var d_=o_,h_=c_;function oI(n,e){return p.useReducer((t,s)=>e[t][s]??t,n)}var Yn=n=>{const{present:e,children:t}=n,s=lI(e),r=typeof t=="function"?t({present:s.isPresent}):p.Children.only(t),o=Lt(s.ref,cI(r));return typeof t=="function"||s.isPresent?p.cloneElement(r,{ref:o}):null};Yn.displayName="Presence";function lI(n){const[e,t]=p.useState(),s=p.useRef(null),r=p.useRef(n),o=p.useRef("none"),c=n?"mounted":"unmounted",[u,h]=oI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const m=Jd(s.current);o.current=u==="mounted"?m:"none"},[u]),qr(()=>{const m=s.current,v=r.current;if(v!==n){const x=o.current,w=Jd(m);n?h("MOUNT"):w==="none"||m?.display==="none"?h("UNMOUNT"):h(v&&x!==w?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,h]),qr(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,g=w=>{const C=Jd(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&C&&(h("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},x=w=>{w.target===e&&(o.current=Jd(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:p.useCallback(m=>{s.current=m?getComputedStyle(m):null,t(m)},[])}}function Jd(n){return n?.animationName||"none"}function cI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function uI(n){const e=dI(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(fI);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function dI(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=pI(r),u=mI(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var hI=Symbol("radix.slottable");function fI(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===hI}function mI(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function pI(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var gI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nf=gI.reduce((n,e)=>{const t=uI(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),Tf="Tabs",[vI]=Ns(Tf,[_f]),f_=_f(),[bI,C0]=vI(Tf),m_=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,onValueChange:r,defaultValue:o,orientation:c="horizontal",dir:u,activationMode:h="automatic",...m}=n,v=S0(u),[g,x]=Qr({prop:s,onChange:r,defaultProp:o??"",caller:Tf});return f.jsx(bI,{scope:t,baseId:Mn(),value:g,onValueChange:x,orientation:c,dir:v,activationMode:h,children:f.jsx(Nf.div,{dir:v,"data-orientation":c,...m,ref:e})})});m_.displayName=Tf;var p_="TabsList",g_=p.forwardRef((n,e)=>{const{__scopeTabs:t,loop:s=!0,...r}=n,o=C0(p_,t),c=f_(t);return f.jsx(d_,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:s,children:f.jsx(Nf.div,{role:"tablist","aria-orientation":o.orientation,...r,ref:e})})});g_.displayName=p_;var v_="TabsTrigger",b_=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,disabled:r=!1,...o}=n,c=C0(v_,t),u=f_(t),h=w_(c.baseId,s),m=S_(c.baseId,s),v=s===c.value;return f.jsx(h_,{asChild:!0,...u,focusable:!r,active:v,children:f.jsx(Nf.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:h,...o,ref:e,onMouseDown:Ae(n.onMouseDown,g=>{!r&&g.button===0&&g.ctrlKey===!1?c.onValueChange(s):g.preventDefault()}),onKeyDown:Ae(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(s)}),onFocus:Ae(n.onFocus,()=>{const g=c.activationMode!=="manual";!v&&!r&&g&&c.onValueChange(s)})})})});b_.displayName=v_;var y_="TabsContent",x_=p.forwardRef((n,e)=>{const{__scopeTabs:t,value:s,forceMount:r,children:o,...c}=n,u=C0(y_,t),h=w_(u.baseId,s),m=S_(u.baseId,s),v=s===u.value,g=p.useRef(v);return p.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),f.jsx(Yn,{present:r||v,children:({present:x})=>f.jsx(Nf.div,{"data-state":v?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:m,tabIndex:0,...c,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:x&&o})})});x_.displayName=y_;function w_(n,e){return`${n}-trigger-${e}`}function S_(n,e){return`${n}-content-${e}`}var yI=m_,C_=g_,E_=b_,__=x_;function N_(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=N_(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Mf(){for(var n,e,t=0,s="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=N_(n))&&(s&&(s+=" "),s+=e);return s}const xI=(n,e)=>{const t=new Array(n.length+e.length);for(let s=0;s<n.length;s++)t[s]=n[s];for(let s=0;s<e.length;s++)t[n.length+s]=e[s];return t},wI=(n,e)=>({classGroupId:n,validator:e}),T_=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),Gh="-",V1=[],SI="arbitrary..",CI=n=>{const e=_I(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=n;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return EI(c);const u=c.split(Gh),h=u[0]===""&&u.length>1?1:0;return M_(u,h,e)},getConflictingClassGroupIds:(c,u)=>{if(u){const h=s[c],m=t[c];return h?m?xI(m,h):h:m||V1}return t[c]||V1}}},M_=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const r=n[e],o=t.nextPart.get(r);if(o){const m=M_(n,e+1,o);if(m)return m}const c=t.validators;if(c===null)return;const u=e===0?n.join(Gh):n.slice(e).join(Gh),h=c.length;for(let m=0;m<h;m++){const v=c[m];if(v.validator(u))return v.classGroupId}},EI=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),s=e.slice(0,t);return s?SI+s:void 0})(),_I=n=>{const{theme:e,classGroups:t}=n;return NI(t,e)},NI=(n,e)=>{const t=T_();for(const s in n){const r=n[s];E0(r,t,s,e)}return t},E0=(n,e,t,s)=>{const r=n.length;for(let o=0;o<r;o++){const c=n[o];TI(c,e,t,s)}},TI=(n,e,t,s)=>{if(typeof n=="string"){MI(n,e,t);return}if(typeof n=="function"){RI(n,e,t,s);return}AI(n,e,t,s)},MI=(n,e,t)=>{const s=n===""?e:R_(e,n);s.classGroupId=t},RI=(n,e,t,s)=>{if(jI(n)){E0(n(s),e,t,s);return}e.validators===null&&(e.validators=[]),e.validators.push(wI(t,n))},AI=(n,e,t,s)=>{const r=Object.entries(n),o=r.length;for(let c=0;c<o;c++){const[u,h]=r[c];E0(h,R_(e,u),t,s)}},R_=(n,e)=>{let t=n;const s=e.split(Gh),r=s.length;for(let o=0;o<r;o++){const c=s[o];let u=t.nextPart.get(c);u||(u=T_(),t.nextPart.set(c,u)),t=u}return t},jI=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,kI=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),s=Object.create(null);const r=(o,c)=>{t[o]=c,e++,e>n&&(e=0,s=t,t=Object.create(null))};return{get(o){let c=t[o];if(c!==void 0)return c;if((c=s[o])!==void 0)return r(o,c),c},set(o,c){o in t?t[o]=c:r(o,c)}}},Rv="!",F1=":",OI=[],H1=(n,e,t,s,r)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:s,isExternal:r}),DI=n=>{const{prefix:e,experimentalParseClassName:t}=n;let s=r=>{const o=[];let c=0,u=0,h=0,m;const v=r.length;for(let C=0;C<v;C++){const _=r[C];if(c===0&&u===0){if(_===F1){o.push(r.slice(h,C)),h=C+1;continue}if(_==="/"){m=C;continue}}_==="["?c++:_==="]"?c--:_==="("?u++:_===")"&&u--}const g=o.length===0?r:r.slice(h);let x=g,w=!1;g.endsWith(Rv)?(x=g.slice(0,-1),w=!0):g.startsWith(Rv)&&(x=g.slice(1),w=!0);const S=m&&m>h?m-h:void 0;return H1(o,w,x,S)};if(e){const r=e+F1,o=s;s=c=>c.startsWith(r)?o(c.slice(r.length)):H1(OI,!1,c,void 0,!0)}if(t){const r=s;s=o=>t({className:o,parseClassName:r})}return s},II=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,s)=>{e.set(t,1e6+s)}),t=>{const s=[];let r=[];for(let o=0;o<t.length;o++){const c=t[o],u=c[0]==="[",h=e.has(c);u||h?(r.length>0&&(r.sort(),s.push(...r),r=[]),s.push(c)):r.push(c)}return r.length>0&&(r.sort(),s.push(...r)),s}},LI=n=>({cache:kI(n.cacheSize),parseClassName:DI(n),sortModifiers:II(n),...CI(n)}),PI=/\s+/,zI=(n,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:o}=e,c=[],u=n.trim().split(PI);let h="";for(let m=u.length-1;m>=0;m-=1){const v=u[m],{isExternal:g,modifiers:x,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:C}=t(v);if(g){h=v+(h.length>0?" "+h:h);continue}let _=!!C,N=s(_?S.substring(0,C):S);if(!N){if(!_){h=v+(h.length>0?" "+h:h);continue}if(N=s(S),!N){h=v+(h.length>0?" "+h:h);continue}_=!1}const T=x.length===0?"":x.length===1?x[0]:o(x).join(":"),M=w?T+Rv:T,j=M+N;if(c.indexOf(j)>-1)continue;c.push(j);const P=r(N,_);for(let I=0;I<P.length;++I){const O=P[I];c.push(M+O)}h=v+(h.length>0?" "+h:h)}return h},$I=(...n)=>{let e=0,t,s,r="";for(;e<n.length;)(t=n[e++])&&(s=A_(t))&&(r&&(r+=" "),r+=s);return r},A_=n=>{if(typeof n=="string")return n;let e,t="";for(let s=0;s<n.length;s++)n[s]&&(e=A_(n[s]))&&(t&&(t+=" "),t+=e);return t},UI=(n,...e)=>{let t,s,r,o;const c=h=>{const m=e.reduce((v,g)=>g(v),n());return t=LI(m),s=t.cache.get,r=t.cache.set,o=u,u(h)},u=h=>{const m=s(h);if(m)return m;const v=zI(h,t);return r(h,v),v};return o=c,(...h)=>o($I(...h))},BI=[],tn=n=>{const e=t=>t[n]||BI;return e.isThemeGetter=!0,e},j_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,k_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VI=/^\d+\/\d+$/,FI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Do=n=>VI.test(n),Fe=n=>!!n&&!Number.isNaN(Number(n)),Tr=n=>!!n&&Number.isInteger(Number(n)),Ng=n=>n.endsWith("%")&&Fe(n.slice(0,-1)),Li=n=>FI.test(n),YI=()=>!0,KI=n=>HI.test(n)&&!WI.test(n),O_=()=>!1,XI=n=>GI.test(n),JI=n=>qI.test(n),QI=n=>!Te(n)&&!Me(n),ZI=n=>pl(n,L_,O_),Te=n=>j_.test(n),Ma=n=>pl(n,P_,KI),Tg=n=>pl(n,i5,Fe),W1=n=>pl(n,D_,O_),e5=n=>pl(n,I_,JI),Qd=n=>pl(n,z_,XI),Me=n=>k_.test(n),wc=n=>gl(n,P_),t5=n=>gl(n,r5),G1=n=>gl(n,D_),n5=n=>gl(n,L_),s5=n=>gl(n,I_),Zd=n=>gl(n,z_,!0),pl=(n,e,t)=>{const s=j_.exec(n);return s?s[1]?e(s[1]):t(s[2]):!1},gl=(n,e,t=!1)=>{const s=k_.exec(n);return s?s[1]?e(s[1]):t:!1},D_=n=>n==="position"||n==="percentage",I_=n=>n==="image"||n==="url",L_=n=>n==="length"||n==="size"||n==="bg-size",P_=n=>n==="length",i5=n=>n==="number",r5=n=>n==="family-name",z_=n=>n==="shadow",a5=()=>{const n=tn("color"),e=tn("font"),t=tn("text"),s=tn("font-weight"),r=tn("tracking"),o=tn("leading"),c=tn("breakpoint"),u=tn("container"),h=tn("spacing"),m=tn("radius"),v=tn("shadow"),g=tn("inset-shadow"),x=tn("text-shadow"),w=tn("drop-shadow"),S=tn("blur"),C=tn("perspective"),_=tn("aspect"),N=tn("ease"),T=tn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),Me,Te],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],B=()=>[Me,Te,h],re=()=>[Do,"full","auto",...B()],le=()=>[Tr,"none","subgrid",Me,Te],te=()=>["auto",{span:["full",Tr,Me,Te]},Tr,Me,Te],he=()=>[Tr,"auto",Me,Te],oe=()=>["auto","min","max","fr",Me,Te],ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...B()],W=()=>[Do,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],V=()=>[n,Me,Te],Y=()=>[...j(),G1,W1,{position:[Me,Te]}],me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",n5,ZI,{size:[Me,Te]}],R=()=>[Ng,wc,Ma],z=()=>["","none","full",m,Me,Te],$=()=>["",Fe,wc,Ma],J=()=>["solid","dashed","dotted","double"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>[Fe,Ng,G1,W1],ae=()=>["","none",S,Me,Te],be=()=>["none",Fe,Me,Te],we=()=>["none",Fe,Me,Te],Ve=()=>[Fe,Me,Te],He=()=>[Do,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[YI],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[QI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Fe],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Do,Te,Me,_]}],container:["container"],columns:[{columns:[Fe,Te,Me,u]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:re()}],"inset-x":[{"inset-x":re()}],"inset-y":[{"inset-y":re()}],start:[{start:re()}],end:[{end:re()}],top:[{top:re()}],right:[{right:re()}],bottom:[{bottom:re()}],left:[{left:re()}],visibility:["visible","invisible","collapse"],z:[{z:[Tr,"auto",Me,Te]}],basis:[{basis:[Do,"full","auto",u,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Do,"auto","initial","none",Te]}],grow:[{grow:["",Fe,Me,Te]}],shrink:[{shrink:["",Fe,Me,Te]}],order:[{order:[Tr,"first","last","none",Me,Te]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...ce(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...ce()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":ce()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[u,"screen",...W()]}],"min-w":[{"min-w":[u,"screen","none",...W()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,wc,Ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Me,Tg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ng,Te]}],"font-family":[{font:[t5,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Me,Te]}],"line-clamp":[{"line-clamp":[Fe,"none",Me,Tg]}],leading:[{leading:[o,...B()]}],"list-image":[{"list-image":["none",Me,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Me,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",Me,Ma]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Fe,"auto",Me,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:me()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Tr,Me,Te],radial:["",Me,Te],conic:[Tr,Me,Te]},s5,e5]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...J(),"hidden","none"]}],"divide-style":[{divide:[...J(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...J(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,Me,Te]}],"outline-w":[{outline:["",Fe,wc,Ma]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",v,Zd,Qd]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,Zd,Qd]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Fe,Ma]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",x,Zd,Qd]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Fe,Me,Te]}],"mix-blend":[{"mix-blend":[...Q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":q()}],"mask-image-linear-to-pos":[{"mask-linear-to":q()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":q()}],"mask-image-t-to-pos":[{"mask-t-to":q()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":q()}],"mask-image-r-to-pos":[{"mask-r-to":q()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":q()}],"mask-image-b-to-pos":[{"mask-b-to":q()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":q()}],"mask-image-l-to-pos":[{"mask-l-to":q()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":q()}],"mask-image-x-to-pos":[{"mask-x-to":q()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":q()}],"mask-image-y-to-pos":[{"mask-y-to":q()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[Me,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":q()}],"mask-image-radial-to-pos":[{"mask-radial-to":q()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":q()}],"mask-image-conic-to-pos":[{"mask-conic-to":q()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:me()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Me,Te]}],filter:[{filter:["","none",Me,Te]}],blur:[{blur:ae()}],brightness:[{brightness:[Fe,Me,Te]}],contrast:[{contrast:[Fe,Me,Te]}],"drop-shadow":[{"drop-shadow":["","none",w,Zd,Qd]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Fe,Me,Te]}],"hue-rotate":[{"hue-rotate":[Fe,Me,Te]}],invert:[{invert:["",Fe,Me,Te]}],saturate:[{saturate:[Fe,Me,Te]}],sepia:[{sepia:["",Fe,Me,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Me,Te]}],"backdrop-blur":[{"backdrop-blur":ae()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,Me,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,Me,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,Me,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,Me,Te]}],"backdrop-invert":[{"backdrop-invert":["",Fe,Me,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,Me,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,Me,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,Me,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Me,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",Me,Te]}],ease:[{ease:["linear","initial",N,Me,Te]}],delay:[{delay:[Fe,Me,Te]}],animate:[{animate:["none",T,Me,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Me,Te]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:we()}],"scale-x":[{"scale-x":we()}],"scale-y":[{"scale-y":we()}],"scale-z":[{"scale-z":we()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[Me,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me,Te]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Fe,wc,Ma,Tg]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_0=UI(a5);function Ce(...n){return _0(Mf(n))}const N0=yI,Rf=p.forwardRef(({className:n,...e},t)=>f.jsx(C_,{ref:t,className:Ce("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...e}));Rf.displayName=C_.displayName;const $r=p.forwardRef(({className:n,...e},t)=>f.jsx(E_,{ref:t,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...e}));$r.displayName=E_.displayName;const Ur=p.forwardRef(({className:n,...e},t)=>f.jsx(__,{ref:t,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Ur.displayName=__.displayName;var o5=Symbol.for("react.lazy"),qh=y0[" use ".trim().toString()];function l5(n){return typeof n=="object"&&n!==null&&"then"in n}function $_(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===o5&&"_payload"in n&&l5(n._payload)}function U_(n){const e=u5(n),t=p.forwardRef((s,r)=>{let{children:o,...c}=s;$_(o)&&typeof qh=="function"&&(o=qh(o._payload));const u=p.Children.toArray(o),h=u.find(h5);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}var c5=U_("Slot");function u5(n){const e=p.forwardRef((t,s)=>{let{children:r,...o}=t;if($_(r)&&typeof qh=="function"&&(r=qh(r._payload)),p.isValidElement(r)){const c=m5(r),u=f5(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var d5=Symbol("radix.slottable");function h5(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===d5}function f5(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function m5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const q1=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Y1=Mf,B_=(n,e)=>t=>{var s;if(e?.variants==null)return Y1(n,t?.class,t?.className);const{variants:r,defaultVariants:o}=e,c=Object.keys(r).map(m=>{const v=t?.[m],g=o?.[m];if(v===null)return null;const x=q1(v)||q1(g);return r[m][x]}),u=t&&Object.entries(t).reduce((m,v)=>{let[g,x]=v;return x===void 0||(m[g]=x),m},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,v)=>{let{class:g,className:x,...w}=v;return Object.entries(w).every(S=>{let[C,_]=S;return Array.isArray(_)?_.includes({...o,...u}[C]):{...o,...u}[C]===_})?[...m,g,x]:m},[]);return Y1(n,c,h,t?.class,t?.className)},p5=B_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Pe=p.forwardRef(({className:n,variant:e,size:t,asChild:s=!1,...r},o)=>{const c=s?c5:"button";return f.jsx(c,{className:Ce(p5({variant:e,size:t,className:n})),ref:o,...r})});Pe.displayName="Button";const g5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),K1=n=>{const e=v5(n);return e.charAt(0).toUpperCase()+e.slice(1)},V_=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),b5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var y5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const x5=p.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:o,iconNode:c,...u},h)=>p.createElement("svg",{ref:h,...y5,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:V_("lucide",r),...!o&&!b5(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,v])=>p.createElement(m,v)),...Array.isArray(o)?o:[o]]));const tt=(n,e)=>{const t=p.forwardRef(({className:s,...r},o)=>p.createElement(x5,{ref:o,iconNode:e,className:V_(`lucide-${g5(K1(n))}`,`lucide-${n}`,s),...r}));return t.displayName=K1(n),t};const w5=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],X1=tt("arrow-up-down",w5);const S5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Mg=tt("bell-off",S5);const C5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],il=tt("bell",C5);const E5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_5=tt("chart-column",E5);const N5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T0=tt("check",N5);const T5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],M5=tt("chevron-down",T5);const R5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],A5=tt("chevron-left",R5);const j5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M0=tt("chevron-right",j5);const k5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],O5=tt("chevron-up",k5);const D5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F_=tt("circle",D5);const I5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],J1=tt("clock",I5);const L5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],P5=tt("ellipsis-vertical",L5);const z5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Q1=tt("external-link",z5);const $5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],U5=tt("eye-off",$5);const B5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V5=tt("eye",B5);const F5=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],H5=tt("grip-vertical",F5);const W5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],H_=tt("layout-grid",W5);const G5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qo=tt("loader-circle",G5);const q5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Y5=tt("log-out",q5);const K5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],X5=tt("mail",K5);const J5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Q5=tt("maximize-2",J5);const Z5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eL=tt("plus",Z5);const tL=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nL=tt("radio",tL);const sL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],W_=tt("refresh-cw",sL);const iL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rg=tt("save",iL);const rL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Af=tt("search",rL);const aL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],G_=tt("settings",aL);const oL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lu=tt("trash-2",oL);const lL=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],cL=tt("trending-down",lL);const uL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Av=tt("trending-up",uL);const dL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hL=tt("triangle-alert",dL);const fL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mL=tt("user",fL);const pL=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],gL=tt("waves",pL);const vL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],q_=tt("x",vL);const bL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Z1=tt("zap",bL),eS="trading-alert-sidebar-state",yL=({children:n,watchlistContent:e,alertsContent:t,alertsBadgeCount:s=0,userMenuContent:r})=>{const[o,c]=p.useState(()=>{const u=localStorage.getItem(eS);if(u)try{return JSON.parse(u).isSidebarOpen??!0}catch(h){console.error("Failed to parse sidebar state",h)}return!0});return ve.useEffect(()=>{localStorage.setItem(eS,JSON.stringify({isSidebarOpen:o}))},[o]),ve.useEffect(()=>{const u=h=>{h.ctrlKey&&h.key.toLowerCase()==="b"&&(h.preventDefault(),c(m=>!m))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]),f.jsxs("div",{className:"flex h-screen w-full bg-slate-950 text-slate-50 overflow-hidden",children:[f.jsx("main",{className:"flex-1 relative overflow-hidden","data-testid":"main-chart-area",children:n}),f.jsx("aside",{"data-testid":"right-sidebar","data-state":o?"expanded":"collapsed",className:`flex border-slate-800 bg-slate-900 transition-all duration-300 ${o?"w-[350px]":"w-[56px]"}`,children:f.jsxs(N0,{defaultValue:"watchlist",className:"flex flex-row w-full h-full",children:[f.jsxs("div",{className:"flex flex-col items-center py-4 border-r border-slate-800 w-[56px] shrink-0",children:[r&&f.jsx("div",{className:"mb-4",children:r}),f.jsxs(Rf,{className:"flex flex-col h-auto bg-transparent gap-4",children:[f.jsxs($r,{value:"watchlist",className:"p-2 data-[state=active]:bg-slate-800 data-[state=active]:text-blue-400",title:"Watchlist","aria-label":"Watchlist",children:[f.jsx(H_,{className:"h-5 w-5"}),f.jsx("span",{className:"sr-only",children:"Watchlist"})]}),f.jsxs($r,{value:"alerts",className:"p-2 data-[state=active]:bg-slate-800 data-[state=active]:text-blue-400 relative",title:"Alerts","aria-label":"Alerts",children:[f.jsx(il,{className:"h-5 w-5"}),s>0&&f.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-rose-500 text-[10px] font-bold text-white ring-2 ring-slate-900 animate-in zoom-in duration-300",children:s>9?"9+":s}),f.jsx("span",{className:"sr-only",children:"Alerts"})]})]}),f.jsx("div",{className:"mt-auto pb-2",children:f.jsx(Pe,{variant:"ghost",size:"icon",onClick:()=>c(!o),className:"text-slate-400 hover:text-white","data-testid":"sidebar-toggle",children:o?f.jsx(M0,{className:"h-5 w-5"}):f.jsx(A5,{className:"h-5 w-5"})})})]}),o&&f.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[f.jsx(Ur,{value:"watchlist",className:"flex-1 m-0 p-4 min-h-0 overflow-hidden",children:f.jsx("div",{className:"h-full w-full flex flex-col items-stretch justify-start",children:e})}),f.jsx(Ur,{value:"alerts",className:"flex-1 m-0 p-4 min-h-0 overflow-hidden",children:f.jsx("div",{className:"h-full w-full flex flex-col items-stretch justify-start",children:t})})]})]})})]})};function xL(n){const e=wL(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(CL);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function wL(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=_L(r),u=EL(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var SL=Symbol("radix.slottable");function CL(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===SL}function EL(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function _L(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var NL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],TL=NL.reduce((n,e)=>{const t=xL(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function ML(n){const e=RL(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(jL);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function RL(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=OL(r),u=kL(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var AL=Symbol("radix.slottable");function jL(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===AL}function kL(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function OL(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var DL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Y_=DL.reduce((n,e)=>{const t=ML(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function IL(n,e){n&&$i.flushSync(()=>n.dispatchEvent(e))}function LL(n,e=globalThis?.document){const t=li(n);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var PL="DismissableLayer",jv="dismissableLayer.update",zL="dismissableLayer.pointerDownOutside",$L="dismissableLayer.focusOutside",tS,K_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cu=p.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...h}=n,m=p.useContext(K_),[v,g]=p.useState(null),x=v?.ownerDocument??globalThis?.document,[,w]=p.useState({}),S=Lt(e,O=>g(O)),C=Array.from(m.layers),[_]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=C.indexOf(_),T=v?C.indexOf(v):-1,M=m.layersWithOutsidePointerEventsDisabled.size>0,j=T>=N,P=VL(O=>{const B=O.target,re=[...m.branches].some(le=>le.contains(B));!j||re||(r?.(O),c?.(O),O.defaultPrevented||u?.())},x),I=FL(O=>{const B=O.target;[...m.branches].some(le=>le.contains(B))||(o?.(O),c?.(O),O.defaultPrevented||u?.())},x);return LL(O=>{T===m.layers.size-1&&(s?.(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},x),p.useEffect(()=>{if(v)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(tS=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),nS(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=tS)}},[v,x,t,m]),p.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),nS())},[v,m]),p.useEffect(()=>{const O=()=>w({});return document.addEventListener(jv,O),()=>document.removeEventListener(jv,O)},[]),f.jsx(Y_.div,{...h,ref:S,style:{pointerEvents:M?j?"auto":"none":void 0,...n.style},onFocusCapture:Ae(n.onFocusCapture,I.onFocusCapture),onBlurCapture:Ae(n.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Ae(n.onPointerDownCapture,P.onPointerDownCapture)})});cu.displayName=PL;var UL="DismissableLayerBranch",BL=p.forwardRef((n,e)=>{const t=p.useContext(K_),s=p.useRef(null),r=Lt(e,s);return p.useEffect(()=>{const o=s.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),f.jsx(Y_.div,{...n,ref:r})});BL.displayName=UL;function VL(n,e=globalThis?.document){const t=li(n),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const o=u=>{if(u.target&&!s.current){let h=function(){X_(zL,t,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=h,e.addEventListener("click",r.current,{once:!0})):h()}else e.removeEventListener("click",r.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function FL(n,e=globalThis?.document){const t=li(n),s=p.useRef(!1);return p.useEffect(()=>{const r=o=>{o.target&&!s.current&&X_($L,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function nS(){const n=new CustomEvent(jv);document.dispatchEvent(n)}function X_(n,e,t,{discrete:s}){const r=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),s?IL(r,o):r.dispatchEvent(o)}var Ag=0;function R0(){p.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??sS()),document.body.insertAdjacentElement("beforeend",n[1]??sS()),Ag++,()=>{Ag===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ag--}},[])}function sS(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}function HL(n){const e=WL(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(qL);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function WL(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=KL(r),u=YL(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var GL=Symbol("radix.slottable");function qL(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===GL}function YL(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function KL(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var XL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JL=XL.reduce((n,e)=>{const t=HL(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),jg="focusScope.autoFocusOnMount",kg="focusScope.autoFocusOnUnmount",iS={bubbles:!1,cancelable:!0},QL="FocusScope",jf=p.forwardRef((n,e)=>{const{loop:t=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:o,...c}=n,[u,h]=p.useState(null),m=li(r),v=li(o),g=p.useRef(null),x=Lt(e,C=>h(C)),w=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let C=function(M){if(w.paused||!u)return;const j=M.target;u.contains(j)?g.current=j:jr(g.current,{select:!0})},_=function(M){if(w.paused||!u)return;const j=M.relatedTarget;j!==null&&(u.contains(j)||jr(g.current,{select:!0}))},N=function(M){if(document.activeElement===document.body)for(const P of M)P.removedNodes.length>0&&jr(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",_);const T=new MutationObserver(N);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",_),T.disconnect()}}},[s,u,w.paused]),p.useEffect(()=>{if(u){aS.add(w);const C=document.activeElement;if(!u.contains(C)){const N=new CustomEvent(jg,iS);u.addEventListener(jg,m),u.dispatchEvent(N),N.defaultPrevented||(ZL(i3(J_(u)),{select:!0}),document.activeElement===C&&jr(u))}return()=>{u.removeEventListener(jg,m),setTimeout(()=>{const N=new CustomEvent(kg,iS);u.addEventListener(kg,v),u.dispatchEvent(N),N.defaultPrevented||jr(C??document.body,{select:!0}),u.removeEventListener(kg,v),aS.remove(w)},0)}}},[u,m,v,w]);const S=p.useCallback(C=>{if(!t&&!s||w.paused)return;const _=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,N=document.activeElement;if(_&&N){const T=C.currentTarget,[M,j]=e3(T);M&&j?!C.shiftKey&&N===j?(C.preventDefault(),t&&jr(M,{select:!0})):C.shiftKey&&N===M&&(C.preventDefault(),t&&jr(j,{select:!0})):N===T&&C.preventDefault()}},[t,s,w.paused]);return f.jsx(JL.div,{tabIndex:-1,...c,ref:x,onKeyDown:S})});jf.displayName=QL;function ZL(n,{select:e=!1}={}){const t=document.activeElement;for(const s of n)if(jr(s,{select:e}),document.activeElement!==t)return}function e3(n){const e=J_(n),t=rS(e,n),s=rS(e.reverse(),n);return[t,s]}function J_(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function rS(n,e){for(const t of n)if(!t3(t,{upTo:e}))return t}function t3(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function n3(n){return n instanceof HTMLInputElement&&"select"in n}function jr(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&n3(n)&&e&&n.select()}}var aS=s3();function s3(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=oS(n,e),n.unshift(e)},remove(e){n=oS(n,e),n[0]?.resume()}}}function oS(n,e){const t=[...n],s=t.indexOf(e);return s!==-1&&t.splice(s,1),t}function i3(n){return n.filter(e=>e.tagName!=="A")}const r3=["top","right","bottom","left"],Yr=Math.min,os=Math.max,Yh=Math.round,eh=Math.floor,ai=n=>({x:n,y:n}),a3={left:"right",right:"left",bottom:"top",top:"bottom"},o3={start:"end",end:"start"};function kv(n,e,t){return os(n,Yr(e,t))}function Gi(n,e){return typeof n=="function"?n(e):n}function qi(n){return n.split("-")[0]}function vl(n){return n.split("-")[1]}function A0(n){return n==="x"?"y":"x"}function j0(n){return n==="y"?"height":"width"}const l3=new Set(["top","bottom"]);function ri(n){return l3.has(qi(n))?"y":"x"}function k0(n){return A0(ri(n))}function c3(n,e,t){t===void 0&&(t=!1);const s=vl(n),r=k0(n),o=j0(r);let c=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Kh(c)),[c,Kh(c)]}function u3(n){const e=Kh(n);return[Ov(n),e,Ov(e)]}function Ov(n){return n.replace(/start|end/g,e=>o3[e])}const lS=["left","right"],cS=["right","left"],d3=["top","bottom"],h3=["bottom","top"];function f3(n,e,t){switch(n){case"top":case"bottom":return t?e?cS:lS:e?lS:cS;case"left":case"right":return e?d3:h3;default:return[]}}function m3(n,e,t,s){const r=vl(n);let o=f3(qi(n),t==="start",s);return r&&(o=o.map(c=>c+"-"+r),e&&(o=o.concat(o.map(Ov)))),o}function Kh(n){return n.replace(/left|right|bottom|top/g,e=>a3[e])}function p3(n){return{top:0,right:0,bottom:0,left:0,...n}}function Q_(n){return typeof n!="number"?p3(n):{top:n,right:n,bottom:n,left:n}}function Xh(n){const{x:e,y:t,width:s,height:r}=n;return{width:s,height:r,top:t,left:e,right:e+s,bottom:t+r,x:e,y:t}}function uS(n,e,t){let{reference:s,floating:r}=n;const o=ri(e),c=k0(e),u=j0(c),h=qi(e),m=o==="y",v=s.x+s.width/2-r.width/2,g=s.y+s.height/2-r.height/2,x=s[u]/2-r[u]/2;let w;switch(h){case"top":w={x:v,y:s.y-r.height};break;case"bottom":w={x:v,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:g};break;case"left":w={x:s.x-r.width,y:g};break;default:w={x:s.x,y:s.y}}switch(vl(e)){case"start":w[c]-=x*(t&&m?-1:1);break;case"end":w[c]+=x*(t&&m?-1:1);break}return w}const g3=async(n,e,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:o=[],platform:c}=t,u=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:n,floating:e,strategy:r}),{x:v,y:g}=uS(m,s,h),x=s,w={},S=0;for(let C=0;C<u.length;C++){const{name:_,fn:N}=u[C],{x:T,y:M,data:j,reset:P}=await N({x:v,y:g,initialPlacement:s,placement:x,strategy:r,middlewareData:w,rects:m,platform:c,elements:{reference:n,floating:e}});v=T??v,g=M??g,w={...w,[_]:{...w[_],...j}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(x=P.placement),P.rects&&(m=P.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:r}):P.rects),{x:v,y:g}=uS(m,x,h)),C=-1)}return{x:v,y:g,placement:x,strategy:r,middlewareData:w}};async function Hc(n,e){var t;e===void 0&&(e={});const{x:s,y:r,platform:o,rects:c,elements:u,strategy:h}=n,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:g="floating",altBoundary:x=!1,padding:w=0}=Gi(e,n),S=Q_(w),_=u[x?g==="floating"?"reference":"floating":g],N=Xh(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(_)))==null||t?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:v,strategy:h})),T=g==="floating"?{x:s,y:r,width:c.floating.width,height:c.floating.height}:c.reference,M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),j=await(o.isElement==null?void 0:o.isElement(M))?await(o.getScale==null?void 0:o.getScale(M))||{x:1,y:1}:{x:1,y:1},P=Xh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:M,strategy:h}):T);return{top:(N.top-P.top+S.top)/j.y,bottom:(P.bottom-N.bottom+S.bottom)/j.y,left:(N.left-P.left+S.left)/j.x,right:(P.right-N.right+S.right)/j.x}}const v3=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:s,placement:r,rects:o,platform:c,elements:u,middlewareData:h}=e,{element:m,padding:v=0}=Gi(n,e)||{};if(m==null)return{};const g=Q_(v),x={x:t,y:s},w=k0(r),S=j0(w),C=await c.getDimensions(m),_=w==="y",N=_?"top":"left",T=_?"bottom":"right",M=_?"clientHeight":"clientWidth",j=o.reference[S]+o.reference[w]-x[w]-o.floating[S],P=x[w]-o.reference[w],I=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let O=I?I[M]:0;(!O||!await(c.isElement==null?void 0:c.isElement(I)))&&(O=u.floating[M]||o.floating[S]);const B=j/2-P/2,re=O/2-C[S]/2-1,le=Yr(g[N],re),te=Yr(g[T],re),he=le,oe=O-C[S]-te,ce=O/2-C[S]/2+B,ne=kv(he,ce,oe),k=!h.arrow&&vl(r)!=null&&ce!==ne&&o.reference[S]/2-(ce<he?le:te)-C[S]/2<0,W=k?ce<he?ce-he:ce-oe:0;return{[w]:x[w]+W,data:{[w]:ne,centerOffset:ce-ne-W,...k&&{alignmentOffset:W}},reset:k}}}),b3=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,s;const{placement:r,middlewareData:o,rects:c,initialPlacement:u,platform:h,elements:m}=e,{mainAxis:v=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:C=!0,..._}=Gi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=qi(r),T=ri(u),M=qi(u)===u,j=await(h.isRTL==null?void 0:h.isRTL(m.floating)),P=x||(M||!C?[Kh(u)]:u3(u)),I=S!=="none";!x&&I&&P.push(...m3(u,C,S,j));const O=[u,...P],B=await Hc(e,_),re=[];let le=((s=o.flip)==null?void 0:s.overflows)||[];if(v&&re.push(B[N]),g){const ce=c3(r,c,j);re.push(B[ce[0]],B[ce[1]])}if(le=[...le,{placement:r,overflows:re}],!re.every(ce=>ce<=0)){var te,he;const ce=(((te=o.flip)==null?void 0:te.index)||0)+1,ne=O[ce];if(ne&&(!(g==="alignment"?T!==ri(ne):!1)||le.every(V=>ri(V.placement)===T?V.overflows[0]>0:!0)))return{data:{index:ce,overflows:le},reset:{placement:ne}};let k=(he=le.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:he.placement;if(!k)switch(w){case"bestFit":{var oe;const W=(oe=le.filter(V=>{if(I){const Y=ri(V.placement);return Y===T||Y==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Y=>Y>0).reduce((Y,me)=>Y+me,0)]).sort((V,Y)=>V[1]-Y[1])[0])==null?void 0:oe[0];W&&(k=W);break}case"initialPlacement":k=u;break}if(r!==k)return{reset:{placement:k}}}return{}}}};function dS(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function hS(n){return r3.some(e=>n[e]>=0)}const y3=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:s="referenceHidden",...r}=Gi(n,e);switch(s){case"referenceHidden":{const o=await Hc(e,{...r,elementContext:"reference"}),c=dS(o,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:hS(c)}}}case"escaped":{const o=await Hc(e,{...r,altBoundary:!0}),c=dS(o,t.floating);return{data:{escapedOffsets:c,escaped:hS(c)}}}default:return{}}}}},Z_=new Set(["left","top"]);async function x3(n,e){const{placement:t,platform:s,elements:r}=n,o=await(s.isRTL==null?void 0:s.isRTL(r.floating)),c=qi(t),u=vl(t),h=ri(t)==="y",m=Z_.has(c)?-1:1,v=o&&h?-1:1,g=Gi(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(w=u==="end"?S*-1:S),h?{x:w*v,y:x*m}:{x:x*m,y:w*v}}const w3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,s;const{x:r,y:o,placement:c,middlewareData:u}=e,h=await x3(e,n);return c===((t=u.offset)==null?void 0:t.placement)&&(s=u.arrow)!=null&&s.alignmentOffset?{}:{x:r+h.x,y:o+h.y,data:{...h,placement:c}}}}},S3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:s,placement:r}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:_=>{let{x:N,y:T}=_;return{x:N,y:T}}},...h}=Gi(n,e),m={x:t,y:s},v=await Hc(e,h),g=ri(qi(r)),x=A0(g);let w=m[x],S=m[g];if(o){const _=x==="y"?"top":"left",N=x==="y"?"bottom":"right",T=w+v[_],M=w-v[N];w=kv(T,w,M)}if(c){const _=g==="y"?"top":"left",N=g==="y"?"bottom":"right",T=S+v[_],M=S-v[N];S=kv(T,S,M)}const C=u.fn({...e,[x]:w,[g]:S});return{...C,data:{x:C.x-t,y:C.y-s,enabled:{[x]:o,[g]:c}}}}}},C3=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:s,placement:r,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:h=!0,crossAxis:m=!0}=Gi(n,e),v={x:t,y:s},g=ri(r),x=A0(g);let w=v[x],S=v[g];const C=Gi(u,e),_=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(h){const M=x==="y"?"height":"width",j=o.reference[x]-o.floating[M]+_.mainAxis,P=o.reference[x]+o.reference[M]-_.mainAxis;w<j?w=j:w>P&&(w=P)}if(m){var N,T;const M=x==="y"?"width":"height",j=Z_.has(qi(r)),P=o.reference[g]-o.floating[M]+(j&&((N=c.offset)==null?void 0:N[g])||0)+(j?0:_.crossAxis),I=o.reference[g]+o.reference[M]+(j?0:((T=c.offset)==null?void 0:T[g])||0)-(j?_.crossAxis:0);S<P?S=P:S>I&&(S=I)}return{[x]:w,[g]:S}}}},E3=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,s;const{placement:r,rects:o,platform:c,elements:u}=e,{apply:h=()=>{},...m}=Gi(n,e),v=await Hc(e,m),g=qi(r),x=vl(r),w=ri(r)==="y",{width:S,height:C}=o.floating;let _,N;g==="top"||g==="bottom"?(_=g,N=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=g,_=x==="end"?"top":"bottom");const T=C-v.top-v.bottom,M=S-v.left-v.right,j=Yr(C-v[_],T),P=Yr(S-v[N],M),I=!e.middlewareData.shift;let O=j,B=P;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(B=M),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(O=T),I&&!x){const le=os(v.left,0),te=os(v.right,0),he=os(v.top,0),oe=os(v.bottom,0);w?B=S-2*(le!==0||te!==0?le+te:os(v.left,v.right)):O=C-2*(he!==0||oe!==0?he+oe:os(v.top,v.bottom))}await h({...e,availableWidth:B,availableHeight:O});const re=await c.getDimensions(u.floating);return S!==re.width||C!==re.height?{reset:{rects:!0}}:{}}}};function kf(){return typeof window<"u"}function bl(n){return eN(n)?(n.nodeName||"").toLowerCase():"#document"}function ls(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function di(n){var e;return(e=(eN(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function eN(n){return kf()?n instanceof Node||n instanceof ls(n).Node:!1}function $s(n){return kf()?n instanceof Element||n instanceof ls(n).Element:!1}function ci(n){return kf()?n instanceof HTMLElement||n instanceof ls(n).HTMLElement:!1}function fS(n){return!kf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ls(n).ShadowRoot}const _3=new Set(["inline","contents"]);function uu(n){const{overflow:e,overflowX:t,overflowY:s,display:r}=Us(n);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!_3.has(r)}const N3=new Set(["table","td","th"]);function T3(n){return N3.has(bl(n))}const M3=[":popover-open",":modal"];function Of(n){return M3.some(e=>{try{return n.matches(e)}catch{return!1}})}const R3=["transform","translate","scale","rotate","perspective"],A3=["transform","translate","scale","rotate","perspective","filter"],j3=["paint","layout","strict","content"];function O0(n){const e=D0(),t=$s(n)?Us(n):n;return R3.some(s=>t[s]?t[s]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||A3.some(s=>(t.willChange||"").includes(s))||j3.some(s=>(t.contain||"").includes(s))}function k3(n){let e=Kr(n);for(;ci(e)&&!rl(e);){if(O0(e))return e;if(Of(e))return null;e=Kr(e)}return null}function D0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O3=new Set(["html","body","#document"]);function rl(n){return O3.has(bl(n))}function Us(n){return ls(n).getComputedStyle(n)}function Df(n){return $s(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Kr(n){if(bl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||fS(n)&&n.host||di(n);return fS(e)?e.host:e}function tN(n){const e=Kr(n);return rl(e)?n.ownerDocument?n.ownerDocument.body:n.body:ci(e)&&uu(e)?e:tN(e)}function Wc(n,e,t){var s;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=tN(n),o=r===((s=n.ownerDocument)==null?void 0:s.body),c=ls(r);if(o){const u=Dv(c);return e.concat(c,c.visualViewport||[],uu(r)?r:[],u&&t?Wc(u):[])}return e.concat(r,Wc(r,[],t))}function Dv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function nN(n){const e=Us(n);let t=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=ci(n),o=r?n.offsetWidth:t,c=r?n.offsetHeight:s,u=Yh(t)!==o||Yh(s)!==c;return u&&(t=o,s=c),{width:t,height:s,$:u}}function I0(n){return $s(n)?n:n.contextElement}function Yo(n){const e=I0(n);if(!ci(e))return ai(1);const t=e.getBoundingClientRect(),{width:s,height:r,$:o}=nN(e);let c=(o?Yh(t.width):t.width)/s,u=(o?Yh(t.height):t.height)/r;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const D3=ai(0);function sN(n){const e=ls(n);return!D0()||!e.visualViewport?D3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function I3(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ls(n)?!1:e}function $a(n,e,t,s){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=I0(n);let c=ai(1);e&&(s?$s(s)&&(c=Yo(s)):c=Yo(n));const u=I3(o,t,s)?sN(o):ai(0);let h=(r.left+u.x)/c.x,m=(r.top+u.y)/c.y,v=r.width/c.x,g=r.height/c.y;if(o){const x=ls(o),w=s&&$s(s)?ls(s):s;let S=x,C=Dv(S);for(;C&&s&&w!==S;){const _=Yo(C),N=C.getBoundingClientRect(),T=Us(C),M=N.left+(C.clientLeft+parseFloat(T.paddingLeft))*_.x,j=N.top+(C.clientTop+parseFloat(T.paddingTop))*_.y;h*=_.x,m*=_.y,v*=_.x,g*=_.y,h+=M,m+=j,S=ls(C),C=Dv(S)}}return Xh({width:v,height:g,x:h,y:m})}function If(n,e){const t=Df(n).scrollLeft;return e?e.left+t:$a(di(n)).left+t}function iN(n,e){const t=n.getBoundingClientRect(),s=t.left+e.scrollLeft-If(n,t),r=t.top+e.scrollTop;return{x:s,y:r}}function L3(n){let{elements:e,rect:t,offsetParent:s,strategy:r}=n;const o=r==="fixed",c=di(s),u=e?Of(e.floating):!1;if(s===c||u&&o)return t;let h={scrollLeft:0,scrollTop:0},m=ai(1);const v=ai(0),g=ci(s);if((g||!g&&!o)&&((bl(s)!=="body"||uu(c))&&(h=Df(s)),ci(s))){const w=$a(s);m=Yo(s),v.x=w.x+s.clientLeft,v.y=w.y+s.clientTop}const x=c&&!g&&!o?iN(c,h):ai(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-h.scrollLeft*m.x+v.x+x.x,y:t.y*m.y-h.scrollTop*m.y+v.y+x.y}}function P3(n){return Array.from(n.getClientRects())}function z3(n){const e=di(n),t=Df(n),s=n.ownerDocument.body,r=os(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),o=os(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-t.scrollLeft+If(n);const u=-t.scrollTop;return Us(s).direction==="rtl"&&(c+=os(e.clientWidth,s.clientWidth)-r),{width:r,height:o,x:c,y:u}}const mS=25;function $3(n,e){const t=ls(n),s=di(n),r=t.visualViewport;let o=s.clientWidth,c=s.clientHeight,u=0,h=0;if(r){o=r.width,c=r.height;const v=D0();(!v||v&&e==="fixed")&&(u=r.offsetLeft,h=r.offsetTop)}const m=If(s);if(m<=0){const v=s.ownerDocument,g=v.body,x=getComputedStyle(g),w=v.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-w);S<=mS&&(o-=S)}else m<=mS&&(o+=m);return{width:o,height:c,x:u,y:h}}const U3=new Set(["absolute","fixed"]);function B3(n,e){const t=$a(n,!0,e==="fixed"),s=t.top+n.clientTop,r=t.left+n.clientLeft,o=ci(n)?Yo(n):ai(1),c=n.clientWidth*o.x,u=n.clientHeight*o.y,h=r*o.x,m=s*o.y;return{width:c,height:u,x:h,y:m}}function pS(n,e,t){let s;if(e==="viewport")s=$3(n,t);else if(e==="document")s=z3(di(n));else if($s(e))s=B3(e,t);else{const r=sN(n);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Xh(s)}function rN(n,e){const t=Kr(n);return t===e||!$s(t)||rl(t)?!1:Us(t).position==="fixed"||rN(t,e)}function V3(n,e){const t=e.get(n);if(t)return t;let s=Wc(n,[],!1).filter(u=>$s(u)&&bl(u)!=="body"),r=null;const o=Us(n).position==="fixed";let c=o?Kr(n):n;for(;$s(c)&&!rl(c);){const u=Us(c),h=O0(c);!h&&u.position==="fixed"&&(r=null),(o?!h&&!r:!h&&u.position==="static"&&!!r&&U3.has(r.position)||uu(c)&&!h&&rN(n,c))?s=s.filter(v=>v!==c):r=u,c=Kr(c)}return e.set(n,s),s}function F3(n){let{element:e,boundary:t,rootBoundary:s,strategy:r}=n;const c=[...t==="clippingAncestors"?Of(e)?[]:V3(e,this._c):[].concat(t),s],u=c[0],h=c.reduce((m,v)=>{const g=pS(e,v,r);return m.top=os(g.top,m.top),m.right=Yr(g.right,m.right),m.bottom=Yr(g.bottom,m.bottom),m.left=os(g.left,m.left),m},pS(e,u,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function H3(n){const{width:e,height:t}=nN(n);return{width:e,height:t}}function W3(n,e,t){const s=ci(e),r=di(e),o=t==="fixed",c=$a(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=ai(0);function m(){h.x=If(r)}if(s||!s&&!o)if((bl(e)!=="body"||uu(r))&&(u=Df(e)),s){const w=$a(e,!0,o,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else r&&m();o&&!s&&r&&m();const v=r&&!s&&!o?iN(r,u):ai(0),g=c.left+u.scrollLeft-h.x-v.x,x=c.top+u.scrollTop-h.y-v.y;return{x:g,y:x,width:c.width,height:c.height}}function Og(n){return Us(n).position==="static"}function gS(n,e){if(!ci(n)||Us(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return di(n)===t&&(t=t.ownerDocument.body),t}function aN(n,e){const t=ls(n);if(Of(n))return t;if(!ci(n)){let r=Kr(n);for(;r&&!rl(r);){if($s(r)&&!Og(r))return r;r=Kr(r)}return t}let s=gS(n,e);for(;s&&T3(s)&&Og(s);)s=gS(s,e);return s&&rl(s)&&Og(s)&&!O0(s)?t:s||k3(n)||t}const G3=async function(n){const e=this.getOffsetParent||aN,t=this.getDimensions,s=await t(n.floating);return{reference:W3(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function q3(n){return Us(n).direction==="rtl"}const Y3={convertOffsetParentRelativeRectToViewportRelativeRect:L3,getDocumentElement:di,getClippingRect:F3,getOffsetParent:aN,getElementRects:G3,getClientRects:P3,getDimensions:H3,getScale:Yo,isElement:$s,isRTL:q3};function oN(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function K3(n,e){let t=null,s;const r=di(n);function o(){var u;clearTimeout(s),(u=t)==null||u.disconnect(),t=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const m=n.getBoundingClientRect(),{left:v,top:g,width:x,height:w}=m;if(u||e(),!x||!w)return;const S=eh(g),C=eh(r.clientWidth-(v+x)),_=eh(r.clientHeight-(g+w)),N=eh(v),M={rootMargin:-S+"px "+-C+"px "+-_+"px "+-N+"px",threshold:os(0,Yr(1,h))||1};let j=!0;function P(I){const O=I[0].intersectionRatio;if(O!==h){if(!j)return c();O?c(!1,O):s=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!oN(m,n.getBoundingClientRect())&&c(),j=!1}try{t=new IntersectionObserver(P,{...M,root:r.ownerDocument})}catch{t=new IntersectionObserver(P,M)}t.observe(n)}return c(!0),o}function X3(n,e,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=I0(n),v=r||o?[...m?Wc(m):[],...Wc(e)]:[];v.forEach(N=>{r&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const g=m&&u?K3(m,t):null;let x=-1,w=null;c&&(w=new ResizeObserver(N=>{let[T]=N;T&&T.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var M;(M=w)==null||M.observe(e)})),t()}),m&&!h&&w.observe(m),w.observe(e));let S,C=h?$a(n):null;h&&_();function _(){const N=$a(n);C&&!oN(C,N)&&t(),C=N,S=requestAnimationFrame(_)}return t(),()=>{var N;v.forEach(T=>{r&&T.removeEventListener("scroll",t),o&&T.removeEventListener("resize",t)}),g?.(),(N=w)==null||N.disconnect(),w=null,h&&cancelAnimationFrame(S)}}const J3=w3,Q3=S3,Z3=b3,e4=E3,t4=y3,vS=v3,n4=C3,s4=(n,e,t)=>{const s=new Map,r={platform:Y3,...t},o={...r.platform,_c:s};return g3(n,e,{...r,platform:o})};var i4=typeof document<"u",r4=function(){},Th=i4?p.useLayoutEffect:r4;function Jh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,s,r;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(s=t;s--!==0;)if(!Jh(n[s],e[s]))return!1;return!0}if(r=Object.keys(n),t=r.length,t!==Object.keys(e).length)return!1;for(s=t;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=t;s--!==0;){const o=r[s];if(!(o==="_owner"&&n.$$typeof)&&!Jh(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function lN(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function bS(n,e){const t=lN(n);return Math.round(e*t)/t}function Dg(n){const e=p.useRef(n);return Th(()=>{e.current=n}),e}function a4(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:s=[],platform:r,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:h,open:m}=n,[v,g]=p.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=p.useState(s);Jh(x,s)||w(s);const[S,C]=p.useState(null),[_,N]=p.useState(null),T=p.useCallback(V=>{V!==I.current&&(I.current=V,C(V))},[]),M=p.useCallback(V=>{V!==O.current&&(O.current=V,N(V))},[]),j=o||S,P=c||_,I=p.useRef(null),O=p.useRef(null),B=p.useRef(v),re=h!=null,le=Dg(h),te=Dg(r),he=Dg(m),oe=p.useCallback(()=>{if(!I.current||!O.current)return;const V={placement:e,strategy:t,middleware:x};te.current&&(V.platform=te.current),s4(I.current,O.current,V).then(Y=>{const me={...Y,isPositioned:he.current!==!1};ce.current&&!Jh(B.current,me)&&(B.current=me,$i.flushSync(()=>{g(me)}))})},[x,e,t,te,he]);Th(()=>{m===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[m]);const ce=p.useRef(!1);Th(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Th(()=>{if(j&&(I.current=j),P&&(O.current=P),j&&P){if(le.current)return le.current(j,P,oe);oe()}},[j,P,oe,le,re]);const ne=p.useMemo(()=>({reference:I,floating:O,setReference:T,setFloating:M}),[T,M]),k=p.useMemo(()=>({reference:j,floating:P}),[j,P]),W=p.useMemo(()=>{const V={position:t,left:0,top:0};if(!k.floating)return V;const Y=bS(k.floating,v.x),me=bS(k.floating,v.y);return u?{...V,transform:"translate("+Y+"px, "+me+"px)",...lN(k.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:me}},[t,u,k.floating,v.x,v.y]);return p.useMemo(()=>({...v,update:oe,refs:ne,elements:k,floatingStyles:W}),[v,oe,ne,k,W])}const o4=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:s,padding:r}=typeof n=="function"?n(t):n;return s&&e(s)?s.current!=null?vS({element:s.current,padding:r}).fn(t):{}:s?vS({element:s,padding:r}).fn(t):{}}}},l4=(n,e)=>({...J3(n),options:[n,e]}),c4=(n,e)=>({...Q3(n),options:[n,e]}),u4=(n,e)=>({...n4(n),options:[n,e]}),d4=(n,e)=>({...Z3(n),options:[n,e]}),h4=(n,e)=>({...e4(n),options:[n,e]}),f4=(n,e)=>({...t4(n),options:[n,e]}),m4=(n,e)=>({...o4(n),options:[n,e]});function p4(n){const e=g4(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(b4);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function g4(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=x4(r),u=y4(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var v4=Symbol("radix.slottable");function b4(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===v4}function y4(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function x4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var w4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],S4=w4.reduce((n,e)=>{const t=p4(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),C4="Arrow",cN=p.forwardRef((n,e)=>{const{children:t,width:s=10,height:r=5,...o}=n;return f.jsx(S4.svg,{...o,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});cN.displayName=C4;var E4=cN;function _4(n){const e=N4(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(M4);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function N4(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=A4(r),u=R4(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var T4=Symbol("radix.slottable");function M4(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===T4}function R4(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function A4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var j4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uN=j4.reduce((n,e)=>{const t=_4(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function L0(n){const[e,t]=p.useState(void 0);return qr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const o=r[0];let c,u;if("borderBoxSize"in o){const h=o.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,u=m.blockSize}else c=n.offsetWidth,u=n.offsetHeight;t({width:c,height:u})});return s.observe(n,{box:"border-box"}),()=>s.unobserve(n)}else t(void 0)},[n]),e}var P0="Popper",[dN,yl]=Ns(P0),[k4,hN]=dN(P0),fN=n=>{const{__scopePopper:e,children:t}=n,[s,r]=p.useState(null);return f.jsx(k4,{scope:e,anchor:s,onAnchorChange:r,children:t})};fN.displayName=P0;var mN="PopperAnchor",pN=p.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:s,...r}=n,o=hN(mN,t),c=p.useRef(null),u=Lt(e,c),h=p.useRef(null);return p.useEffect(()=>{const m=h.current;h.current=s?.current||c.current,m!==h.current&&o.onAnchorChange(h.current)}),s?null:f.jsx(uN.div,{...r,ref:u})});pN.displayName=mN;var z0="PopperContent",[O4,D4]=dN(z0),gN=p.forwardRef((n,e)=>{const{__scopePopper:t,side:s="bottom",sideOffset:r=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:S,...C}=n,_=hN(z0,t),[N,T]=p.useState(null),M=Lt(e,q=>T(q)),[j,P]=p.useState(null),I=L0(j),O=I?.width??0,B=I?.height??0,re=s+(o!=="center"?"-"+o:""),le=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},te=Array.isArray(m)?m:[m],he=te.length>0,oe={padding:le,boundary:te.filter(L4),altBoundary:he},{refs:ce,floatingStyles:ne,placement:k,isPositioned:W,middlewareData:V}=a4({strategy:"fixed",placement:re,whileElementsMounted:(...q)=>X3(...q,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[l4({mainAxis:r+B,alignmentAxis:c}),h&&c4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?u4():void 0,...oe}),h&&d4({...oe}),h4({...oe,apply:({elements:q,rects:ae,availableWidth:be,availableHeight:we})=>{const{width:Ve,height:He}=ae.reference,xt=q.floating.style;xt.setProperty("--radix-popper-available-width",`${be}px`),xt.setProperty("--radix-popper-available-height",`${we}px`),xt.setProperty("--radix-popper-anchor-width",`${Ve}px`),xt.setProperty("--radix-popper-anchor-height",`${He}px`)}}),j&&m4({element:j,padding:u}),P4({arrowWidth:O,arrowHeight:B}),x&&f4({strategy:"referenceHidden",...oe})]}),[Y,me]=yN(k),D=li(S);qr(()=>{W&&D?.()},[W,D]);const R=V.arrow?.x,z=V.arrow?.y,$=V.arrow?.centerOffset!==0,[J,Q]=p.useState();return qr(()=>{N&&Q(window.getComputedStyle(N).zIndex)},[N]),f.jsx("div",{ref:ce.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:W?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[V.transformOrigin?.x,V.transformOrigin?.y].join(" "),...V.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:f.jsx(O4,{scope:t,placedSide:Y,onArrowChange:P,arrowX:R,arrowY:z,shouldHideArrow:$,children:f.jsx(uN.div,{"data-side":Y,"data-align":me,...C,ref:M,style:{...C.style,animation:W?void 0:"none"}})})})});gN.displayName=z0;var vN="PopperArrow",I4={top:"bottom",right:"left",bottom:"top",left:"right"},bN=p.forwardRef(function(e,t){const{__scopePopper:s,...r}=e,o=D4(vN,s),c=I4[o.placedSide];return f.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:f.jsx(E4,{...r,ref:t,style:{...r.style,display:"block"}})})});bN.displayName=vN;function L4(n){return n!==null}var P4=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:s,middlewareData:r}=e,c=r.arrow?.centerOffset!==0,u=c?0:n.arrowWidth,h=c?0:n.arrowHeight,[m,v]=yN(t),g={start:"0%",center:"50%",end:"100%"}[v],x=(r.arrow?.x??0)+u/2,w=(r.arrow?.y??0)+h/2;let S="",C="";return m==="bottom"?(S=c?g:`${x}px`,C=`${-h}px`):m==="top"?(S=c?g:`${x}px`,C=`${s.floating.height+h}px`):m==="right"?(S=`${-h}px`,C=c?g:`${w}px`):m==="left"&&(S=`${s.floating.width+h}px`,C=c?g:`${w}px`),{data:{x:S,y:C}}}});function yN(n){const[e,t="center"]=n.split("-");return[e,t]}var $0=fN,Lf=pN,U0=gN,B0=bN;function z4(n){const e=$4(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(B4);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function $4(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=F4(r),u=V4(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var U4=Symbol("radix.slottable");function B4(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===U4}function V4(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function F4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var H4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W4=H4.reduce((n,e)=>{const t=z4(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),G4="Portal",du=p.forwardRef((n,e)=>{const{container:t,...s}=n,[r,o]=p.useState(!1);qr(()=>o(!0),[]);const c=t||r&&globalThis?.document?.body;return c?i_.createPortal(f.jsx(W4.div,{...s,ref:e}),c):null});du.displayName=G4;function xN(n){const e=q4(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(K4);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function q4(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=J4(r),u=X4(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Y4=Symbol("radix.slottable");function K4(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Y4}function X4(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function J4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Q4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hu=Q4.reduce((n,e)=>{const t=xN(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function Z4(n,e){n&&$i.flushSync(()=>n.dispatchEvent(e))}var eP=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Io=new WeakMap,th=new WeakMap,nh={},Ig=0,wN=function(n){return n&&(n.host||wN(n.parentNode))},tP=function(n,e){return e.map(function(t){if(n.contains(t))return t;var s=wN(t);return s&&n.contains(s)?s:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},nP=function(n,e,t,s){var r=tP(e,Array.isArray(n)?n:[n]);nh[t]||(nh[t]=new WeakMap);var o=nh[t],c=[],u=new Set,h=new Set(r),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};r.forEach(m);var v=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))v(x);else try{var w=x.getAttribute(s),S=w!==null&&w!=="false",C=(Io.get(x)||0)+1,_=(o.get(x)||0)+1;Io.set(x,C),o.set(x,_),c.push(x),C===1&&S&&th.set(x,!0),_===1&&x.setAttribute(t,"true"),S||x.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return v(e),u.clear(),Ig++,function(){c.forEach(function(g){var x=Io.get(g)-1,w=o.get(g)-1;Io.set(g,x),o.set(g,w),x||(th.has(g)||g.removeAttribute(s),th.delete(g)),w||g.removeAttribute(t)}),Ig--,Ig||(Io=new WeakMap,Io=new WeakMap,th=new WeakMap,nh={})}},V0=function(n,e,t){t===void 0&&(t="data-aria-hidden");var s=Array.from(Array.isArray(n)?n:[n]),r=eP(n);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),nP(s,r,t,"aria-hidden")):function(){return null}},si=function(){return si=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},si.apply(this,arguments)};function SN(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(n);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(t[s[r]]=n[s[r]]);return t}function sP(n,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return n.concat(o||Array.prototype.slice.call(e))}var Mh="right-scroll-bar-position",Rh="width-before-scroll-bar",iP="with-scroll-bars-hidden",rP="--removed-body-scroll-bar-size";function Lg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function aP(n,e){var t=p.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(s){var r=t.value;r!==s&&(t.value=s,t.callback(s,r))}}}})[0];return t.callback=e,t.facade}var oP=typeof window<"u"?p.useLayoutEffect:p.useEffect,yS=new WeakMap;function lP(n,e){var t=aP(null,function(s){return n.forEach(function(r){return Lg(r,s)})});return oP(function(){var s=yS.get(t);if(s){var r=new Set(s),o=new Set(n),c=t.current;r.forEach(function(u){o.has(u)||Lg(u,null)}),o.forEach(function(u){r.has(u)||Lg(u,c)})}yS.set(t,n)},[n]),t}function cP(n){return n}function uP(n,e){e===void 0&&(e=cP);var t=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var c=e(o,s);return t.push(c),function(){t=t.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(s=!0;t.length;){var c=t;t=[],c.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){s=!0;var c=[];if(t.length){var u=t;t=[],u.forEach(o),c=t}var h=function(){var v=c;c=[],v.forEach(o)},m=function(){return Promise.resolve().then(h)};m(),t={push:function(v){c.push(v),m()},filter:function(v){return c=c.filter(v),t}}}};return r}function dP(n){n===void 0&&(n={});var e=uP(null);return e.options=si({async:!0,ssr:!1},n),e}var CN=function(n){var e=n.sideCar,t=SN(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,si({},t))};CN.isSideCarExport=!0;function hP(n,e){return n.useMedium(e),CN}var EN=dP(),Pg=function(){},Pf=p.forwardRef(function(n,e){var t=p.useRef(null),s=p.useState({onScrollCapture:Pg,onWheelCapture:Pg,onTouchMoveCapture:Pg}),r=s[0],o=s[1],c=n.forwardProps,u=n.children,h=n.className,m=n.removeScrollBar,v=n.enabled,g=n.shards,x=n.sideCar,w=n.noRelative,S=n.noIsolation,C=n.inert,_=n.allowPinchZoom,N=n.as,T=N===void 0?"div":N,M=n.gapMode,j=SN(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,I=lP([t,e]),O=si(si({},j),r);return p.createElement(p.Fragment,null,v&&p.createElement(P,{sideCar:EN,removeScrollBar:m,shards:g,noRelative:w,noIsolation:S,inert:C,setCallbacks:o,allowPinchZoom:!!_,lockRef:t,gapMode:M}),c?p.cloneElement(p.Children.only(u),si(si({},O),{ref:I})):p.createElement(T,si({},O,{className:h,ref:I}),u))});Pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pf.classNames={fullWidth:Rh,zeroRight:Mh};var fP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mP(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=fP();return e&&n.setAttribute("nonce",e),n}function pP(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function gP(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var vP=function(){var n=0,e=null;return{add:function(t){n==0&&(e=mP())&&(pP(e,t),gP(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bP=function(){var n=vP();return function(e,t){p.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},_N=function(){var n=bP(),e=function(t){var s=t.styles,r=t.dynamic;return n(s,r),null};return e},yP={left:0,top:0,right:0,gap:0},zg=function(n){return parseInt(n||"",10)||0},xP=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],s=e[n==="padding"?"paddingTop":"marginTop"],r=e[n==="padding"?"paddingRight":"marginRight"];return[zg(t),zg(s),zg(r)]},wP=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return yP;var e=xP(n),t=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-t+e[2]-e[0])}},SP=_N(),Ko="data-scroll-locked",CP=function(n,e,t,s){var r=n.left,o=n.top,c=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(iP,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(u,"px ").concat(s,`;
  }
  body[`).concat(Ko,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),t==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(s,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mh,` {
    right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Rh,` {
    margin-right: `).concat(u,"px ").concat(s,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Rh," .").concat(Rh,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ko,`] {
    `).concat(rP,": ").concat(u,`px;
  }
`)},xS=function(){var n=parseInt(document.body.getAttribute(Ko)||"0",10);return isFinite(n)?n:0},EP=function(){p.useEffect(function(){return document.body.setAttribute(Ko,(xS()+1).toString()),function(){var n=xS()-1;n<=0?document.body.removeAttribute(Ko):document.body.setAttribute(Ko,n.toString())}},[])},_P=function(n){var e=n.noRelative,t=n.noImportant,s=n.gapMode,r=s===void 0?"margin":s;EP();var o=p.useMemo(function(){return wP(r)},[r]);return p.createElement(SP,{styles:CP(o,!e,r,t?"":"!important")})},Iv=!1;if(typeof window<"u")try{var sh=Object.defineProperty({},"passive",{get:function(){return Iv=!0,!0}});window.addEventListener("test",sh,sh),window.removeEventListener("test",sh,sh)}catch{Iv=!1}var Lo=Iv?{passive:!1}:!1,NP=function(n){return n.tagName==="TEXTAREA"},NN=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!NP(n)&&t[e]==="visible")},TP=function(n){return NN(n,"overflowY")},MP=function(n){return NN(n,"overflowX")},wS=function(n,e){var t=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=TN(n,s);if(r){var o=MN(n,s),c=o[1],u=o[2];if(c>u)return!0}s=s.parentNode}while(s&&s!==t.body);return!1},RP=function(n){var e=n.scrollTop,t=n.scrollHeight,s=n.clientHeight;return[e,t,s]},AP=function(n){var e=n.scrollLeft,t=n.scrollWidth,s=n.clientWidth;return[e,t,s]},TN=function(n,e){return n==="v"?TP(e):MP(e)},MN=function(n,e){return n==="v"?RP(e):AP(e)},jP=function(n,e){return n==="h"&&e==="rtl"?-1:1},kP=function(n,e,t,s,r){var o=jP(n,window.getComputedStyle(e).direction),c=o*s,u=t.target,h=e.contains(u),m=!1,v=c>0,g=0,x=0;do{if(!u)break;var w=MN(n,u),S=w[0],C=w[1],_=w[2],N=C-_-o*S;(S||N)&&TN(n,u)&&(g+=N,x+=S);var T=u.parentNode;u=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(v&&Math.abs(g)<1||!v&&Math.abs(x)<1)&&(m=!0),m},ih=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},SS=function(n){return[n.deltaX,n.deltaY]},CS=function(n){return n&&"current"in n?n.current:n},OP=function(n,e){return n[0]===e[0]&&n[1]===e[1]},DP=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},IP=0,Po=[];function LP(n){var e=p.useRef([]),t=p.useRef([0,0]),s=p.useRef(),r=p.useState(IP++)[0],o=p.useState(_N)[0],c=p.useRef(n);p.useEffect(function(){c.current=n},[n]),p.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var C=sP([n.lockRef.current],(n.shards||[]).map(CS),!0).filter(Boolean);return C.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),C.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var u=p.useCallback(function(C,_){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!c.current.allowPinchZoom;var N=ih(C),T=t.current,M="deltaX"in C?C.deltaX:T[0]-N[0],j="deltaY"in C?C.deltaY:T[1]-N[1],P,I=C.target,O=Math.abs(M)>Math.abs(j)?"h":"v";if("touches"in C&&O==="h"&&I.type==="range")return!1;var B=window.getSelection(),re=B&&B.anchorNode,le=re?re===I||re.contains(I):!1;if(le)return!1;var te=wS(O,I);if(!te)return!0;if(te?P=O:(P=O==="v"?"h":"v",te=wS(O,I)),!te)return!1;if(!s.current&&"changedTouches"in C&&(M||j)&&(s.current=P),!P)return!0;var he=s.current||P;return kP(he,_,C,he==="h"?M:j)},[]),h=p.useCallback(function(C){var _=C;if(!(!Po.length||Po[Po.length-1]!==o)){var N="deltaY"in _?SS(_):ih(_),T=e.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&OP(P.delta,N)})[0];if(T&&T.should){_.cancelable&&_.preventDefault();return}if(!T){var M=(c.current.shards||[]).map(CS).filter(Boolean).filter(function(P){return P.contains(_.target)}),j=M.length>0?u(_,M[0]):!c.current.noIsolation;j&&_.cancelable&&_.preventDefault()}}},[]),m=p.useCallback(function(C,_,N,T){var M={name:C,delta:_,target:N,should:T,shadowParent:PP(N)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(j){return j!==M})},1)},[]),v=p.useCallback(function(C){t.current=ih(C),s.current=void 0},[]),g=p.useCallback(function(C){m(C.type,SS(C),C.target,u(C,n.lockRef.current))},[]),x=p.useCallback(function(C){m(C.type,ih(C),C.target,u(C,n.lockRef.current))},[]);p.useEffect(function(){return Po.push(o),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",h,Lo),document.addEventListener("touchmove",h,Lo),document.addEventListener("touchstart",v,Lo),function(){Po=Po.filter(function(C){return C!==o}),document.removeEventListener("wheel",h,Lo),document.removeEventListener("touchmove",h,Lo),document.removeEventListener("touchstart",v,Lo)}},[]);var w=n.removeScrollBar,S=n.inert;return p.createElement(p.Fragment,null,S?p.createElement(o,{styles:DP(r)}):null,w?p.createElement(_P,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function PP(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const zP=hP(EN,LP);var zf=p.forwardRef(function(n,e){return p.createElement(Pf,si({},n,{ref:e,sideCar:zP}))});zf.classNames=Pf.classNames;var Lv=["Enter"," "],$P=["ArrowDown","PageUp","Home"],RN=["ArrowUp","PageDown","End"],UP=[...$P,...RN],BP={ltr:[...Lv,"ArrowRight"],rtl:[...Lv,"ArrowLeft"]},VP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fu="Menu",[Gc,FP,HP]=s_(fu),[Ka,$f]=Ns(fu,[HP,yl,_f]),Uf=yl(),AN=_f(),[WP,Xa]=Ka(fu),[GP,mu]=Ka(fu),jN=n=>{const{__scopeMenu:e,open:t=!1,children:s,dir:r,onOpenChange:o,modal:c=!0}=n,u=Uf(e),[h,m]=p.useState(null),v=p.useRef(!1),g=li(o),x=S0(r);return p.useEffect(()=>{const w=()=>{v.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>v.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),f.jsx($0,{...u,children:f.jsx(WP,{scope:e,open:t,onOpenChange:g,content:h,onContentChange:m,children:f.jsx(GP,{scope:e,onClose:p.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:v,dir:x,modal:c,children:s})})})};jN.displayName=fu;var qP="MenuAnchor",F0=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=Uf(t);return f.jsx(Lf,{...r,...s,ref:e})});F0.displayName=qP;var H0="MenuPortal",[YP,kN]=Ka(H0,{forceMount:void 0}),ON=n=>{const{__scopeMenu:e,forceMount:t,children:s,container:r}=n,o=Xa(H0,e);return f.jsx(YP,{scope:e,forceMount:t,children:f.jsx(Yn,{present:t||o.open,children:f.jsx(du,{asChild:!0,container:r,children:s})})})};ON.displayName=H0;var Es="MenuContent",[KP,W0]=Ka(Es),DN=p.forwardRef((n,e)=>{const t=kN(Es,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,o=Xa(Es,n.__scopeMenu),c=mu(Es,n.__scopeMenu);return f.jsx(Gc.Provider,{scope:n.__scopeMenu,children:f.jsx(Yn,{present:s||o.open,children:f.jsx(Gc.Slot,{scope:n.__scopeMenu,children:c.modal?f.jsx(XP,{...r,ref:e}):f.jsx(JP,{...r,ref:e})})})})}),XP=p.forwardRef((n,e)=>{const t=Xa(Es,n.__scopeMenu),s=p.useRef(null),r=Lt(e,s);return p.useEffect(()=>{const o=s.current;if(o)return V0(o)},[]),f.jsx(G0,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ae(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),JP=p.forwardRef((n,e)=>{const t=Xa(Es,n.__scopeMenu);return f.jsx(G0,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),QP=xN("MenuContent.ScrollLock"),G0=p.forwardRef((n,e)=>{const{__scopeMenu:t,loop:s=!1,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:x,onDismiss:w,disableOutsideScroll:S,...C}=n,_=Xa(Es,t),N=mu(Es,t),T=Uf(t),M=AN(t),j=FP(t),[P,I]=p.useState(null),O=p.useRef(null),B=Lt(e,O,_.onContentChange),re=p.useRef(0),le=p.useRef(""),te=p.useRef(0),he=p.useRef(null),oe=p.useRef("right"),ce=p.useRef(0),ne=S?zf:p.Fragment,k=S?{as:QP,allowPinchZoom:!0}:void 0,W=Y=>{const me=le.current+Y,D=j().filter(q=>!q.disabled),R=document.activeElement,z=D.find(q=>q.ref.current===R)?.textValue,$=D.map(q=>q.textValue),J=u6($,me,z),Q=D.find(q=>q.textValue===J)?.ref.current;(function q(ae){le.current=ae,window.clearTimeout(re.current),ae!==""&&(re.current=window.setTimeout(()=>q(""),1e3))})(me),Q&&setTimeout(()=>Q.focus())};p.useEffect(()=>()=>window.clearTimeout(re.current),[]),R0();const V=p.useCallback(Y=>oe.current===he.current?.side&&h6(Y,he.current?.area),[]);return f.jsx(KP,{scope:t,searchRef:le,onItemEnter:p.useCallback(Y=>{V(Y)&&Y.preventDefault()},[V]),onItemLeave:p.useCallback(Y=>{V(Y)||(O.current?.focus(),I(null))},[V]),onTriggerLeave:p.useCallback(Y=>{V(Y)&&Y.preventDefault()},[V]),pointerGraceTimerRef:te,onPointerGraceIntentChange:p.useCallback(Y=>{he.current=Y},[]),children:f.jsx(ne,{...k,children:f.jsx(jf,{asChild:!0,trapped:r,onMountAutoFocus:Ae(o,Y=>{Y.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:f.jsx(cu,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:g,onInteractOutside:x,onDismiss:w,children:f.jsx(d_,{asChild:!0,...M,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:P,onCurrentTabStopIdChange:I,onEntryFocus:Ae(h,Y=>{N.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(U0,{role:"menu","aria-orientation":"vertical","data-state":XN(_.open),"data-radix-menu-content":"",dir:N.dir,...T,...C,ref:B,style:{outline:"none",...C.style},onKeyDown:Ae(C.onKeyDown,Y=>{const D=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,R=Y.ctrlKey||Y.altKey||Y.metaKey,z=Y.key.length===1;D&&(Y.key==="Tab"&&Y.preventDefault(),!R&&z&&W(Y.key));const $=O.current;if(Y.target!==$||!UP.includes(Y.key))return;Y.preventDefault();const Q=j().filter(q=>!q.disabled).map(q=>q.ref.current);RN.includes(Y.key)&&Q.reverse(),l6(Q)}),onBlur:Ae(n.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(re.current),le.current="")}),onPointerMove:Ae(n.onPointerMove,qc(Y=>{const me=Y.target,D=ce.current!==Y.clientX;if(Y.currentTarget.contains(me)&&D){const R=Y.clientX>ce.current?"right":"left";oe.current=R,ce.current=Y.clientX}}))})})})})})})});DN.displayName=Es;var ZP="MenuGroup",q0=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return f.jsx(hu.div,{role:"group",...s,ref:e})});q0.displayName=ZP;var e6="MenuLabel",IN=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return f.jsx(hu.div,{...s,ref:e})});IN.displayName=e6;var Qh="MenuItem",ES="menu.itemSelect",Bf=p.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:s,...r}=n,o=p.useRef(null),c=mu(Qh,n.__scopeMenu),u=W0(Qh,n.__scopeMenu),h=Lt(e,o),m=p.useRef(!1),v=()=>{const g=o.current;if(!t&&g){const x=new CustomEvent(ES,{bubbles:!0,cancelable:!0});g.addEventListener(ES,w=>s?.(w),{once:!0}),Z4(g,x),x.defaultPrevented?m.current=!1:c.onClose()}};return f.jsx(LN,{...r,ref:h,disabled:t,onClick:Ae(n.onClick,v),onPointerDown:g=>{n.onPointerDown?.(g),m.current=!0},onPointerUp:Ae(n.onPointerUp,g=>{m.current||g.currentTarget?.click()}),onKeyDown:Ae(n.onKeyDown,g=>{const x=u.searchRef.current!=="";t||x&&g.key===" "||Lv.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Bf.displayName=Qh;var LN=p.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:s=!1,textValue:r,...o}=n,c=W0(Qh,t),u=AN(t),h=p.useRef(null),m=Lt(e,h),[v,g]=p.useState(!1),[x,w]=p.useState("");return p.useEffect(()=>{const S=h.current;S&&w((S.textContent??"").trim())},[o.children]),f.jsx(Gc.ItemSlot,{scope:t,disabled:s,textValue:r??x,children:f.jsx(h_,{asChild:!0,...u,focusable:!s,children:f.jsx(hu.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:m,onPointerMove:Ae(n.onPointerMove,qc(S=>{s?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ae(n.onPointerLeave,qc(S=>c.onItemLeave(S))),onFocus:Ae(n.onFocus,()=>g(!0)),onBlur:Ae(n.onBlur,()=>g(!1))})})})}),t6="MenuCheckboxItem",PN=p.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:s,...r}=n;return f.jsx(VN,{scope:n.__scopeMenu,checked:t,children:f.jsx(Bf,{role:"menuitemcheckbox","aria-checked":Zh(t)?"mixed":t,...r,ref:e,"data-state":K0(t),onSelect:Ae(r.onSelect,()=>s?.(Zh(t)?!0:!t),{checkForDefaultPrevented:!1})})})});PN.displayName=t6;var zN="MenuRadioGroup",[n6,s6]=Ka(zN,{value:void 0,onValueChange:()=>{}}),$N=p.forwardRef((n,e)=>{const{value:t,onValueChange:s,...r}=n,o=li(s);return f.jsx(n6,{scope:n.__scopeMenu,value:t,onValueChange:o,children:f.jsx(q0,{...r,ref:e})})});$N.displayName=zN;var UN="MenuRadioItem",BN=p.forwardRef((n,e)=>{const{value:t,...s}=n,r=s6(UN,n.__scopeMenu),o=t===r.value;return f.jsx(VN,{scope:n.__scopeMenu,checked:o,children:f.jsx(Bf,{role:"menuitemradio","aria-checked":o,...s,ref:e,"data-state":K0(o),onSelect:Ae(s.onSelect,()=>r.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});BN.displayName=UN;var Y0="MenuItemIndicator",[VN,i6]=Ka(Y0,{checked:!1}),FN=p.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:s,...r}=n,o=i6(Y0,t);return f.jsx(Yn,{present:s||Zh(o.checked)||o.checked===!0,children:f.jsx(hu.span,{...r,ref:e,"data-state":K0(o.checked)})})});FN.displayName=Y0;var r6="MenuSeparator",HN=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n;return f.jsx(hu.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});HN.displayName=r6;var a6="MenuArrow",WN=p.forwardRef((n,e)=>{const{__scopeMenu:t,...s}=n,r=Uf(t);return f.jsx(B0,{...r,...s,ref:e})});WN.displayName=a6;var o6="MenuSub",[TX,GN]=Ka(o6),Tc="MenuSubTrigger",qN=p.forwardRef((n,e)=>{const t=Xa(Tc,n.__scopeMenu),s=mu(Tc,n.__scopeMenu),r=GN(Tc,n.__scopeMenu),o=W0(Tc,n.__scopeMenu),c=p.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=o,m={__scopeMenu:n.__scopeMenu},v=p.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return p.useEffect(()=>v,[v]),p.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),f.jsx(F0,{asChild:!0,...m,children:f.jsx(LN,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":XN(t.open),...n,ref:Rt(e,r.onTriggerChange),onClick:g=>{n.onClick?.(g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ae(n.onPointerMove,qc(g=>{o.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{t.onOpenChange(!0),v()},100))})),onPointerLeave:Ae(n.onPointerLeave,qc(g=>{v();const x=t.content?.getBoundingClientRect();if(x){const w=t.content?.dataset.side,S=w==="right",C=S?-5:5,_=x[S?"left":"right"],N=x[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+C,y:g.clientY},{x:_,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:_,y:x.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ae(n.onKeyDown,g=>{const x=o.searchRef.current!=="";n.disabled||x&&g.key===" "||BP[s.dir].includes(g.key)&&(t.onOpenChange(!0),t.content?.focus(),g.preventDefault())})})})});qN.displayName=Tc;var YN="MenuSubContent",KN=p.forwardRef((n,e)=>{const t=kN(Es,n.__scopeMenu),{forceMount:s=t.forceMount,...r}=n,o=Xa(Es,n.__scopeMenu),c=mu(Es,n.__scopeMenu),u=GN(YN,n.__scopeMenu),h=p.useRef(null),m=Lt(e,h);return f.jsx(Gc.Provider,{scope:n.__scopeMenu,children:f.jsx(Yn,{present:s||o.open,children:f.jsx(Gc.Slot,{scope:n.__scopeMenu,children:f.jsx(G0,{id:u.contentId,"aria-labelledby":u.triggerId,...r,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{c.isUsingKeyboardRef.current&&h.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ae(n.onFocusOutside,v=>{v.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ae(n.onEscapeKeyDown,v=>{c.onClose(),v.preventDefault()}),onKeyDown:Ae(n.onKeyDown,v=>{const g=v.currentTarget.contains(v.target),x=VP[c.dir].includes(v.key);g&&x&&(o.onOpenChange(!1),u.trigger?.focus(),v.preventDefault())})})})})})});KN.displayName=YN;function XN(n){return n?"open":"closed"}function Zh(n){return n==="indeterminate"}function K0(n){return Zh(n)?"indeterminate":n?"checked":"unchecked"}function l6(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function c6(n,e){return n.map((t,s)=>n[(e+s)%n.length])}function u6(n,e,t){const r=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let c=c6(n,Math.max(o,0));r.length===1&&(c=c.filter(m=>m!==t));const h=c.find(m=>m.toLowerCase().startsWith(r.toLowerCase()));return h!==t?h:void 0}function d6(n,e){const{x:t,y:s}=n;let r=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],h=e[c],m=u.x,v=u.y,g=h.x,x=h.y;v>s!=x>s&&t<(g-m)*(s-v)/(x-v)+m&&(r=!r)}return r}function h6(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return d6(t,e)}function qc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var JN=jN,QN=F0,ZN=ON,e2=DN,t2=q0,n2=IN,s2=Bf,i2=PN,r2=$N,a2=BN,o2=FN,l2=HN,c2=WN,u2=qN,d2=KN,Vf="DropdownMenu",[f6]=Ns(Vf,[$f]),jn=$f(),[m6,h2]=f6(Vf),f2=n=>{const{__scopeDropdownMenu:e,children:t,dir:s,open:r,defaultOpen:o,onOpenChange:c,modal:u=!0}=n,h=jn(e),m=p.useRef(null),[v,g]=Qr({prop:r,defaultProp:o??!1,onChange:c,caller:Vf});return f.jsx(m6,{scope:e,triggerId:Mn(),triggerRef:m,contentId:Mn(),open:v,onOpenChange:g,onOpenToggle:p.useCallback(()=>g(x=>!x),[g]),modal:u,children:f.jsx(JN,{...h,open:v,onOpenChange:g,dir:s,modal:u,children:t})})};f2.displayName=Vf;var m2="DropdownMenuTrigger",p2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:s=!1,...r}=n,o=h2(m2,t),c=jn(t);return f.jsx(QN,{asChild:!0,...c,children:f.jsx(TL.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Rt(e,o.triggerRef),onPointerDown:Ae(n.onPointerDown,u=>{!s&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Ae(n.onKeyDown,u=>{s||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});p2.displayName=m2;var p6="DropdownMenuPortal",g2=n=>{const{__scopeDropdownMenu:e,...t}=n,s=jn(e);return f.jsx(ZN,{...s,...t})};g2.displayName=p6;var v2="DropdownMenuContent",b2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=h2(v2,t),o=jn(t),c=p.useRef(!1);return f.jsx(e2,{id:r.contentId,"aria-labelledby":r.triggerId,...o,...s,ref:e,onCloseAutoFocus:Ae(n.onCloseAutoFocus,u=>{c.current||r.triggerRef.current?.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Ae(n.onInteractOutside,u=>{const h=u.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,v=h.button===2||m;(!r.modal||v)&&(c.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b2.displayName=v2;var g6="DropdownMenuGroup",y2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(t2,{...r,...s,ref:e})});y2.displayName=g6;var v6="DropdownMenuLabel",x2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(n2,{...r,...s,ref:e})});x2.displayName=v6;var b6="DropdownMenuItem",w2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(s2,{...r,...s,ref:e})});w2.displayName=b6;var y6="DropdownMenuCheckboxItem",S2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(i2,{...r,...s,ref:e})});S2.displayName=y6;var x6="DropdownMenuRadioGroup",w6=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(r2,{...r,...s,ref:e})});w6.displayName=x6;var S6="DropdownMenuRadioItem",C2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(a2,{...r,...s,ref:e})});C2.displayName=S6;var C6="DropdownMenuItemIndicator",E2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(o2,{...r,...s,ref:e})});E2.displayName=C6;var E6="DropdownMenuSeparator",_2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(l2,{...r,...s,ref:e})});_2.displayName=E6;var _6="DropdownMenuArrow",N6=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(c2,{...r,...s,ref:e})});N6.displayName=_6;var T6="DropdownMenuSubTrigger",N2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(u2,{...r,...s,ref:e})});N2.displayName=T6;var M6="DropdownMenuSubContent",T2=p.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...s}=n,r=jn(t);return f.jsx(d2,{...r,...s,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T2.displayName=M6;var R6=f2,A6=p2,j6=g2,M2=b2,k6=y2,R2=x2,A2=w2,j2=S2,k2=C2,O2=E2,D2=_2,I2=N2,L2=T2;const Ah=R6,jh=A6,O6=k6,D6=p.forwardRef(({className:n,inset:e,children:t,...s},r)=>f.jsxs(I2,{ref:r,className:Ce("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...s,children:[t,f.jsx(M0,{className:"ml-auto"})]}));D6.displayName=I2.displayName;const I6=p.forwardRef(({className:n,...e},t)=>f.jsx(L2,{ref:t,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...e}));I6.displayName=L2.displayName;const kc=p.forwardRef(({className:n,sideOffset:e=4,...t},s)=>f.jsx(j6,{children:f.jsx(M2,{ref:s,sideOffset:e,className:Ce("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",n),...t})}));kc.displayName=M2.displayName;const ws=p.forwardRef(({className:n,inset:e,...t},s)=>f.jsx(A2,{ref:s,className:Ce("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));ws.displayName=A2.displayName;const L6=p.forwardRef(({className:n,children:e,checked:t,...s},r)=>f.jsxs(j2,{ref:r,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...s,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(O2,{children:f.jsx(T0,{className:"h-4 w-4"})})}),e]}));L6.displayName=j2.displayName;const P6=p.forwardRef(({className:n,children:e,...t},s)=>f.jsxs(k2,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(O2,{children:f.jsx(F_,{className:"h-2 w-2 fill-current"})})}),e]}));P6.displayName=k2.displayName;const Fo=p.forwardRef(({className:n,inset:e,...t},s)=>f.jsx(R2,{ref:s,className:Ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));Fo.displayName=R2.displayName;const Xo=p.forwardRef(({className:n,...e},t)=>f.jsx(D2,{ref:t,className:Ce("-mx-1 my-1 h-px bg-muted",n),...e}));Xo.displayName=D2.displayName;var z6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hi=z6.reduce((n,e)=>{const t=U_(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),$6="Separator",_S="horizontal",U6=["horizontal","vertical"],P2=p.forwardRef((n,e)=>{const{decorative:t,orientation:s=_S,...r}=n,o=B6(s)?s:_S,u=t?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return f.jsx(hi.div,{"data-orientation":o,...u,...r,ref:e})});P2.displayName=$6;function B6(n){return U6.includes(n)}var z2=P2;const ja=p.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...s},r)=>f.jsx(z2,{ref:r,decorative:t,orientation:e,className:Ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...s}));ja.displayName=z2.displayName;const Pi=p.forwardRef(({className:n,type:e,...t},s)=>f.jsx("input",{type:e,className:Ce("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:s,...t}));Pi.displayName="Input";function $2(n,e){return function(){return n.apply(e,arguments)}}const{toString:V6}=Object.prototype,{getPrototypeOf:X0}=Object,{iterator:Ff,toStringTag:U2}=Symbol,Hf=(n=>e=>{const t=V6.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Vs=n=>(n=n.toLowerCase(),e=>Hf(e)===n),Wf=n=>e=>typeof e===n,{isArray:xl}=Array,al=Wf("undefined");function pu(n){return n!==null&&!al(n)&&n.constructor!==null&&!al(n.constructor)&&Wn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const B2=Vs("ArrayBuffer");function F6(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&B2(n.buffer),e}const H6=Wf("string"),Wn=Wf("function"),V2=Wf("number"),gu=n=>n!==null&&typeof n=="object",W6=n=>n===!0||n===!1,kh=n=>{if(Hf(n)!=="object")return!1;const e=X0(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(U2 in n)&&!(Ff in n)},G6=n=>{if(!gu(n)||pu(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},q6=Vs("Date"),Y6=Vs("File"),K6=Vs("Blob"),X6=Vs("FileList"),J6=n=>gu(n)&&Wn(n.pipe),Q6=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Wn(n.append)&&((e=Hf(n))==="formdata"||e==="object"&&Wn(n.toString)&&n.toString()==="[object FormData]"))},Z6=Vs("URLSearchParams"),[ez,tz,nz,sz]=["ReadableStream","Request","Response","Headers"].map(Vs),iz=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,r;if(typeof n!="object"&&(n=[n]),xl(n))for(s=0,r=n.length;s<r;s++)e.call(null,n[s],s,n);else{if(pu(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),c=o.length;let u;for(s=0;s<c;s++)u=o[s],e.call(null,n[u],u,n)}}function F2(n,e){if(pu(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,r;for(;s-- >0;)if(r=t[s],e===r.toLowerCase())return r;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H2=n=>!al(n)&&n!==Oa;function Pv(){const{caseless:n,skipUndefined:e}=H2(this)&&this||{},t={},s=(r,o)=>{const c=n&&F2(t,o)||o;kh(t[c])&&kh(r)?t[c]=Pv(t[c],r):kh(r)?t[c]=Pv({},r):xl(r)?t[c]=r.slice():(!e||!al(r))&&(t[c]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&vu(arguments[r],s);return t}const rz=(n,e,t,{allOwnKeys:s}={})=>(vu(e,(r,o)=>{t&&Wn(r)?n[o]=$2(r,t):n[o]=r},{allOwnKeys:s}),n),az=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),oz=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},lz=(n,e,t,s)=>{let r,o,c;const u={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),o=r.length;o-- >0;)c=r[o],(!s||s(c,n,e))&&!u[c]&&(e[c]=n[c],u[c]=!0);n=t!==!1&&X0(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},cz=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},uz=n=>{if(!n)return null;if(xl(n))return n;let e=n.length;if(!V2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},dz=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&X0(Uint8Array)),hz=(n,e)=>{const s=(n&&n[Ff]).call(n);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(n,o[0],o[1])}},fz=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},mz=Vs("HTMLFormElement"),pz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,r){return s.toUpperCase()+r}),NS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),gz=Vs("RegExp"),W2=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};vu(t,(r,o)=>{let c;(c=e(r,o,n))!==!1&&(s[o]=c||r)}),Object.defineProperties(n,s)},vz=n=>{W2(n,(e,t)=>{if(Wn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(Wn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},bz=(n,e)=>{const t={},s=r=>{r.forEach(o=>{t[o]=!0})};return xl(n)?s(n):s(String(n).split(e)),t},yz=()=>{},xz=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function wz(n){return!!(n&&Wn(n.append)&&n[U2]==="FormData"&&n[Ff])}const Sz=n=>{const e=new Array(10),t=(s,r)=>{if(gu(s)){if(e.indexOf(s)>=0)return;if(pu(s))return s;if(!("toJSON"in s)){e[r]=s;const o=xl(s)?[]:{};return vu(s,(c,u)=>{const h=t(c,r+1);!al(h)&&(o[u]=h)}),e[r]=void 0,o}}return s};return t(n,0)},Cz=Vs("AsyncFunction"),Ez=n=>n&&(gu(n)||Wn(n))&&Wn(n.then)&&Wn(n.catch),G2=((n,e)=>n?setImmediate:e?((t,s)=>(Oa.addEventListener("message",({source:r,data:o})=>{r===Oa&&o===t&&s.length&&s.shift()()},!1),r=>{s.push(r),Oa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Wn(Oa.postMessage)),_z=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||G2,Nz=n=>n!=null&&Wn(n[Ff]),se={isArray:xl,isArrayBuffer:B2,isBuffer:pu,isFormData:Q6,isArrayBufferView:F6,isString:H6,isNumber:V2,isBoolean:W6,isObject:gu,isPlainObject:kh,isEmptyObject:G6,isReadableStream:ez,isRequest:tz,isResponse:nz,isHeaders:sz,isUndefined:al,isDate:q6,isFile:Y6,isBlob:K6,isRegExp:gz,isFunction:Wn,isStream:J6,isURLSearchParams:Z6,isTypedArray:dz,isFileList:X6,forEach:vu,merge:Pv,extend:rz,trim:iz,stripBOM:az,inherits:oz,toFlatObject:lz,kindOf:Hf,kindOfTest:Vs,endsWith:cz,toArray:uz,forEachEntry:hz,matchAll:fz,isHTMLForm:mz,hasOwnProperty:NS,hasOwnProp:NS,reduceDescriptors:W2,freezeMethods:vz,toObjectSet:bz,toCamelCase:pz,noop:yz,toFiniteNumber:xz,findKey:F2,global:Oa,isContextDefined:H2,isSpecCompliantForm:wz,toJSONObject:Sz,isAsyncFn:Cz,isThenable:Ez,setImmediate:G2,asap:_z,isIterable:Nz};function Ue(n,e,t,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}se.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const q2=Ue.prototype,Y2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Y2[n]={value:n}});Object.defineProperties(Ue,Y2);Object.defineProperty(q2,"isAxiosError",{value:!0});Ue.from=(n,e,t,s,r,o)=>{const c=Object.create(q2);se.toFlatObject(n,c,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const u=n&&n.message?n.message:"Error",h=e==null&&n?n.code:e;return Ue.call(c,u,h,t,s,r),n&&c.cause==null&&Object.defineProperty(c,"cause",{value:n,configurable:!0}),c.name=n&&n.name||"Error",o&&Object.assign(c,o),c};const Tz=null;function zv(n){return se.isPlainObject(n)||se.isArray(n)}function K2(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function TS(n,e,t){return n?n.concat(e).map(function(r,o){return r=K2(r),!t&&o?"["+r+"]":r}).join(t?".":""):e}function Mz(n){return se.isArray(n)&&!n.some(zv)}const Rz=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function Gf(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,_){return!se.isUndefined(_[C])});const s=t.metaTokens,r=t.visitor||v,o=t.dots,c=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(r))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(se.isDate(S))return S.toISOString();if(se.isBoolean(S))return S.toString();if(!h&&se.isBlob(S))throw new Ue("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(S)||se.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function v(S,C,_){let N=S;if(S&&!_&&typeof S=="object"){if(se.endsWith(C,"{}"))C=s?C:C.slice(0,-2),S=JSON.stringify(S);else if(se.isArray(S)&&Mz(S)||(se.isFileList(S)||se.endsWith(C,"[]"))&&(N=se.toArray(S)))return C=K2(C),N.forEach(function(M,j){!(se.isUndefined(M)||M===null)&&e.append(c===!0?TS([C],j,o):c===null?C:C+"[]",m(M))}),!1}return zv(S)?!0:(e.append(TS(_,C,o),m(S)),!1)}const g=[],x=Object.assign(Rz,{defaultVisitor:v,convertValue:m,isVisitable:zv});function w(S,C){if(!se.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+C.join("."));g.push(S),se.forEach(S,function(N,T){(!(se.isUndefined(N)||N===null)&&r.call(e,N,se.isString(T)?T.trim():T,C,x))===!0&&w(N,C?C.concat(T):[T])}),g.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return w(n),e}function MS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function J0(n,e){this._pairs=[],n&&Gf(n,this,e)}const X2=J0.prototype;X2.append=function(e,t){this._pairs.push([e,t])};X2.toString=function(e){const t=e?function(s){return e.call(this,s,MS)}:MS;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Az(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function J2(n,e,t){if(!e)return n;const s=t&&t.encode||Az;se.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let o;if(r?o=r(e,t):o=se.isURLSearchParams(e)?e.toString():new J0(e,t).toString(s),o){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class RS{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Q2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jz=typeof URLSearchParams<"u"?URLSearchParams:J0,kz=typeof FormData<"u"?FormData:null,Oz=typeof Blob<"u"?Blob:null,Dz={isBrowser:!0,classes:{URLSearchParams:jz,FormData:kz,Blob:Oz},protocols:["http","https","file","blob","url","data"]},Q0=typeof window<"u"&&typeof document<"u",$v=typeof navigator=="object"&&navigator||void 0,Iz=Q0&&(!$v||["ReactNative","NativeScript","NS"].indexOf($v.product)<0),Lz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pz=Q0&&window.location.href||"http://localhost",zz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Q0,hasStandardBrowserEnv:Iz,hasStandardBrowserWebWorkerEnv:Lz,navigator:$v,origin:Pz},Symbol.toStringTag,{value:"Module"})),Cn={...zz,...Dz};function $z(n,e){return Gf(n,new Cn.classes.URLSearchParams,{visitor:function(t,s,r,o){return Cn.isNode&&se.isBuffer(t)?(this.append(s,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Uz(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Bz(n){const e={},t=Object.keys(n);let s;const r=t.length;let o;for(s=0;s<r;s++)o=t[s],e[o]=n[o];return e}function Z2(n){function e(t,s,r,o){let c=t[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=o>=t.length;return c=!c&&se.isArray(r)?r.length:c,h?(se.hasOwnProp(r,c)?r[c]=[r[c],s]:r[c]=s,!u):((!r[c]||!se.isObject(r[c]))&&(r[c]=[]),e(t,s,r[c],o)&&se.isArray(r[c])&&(r[c]=Bz(r[c])),!u)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(s,r)=>{e(Uz(s),r,t,0)}),t}return null}function Vz(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const bu={transitional:Q2,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",r=s.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return r?JSON.stringify(Z2(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return $z(e,this.formSerializer).toString();if((u=se.isFileList(e))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Gf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),Vz(e)):e}],transformResponse:[function(e){const t=this.transitional||bu.transitional,s=t&&t.forcedJSONParsing,r=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(s&&!this.responseType||r)){const c=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Ue.from(u,Ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cn.classes.FormData,Blob:Cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{bu.headers[n]={}});const Fz=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hz=n=>{const e={};let t,s,r;return n&&n.split(`
`).forEach(function(c){r=c.indexOf(":"),t=c.substring(0,r).trim().toLowerCase(),s=c.substring(r+1).trim(),!(!t||e[t]&&Fz[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},AS=Symbol("internals");function Sc(n){return n&&String(n).trim().toLowerCase()}function Oh(n){return n===!1||n==null?n:se.isArray(n)?n.map(Oh):String(n)}function Wz(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const Gz=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function $g(n,e,t,s,r){if(se.isFunction(s))return s.call(this,e,t);if(r&&(e=t),!!se.isString(e)){if(se.isString(s))return e.indexOf(s)!==-1;if(se.isRegExp(s))return s.test(e)}}function qz(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function Yz(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(r,o,c){return this[s].call(this,e,r,o,c)},configurable:!0})})}let Gn=class{constructor(e){e&&this.set(e)}set(e,t,s){const r=this;function o(u,h,m){const v=Sc(h);if(!v)throw new Error("header name must be a non-empty string");const g=se.findKey(r,v);(!g||r[g]===void 0||m===!0||m===void 0&&r[g]!==!1)&&(r[g||h]=Oh(u))}const c=(u,h)=>se.forEach(u,(m,v)=>o(m,v,h));if(se.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(se.isString(e)&&(e=e.trim())&&!Gz(e))c(Hz(e),t);else if(se.isObject(e)&&se.isIterable(e)){let u={},h,m;for(const v of e){if(!se.isArray(v))throw TypeError("Object iterator must return a key-value pair");u[m=v[0]]=(h=u[m])?se.isArray(h)?[...h,v[1]]:[h,v[1]]:v[1]}c(u,t)}else e!=null&&o(t,e,s);return this}get(e,t){if(e=Sc(e),e){const s=se.findKey(this,e);if(s){const r=this[s];if(!t)return r;if(t===!0)return Wz(r);if(se.isFunction(t))return t.call(this,r,s);if(se.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Sc(e),e){const s=se.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||$g(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let r=!1;function o(c){if(c=Sc(c),c){const u=se.findKey(s,c);u&&(!t||$g(s,s[u],u,t))&&(delete s[u],r=!0)}}return se.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let s=t.length,r=!1;for(;s--;){const o=t[s];(!e||$g(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const t=this,s={};return se.forEach(this,(r,o)=>{const c=se.findKey(s,o);if(c){t[c]=Oh(r),delete t[o];return}const u=e?qz(o):String(o).trim();u!==o&&delete t[o],t[u]=Oh(r),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(s,r)=>{s!=null&&s!==!1&&(t[r]=e&&se.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[AS]=this[AS]={accessors:{}}).accessors,r=this.prototype;function o(c){const u=Sc(c);s[u]||(Yz(r,c),s[u]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};Gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Gn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});se.freezeMethods(Gn);function Ug(n,e){const t=this||bu,s=e||t,r=Gn.from(s.headers);let o=s.data;return se.forEach(n,function(u){o=u.call(t,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function eT(n){return!!(n&&n.__CANCEL__)}function wl(n,e,t){Ue.call(this,n??"canceled",Ue.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(wl,Ue,{__CANCEL__:!0});function tT(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Ue("Request failed with status code "+t.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Kz(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Xz(n,e){n=n||10;const t=new Array(n),s=new Array(n);let r=0,o=0,c;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),v=s[o];c||(c=m),t[r]=h,s[r]=m;let g=o,x=0;for(;g!==r;)x+=t[g++],g=g%n;if(r=(r+1)%n,r===o&&(o=(o+1)%n),m-c<e)return;const w=v&&m-v;return w?Math.round(x*1e3/w):void 0}}function Jz(n,e){let t=0,s=1e3/e,r,o;const c=(m,v=Date.now())=>{t=v,r=null,o&&(clearTimeout(o),o=null),n(...m)};return[(...m)=>{const v=Date.now(),g=v-t;g>=s?c(m,v):(r=m,o||(o=setTimeout(()=>{o=null,c(r)},s-g)))},()=>r&&c(r)]}const ef=(n,e,t=3)=>{let s=0;const r=Xz(50,250);return Jz(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,h=c-s,m=r(h),v=c<=u;s=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&v?(u-c)/m:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},jS=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},kS=n=>(...e)=>se.asap(()=>n(...e)),Qz=Cn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Cn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Cn.origin),Cn.navigator&&/(msie|trident)/i.test(Cn.navigator.userAgent)):()=>!0,Zz=Cn.hasStandardBrowserEnv?{write(n,e,t,s,r,o,c){if(typeof document>"u")return;const u=[`${n}=${encodeURIComponent(e)}`];se.isNumber(t)&&u.push(`expires=${new Date(t).toUTCString()}`),se.isString(s)&&u.push(`path=${s}`),se.isString(r)&&u.push(`domain=${r}`),o===!0&&u.push("secure"),se.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function e$(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function t$(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function nT(n,e,t){let s=!e$(e);return n&&(s||t==!1)?t$(n,e):e}const OS=n=>n instanceof Gn?{...n}:n;function Ua(n,e){e=e||{};const t={};function s(m,v,g,x){return se.isPlainObject(m)&&se.isPlainObject(v)?se.merge.call({caseless:x},m,v):se.isPlainObject(v)?se.merge({},v):se.isArray(v)?v.slice():v}function r(m,v,g,x){if(se.isUndefined(v)){if(!se.isUndefined(m))return s(void 0,m,g,x)}else return s(m,v,g,x)}function o(m,v){if(!se.isUndefined(v))return s(void 0,v)}function c(m,v){if(se.isUndefined(v)){if(!se.isUndefined(m))return s(void 0,m)}else return s(void 0,v)}function u(m,v,g){if(g in e)return s(m,v);if(g in n)return s(void 0,m)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,v,g)=>r(OS(m),OS(v),g,!0)};return se.forEach(Object.keys({...n,...e}),function(v){const g=h[v]||r,x=g(n[v],e[v],v);se.isUndefined(x)&&g!==u||(t[v]=x)}),t}const sT=n=>{const e=Ua({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:c,auth:u}=e;if(e.headers=c=Gn.from(c),e.url=J2(nT(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),se.isFormData(t)){if(Cn.hasStandardBrowserEnv||Cn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(se.isFunction(t.getHeaders)){const h=t.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([v,g])=>{m.includes(v.toLowerCase())&&c.set(v,g)})}}if(Cn.hasStandardBrowserEnv&&(s&&se.isFunction(s)&&(s=s(e)),s||s!==!1&&Qz(e.url))){const h=r&&o&&Zz.read(o);h&&c.set(r,h)}return e},n$=typeof XMLHttpRequest<"u",s$=n$&&function(n){return new Promise(function(t,s){const r=sT(n);let o=r.data;const c=Gn.from(r.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=r,v,g,x,w,S;function C(){w&&w(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(v),r.signal&&r.signal.removeEventListener("abort",v)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function N(){if(!_)return;const M=Gn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:M,config:n,request:_};tT(function(O){t(O),C()},function(O){s(O),C()},P),_=null}"onloadend"in _?_.onloadend=N:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(N)},_.onabort=function(){_&&(s(new Ue("Request aborted",Ue.ECONNABORTED,n,_)),_=null)},_.onerror=function(j){const P=j&&j.message?j.message:"Network Error",I=new Ue(P,Ue.ERR_NETWORK,n,_);I.event=j||null,s(I),_=null},_.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||Q2;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),s(new Ue(j,P.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,n,_)),_=null},o===void 0&&c.setContentType(null),"setRequestHeader"in _&&se.forEach(c.toJSON(),function(j,P){_.setRequestHeader(P,j)}),se.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),u&&u!=="json"&&(_.responseType=r.responseType),m&&([x,S]=ef(m,!0),_.addEventListener("progress",x)),h&&_.upload&&([g,w]=ef(h),_.upload.addEventListener("progress",g),_.upload.addEventListener("loadend",w)),(r.cancelToken||r.signal)&&(v=M=>{_&&(s(!M||M.type?new wl(null,n,_):M),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(v),r.signal&&(r.signal.aborted?v():r.signal.addEventListener("abort",v)));const T=Kz(r.url);if(T&&Cn.protocols.indexOf(T)===-1){s(new Ue("Unsupported protocol "+T+":",Ue.ERR_BAD_REQUEST,n));return}_.send(o||null)})},i$=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,r;const o=function(m){if(!r){r=!0,u();const v=m instanceof Error?m:this.reason;s.abort(v instanceof Ue?v:new wl(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,o(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const u=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),n=null)};n.forEach(m=>m.addEventListener("abort",o));const{signal:h}=s;return h.unsubscribe=()=>se.asap(u),h}},r$=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,r;for(;s<t;)r=s+e,yield n.slice(s,r),s=r},a$=async function*(n,e){for await(const t of o$(n))yield*r$(t,e)},o$=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},DS=(n,e,t,s)=>{const r=a$(n,e);let o=0,c,u=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:m,value:v}=await r.next();if(m){u(),h.close();return}let g=v.byteLength;if(t){let x=o+=g;t(x)}h.enqueue(new Uint8Array(v))}catch(m){throw u(m),m}},cancel(h){return u(h),r.return()}},{highWaterMark:2})},IS=64*1024,{isFunction:rh}=se,l$=(({Request:n,Response:e})=>({Request:n,Response:e}))(se.global),{ReadableStream:LS,TextEncoder:PS}=se.global,zS=(n,...e)=>{try{return!!n(...e)}catch{return!1}},c$=n=>{n=se.merge.call({skipUndefined:!0},l$,n);const{fetch:e,Request:t,Response:s}=n,r=e?rh(e):typeof fetch=="function",o=rh(t),c=rh(s);if(!r)return!1;const u=r&&rh(LS),h=r&&(typeof PS=="function"?(S=>C=>S.encode(C))(new PS):async S=>new Uint8Array(await new t(S).arrayBuffer())),m=o&&u&&zS(()=>{let S=!1;const C=new t(Cn.origin,{body:new LS,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!C}),v=c&&u&&zS(()=>se.isReadableStream(new s("").body)),g={stream:v&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!g[S]&&(g[S]=(C,_)=>{let N=C&&C[S];if(N)return N.call(C);throw new Ue(`Response type '${S}' is not supported`,Ue.ERR_NOT_SUPPORT,_)})});const x=async S=>{if(S==null)return 0;if(se.isBlob(S))return S.size;if(se.isSpecCompliantForm(S))return(await new t(Cn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(se.isArrayBufferView(S)||se.isArrayBuffer(S))return S.byteLength;if(se.isURLSearchParams(S)&&(S=S+""),se.isString(S))return(await h(S)).byteLength},w=async(S,C)=>{const _=se.toFiniteNumber(S.getContentLength());return _??x(C)};return async S=>{let{url:C,method:_,data:N,signal:T,cancelToken:M,timeout:j,onDownloadProgress:P,onUploadProgress:I,responseType:O,headers:B,withCredentials:re="same-origin",fetchOptions:le}=sT(S),te=e||fetch;O=O?(O+"").toLowerCase():"text";let he=i$([T,M&&M.toAbortSignal()],j),oe=null;const ce=he&&he.unsubscribe&&(()=>{he.unsubscribe()});let ne;try{if(I&&m&&_!=="get"&&_!=="head"&&(ne=await w(B,N))!==0){let D=new t(C,{method:"POST",body:N,duplex:"half"}),R;if(se.isFormData(N)&&(R=D.headers.get("content-type"))&&B.setContentType(R),D.body){const[z,$]=jS(ne,ef(kS(I)));N=DS(D.body,IS,z,$)}}se.isString(re)||(re=re?"include":"omit");const k=o&&"credentials"in t.prototype,W={...le,signal:he,method:_.toUpperCase(),headers:B.normalize().toJSON(),body:N,duplex:"half",credentials:k?re:void 0};oe=o&&new t(C,W);let V=await(o?te(oe,le):te(C,W));const Y=v&&(O==="stream"||O==="response");if(v&&(P||Y&&ce)){const D={};["status","statusText","headers"].forEach(J=>{D[J]=V[J]});const R=se.toFiniteNumber(V.headers.get("content-length")),[z,$]=P&&jS(R,ef(kS(P),!0))||[];V=new s(DS(V.body,IS,z,()=>{$&&$(),ce&&ce()}),D)}O=O||"text";let me=await g[se.findKey(g,O)||"text"](V,S);return!Y&&ce&&ce(),await new Promise((D,R)=>{tT(D,R,{data:me,headers:Gn.from(V.headers),status:V.status,statusText:V.statusText,config:S,request:oe})})}catch(k){throw ce&&ce(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,S,oe),{cause:k.cause||k}):Ue.from(k,k&&k.code,S,oe)}}},u$=new Map,iT=n=>{let e=n&&n.env||{};const{fetch:t,Request:s,Response:r}=e,o=[s,r,t];let c=o.length,u=c,h,m,v=u$;for(;u--;)h=o[u],m=v.get(h),m===void 0&&v.set(h,m=u?new Map:c$(e)),v=m;return m};iT();const Z0={http:Tz,xhr:s$,fetch:{get:iT}};se.forEach(Z0,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const $S=n=>`- ${n}`,d$=n=>se.isFunction(n)||n===null||n===!1;function h$(n,e){n=se.isArray(n)?n:[n];const{length:t}=n;let s,r;const o={};for(let c=0;c<t;c++){s=n[c];let u;if(r=s,!d$(s)&&(r=Z0[(u=String(s)).toLowerCase()],r===void 0))throw new Ue(`Unknown adapter '${u}'`);if(r&&(se.isFunction(r)||(r=r.get(e))))break;o[u||"#"+c]=r}if(!r){const c=Object.entries(o).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=t?c.length>1?`since :
`+c.map($S).join(`
`):" "+$S(c[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r}const rT={getAdapter:h$,adapters:Z0};function Bg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new wl(null,n)}function US(n){return Bg(n),n.headers=Gn.from(n.headers),n.data=Ug.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),rT.getAdapter(n.adapter||bu.adapter,n)(n).then(function(s){return Bg(n),s.data=Ug.call(n,n.transformResponse,s),s.headers=Gn.from(s.headers),s},function(s){return eT(s)||(Bg(n),s&&s.response&&(s.response.data=Ug.call(n,n.transformResponse,s.response),s.response.headers=Gn.from(s.response.headers))),Promise.reject(s)})}const aT="1.13.2",qf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{qf[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const BS={};qf.transitional=function(e,t,s){function r(o,c){return"[Axios v"+aT+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,u)=>{if(e===!1)throw new Ue(r(c," has been removed"+(t?" in "+t:"")),Ue.ERR_DEPRECATED);return t&&!BS[c]&&(BS[c]=!0,console.warn(r(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,c,u):!0}};qf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function f$(n,e,t){if(typeof n!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let r=s.length;for(;r-- >0;){const o=s[r],c=e[o];if(c){const u=n[o],h=u===void 0||c(u,o,n);if(h!==!0)throw new Ue("option "+o+" must be "+h,Ue.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ue("Unknown option "+o,Ue.ERR_BAD_OPTION)}}const Dh={assertOptions:f$,validators:qf},Qs=Dh.validators;let Ia=class{constructor(e){this.defaults=e||{},this.interceptors={request:new RS,response:new RS}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ua(this.defaults,t);const{transitional:s,paramsSerializer:r,headers:o}=t;s!==void 0&&Dh.assertOptions(s,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1),r!=null&&(se.isFunction(r)?t.paramsSerializer={serialize:r}:Dh.assertOptions(r,{encode:Qs.function,serialize:Qs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dh.assertOptions(t,{baseUrl:Qs.spelling("baseURL"),withXsrfToken:Qs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),t.headers=Gn.concat(c,o);const u=[];let h=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(h=h&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let v,g=0,x;if(!h){const S=[US.bind(this),void 0];for(S.unshift(...u),S.push(...m),x=S.length,v=Promise.resolve(t);g<x;)v=v.then(S[g++],S[g++]);return v}x=u.length;let w=t;for(;g<x;){const S=u[g++],C=u[g++];try{w=S(w)}catch(_){C.call(this,_);break}}try{v=US.call(this,w)}catch(S){return Promise.reject(S)}for(g=0,x=m.length;g<x;)v=v.then(m[g++],m[g++]);return v}getUri(e){e=Ua(this.defaults,e);const t=nT(e.baseURL,e.url,e.allowAbsoluteUrls);return J2(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){Ia.prototype[e]=function(t,s){return this.request(Ua(s||{},{method:e,url:t,data:(s||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(s){return function(o,c,u){return this.request(Ua(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Ia.prototype[e]=t(),Ia.prototype[e+"Form"]=t(!0)});let m$=class oT{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const c=new Promise(u=>{s.subscribe(u),o=u}).then(r);return c.cancel=function(){s.unsubscribe(o)},c},e(function(o,c,u){s.reason||(s.reason=new wl(o,c,u),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new oT(function(r){e=r}),cancel:e}}};function p$(n){return function(t){return n.apply(null,t)}}function g$(n){return se.isObject(n)&&n.isAxiosError===!0}const Uv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Uv).forEach(([n,e])=>{Uv[e]=n});function lT(n){const e=new Ia(n),t=$2(Ia.prototype.request,e);return se.extend(t,Ia.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return lT(Ua(n,r))},t}const $t=lT(bu);$t.Axios=Ia;$t.CanceledError=wl;$t.CancelToken=m$;$t.isCancel=eT;$t.VERSION=aT;$t.toFormData=Gf;$t.AxiosError=Ue;$t.Cancel=$t.CanceledError;$t.all=function(e){return Promise.all(e)};$t.spread=p$;$t.isAxiosError=g$;$t.mergeConfig=Ua;$t.AxiosHeaders=Gn;$t.formToJSON=n=>Z2(se.isHTMLForm(n)?new FormData(n):n);$t.getAdapter=rT.getAdapter;$t.HttpStatusCode=Uv;$t.default=$t;const{Axios:AX,AxiosError:jX,CanceledError:kX,isCancel:OX,CancelToken:DX,VERSION:IX,all:LX,Cancel:PX,isAxiosError:zX,spread:$X,toFormData:UX,AxiosHeaders:BX,HttpStatusCode:VX,formToJSON:FX,getAdapter:HX,mergeConfig:WX}=$t,v$="http://localhost:8000/api/v1",Ts=$t.create({baseURL:v$,headers:{"Content-Type":"application/json"}});async function b$(n){const t=(await Ts.get("/symbols/search",{params:{q:n}})).data;return t.length===0?{symbol:n.toUpperCase(),display_name:n.toUpperCase(),exchange:null}:t.find(r=>r.symbol.toLowerCase()===n.toLowerCase())||t[0]}const VS=new Map;function y$(n){const[e,t]=p.useState(null),[s,r]=p.useState(!1),[o,c]=p.useState(null);return p.useEffect(()=>{if(!n){t(null);return}const u=VS.get(n.toUpperCase());if(u){t(u);return}r(!0),c(null),b$(n).then(h=>{VS.set(n.toUpperCase(),h),t(h)}).catch(h=>{console.error(`Failed to fetch symbol info for ${n}:`,h),c(h);const m={symbol:n.toUpperCase(),display_name:n.toUpperCase(),exchange:null};t(m)}).finally(()=>{r(!1)})},[n]),{data:e,isLoading:s,error:o}}const x$=({symbol:n,interval:e,onIntervalSelect:t,onSymbolClick:s,onIndicatorsClick:r,onFullscreenToggle:o,onNotificationSettingsClick:c,activeLayout:u,savedLayouts:h,onLayoutSelect:m,onLayoutSave:v,onLayoutUpdate:g,indicatorSettings:x,indicators:w,onToggleIndicatorVisibility:S,onToggleSeriesVisibility:C,onToggleLevelsVisibility:_,onToggleLastValueVisibility:N,onRemoveIndicator:T,dataMode:M,onDataModeToggle:j,onManualRefresh:P})=>{const I=["1m","5m","15m","30m","1h","4h","1D","1W"],[O,B]=p.useState(""),re=p.useRef(null),{data:le}=y$(n);return f.jsxs("div",{"data-testid":"top-toolbar",className:"flex items-center gap-1 bg-slate-900 border border-slate-800 border-b-0 p-1 w-full h-12",children:[f.jsx("div",{className:"flex items-center px-3 mr-2",children:f.jsx("span",{className:"text-sm font-bold tracking-tighter text-blue-500",children:"TradingAlert"})}),f.jsx(ja,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),f.jsxs(Pe,{variant:"ghost",size:"sm",onClick:s,className:"font-bold text-slate-200 hover:bg-slate-800 px-3 flex gap-2",children:[f.jsx(Af,{className:"h-4 w-4 text-slate-400 shrink-0"}),f.jsxs("span",{className:"truncate max-w-[600px]",children:[le?.display_name||n,"  ",e,le?.exchange?`  ${le.exchange}`:""]})]}),f.jsx(ja,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),f.jsx("div",{className:"flex gap-0.5 overflow-hidden",children:I.map(te=>f.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>t(te),className:`text-xs text-slate-400 hover:text-white hover:bg-slate-800 px-2 h-8 ${e.toLowerCase()===te.toLowerCase()?"bg-slate-700 text-white":""}`,children:te},te))}),f.jsx(ja,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),f.jsxs(Ah,{children:[f.jsx(jh,{asChild:!0,children:f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800","data-testid":"chart-style-selector",children:f.jsx(Av,{className:"h-4 w-4"})})}),f.jsxs(kc,{align:"start",className:"bg-slate-900 border-slate-800 text-slate-300",children:[f.jsxs(ws,{className:"hover:bg-slate-800","data-testid":"chart-style-item-candles",children:[f.jsx(Av,{className:"mr-2 h-4 w-4"})," Candlesticks"]}),f.jsxs(ws,{className:"hover:bg-slate-800","data-testid":"chart-style-item-line",children:[f.jsx(_5,{className:"mr-2 h-4 w-4"})," Line"]}),f.jsxs(ws,{className:"hover:bg-slate-800","data-testid":"chart-style-item-heikin",children:[f.jsx(gL,{className:"mr-2 h-4 w-4"})," Heikin-Ashi"]})]})]}),f.jsx(ja,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),f.jsxs("div",{className:"flex gap-0.5",children:[f.jsx(Pe,{variant:"ghost",size:"sm",onClick:r,className:"text-slate-400 hover:text-white hover:bg-slate-800 px-3 h-8",children:"Indicators"}),u&&u.activeIndicators.length>0&&f.jsxs(Ah,{children:[f.jsx(jh,{asChild:!0,children:f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-4 text-slate-500 hover:text-white p-0",children:f.jsx(G_,{className:"h-3 w-3"})})}),f.jsxs(kc,{align:"start",className:"w-64 bg-slate-900 border-slate-800 text-slate-300",children:[f.jsx(Fo,{className:"text-slate-500 text-xs",children:"Indicator Visibility"}),w?.filter(te=>u?.activeIndicators.includes(te.indicatorType.name.toLowerCase())).map(te=>{const he=te.indicatorType.name.toLowerCase();return f.jsxs("div",{className:"p-2 space-y-1 border-b border-slate-800 last:border-0",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm px-2 font-bold text-blue-400",children:[f.jsx("span",{className:"capitalize",children:he}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Pe,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>S(te.id),children:x[te.id]?.visible!==!1?"Hide All":"Show All"}),f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 text-slate-500 hover:text-red-400",onClick:()=>T(te.id),title:"Remove indicator",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsxs("div",{className:"ml-2 space-y-1",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[f.jsx("span",{children:"Threshold Levels"}),f.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>_(te.id),children:x[te.id]?.showLevels!==!1?"Hide":"Show"})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[f.jsx("span",{children:"Last Value on Scale"}),f.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>N(te.id),children:x[te.id]?.showLastValue?"Hide":"Show"})]}),he==="crsi"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[f.jsx("span",{children:"RSI Line"}),f.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>C(te.id,"crsi"),children:x[te.id]?.series?.crsi!==!1?"Hide":"Show"})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs px-2 text-slate-400",children:[f.jsx("span",{children:"Bands"}),f.jsx(Pe,{variant:"ghost",size:"sm",className:"h-5 text-[10px] p-0",onClick:()=>{C(te.id,"upper_band"),C(te.id,"lower_band")},children:x[te.id]?.series?.upper_band!==!1?"Hide":"Show"})]})]})]})]},te.id)})]})]})]}),f.jsx(ja,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),f.jsxs(Ah,{children:[f.jsx(jh,{asChild:!0,children:f.jsxs(Pe,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white hover:bg-slate-800 px-3 h-8 flex gap-2",children:[f.jsx(H_,{className:"h-4 w-4"}),u?.name||"Layouts"]})}),f.jsxs(kc,{align:"start",className:"w-56 bg-slate-900 border-slate-800 text-slate-300",children:[f.jsx(Fo,{className:"text-slate-500",children:"Save"}),u?.id&&u.id!=="default"?f.jsxs(ws,{onClick:g,className:"hover:bg-slate-800 cursor-pointer",children:[f.jsx(Rg,{className:"h-3 w-3 mr-2"}),"Save"]}):f.jsx(ws,{disabled:!0,className:"text-slate-600 italic text-xs",children:"Save (select a layout first)"}),f.jsx(Xo,{className:"bg-slate-800"}),f.jsx(Fo,{className:"text-slate-500",children:"Manage"}),f.jsxs(ws,{onClick:()=>re.current?.focus(),className:"hover:bg-slate-800 cursor-pointer",children:[f.jsx(Rg,{className:"h-3 w-3 mr-2"}),"Save as new..."]}),f.jsx(Xo,{className:"bg-slate-800"}),f.jsx(Fo,{className:"text-slate-500",children:"Saved Layouts"}),h.map(te=>f.jsx(ws,{onClick:()=>m(te),className:`hover:bg-slate-800 cursor-pointer ${u?.id===te.id?"text-blue-400":""}`,children:te.name},te.id)),h.length===0&&f.jsx(ws,{disabled:!0,className:"text-slate-600 italic",children:"No saved layouts"}),f.jsx(Xo,{className:"bg-slate-800"}),f.jsxs("div",{className:"p-2 space-y-2",children:[f.jsx(Pi,{ref:re,placeholder:"New layout name",value:O,onChange:te=>B(te.target.value),className:"h-8 text-xs bg-slate-950 border-slate-800",onKeyDown:te=>{te.key==="Enter"&&O.trim()&&(v(O.trim()),B(""))}}),f.jsxs(Pe,{size:"sm",className:"w-full h-8 text-xs bg-blue-600 hover:bg-blue-700",onClick:()=>{O.trim()&&(v(O.trim()),B(""))},children:[f.jsx(Rg,{className:"h-3 w-3 mr-2"}),"Save as new"]})]})]})]}),f.jsx(ja,{orientation:"vertical",className:"mx-1 h-6 bg-slate-800"}),f.jsxs("div",{className:"ml-auto flex gap-1",children:[f.jsxs(Pe,{variant:"ghost",size:"sm",onClick:j,className:`h-8 px-2 text-xs ${M==="polling"?"text-blue-400 bg-slate-800":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:`Current: ${M==="websocket"?"WebSocket (real-time)":"Polling (periodic refresh)"}`,children:[f.jsx(nL,{className:"h-3 w-3 mr-1"}),M==="websocket"?"WS":"Poll"]}),M==="polling"&&P&&f.jsx(Pe,{variant:"ghost",size:"icon",onClick:P,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",title:"Refresh candle data",children:f.jsx(W_,{className:"h-4 w-4"})}),f.jsx(Pe,{variant:"ghost",size:"icon",onClick:o,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",children:f.jsx(Q5,{className:"h-4 w-4"})}),f.jsx(Pe,{variant:"ghost",size:"icon",onClick:c,className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",title:"Notification Settings",children:f.jsx(il,{className:"h-4 w-4"})})]})]})},cT=p.forwardRef(({className:n,...e},t)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:t,className:Ce("w-full caption-bottom text-sm",n),...e})}));cT.displayName="Table";const uT=p.forwardRef(({className:n,...e},t)=>f.jsx("thead",{ref:t,className:Ce("[&_tr]:border-b",n),...e}));uT.displayName="TableHeader";const dT=p.forwardRef(({className:n,...e},t)=>f.jsx("tbody",{ref:t,className:Ce("[&_tr:last-child]:border-0",n),...e}));dT.displayName="TableBody";const w$=p.forwardRef(({className:n,...e},t)=>f.jsx("tfoot",{ref:t,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));w$.displayName="TableFooter";const eb=p.forwardRef(({className:n,...e},t)=>f.jsx("tr",{ref:t,className:Ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));eb.displayName="TableRow";const Mc=p.forwardRef(({className:n,...e},t)=>f.jsx("th",{ref:t,className:Ce("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Mc.displayName="TableHead";const Rc=p.forwardRef(({className:n,...e},t)=>f.jsx("td",{ref:t,className:Ce("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Rc.displayName="TableCell";const S$=p.forwardRef(({className:n,...e},t)=>f.jsx("caption",{ref:t,className:Ce("mt-4 text-sm text-muted-foreground",n),...e}));S$.displayName="TableCaption";function C$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return p.useMemo(()=>s=>{e.forEach(r=>r(s))},e)}const Yf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Sl(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function tb(n){return"nodeType"in n}function Kn(n){var e,t;return n?Sl(n)?n:tb(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function nb(n){const{Document:e}=Kn(n);return n instanceof e}function yu(n){return Sl(n)?!1:n instanceof Kn(n).HTMLElement}function hT(n){return n instanceof Kn(n).SVGElement}function Cl(n){return n?Sl(n)?n.document:tb(n)?nb(n)?n:yu(n)||hT(n)?n.ownerDocument:document:document:document}const ui=Yf?p.useLayoutEffect:p.useEffect;function sb(n){const e=p.useRef(n);return ui(()=>{e.current=n}),p.useCallback(function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return e.current==null?void 0:e.current(...s)},[])}function E$(){const n=p.useRef(null),e=p.useCallback((s,r)=>{n.current=setInterval(s,r)},[]),t=p.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Yc(n,e){e===void 0&&(e=[n]);const t=p.useRef(n);return ui(()=>{t.current!==n&&(t.current=n)},e),t}function xu(n,e){const t=p.useRef();return p.useMemo(()=>{const s=n(t.current);return t.current=s,s},[...e])}function tf(n){const e=sb(n),t=p.useRef(null),s=p.useCallback(r=>{r!==t.current&&e?.(r,t.current),t.current=r},[]);return[t,s]}function Bv(n){const e=p.useRef();return p.useEffect(()=>{e.current=n},[n]),e.current}let Vg={};function wu(n,e){return p.useMemo(()=>{if(e)return e;const t=Vg[n]==null?0:Vg[n]+1;return Vg[n]=t,n+"-"+t},[n,e])}function fT(n){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];return s.reduce((o,c)=>{const u=Object.entries(c);for(const[h,m]of u){const v=o[h];v!=null&&(o[h]=v+n*m)}return o},{...e})}}const Jo=fT(1),Kc=fT(-1);function _$(n){return"clientX"in n&&"clientY"in n}function ib(n){if(!n)return!1;const{KeyboardEvent:e}=Kn(n.target);return e&&n instanceof e}function N$(n){if(!n)return!1;const{TouchEvent:e}=Kn(n.target);return e&&n instanceof e}function Vv(n){if(N$(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return _$(n)?{x:n.clientX,y:n.clientY}:null}const Xc=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Xc.Translate.toString(n),Xc.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:s}=n;return e+" "+t+"ms "+s}}}),FS="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function T$(n){return n.matches(FS)?n:n.querySelector(FS)}const M$={display:"none"};function R$(n){let{id:e,value:t}=n;return ve.createElement("div",{id:e,style:M$},t)}function A$(n){let{id:e,announcement:t,ariaLiveType:s="assertive"}=n;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ve.createElement("div",{id:e,style:r,role:"status","aria-live":s,"aria-atomic":!0},t)}function j$(){const[n,e]=p.useState("");return{announce:p.useCallback(s=>{s!=null&&e(s)},[]),announcement:n}}const mT=p.createContext(null);function k$(n){const e=p.useContext(mT);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function O$(){const[n]=p.useState(()=>new Set),e=p.useCallback(s=>(n.add(s),()=>n.delete(s)),[n]);return[p.useCallback(s=>{let{type:r,event:o}=s;n.forEach(c=>{var u;return(u=c[r])==null?void 0:u.call(c,o)})},[n]),e]}const D$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},I$={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function L$(n){let{announcements:e=I$,container:t,hiddenTextDescribedById:s,screenReaderInstructions:r=D$}=n;const{announce:o,announcement:c}=j$(),u=wu("DndLiveRegion"),[h,m]=p.useState(!1);if(p.useEffect(()=>{m(!0)},[]),k$(p.useMemo(()=>({onDragStart(g){let{active:x}=g;o(e.onDragStart({active:x}))},onDragMove(g){let{active:x,over:w}=g;e.onDragMove&&o(e.onDragMove({active:x,over:w}))},onDragOver(g){let{active:x,over:w}=g;o(e.onDragOver({active:x,over:w}))},onDragEnd(g){let{active:x,over:w}=g;o(e.onDragEnd({active:x,over:w}))},onDragCancel(g){let{active:x,over:w}=g;o(e.onDragCancel({active:x,over:w}))}}),[o,e])),!h)return null;const v=ve.createElement(ve.Fragment,null,ve.createElement(R$,{id:s,value:r.draggable}),ve.createElement(A$,{id:u,announcement:c}));return t?$i.createPortal(v,t):v}var nn;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(nn||(nn={}));function nf(){}function Fg(n,e){return p.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function P$(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return p.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const Bs=Object.freeze({x:0,y:0});function pT(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function gT(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return t-s}function z$(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return s-t}function HS(n){let{left:e,top:t,height:s,width:r}=n;return[{x:e,y:t},{x:e+r,y:t},{x:e,y:t+s},{x:e+r,y:t+s}]}function vT(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function WS(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const $$=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=WS(e,e.left,e.top),o=[];for(const c of s){const{id:u}=c,h=t.get(u);if(h){const m=pT(WS(h),r);o.push({id:u,data:{droppableContainer:c,value:m}})}}return o.sort(gT)},U$=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=HS(e),o=[];for(const c of s){const{id:u}=c,h=t.get(u);if(h){const m=HS(h),v=r.reduce((x,w,S)=>x+pT(m[S],w),0),g=Number((v/4).toFixed(4));o.push({id:u,data:{droppableContainer:c,value:g}})}}return o.sort(gT)};function B$(n,e){const t=Math.max(e.top,n.top),s=Math.max(e.left,n.left),r=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),c=r-s,u=o-t;if(s<r&&t<o){const h=e.width*e.height,m=n.width*n.height,v=c*u,g=v/(h+m-v);return Number(g.toFixed(4))}return 0}const V$=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const r=[];for(const o of s){const{id:c}=o,u=t.get(c);if(u){const h=B$(u,e);h>0&&r.push({id:c,data:{droppableContainer:o,value:h}})}}return r.sort(z$)};function F$(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function bT(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Bs}function H$(n){return function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return r.reduce((c,u)=>({...c,top:c.top+n*u.y,bottom:c.bottom+n*u.y,left:c.left+n*u.x,right:c.right+n*u.x}),{...t})}}const W$=H$(1);function G$(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function q$(n,e,t){const s=G$(e);if(!s)return n;const{scaleX:r,scaleY:o,x:c,y:u}=s,h=n.left-c-(1-r)*parseFloat(t),m=n.top-u-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),v=r?n.width/r:n.width,g=o?n.height/o:n.height;return{width:v,height:g,top:m,right:h+v,bottom:m+g,left:h}}const Y$={ignoreTransform:!1};function El(n,e){e===void 0&&(e=Y$);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:v}=Kn(n).getComputedStyle(n);m&&(t=q$(t,m,v))}const{top:s,left:r,width:o,height:c,bottom:u,right:h}=t;return{top:s,left:r,width:o,height:c,bottom:u,right:h}}function GS(n){return El(n,{ignoreTransform:!0})}function K$(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function X$(n,e){return e===void 0&&(e=Kn(n).getComputedStyle(n)),e.position==="fixed"}function J$(n,e){e===void 0&&(e=Kn(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const o=e[r];return typeof o=="string"?t.test(o):!1})}function Kf(n,e){const t=[];function s(r){if(e!=null&&t.length>=e||!r)return t;if(nb(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!yu(r)||hT(r)||t.includes(r))return t;const o=Kn(n).getComputedStyle(r);return r!==n&&J$(r,o)&&t.push(r),X$(r,o)?t:s(r.parentNode)}return n?s(n):t}function yT(n){const[e]=Kf(n,1);return e??null}function Hg(n){return!Yf||!n?null:Sl(n)?n:tb(n)?nb(n)||n===Cl(n).scrollingElement?window:yu(n)?n:null:null}function xT(n){return Sl(n)?n.scrollX:n.scrollLeft}function wT(n){return Sl(n)?n.scrollY:n.scrollTop}function Fv(n){return{x:xT(n),y:wT(n)}}var cn;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(cn||(cn={}));function ST(n){return!Yf||!n?!1:n===document.scrollingElement}function CT(n){const e={x:0,y:0},t=ST(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},s={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},r=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,c=n.scrollTop>=s.y,u=n.scrollLeft>=s.x;return{isTop:r,isLeft:o,isBottom:c,isRight:u,maxScroll:s,minScroll:e}}const Q$={x:.2,y:.2};function Z$(n,e,t,s,r){let{top:o,left:c,right:u,bottom:h}=t;s===void 0&&(s=10),r===void 0&&(r=Q$);const{isTop:m,isBottom:v,isLeft:g,isRight:x}=CT(n),w={x:0,y:0},S={x:0,y:0},C={height:e.height*r.y,width:e.width*r.x};return!m&&o<=e.top+C.height?(w.y=cn.Backward,S.y=s*Math.abs((e.top+C.height-o)/C.height)):!v&&h>=e.bottom-C.height&&(w.y=cn.Forward,S.y=s*Math.abs((e.bottom-C.height-h)/C.height)),!x&&u>=e.right-C.width?(w.x=cn.Forward,S.x=s*Math.abs((e.right-C.width-u)/C.width)):!g&&c<=e.left+C.width&&(w.x=cn.Backward,S.x=s*Math.abs((e.left+C.width-c)/C.width)),{direction:w,speed:S}}function eU(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:e,left:t,right:s,bottom:r}=n.getBoundingClientRect();return{top:e,left:t,right:s,bottom:r,width:n.clientWidth,height:n.clientHeight}}function ET(n){return n.reduce((e,t)=>Jo(e,Fv(t)),Bs)}function tU(n){return n.reduce((e,t)=>e+xT(t),0)}function nU(n){return n.reduce((e,t)=>e+wT(t),0)}function sU(n,e){if(e===void 0&&(e=El),!n)return;const{top:t,left:s,bottom:r,right:o}=e(n);yT(n)&&(r<=0||o<=0||t>=window.innerHeight||s>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const iU=[["x",["left","right"],tU],["y",["top","bottom"],nU]];class rb{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Kf(t),r=ET(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,c,u]of iU)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=u(s),v=r[o]-m;return this.rect[h]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Oc{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...t)})},this.target=e}add(e,t,s){var r;(r=this.target)==null||r.addEventListener(e,t,s),this.listeners.push([e,t,s])}}function rU(n){const{EventTarget:e}=Kn(n);return n instanceof e?n:Cl(n)}function Wg(n,e){const t=Math.abs(n.x),s=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var Ss;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ss||(Ss={}));function qS(n){n.preventDefault()}function aU(n){n.stopPropagation()}var et;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(et||(et={}));const _T={start:[et.Space,et.Enter],cancel:[et.Esc],end:[et.Space,et.Enter,et.Tab]},oU=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case et.Right:return{...t,x:t.x+25};case et.Left:return{...t,x:t.x-25};case et.Down:return{...t,y:t.y+25};case et.Up:return{...t,y:t.y-25}}};class ab{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Oc(Cl(t)),this.windowListeners=new Oc(Kn(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ss.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,s=e.node.current;s&&sU(s),t(Bs)}handleKeyDown(e){if(ib(e)){const{active:t,context:s,options:r}=this.props,{keyboardCodes:o=_T,coordinateGetter:c=oU,scrollBehavior:u="smooth"}=r,{code:h}=e;if(o.end.includes(h)){this.handleEnd(e);return}if(o.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:m}=s.current,v=m?{x:m.left,y:m.top}:Bs;this.referenceCoordinates||(this.referenceCoordinates=v);const g=c(e,{active:t,context:s.current,currentCoordinates:v});if(g){const x=Kc(g,v),w={x:0,y:0},{scrollableAncestors:S}=s.current;for(const C of S){const _=e.code,{isTop:N,isRight:T,isLeft:M,isBottom:j,maxScroll:P,minScroll:I}=CT(C),O=eU(C),B={x:Math.min(_===et.Right?O.right-O.width/2:O.right,Math.max(_===et.Right?O.left:O.left+O.width/2,g.x)),y:Math.min(_===et.Down?O.bottom-O.height/2:O.bottom,Math.max(_===et.Down?O.top:O.top+O.height/2,g.y))},re=_===et.Right&&!T||_===et.Left&&!M,le=_===et.Down&&!j||_===et.Up&&!N;if(re&&B.x!==g.x){const te=C.scrollLeft+x.x,he=_===et.Right&&te<=P.x||_===et.Left&&te>=I.x;if(he&&!x.y){C.scrollTo({left:te,behavior:u});return}he?w.x=C.scrollLeft-te:w.x=_===et.Right?C.scrollLeft-P.x:C.scrollLeft-I.x,w.x&&C.scrollBy({left:-w.x,behavior:u});break}else if(le&&B.y!==g.y){const te=C.scrollTop+x.y,he=_===et.Down&&te<=P.y||_===et.Up&&te>=I.y;if(he&&!x.x){C.scrollTo({top:te,behavior:u});return}he?w.y=C.scrollTop-te:w.y=_===et.Down?C.scrollTop-P.y:C.scrollTop-I.y,w.y&&C.scrollBy({top:-w.y,behavior:u});break}}this.handleMove(e,Jo(Kc(g,this.referenceCoordinates),w))}}}handleMove(e,t){const{onMove:s}=this.props;e.preventDefault(),s(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ab.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:s=_T,onActivation:r}=e,{active:o}=t;const{code:c}=n.nativeEvent;if(s.start.includes(c)){const u=o.activatorNode.current;return u&&n.target!==u?!1:(n.preventDefault(),r?.({event:n.nativeEvent}),!0)}return!1}}];function YS(n){return!!(n&&"distance"in n)}function KS(n){return!!(n&&"delay"in n)}class ob{constructor(e,t,s){var r;s===void 0&&(s=rU(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:c}=o;this.props=e,this.events=t,this.document=Cl(c),this.documentListeners=new Oc(this.document),this.listeners=new Oc(s),this.windowListeners=new Oc(Kn(c)),this.initialCoordinates=(r=Vv(o))!=null?r:Bs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ss.Resize,this.handleCancel),this.windowListeners.add(Ss.DragStart,qS),this.windowListeners.add(Ss.VisibilityChange,this.handleCancel),this.windowListeners.add(Ss.ContextMenu,qS),this.documentListeners.add(Ss.Keydown,this.handleKeydown),t){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(KS(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(YS(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:s,onPending:r}=this.props;r(s,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ss.Click,aU,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ss.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:s,initialCoordinates:r,props:o}=this,{onMove:c,options:{activationConstraint:u}}=o;if(!r)return;const h=(t=Vv(e))!=null?t:Bs,m=Kc(r,h);if(!s&&u){if(YS(u)){if(u.tolerance!=null&&Wg(m,u.tolerance))return this.handleCancel();if(Wg(m,u.distance))return this.handleStart()}if(KS(u)&&Wg(m,u.tolerance))return this.handleCancel();this.handlePending(u,m);return}e.cancelable&&e.preventDefault(),c(h)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===et.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const lU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class lb extends ob{constructor(e){const{event:t}=e,s=Cl(t.target);super(e,lU,s)}}lb.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s?.({event:t}),!0)}}];const cU={move:{name:"mousemove"},end:{name:"mouseup"}};var Hv;(function(n){n[n.RightClick=2]="RightClick"})(Hv||(Hv={}));class uU extends ob{constructor(e){super(e,cU,Cl(e.event.target))}}uU.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return t.button===Hv.RightClick?!1:(s?.({event:t}),!0)}}];const Gg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class NT extends ob{constructor(e){super(e,Gg)}static setup(){return window.addEventListener(Gg.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Gg.move.name,e)};function e(){}}}NT.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;const{touches:r}=t;return r.length>1?!1:(s?.({event:t}),!0)}}];var Dc;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Dc||(Dc={}));var sf;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(sf||(sf={}));function dU(n){let{acceleration:e,activator:t=Dc.Pointer,canScroll:s,draggingRect:r,enabled:o,interval:c=5,order:u=sf.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:v,delta:g,threshold:x}=n;const w=fU({delta:g,disabled:!o}),[S,C]=E$(),_=p.useRef({x:0,y:0}),N=p.useRef({x:0,y:0}),T=p.useMemo(()=>{switch(t){case Dc.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Dc.DraggableRect:return r}},[t,r,h]),M=p.useRef(null),j=p.useCallback(()=>{const I=M.current;if(!I)return;const O=_.current.x*N.current.x,B=_.current.y*N.current.y;I.scrollBy(O,B)},[]),P=p.useMemo(()=>u===sf.TreeOrder?[...m].reverse():m,[u,m]);p.useEffect(()=>{if(!o||!m.length||!T){C();return}for(const I of P){if(s?.(I)===!1)continue;const O=m.indexOf(I),B=v[O];if(!B)continue;const{direction:re,speed:le}=Z$(I,B,T,e,x);for(const te of["x","y"])w[te][re[te]]||(le[te]=0,re[te]=0);if(le.x>0||le.y>0){C(),M.current=I,S(j,c),_.current=le,N.current=re;return}}_.current={x:0,y:0},N.current={x:0,y:0},C()},[e,j,s,C,o,c,JSON.stringify(T),JSON.stringify(w),S,m,P,v,JSON.stringify(x)])}const hU={x:{[cn.Backward]:!1,[cn.Forward]:!1},y:{[cn.Backward]:!1,[cn.Forward]:!1}};function fU(n){let{delta:e,disabled:t}=n;const s=Bv(e);return xu(r=>{if(t||!s||!r)return hU;const o={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[cn.Backward]:r.x[cn.Backward]||o.x===-1,[cn.Forward]:r.x[cn.Forward]||o.x===1},y:{[cn.Backward]:r.y[cn.Backward]||o.y===-1,[cn.Forward]:r.y[cn.Forward]||o.y===1}}},[t,e,s])}function mU(n,e){const t=e!=null?n.get(e):void 0,s=t?t.node.current:null;return xu(r=>{var o;return e==null?null:(o=s??r)!=null?o:null},[s,e])}function pU(n,e){return p.useMemo(()=>n.reduce((t,s)=>{const{sensor:r}=s,o=r.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...t,...o]},[]),[n,e])}var Jc;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Jc||(Jc={}));var Wv;(function(n){n.Optimized="optimized"})(Wv||(Wv={}));const XS=new Map;function gU(n,e){let{dragging:t,dependencies:s,config:r}=e;const[o,c]=p.useState(null),{frequency:u,measure:h,strategy:m}=r,v=p.useRef(n),g=_(),x=Yc(g),w=p.useCallback(function(N){N===void 0&&(N=[]),!x.current&&c(T=>T===null?N:T.concat(N.filter(M=>!T.includes(M))))},[x]),S=p.useRef(null),C=xu(N=>{if(g&&!t)return XS;if(!N||N===XS||v.current!==n||o!=null){const T=new Map;for(let M of n){if(!M)continue;if(o&&o.length>0&&!o.includes(M.id)&&M.rect.current){T.set(M.id,M.rect.current);continue}const j=M.node.current,P=j?new rb(h(j),j):null;M.rect.current=P,P&&T.set(M.id,P)}return T}return N},[n,o,t,g,h]);return p.useEffect(()=>{v.current=n},[n]),p.useEffect(()=>{g||w()},[t,g]),p.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),p.useEffect(()=>{g||typeof u!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},u))},[u,g,w,...s]),{droppableRects:C,measureDroppableContainers:w,measuringScheduled:o!=null};function _(){switch(m){case Jc.Always:return!1;case Jc.BeforeDragging:return t;default:return!t}}}function TT(n,e){return xu(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function vU(n,e){return TT(n,e)}function bU(n){let{callback:e,disabled:t}=n;const s=sb(e),r=p.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,t]);return p.useEffect(()=>()=>r?.disconnect(),[r]),r}function Xf(n){let{callback:e,disabled:t}=n;const s=sb(e),r=p.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[t]);return p.useEffect(()=>()=>r?.disconnect(),[r]),r}function yU(n){return new rb(El(n),n)}function JS(n,e,t){e===void 0&&(e=yU);const[s,r]=p.useState(null);function o(){r(h=>{if(!n)return null;if(n.isConnected===!1){var m;return(m=h??t)!=null?m:null}const v=e(n);return JSON.stringify(h)===JSON.stringify(v)?h:v})}const c=bU({callback(h){if(n)for(const m of h){const{type:v,target:g}=m;if(v==="childList"&&g instanceof HTMLElement&&g.contains(n)){o();break}}}}),u=Xf({callback:o});return ui(()=>{o(),n?(u?.observe(n),c?.observe(document.body,{childList:!0,subtree:!0})):(u?.disconnect(),c?.disconnect())},[n]),s}function xU(n){const e=TT(n);return bT(n,e)}const QS=[];function wU(n){const e=p.useRef(n),t=xu(s=>n?s&&s!==QS&&n&&e.current&&n.parentNode===e.current.parentNode?s:Kf(n):QS,[n]);return p.useEffect(()=>{e.current=n},[n]),t}function SU(n){const[e,t]=p.useState(null),s=p.useRef(n),r=p.useCallback(o=>{const c=Hg(o.target);c&&t(u=>u?(u.set(c,Fv(c)),new Map(u)):null)},[]);return p.useEffect(()=>{const o=s.current;if(n!==o){c(o);const u=n.map(h=>{const m=Hg(h);return m?(m.addEventListener("scroll",r,{passive:!0}),[m,Fv(m)]):null}).filter(h=>h!=null);t(u.length?new Map(u):null),s.current=n}return()=>{c(n),c(o)};function c(u){u.forEach(h=>{const m=Hg(h);m?.removeEventListener("scroll",r)})}},[r,n]),p.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,c)=>Jo(o,c),Bs):ET(n):Bs,[n,e])}function ZS(n,e){e===void 0&&(e=[]);const t=p.useRef(null);return p.useEffect(()=>{t.current=null},e),p.useEffect(()=>{const s=n!==Bs;s&&!t.current&&(t.current=n),!s&&t.current&&(t.current=null)},[n]),t.current?Kc(n,t.current):Bs}function CU(n){p.useEffect(()=>{if(!Yf)return;const e=n.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function EU(n,e){return p.useMemo(()=>n.reduce((t,s)=>{let{eventName:r,handler:o}=s;return t[r]=c=>{o(c,e)},t},{}),[n,e])}function MT(n){return p.useMemo(()=>n?K$(n):null,[n])}const eC=[];function _U(n,e){e===void 0&&(e=El);const[t]=n,s=MT(t?Kn(t):null),[r,o]=p.useState(eC);function c(){o(()=>n.length?n.map(h=>ST(h)?s:new rb(e(h),h)):eC)}const u=Xf({callback:c});return ui(()=>{u?.disconnect(),c(),n.forEach(h=>u?.observe(h))},[n]),r}function NU(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return yu(e)?e:n}function TU(n){let{measure:e}=n;const[t,s]=p.useState(null),r=p.useCallback(m=>{for(const{target:v}of m)if(yu(v)){s(g=>{const x=e(v);return g?{...g,width:x.width,height:x.height}:x});break}},[e]),o=Xf({callback:r}),c=p.useCallback(m=>{const v=NU(m);o?.disconnect(),v&&o?.observe(v),s(v?e(v):null)},[e,o]),[u,h]=tf(c);return p.useMemo(()=>({nodeRef:u,rect:t,setRef:h}),[t,u,h])}const MU=[{sensor:lb,options:{}},{sensor:ab,options:{}}],RU={current:{}},Ih={draggable:{measure:GS},droppable:{measure:GS,strategy:Jc.WhileDragging,frequency:Wv.Optimized},dragOverlay:{measure:El}};class Ic extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,s;return(t=(s=this.get(e))==null?void 0:s.node.current)!=null?t:void 0}}const AU={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ic,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ih,measureDroppableContainers:nf,windowRect:null,measuringScheduled:!1},jU={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nf,draggableNodes:new Map,over:null,measureDroppableContainers:nf},Jf=p.createContext(jU),RT=p.createContext(AU);function kU(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ic}}}function OU(n,e){switch(e.type){case nn.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case nn.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case nn.DragEnd:case nn.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case nn.RegisterDroppable:{const{element:t}=e,{id:s}=t,r=new Ic(n.droppable.containers);return r.set(s,t),{...n,droppable:{...n.droppable,containers:r}}}case nn.SetDroppableDisabled:{const{id:t,key:s,disabled:r}=e,o=n.droppable.containers.get(t);if(!o||s!==o.key)return n;const c=new Ic(n.droppable.containers);return c.set(t,{...o,disabled:r}),{...n,droppable:{...n.droppable,containers:c}}}case nn.UnregisterDroppable:{const{id:t,key:s}=e,r=n.droppable.containers.get(t);if(!r||s!==r.key)return n;const o=new Ic(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function DU(n){let{disabled:e}=n;const{active:t,activatorEvent:s,draggableNodes:r}=p.useContext(Jf),o=Bv(s),c=Bv(t?.id);return p.useEffect(()=>{if(!e&&!s&&o&&c!=null){if(!ib(o)||document.activeElement===o.target)return;const u=r.get(c);if(!u)return;const{activatorNode:h,node:m}=u;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const v of[h.current,m.current]){if(!v)continue;const g=T$(v);if(g){g.focus();break}}})}},[s,e,r,c,o]),null}function IU(n,e){let{transform:t,...s}=e;return n!=null&&n.length?n.reduce((r,o)=>o({transform:r,...s}),t):t}function LU(n){return p.useMemo(()=>({draggable:{...Ih.draggable,...n?.draggable},droppable:{...Ih.droppable,...n?.droppable},dragOverlay:{...Ih.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function PU(n){let{activeNode:e,measure:t,initialRect:s,config:r=!0}=n;const o=p.useRef(!1),{x:c,y:u}=typeof r=="boolean"?{x:r,y:r}:r;ui(()=>{if(!c&&!u||!e){o.current=!1;return}if(o.current||!s)return;const m=e?.node.current;if(!m||m.isConnected===!1)return;const v=t(m),g=bT(v,s);if(c||(g.x=0),u||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const x=yT(m);x&&x.scrollBy({top:g.y,left:g.x})}},[e,c,u,s,t])}const AT=p.createContext({...Bs,scaleX:1,scaleY:1});var kr;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(kr||(kr={}));const zU=p.memo(function(e){var t,s,r,o;let{id:c,accessibility:u,autoScroll:h=!0,children:m,sensors:v=MU,collisionDetection:g=V$,measuring:x,modifiers:w,...S}=e;const C=p.useReducer(OU,void 0,kU),[_,N]=C,[T,M]=O$(),[j,P]=p.useState(kr.Uninitialized),I=j===kr.Initialized,{draggable:{active:O,nodes:B,translate:re},droppable:{containers:le}}=_,te=O!=null?B.get(O):null,he=p.useRef({initial:null,translated:null}),oe=p.useMemo(()=>{var Tt;return O!=null?{id:O,data:(Tt=te?.data)!=null?Tt:RU,rect:he}:null},[O,te]),ce=p.useRef(null),[ne,k]=p.useState(null),[W,V]=p.useState(null),Y=Yc(S,Object.values(S)),me=wu("DndDescribedBy",c),D=p.useMemo(()=>le.getEnabled(),[le]),R=LU(x),{droppableRects:z,measureDroppableContainers:$,measuringScheduled:J}=gU(D,{dragging:I,dependencies:[re.x,re.y],config:R.droppable}),Q=mU(B,O),q=p.useMemo(()=>W?Vv(W):null,[W]),ae=ds(),be=vU(Q,R.draggable.measure);PU({activeNode:O!=null?B.get(O):null,config:ae.layoutShiftCompensation,initialRect:be,measure:R.draggable.measure});const we=JS(Q,R.draggable.measure,be),Ve=JS(Q?Q.parentElement:null),He=p.useRef({activatorEvent:null,active:null,activeNode:Q,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:B,draggingNode:null,draggingNodeRect:null,droppableContainers:le,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xt=le.getNodeFor((t=He.current.over)==null?void 0:t.id),ct=TU({measure:R.dragOverlay.measure}),At=(s=ct.nodeRef.current)!=null?s:Q,Le=I?(r=ct.rect)!=null?r:we:null,_t=!!(ct.nodeRef.current&&ct.rect),qt=xU(_t?null:we),Ke=MT(At?Kn(At):null),pt=wU(I?xt??Q:null),Qt=_U(pt),ut=IU(w,{transform:{x:re.x-qt.x,y:re.y-qt.y,scaleX:1,scaleY:1},activatorEvent:W,active:oe,activeNodeRect:we,containerNodeRect:Ve,draggingNodeRect:Le,over:He.current.over,overlayNodeRect:ct.rect,scrollableAncestors:pt,scrollableAncestorRects:Qt,windowRect:Ke}),En=q?Jo(q,re):null,Nt=SU(pt),Hs=ZS(Nt),un=ZS(Nt,[we]),rn=Jo(ut,Hs),Ut=Le?W$(Le,ut):null,_n=oe&&Ut?g({active:oe,collisionRect:Ut,droppableRects:z,droppableContainers:D,pointerCoordinates:En}):null,vn=vT(_n,"id"),[bn,yn]=p.useState(null),us=_t?ut:Jo(ut,un),Bt=F$(us,(o=bn?.rect)!=null?o:null,we),jt=p.useRef(null),kt=p.useCallback((Tt,wt)=>{let{sensor:Ee,options:We}=wt;if(ce.current==null)return;const Oe=B.get(ce.current);if(!Oe)return;const Xe=Tt.nativeEvent,Mt=new Ee({active:ce.current,activeNode:Oe,event:Xe,options:We,context:He,onAbort(nt){if(!B.get(nt))return;const{onDragAbort:dt}=Y.current,ht={id:nt};dt?.(ht),T({type:"onDragAbort",event:ht})},onPending(nt,on,dt,ht){if(!B.get(nt))return;const{onDragPending:Zt}=Y.current,Nn={id:nt,constraint:on,initialCoordinates:dt,offset:ht};Zt?.(Nn),T({type:"onDragPending",event:Nn})},onStart(nt){const on=ce.current;if(on==null)return;const dt=B.get(on);if(!dt)return;const{onDragStart:ht}=Y.current,On={activatorEvent:Xe,active:{id:on,data:dt.data,rect:he}};$i.unstable_batchedUpdates(()=>{ht?.(On),P(kr.Initializing),N({type:nn.DragStart,initialCoordinates:nt,active:on}),T({type:"onDragStart",event:On}),k(jt.current),V(Xe)})},onMove(nt){N({type:nn.DragMove,coordinates:nt})},onEnd:rt(nn.DragEnd),onCancel:rt(nn.DragCancel)});jt.current=Mt;function rt(nt){return async function(){const{active:dt,collisions:ht,over:On,scrollAdjustedTranslate:Zt}=He.current;let Nn=null;if(dt&&Zt){const{cancelDrop:Jn}=Y.current;Nn={activatorEvent:Xe,active:dt,collisions:ht,delta:Zt,over:On},nt===nn.DragEnd&&typeof Jn=="function"&&await Promise.resolve(Jn(Nn))&&(nt=nn.DragCancel)}ce.current=null,$i.unstable_batchedUpdates(()=>{N({type:nt}),P(kr.Uninitialized),yn(null),k(null),V(null),jt.current=null;const Jn=nt===nn.DragEnd?"onDragEnd":"onDragCancel";if(Nn){const Dn=Y.current[Jn];Dn?.(Nn),T({type:Jn,event:Nn})}})}}},[B]),Zi=p.useCallback((Tt,wt)=>(Ee,We)=>{const Oe=Ee.nativeEvent,Xe=B.get(We);if(ce.current!==null||!Xe||Oe.dndKit||Oe.defaultPrevented)return;const Mt={active:Xe};Tt(Ee,wt.options,Mt)===!0&&(Oe.dndKit={capturedBy:wt.sensor},ce.current=We,kt(Ee,wt))},[B,kt]),it=pU(v,Zi);CU(v),ui(()=>{we&&j===kr.Initializing&&P(kr.Initialized)},[we,j]),p.useEffect(()=>{const{onDragMove:Tt}=Y.current,{active:wt,activatorEvent:Ee,collisions:We,over:Oe}=He.current;if(!wt||!Ee)return;const Xe={active:wt,activatorEvent:Ee,collisions:We,delta:{x:rn.x,y:rn.y},over:Oe};$i.unstable_batchedUpdates(()=>{Tt?.(Xe),T({type:"onDragMove",event:Xe})})},[rn.x,rn.y]),p.useEffect(()=>{const{active:Tt,activatorEvent:wt,collisions:Ee,droppableContainers:We,scrollAdjustedTranslate:Oe}=He.current;if(!Tt||ce.current==null||!wt||!Oe)return;const{onDragOver:Xe}=Y.current,Mt=We.get(vn),rt=Mt&&Mt.rect.current?{id:Mt.id,rect:Mt.rect.current,data:Mt.data,disabled:Mt.disabled}:null,nt={active:Tt,activatorEvent:wt,collisions:Ee,delta:{x:Oe.x,y:Oe.y},over:rt};$i.unstable_batchedUpdates(()=>{yn(rt),Xe?.(nt),T({type:"onDragOver",event:nt})})},[vn]),ui(()=>{He.current={activatorEvent:W,active:oe,activeNode:Q,collisionRect:Ut,collisions:_n,droppableRects:z,draggableNodes:B,draggingNode:At,draggingNodeRect:Le,droppableContainers:le,over:bn,scrollableAncestors:pt,scrollAdjustedTranslate:rn},he.current={initial:Le,translated:Ut}},[oe,Q,_n,Ut,B,At,Le,z,le,bn,pt,rn]),dU({...ae,delta:re,draggingRect:Ut,pointerCoordinates:En,scrollableAncestors:pt,scrollableAncestorRects:Qt});const dn=p.useMemo(()=>({active:oe,activeNode:Q,activeNodeRect:we,activatorEvent:W,collisions:_n,containerNodeRect:Ve,dragOverlay:ct,draggableNodes:B,droppableContainers:le,droppableRects:z,over:bn,measureDroppableContainers:$,scrollableAncestors:pt,scrollableAncestorRects:Qt,measuringConfiguration:R,measuringScheduled:J,windowRect:Ke}),[oe,Q,we,W,_n,Ve,ct,B,le,z,bn,$,pt,Qt,R,J,Ke]),an=p.useMemo(()=>({activatorEvent:W,activators:it,active:oe,activeNodeRect:we,ariaDescribedById:{draggable:me},dispatch:N,draggableNodes:B,over:bn,measureDroppableContainers:$}),[W,it,oe,we,N,me,B,bn,$]);return ve.createElement(mT.Provider,{value:M},ve.createElement(Jf.Provider,{value:an},ve.createElement(RT.Provider,{value:dn},ve.createElement(AT.Provider,{value:Bt},m)),ve.createElement(DU,{disabled:u?.restoreFocus===!1})),ve.createElement(L$,{...u,hiddenTextDescribedById:me}));function ds(){const Tt=ne?.autoScrollEnabled===!1,wt=typeof h=="object"?h.enabled===!1:h===!1,Ee=I&&!Tt&&!wt;return typeof h=="object"?{...h,enabled:Ee}:{enabled:Ee}}}),$U=p.createContext(null),tC="button",UU="Draggable";function BU(n){let{id:e,data:t,disabled:s=!1,attributes:r}=n;const o=wu(UU),{activators:c,activatorEvent:u,active:h,activeNodeRect:m,ariaDescribedById:v,draggableNodes:g,over:x}=p.useContext(Jf),{role:w=tC,roleDescription:S="draggable",tabIndex:C=0}=r??{},_=h?.id===e,N=p.useContext(_?AT:$U),[T,M]=tf(),[j,P]=tf(),I=EU(c,e),O=Yc(t);ui(()=>(g.set(e,{id:e,key:o,node:T,activatorNode:j,data:O}),()=>{const re=g.get(e);re&&re.key===o&&g.delete(e)}),[g,e]);const B=p.useMemo(()=>({role:w,tabIndex:C,"aria-disabled":s,"aria-pressed":_&&w===tC?!0:void 0,"aria-roledescription":S,"aria-describedby":v.draggable}),[s,w,C,_,S,v.draggable]);return{active:h,activatorEvent:u,activeNodeRect:m,attributes:B,isDragging:_,listeners:s?void 0:I,node:T,over:x,setNodeRef:M,setActivatorNodeRef:P,transform:N}}function VU(){return p.useContext(RT)}const FU="Droppable",HU={timeout:25};function WU(n){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:r}=n;const o=wu(FU),{active:c,dispatch:u,over:h,measureDroppableContainers:m}=p.useContext(Jf),v=p.useRef({disabled:t}),g=p.useRef(!1),x=p.useRef(null),w=p.useRef(null),{disabled:S,updateMeasurementsFor:C,timeout:_}={...HU,...r},N=Yc(C??s),T=p.useCallback(()=>{if(!g.current){g.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{m(Array.isArray(N.current)?N.current:[N.current]),w.current=null},_)},[_]),M=Xf({callback:T,disabled:S||!c}),j=p.useCallback((B,re)=>{M&&(re&&(M.unobserve(re),g.current=!1),B&&M.observe(B))},[M]),[P,I]=tf(j),O=Yc(e);return p.useEffect(()=>{!M||!P.current||(M.disconnect(),g.current=!1,M.observe(P.current))},[P,M]),p.useEffect(()=>(u({type:nn.RegisterDroppable,element:{id:s,key:o,disabled:t,node:P,rect:x,data:O}}),()=>u({type:nn.UnregisterDroppable,key:o,id:s})),[s]),p.useEffect(()=>{t!==v.current.disabled&&(u({type:nn.SetDroppableDisabled,id:s,key:o,disabled:t}),v.current.disabled=t)},[s,o,t,u]),{active:c,rect:x,isOver:h?.id===s,node:P,over:h,setNodeRef:I}}function jT(n,e,t){const s=n.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function GU(n,e){return n.reduce((t,s,r)=>{const o=e.get(s);return o&&(t[r]=o),t},Array(n.length))}function ah(n){return n!==null&&n>=0}function qU(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function YU(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const kT=n=>{let{rects:e,activeIndex:t,overIndex:s,index:r}=n;const o=jT(e,s,t),c=e[r],u=o[r];return!u||!c?null:{x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height}},oh={scaleX:1,scaleY:1},KU=n=>{var e;let{activeIndex:t,activeNodeRect:s,index:r,rects:o,overIndex:c}=n;const u=(e=o[t])!=null?e:s;if(!u)return null;if(r===t){const m=o[c];return m?{x:0,y:t<c?m.top+m.height-(u.top+u.height):m.top-u.top,...oh}:null}const h=XU(o,r,t);return r>t&&r<=c?{x:0,y:-u.height-h,...oh}:r<t&&r>=c?{x:0,y:u.height+h,...oh}:{x:0,y:0,...oh}};function XU(n,e,t){const s=n[e],r=n[e-1],o=n[e+1];return s?t<e?r?s.top-(r.top+r.height):o?o.top-(s.top+s.height):0:o?o.top-(s.top+s.height):r?s.top-(r.top+r.height):0:0}const OT="Sortable",DT=ve.createContext({activeIndex:-1,containerId:OT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kT,disabled:{draggable:!1,droppable:!1}});function JU(n){let{children:e,id:t,items:s,strategy:r=kT,disabled:o=!1}=n;const{active:c,dragOverlay:u,droppableRects:h,over:m,measureDroppableContainers:v}=VU(),g=wu(OT,t),x=u.rect!==null,w=p.useMemo(()=>s.map(I=>typeof I=="object"&&"id"in I?I.id:I),[s]),S=c!=null,C=c?w.indexOf(c.id):-1,_=m?w.indexOf(m.id):-1,N=p.useRef(w),T=!qU(w,N.current),M=_!==-1&&C===-1||T,j=YU(o);ui(()=>{T&&S&&v(w)},[T,w,S,v]),p.useEffect(()=>{N.current=w},[w]);const P=p.useMemo(()=>({activeIndex:C,containerId:g,disabled:j,disableTransforms:M,items:w,overIndex:_,useDragOverlay:x,sortedRects:GU(w,h),strategy:r}),[C,g,j.draggable,j.droppable,M,w,_,h,x,r]);return ve.createElement(DT.Provider,{value:P},e)}const QU=n=>{let{id:e,items:t,activeIndex:s,overIndex:r}=n;return jT(t,s,r).indexOf(e)},ZU=n=>{let{containerId:e,isSorting:t,wasDragging:s,index:r,items:o,newIndex:c,previousItems:u,previousContainerId:h,transition:m}=n;return!m||!s||u!==o&&r===c?!1:t?!0:c!==r&&e===h},eB={duration:200,easing:"ease"},IT="transform",tB=Xc.Transition.toString({property:IT,duration:0,easing:"linear"}),nB={roleDescription:"sortable"};function sB(n){let{disabled:e,index:t,node:s,rect:r}=n;const[o,c]=p.useState(null),u=p.useRef(t);return ui(()=>{if(!e&&t!==u.current&&s.current){const h=r.current;if(h){const m=El(s.current,{ignoreTransform:!0}),v={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(v.x||v.y)&&c(v)}}t!==u.current&&(u.current=t)},[e,t,s,r]),p.useEffect(()=>{o&&c(null)},[o]),o}function iB(n){let{animateLayoutChanges:e=ZU,attributes:t,disabled:s,data:r,getNewIndex:o=QU,id:c,strategy:u,resizeObserverConfig:h,transition:m=eB}=n;const{items:v,containerId:g,activeIndex:x,disabled:w,disableTransforms:S,sortedRects:C,overIndex:_,useDragOverlay:N,strategy:T}=p.useContext(DT),M=rB(s,w),j=v.indexOf(c),P=p.useMemo(()=>({sortable:{containerId:g,index:j,items:v},...r}),[g,r,j,v]),I=p.useMemo(()=>v.slice(v.indexOf(c)),[v,c]),{rect:O,node:B,isOver:re,setNodeRef:le}=WU({id:c,data:P,disabled:M.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...h}}),{active:te,activatorEvent:he,activeNodeRect:oe,attributes:ce,setNodeRef:ne,listeners:k,isDragging:W,over:V,setActivatorNodeRef:Y,transform:me}=BU({id:c,data:P,attributes:{...nB,...t},disabled:M.draggable}),D=C$(le,ne),R=!!te,z=R&&!S&&ah(x)&&ah(_),$=!N&&W,J=$&&z?me:null,q=z?J??(u??T)({rects:C,activeNodeRect:oe,activeIndex:x,overIndex:_,index:j}):null,ae=ah(x)&&ah(_)?o({id:c,items:v,activeIndex:x,overIndex:_}):j,be=te?.id,we=p.useRef({activeId:be,items:v,newIndex:ae,containerId:g}),Ve=v!==we.current.items,He=e({active:te,containerId:g,isDragging:W,isSorting:R,id:c,index:j,items:v,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:m,wasDragging:we.current.activeId!=null}),xt=sB({disabled:!He,index:j,node:B,rect:O});return p.useEffect(()=>{R&&we.current.newIndex!==ae&&(we.current.newIndex=ae),g!==we.current.containerId&&(we.current.containerId=g),v!==we.current.items&&(we.current.items=v)},[R,ae,g,v]),p.useEffect(()=>{if(be===we.current.activeId)return;if(be!=null&&we.current.activeId==null){we.current.activeId=be;return}const At=setTimeout(()=>{we.current.activeId=be},50);return()=>clearTimeout(At)},[be]),{active:te,activeIndex:x,attributes:ce,data:P,rect:O,index:j,newIndex:ae,items:v,isOver:re,isSorting:R,isDragging:W,listeners:k,node:B,overIndex:_,over:V,setNodeRef:D,setActivatorNodeRef:Y,setDroppableNodeRef:le,setDraggableNodeRef:ne,transform:xt??q,transition:ct()};function ct(){if(xt||Ve&&we.current.newIndex===j)return tB;if(!($&&!ib(he)||!m)&&(R||He))return Xc.Transition.toString({...m,property:IT})}}function rB(n,e){var t,s;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(s=n?.droppable)!=null?s:e.droppable}}function rf(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const aB=[et.Down,et.Right,et.Up,et.Left],oB=(n,e)=>{let{context:{active:t,collisionRect:s,droppableRects:r,droppableContainers:o,over:c,scrollableAncestors:u}}=e;if(aB.includes(n.code)){if(n.preventDefault(),!t||!s)return;const h=[];o.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const x=r.get(g.id);if(x)switch(n.code){case et.Down:s.top<x.top&&h.push(g);break;case et.Up:s.top>x.top&&h.push(g);break;case et.Left:s.left>x.left&&h.push(g);break;case et.Right:s.left<x.left&&h.push(g);break}});const m=U$({collisionRect:s,droppableRects:r,droppableContainers:h});let v=vT(m,"id");if(v===c?.id&&m.length>1&&(v=m[1].id),v!=null){const g=o.get(t.id),x=o.get(v),w=x?r.get(x.id):null,S=x?.node.current;if(S&&w&&g&&x){const _=Kf(S).some((I,O)=>u[O]!==I),N=LT(g,x),T=lB(g,x),M=_||!N?{x:0,y:0}:{x:T?s.width-w.width:0,y:T?s.height-w.height:0},j={x:w.left,y:w.top};return M.x&&M.y?j:Kc(j,M)}}}};function LT(n,e){return!rf(n)||!rf(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function lB(n,e){return!rf(n)||!rf(e)||!LT(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}function cB(n){const e=uB(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(hB);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function uB(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=mB(r),u=fB(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var dB=Symbol("radix.slottable");function hB(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===dB}function fB(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function mB(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var pB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gB=pB.reduce((n,e)=>{const t=cB(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),cb="ContextMenu",[vB]=Ns(cb,[$f]),kn=$f(),[bB,PT]=vB(cb),zT=n=>{const{__scopeContextMenu:e,children:t,onOpenChange:s,dir:r,modal:o=!0}=n,[c,u]=p.useState(!1),h=kn(e),m=li(s),v=p.useCallback(g=>{u(g),m(g)},[m]);return f.jsx(bB,{scope:e,open:c,onOpenChange:v,modal:o,children:f.jsx(JN,{...h,dir:r,open:c,onOpenChange:v,modal:o,children:t})})};zT.displayName=cb;var $T="ContextMenuTrigger",UT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,disabled:s=!1,...r}=n,o=PT($T,t),c=kn(t),u=p.useRef({x:0,y:0}),h=p.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...u.current})}),m=p.useRef(0),v=p.useCallback(()=>window.clearTimeout(m.current),[]),g=x=>{u.current={x:x.clientX,y:x.clientY},o.onOpenChange(!0)};return p.useEffect(()=>v,[v]),p.useEffect(()=>{s&&v()},[s,v]),f.jsxs(f.Fragment,{children:[f.jsx(QN,{...c,virtualRef:h}),f.jsx(gB.span,{"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,...r,ref:e,style:{WebkitTouchCallout:"none",...n.style},onContextMenu:s?n.onContextMenu:Ae(n.onContextMenu,x=>{v(),g(x),x.preventDefault()}),onPointerDown:s?n.onPointerDown:Ae(n.onPointerDown,lh(x=>{v(),m.current=window.setTimeout(()=>g(x),700)})),onPointerMove:s?n.onPointerMove:Ae(n.onPointerMove,lh(v)),onPointerCancel:s?n.onPointerCancel:Ae(n.onPointerCancel,lh(v)),onPointerUp:s?n.onPointerUp:Ae(n.onPointerUp,lh(v))})]})});UT.displayName=$T;var yB="ContextMenuPortal",BT=n=>{const{__scopeContextMenu:e,...t}=n,s=kn(e);return f.jsx(ZN,{...s,...t})};BT.displayName=yB;var VT="ContextMenuContent",FT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=PT(VT,t),o=kn(t),c=p.useRef(!1);return f.jsx(e2,{...o,...s,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:u=>{n.onCloseAutoFocus?.(u),!u.defaultPrevented&&c.current&&u.preventDefault(),c.current=!1},onInteractOutside:u=>{n.onInteractOutside?.(u),!u.defaultPrevented&&!r.modal&&(c.current=!0)},style:{...n.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FT.displayName=VT;var xB="ContextMenuGroup",wB=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(t2,{...r,...s,ref:e})});wB.displayName=xB;var SB="ContextMenuLabel",HT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(n2,{...r,...s,ref:e})});HT.displayName=SB;var CB="ContextMenuItem",WT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(s2,{...r,...s,ref:e})});WT.displayName=CB;var EB="ContextMenuCheckboxItem",GT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(i2,{...r,...s,ref:e})});GT.displayName=EB;var _B="ContextMenuRadioGroup",NB=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(r2,{...r,...s,ref:e})});NB.displayName=_B;var TB="ContextMenuRadioItem",qT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(a2,{...r,...s,ref:e})});qT.displayName=TB;var MB="ContextMenuItemIndicator",YT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(o2,{...r,...s,ref:e})});YT.displayName=MB;var RB="ContextMenuSeparator",KT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(l2,{...r,...s,ref:e})});KT.displayName=RB;var AB="ContextMenuArrow",jB=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(c2,{...r,...s,ref:e})});jB.displayName=AB;var kB="ContextMenuSubTrigger",XT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(u2,{...r,...s,ref:e})});XT.displayName=kB;var OB="ContextMenuSubContent",JT=p.forwardRef((n,e)=>{const{__scopeContextMenu:t,...s}=n,r=kn(t);return f.jsx(d2,{...r,...s,ref:e,style:{...n.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JT.displayName=OB;function lh(n){return e=>e.pointerType!=="mouse"?n(e):void 0}var DB=zT,IB=UT,LB=BT,QT=FT,ZT=HT,eM=WT,tM=GT,nM=qT,sM=YT,iM=KT,rM=XT,aM=JT;const oM=DB,lM=IB,PB=p.forwardRef(({className:n,inset:e,children:t,...s},r)=>f.jsxs(rM,{ref:r,className:Ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",n),...s,children:[t,f.jsx(M0,{className:"ml-auto h-4 w-4"})]}));PB.displayName=rM.displayName;const zB=p.forwardRef(({className:n,...e},t)=>f.jsx(aM,{ref:t,className:Ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",n),...e}));zB.displayName=aM.displayName;const ub=p.forwardRef(({className:n,...e},t)=>f.jsx(LB,{children:f.jsx(QT,{ref:t,className:Ce("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",n),...e})}));ub.displayName=QT.displayName;const Da=p.forwardRef(({className:n,inset:e,...t},s)=>f.jsx(eM,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",n),...t}));Da.displayName=eM.displayName;const $B=p.forwardRef(({className:n,children:e,checked:t,...s},r)=>f.jsxs(tM,{ref:r,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...s,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(sM,{children:f.jsx(T0,{className:"h-4 w-4"})})}),e]}));$B.displayName=tM.displayName;const UB=p.forwardRef(({className:n,children:e,...t},s)=>f.jsxs(nM,{ref:s,className:Ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(sM,{children:f.jsx(F_,{className:"h-4 w-4 fill-current"})})}),e]}));UB.displayName=nM.displayName;const BB=p.forwardRef(({className:n,inset:e,...t},s)=>f.jsx(ZT,{ref:s,className:Ce("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",n),...t}));BB.displayName=ZT.displayName;const VB=p.forwardRef(({className:n,...e},t)=>f.jsx(iM,{ref:t,className:Ce("-mx-1 my-1 h-px bg-border",n),...e}));VB.displayName=iM.displayName;function cM(n){const e=p.useRef({value:n,previous:n});return p.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}function FB(n){const e=HB(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(GB);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function HB(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=YB(r),u=qB(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var WB=Symbol("radix.slottable");function GB(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===WB}function qB(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function YB(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var KB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],db=KB.reduce((n,e)=>{const t=FB(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),Qf="Checkbox",[XB]=Ns(Qf),[JB,hb]=XB(Qf);function QB(n){const{__scopeCheckbox:e,checked:t,children:s,defaultChecked:r,disabled:o,form:c,name:u,onCheckedChange:h,required:m,value:v="on",internal_do_not_use_render:g}=n,[x,w]=Qr({prop:t,defaultProp:r??!1,onChange:h,caller:Qf}),[S,C]=p.useState(null),[_,N]=p.useState(null),T=p.useRef(!1),M=S?!!c||!!S.closest("form"):!0,j={checked:x,disabled:o,setChecked:w,control:S,setControl:C,name:u,form:c,value:v,hasConsumerStoppedPropagationRef:T,required:m,defaultChecked:Br(r)?!1:r,isFormControl:M,bubbleInput:_,setBubbleInput:N};return f.jsx(JB,{scope:e,...j,children:ZB(g)?g(j):s})}var uM="CheckboxTrigger",dM=p.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...s},r)=>{const{control:o,value:c,disabled:u,checked:h,required:m,setControl:v,setChecked:g,hasConsumerStoppedPropagationRef:x,isFormControl:w,bubbleInput:S}=hb(uM,n),C=Lt(r,v),_=p.useRef(h);return p.useEffect(()=>{const N=o?.form;if(N){const T=()=>g(_.current);return N.addEventListener("reset",T),()=>N.removeEventListener("reset",T)}},[o,g]),f.jsx(db.button,{type:"button",role:"checkbox","aria-checked":Br(h)?"mixed":h,"aria-required":m,"data-state":gM(h),"data-disabled":u?"":void 0,disabled:u,value:c,...s,ref:C,onKeyDown:Ae(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ae(t,N=>{g(T=>Br(T)?!0:!T),S&&w&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})})});dM.displayName=uM;var fb=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:s,checked:r,defaultChecked:o,required:c,disabled:u,value:h,onCheckedChange:m,form:v,...g}=n;return f.jsx(QB,{__scopeCheckbox:t,checked:r,defaultChecked:o,disabled:u,required:c,onCheckedChange:m,name:s,form:v,value:h,internal_do_not_use_render:({isFormControl:x})=>f.jsxs(f.Fragment,{children:[f.jsx(dM,{...g,ref:e,__scopeCheckbox:t}),x&&f.jsx(pM,{__scopeCheckbox:t})]})})});fb.displayName=Qf;var hM="CheckboxIndicator",fM=p.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:s,...r}=n,o=hb(hM,t);return f.jsx(Yn,{present:s||Br(o.checked)||o.checked===!0,children:f.jsx(db.span,{"data-state":gM(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...n.style}})})});fM.displayName=hM;var mM="CheckboxBubbleInput",pM=p.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:o,defaultChecked:c,required:u,disabled:h,name:m,value:v,form:g,bubbleInput:x,setBubbleInput:w}=hb(mM,n),S=Lt(t,w),C=cM(o),_=L0(s);p.useEffect(()=>{const T=x;if(!T)return;const M=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(M,"checked").set,I=!r.current;if(C!==o&&P){const O=new Event("click",{bubbles:I});T.indeterminate=Br(o),P.call(T,Br(o)?!1:o),T.dispatchEvent(O)}},[x,C,o,r]);const N=p.useRef(Br(o)?!1:o);return f.jsx(db.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:u,disabled:h,name:m,value:v,form:g,...e,tabIndex:-1,ref:S,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});pM.displayName=mM;function ZB(n){return typeof n=="function"}function Br(n){return n==="indeterminate"}function gM(n){return Br(n)?"indeterminate":n?"checked":"unchecked"}const vM=p.forwardRef(({className:n,...e},t)=>f.jsx(fb,{ref:t,className:Ce("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:f.jsx(fM,{className:Ce("grid place-content-center text-current"),children:f.jsx(T0,{className:"h-4 w-4"})})}));vM.displayName=fb.displayName;function e8(n){const e=t8(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(s8);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function t8(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=r8(r),u=i8(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var bM=Symbol("radix.slottable");function n8(n){const e=({children:t})=>f.jsx(f.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=bM,e}function s8(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===bM}function i8(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function r8(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var a8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],o8=a8.reduce((n,e)=>{const t=e8(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{});function l8(n){const e=c8(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(d8);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function c8(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=f8(r),u=h8(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var u8=Symbol("radix.slottable");function d8(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===u8}function h8(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function f8(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var m8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],p8=m8.reduce((n,e)=>{const t=l8(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),g8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),v8="VisuallyHidden",yM=p.forwardRef((n,e)=>f.jsx(p8.span,{...n,ref:e,style:{...g8,...n.style}}));yM.displayName=v8;var b8=yM,[Zf]=Ns("Tooltip",[yl]),em=yl(),xM="TooltipProvider",y8=700,Gv="tooltip.open",[x8,mb]=Zf(xM),wM=n=>{const{__scopeTooltip:e,delayDuration:t=y8,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:o}=n,c=p.useRef(!0),u=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),f.jsx(x8,{scope:e,isOpenDelayedRef:c,delayDuration:t,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:p.useCallback(m=>{u.current=m},[]),disableHoverableContent:r,children:o})};wM.displayName=xM;var Qc="Tooltip",[w8,Su]=Zf(Qc),SM=n=>{const{__scopeTooltip:e,children:t,open:s,defaultOpen:r,onOpenChange:o,disableHoverableContent:c,delayDuration:u}=n,h=mb(Qc,n.__scopeTooltip),m=em(e),[v,g]=p.useState(null),x=Mn(),w=p.useRef(0),S=c??h.disableHoverableContent,C=u??h.delayDuration,_=p.useRef(!1),[N,T]=Qr({prop:s,defaultProp:r??!1,onChange:O=>{O?(h.onOpen(),document.dispatchEvent(new CustomEvent(Gv))):h.onClose(),o?.(O)},caller:Qc}),M=p.useMemo(()=>N?_.current?"delayed-open":"instant-open":"closed",[N]),j=p.useCallback(()=>{window.clearTimeout(w.current),w.current=0,_.current=!1,T(!0)},[T]),P=p.useCallback(()=>{window.clearTimeout(w.current),w.current=0,T(!1)},[T]),I=p.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{_.current=!0,T(!0),w.current=0},C)},[C,T]);return p.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),f.jsx($0,{...m,children:f.jsx(w8,{scope:e,contentId:x,open:N,stateAttribute:M,trigger:v,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{h.isOpenDelayedRef.current?I():j()},[h.isOpenDelayedRef,I,j]),onTriggerLeave:p.useCallback(()=>{S?P():(window.clearTimeout(w.current),w.current=0)},[P,S]),onOpen:j,onClose:P,disableHoverableContent:S,children:t})})};SM.displayName=Qc;var qv="TooltipTrigger",CM=p.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=Su(qv,t),o=mb(qv,t),c=em(t),u=p.useRef(null),h=Lt(e,u,r.onTriggerChange),m=p.useRef(!1),v=p.useRef(!1),g=p.useCallback(()=>m.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),f.jsx(Lf,{asChild:!0,...c,children:f.jsx(o8.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:h,onPointerMove:Ae(n.onPointerMove,x=>{x.pointerType!=="touch"&&!v.current&&!o.isPointerInTransitRef.current&&(r.onTriggerEnter(),v.current=!0)}),onPointerLeave:Ae(n.onPointerLeave,()=>{r.onTriggerLeave(),v.current=!1}),onPointerDown:Ae(n.onPointerDown,()=>{r.open&&r.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ae(n.onFocus,()=>{m.current||r.onOpen()}),onBlur:Ae(n.onBlur,r.onClose),onClick:Ae(n.onClick,r.onClose)})})});CM.displayName=qv;var pb="TooltipPortal",[S8,C8]=Zf(pb,{forceMount:void 0}),EM=n=>{const{__scopeTooltip:e,forceMount:t,children:s,container:r}=n,o=Su(pb,e);return f.jsx(S8,{scope:e,forceMount:t,children:f.jsx(Yn,{present:t||o.open,children:f.jsx(du,{asChild:!0,container:r,children:s})})})};EM.displayName=pb;var ol="TooltipContent",_M=p.forwardRef((n,e)=>{const t=C8(ol,n.__scopeTooltip),{forceMount:s=t.forceMount,side:r="top",...o}=n,c=Su(ol,n.__scopeTooltip);return f.jsx(Yn,{present:s||c.open,children:c.disableHoverableContent?f.jsx(NM,{side:r,...o,ref:e}):f.jsx(E8,{side:r,...o,ref:e})})}),E8=p.forwardRef((n,e)=>{const t=Su(ol,n.__scopeTooltip),s=mb(ol,n.__scopeTooltip),r=p.useRef(null),o=Lt(e,r),[c,u]=p.useState(null),{trigger:h,onClose:m}=t,v=r.current,{onPointerInTransitChange:g}=s,x=p.useCallback(()=>{u(null),g(!1)},[g]),w=p.useCallback((S,C)=>{const _=S.currentTarget,N={x:S.clientX,y:S.clientY},T=R8(N,_.getBoundingClientRect()),M=A8(N,T),j=j8(C.getBoundingClientRect()),P=O8([...M,...j]);u(P),g(!0)},[g]);return p.useEffect(()=>()=>x(),[x]),p.useEffect(()=>{if(h&&v){const S=_=>w(_,v),C=_=>w(_,h);return h.addEventListener("pointerleave",S),v.addEventListener("pointerleave",C),()=>{h.removeEventListener("pointerleave",S),v.removeEventListener("pointerleave",C)}}},[h,v,w,x]),p.useEffect(()=>{if(c){const S=C=>{const _=C.target,N={x:C.clientX,y:C.clientY},T=h?.contains(_)||v?.contains(_),M=!k8(N,c);T?x():M&&(x(),m())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[h,v,c,m,x]),f.jsx(NM,{...n,ref:o})}),[_8,N8]=Zf(Qc,{isInside:!1}),T8=n8("TooltipContent"),NM=p.forwardRef((n,e)=>{const{__scopeTooltip:t,children:s,"aria-label":r,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=n,h=Su(ol,t),m=em(t),{onClose:v}=h;return p.useEffect(()=>(document.addEventListener(Gv,v),()=>document.removeEventListener(Gv,v)),[v]),p.useEffect(()=>{if(h.trigger){const g=x=>{x.target?.contains(h.trigger)&&v()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,v]),f.jsx(cu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:v,children:f.jsxs(U0,{"data-state":h.stateAttribute,...m,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(T8,{children:s}),f.jsx(_8,{scope:t,isInside:!0,children:f.jsx(b8,{id:h.contentId,role:"tooltip",children:r||s})})]})})});_M.displayName=ol;var TM="TooltipArrow",M8=p.forwardRef((n,e)=>{const{__scopeTooltip:t,...s}=n,r=em(t);return N8(TM,t).isInside?null:f.jsx(B0,{...r,...s,ref:e})});M8.displayName=TM;function R8(n,e){const t=Math.abs(e.top-n.y),s=Math.abs(e.bottom-n.y),r=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,s,r,o)){case o:return"left";case r:return"right";case t:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function A8(n,e,t=5){const s=[];switch(e){case"top":s.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":s.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":s.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":s.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return s}function j8(n){const{top:e,right:t,bottom:s,left:r}=n;return[{x:r,y:e},{x:t,y:e},{x:t,y:s},{x:r,y:s}]}function k8(n,e){const{x:t,y:s}=n;let r=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],h=e[c],m=u.x,v=u.y,g=h.x,x=h.y;v>s!=x>s&&t<(g-m)*(s-v)/(x-v)+m&&(r=!r)}return r}function O8(n){const e=n.slice();return e.sort((t,s)=>t.x<s.x?-1:t.x>s.x?1:t.y<s.y?-1:t.y>s.y?1:0),D8(e)}function D8(n){if(n.length<=1)return n.slice();const e=[];for(let s=0;s<n.length;s++){const r=n[s];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(r.y-c.y)>=(o.y-c.y)*(r.x-c.x))e.pop();else break}e.push(r)}e.pop();const t=[];for(let s=n.length-1;s>=0;s--){const r=n[s];for(;t.length>=2;){const o=t[t.length-1],c=t[t.length-2];if((o.x-c.x)*(r.y-c.y)>=(o.y-c.y)*(r.x-c.x))t.pop();else break}t.push(r)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var I8=wM,L8=SM,P8=CM,z8=EM,MM=_M;const $8=I8,RM=L8,AM=P8,gb=p.forwardRef(({className:n,sideOffset:e=4,...t},s)=>f.jsx(z8,{children:f.jsx(MM,{ref:s,sideOffset:e,className:Ce("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",n),...t})}));gb.displayName=MM.displayName;const U8=n=>({IBM:{name:"International Business Machines",high:146.5,low:144.2,volume:"3.2M"},AAPL:{name:"Apple Inc.",high:182.1,low:178.5,volume:"52.4M"},MSFT:{name:"Microsoft Corporation",high:340.2,low:335.8,volume:"21.1M"},GOOGL:{name:"Alphabet Inc.",high:135.4,low:132.1,volume:"18.5M"},TSLA:{name:"Tesla, Inc.",high:250.3,low:242.1,volume:"110.2M"}})[n]||{name:n,high:0,low:0,volume:"0"},B8=({item:n,onSelect:e,onRemove:t,isSelected:s,onSelectChange:r,selectionMode:o})=>{const[c,u]=p.useState(null),h=p.useRef(n.price),m=U8(n.symbol),{attributes:v,listeners:g,setNodeRef:x,transform:w,transition:S,isDragging:C}=iB({id:n.symbol}),_={transform:Xc.Transform.toString(w),transition:S,zIndex:C?10:0,position:"relative",opacity:C?.5:1};return p.useEffect(()=>{if(n.price!==void 0&&n.price!==h.current){if(h.current!==void 0&&n.price>h.current){u("up");const N=setTimeout(()=>u(null),1e3);return()=>clearTimeout(N)}else if(h.current!==void 0&&n.price<h.current){u("down");const N=setTimeout(()=>u(null),1e3);return()=>clearTimeout(N)}h.current=n.price}},[n.price]),f.jsxs(oM,{children:[f.jsx(lM,{asChild:!0,children:f.jsxs(eb,{ref:x,style:_,tabIndex:0,className:Ce("border-slate-800 hover:bg-slate-800/50 cursor-pointer group transition-colors duration-500 focus:outline-none focus:bg-slate-800/70",C&&"bg-slate-800/80",s&&"bg-blue-500/10 hover:bg-blue-500/20"),onClick:()=>o?r(n.symbol,!s):e(n.symbol),onKeyDown:N=>{(N.key==="Delete"||N.key==="Backspace")&&t(n.symbol),N.key==="Enter"&&!o&&e(n.symbol)},children:[f.jsx(Rc,{className:"w-8 p-0 pl-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{...v,...g,className:"cursor-grab active:cursor-grabbing p-1 text-slate-600 hover:text-slate-400",children:f.jsx(H5,{className:"h-4 w-4"})}),o&&f.jsx(vM,{checked:s,onCheckedChange:N=>r(n.symbol,!!N),onClick:N=>N.stopPropagation()})]})}),f.jsx(Rc,{className:"font-bold text-slate-200 py-3",children:f.jsxs(RM,{delayDuration:300,children:[f.jsx(AM,{asChild:!0,children:f.jsx("span",{children:n.symbol})}),f.jsx(gb,{side:"right",className:"bg-slate-900 border-slate-800 p-3 w-64 shadow-xl",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"border-b border-slate-800 pb-1",children:[f.jsx("p",{className:"text-sm font-bold text-white",children:m.name}),f.jsxs("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:[n.symbol,"  NYSE"]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Day High"}),f.jsxs("p",{className:"text-xs text-slate-300",children:["$",m.high.toFixed(2)]})]}),f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Day Low"}),f.jsxs("p",{className:"text-xs text-slate-300",children:["$",m.low.toFixed(2)]})]}),f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Volume"}),f.jsx("p",{className:"text-xs text-slate-300",children:m.volume})]}),f.jsxs("div",{className:"space-y-0.5",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Price Chg"}),f.jsx("p",{className:Ce("text-xs font-medium",(n.change??0)>=0?"text-emerald-500":"text-rose-500"),children:n.change!==void 0?(n.change>=0?"+":"")+n.change.toFixed(2):"--"})]})]})]})})]})}),f.jsx(Rc,{className:Ce("text-right text-slate-300 transition-colors duration-300",c==="up"&&"bg-emerald-500/20 text-emerald-400",c==="down"&&"bg-rose-500/20 text-rose-400"),children:n.error?f.jsx("span",{className:"text-slate-600 text-xs",children:n.error}):n.price!==void 0?n.price.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):f.jsx("span",{className:"text-slate-600 text-xs",children:"--"})}),f.jsx(Rc,{className:"text-right",children:n.error?f.jsx("span",{className:"text-slate-600 text-xs",children:"--"}):n.changePercent!==void 0?f.jsxs("span",{className:(n.change??0)>=0?"text-emerald-500":"text-rose-500",children:[n.changePercent>=0?"+":"",n.changePercent.toFixed(2),"%"]}):f.jsx("span",{className:"text-slate-600 text-xs",children:"--"})})]})}),f.jsxs(ub,{className:"bg-slate-900 border-slate-800 text-slate-300",children:[f.jsxs(Da,{className:"hover:bg-slate-800 cursor-pointer",children:[f.jsx(il,{className:"mr-2 h-4 w-4"})," Set Alert"]}),f.jsxs(Da,{className:"hover:bg-slate-800 cursor-pointer text-rose-500 focus:text-rose-400",onClick:N=>{N.stopPropagation(),t(n.symbol)},children:[f.jsx(lu,{className:"mr-2 h-4 w-4"})," Remove"]})]})]})},V8=({items:n,onAddClick:e,onRemove:t,onSelect:s,onReorder:r,isRefreshing:o,lastUpdate:c})=>{const[u,h]=p.useState([]),[m,v]=p.useState(!1),[g,x]=p.useState(null),[w,S]=p.useState(null),C=P$(Fg(lb,{activationConstraint:{distance:8}}),Fg(NT,{activationConstraint:{delay:250,tolerance:5}}),Fg(ab,{coordinateGetter:oB})),_=I=>{const{active:O,over:B}=I;B&&O.id!==B.id&&(r&&r([{symbol:O.id},{symbol:B.id}]),x(null),S(null))},N=(I,O)=>{h(O?B=>[...B,I]:B=>B.filter(re=>re!==I))},T=()=>{m&&h([]),v(!m)},M=()=>{t(u),h([]),v(!1)},j=I=>{let O="asc";if(g===I&&(w==="asc"?O="desc":w==="desc"&&(O=null)),x(O?I:null),S(O),O){const B=[...n].sort((re,le)=>{const te=re[I]??0,he=le[I]??0;return te<he?O==="asc"?-1:1:te>he?O==="asc"?1:-1:0});r(B)}},P=({field:I})=>g!==I?f.jsx(X1,{className:"ml-1 h-3 w-3 opacity-0 group-hover:opacity-50"}):w==="asc"?f.jsx(O5,{className:"ml-1 h-3 w-3 text-blue-400"}):w==="desc"?f.jsx(M5,{className:"ml-1 h-3 w-3 text-blue-400"}):f.jsx(X1,{className:"ml-1 h-3 w-3 opacity-50"});return f.jsxs("div",{className:"flex flex-col flex-1 min-h-0","data-testid":"watchlist-container",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 px-1 shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:["Watchlist",o&&f.jsxs("span",{className:"ml-2 flex items-center gap-1 text-xs text-slate-600",children:[f.jsx("div",{className:"animate-spin rounded-full h-2 w-2 border border-slate-500 border-t-transparent"}),"Updating..."]})]}),n.length>0&&f.jsx(Pe,{variant:"ghost",size:"sm",className:Ce("h-6 px-2 text-[10px] uppercase font-bold",m?"text-blue-400 bg-blue-500/10":"text-slate-600 hover:text-slate-400"),onClick:T,children:m?"Cancel":"Edit"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[c&&!o&&n.length>0&&f.jsx("span",{className:"text-[10px] text-slate-600",children:c.toLocaleTimeString()}),m?f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-rose-500 hover:text-rose-400 hover:bg-rose-500/10",onClick:M,disabled:u.length===0,children:f.jsx(lu,{className:"h-4 w-4"})}):f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:e,"aria-label":"Add Symbol",children:f.jsx(eL,{className:"h-4 w-4"})})]})]}),n.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 border-2 border-dashed border-slate-800 rounded-lg p-8 text-center space-y-4 mx-1",children:[f.jsx("div",{className:"bg-slate-900 p-3 rounded-full",children:f.jsx(Af,{className:"h-6 w-6 text-slate-600"})}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Add your first symbol"}),f.jsx("p",{className:"text-xs text-slate-500",children:"Track your favorite stocks and crypto"})]}),f.jsx(Pe,{size:"sm",onClick:e,className:"mt-2",children:"Add Symbol"})]}):f.jsx("div",{className:"flex-1 overflow-auto px-1",children:f.jsx(zU,{sensors:C,collisionDetection:$$,onDragEnd:_,children:f.jsxs(cT,{children:[f.jsx(uT,{className:"hover:bg-transparent",children:f.jsxs(eb,{className:"border-slate-800 hover:bg-transparent",children:[f.jsx(Mc,{className:Ce("w-8",m&&"w-16")}),f.jsx(Mc,{className:"text-xs font-medium text-slate-500 cursor-pointer hover:text-slate-300 group transition-colors",onClick:()=>j("symbol"),children:f.jsxs("div",{className:"flex items-center",children:["Symbol ",f.jsx(P,{field:"symbol"})]})}),f.jsx(Mc,{className:"text-right text-xs font-medium text-slate-500 cursor-pointer hover:text-slate-300 group transition-colors",onClick:()=>j("price"),children:f.jsxs("div",{className:"flex items-center justify-end",children:["Last ",f.jsx(P,{field:"price"})]})}),f.jsx(Mc,{className:"text-right text-xs font-medium text-slate-500 cursor-pointer hover:text-slate-300 group transition-colors",onClick:()=>j("changePercent"),children:f.jsxs("div",{className:"flex items-center justify-end",children:["Chg% ",f.jsx(P,{field:"changePercent"})]})})]})}),f.jsx(dT,{children:f.jsx(JU,{items:n.map(I=>I.symbol),strategy:KU,children:n.map(I=>f.jsx(B8,{item:I,onSelect:s,onRemove:O=>t([O]),isSelected:u.includes(I.symbol),onSelectChange:N,selectionMode:m},I.symbol))})})]})})})]})},F8=B_("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qg({className:n,variant:e,...t}){return f.jsx("div",{className:Ce(F8({variant:e}),n),...t})}const H8=({alerts:n,onToggleMute:e,onDelete:t,onSelect:s,onTriggerDemo:r,onToggleNotification:o})=>{const[c,u]=p.useState("all"),[h,m]=p.useState(""),[v,g]=p.useState(null),x=n.filter(S=>{const C=c==="all"||S.status===c,_=S.symbol||"",N=S.condition||"",T=_.toLowerCase().includes(h.toLowerCase())||N.toLowerCase().includes(h.toLowerCase());return C&&T}),w=(S,C,_)=>[{key:"toast",label:"Toast"},{key:"sound",label:"Sound"},{key:"telegram",label:"Telegram"}].map(({key:T,label:M})=>{const j=C?.[T==="toast"?"toastEnabled":T==="sound"?"soundEnabled":"telegramEnabled"],I={toast:"",sound:"",telegram:""}[T],O=j===!0,B=O?"text-emerald-400":"text-red-400",re=O?`${M}: enabled (click to disable)`:`${M}: disabled (click to enable)`,le=_?()=>_(T):void 0;return f.jsxs("button",{type:"button",onClick:le,disabled:!_,className:Ce("text-lg transition-transform hover:scale-110 focus:outline-none focus:ring-1 focus:ring-blue-500 rounded p-0.5 relative",B,_?"cursor-pointer":"cursor-default"),title:re,children:[I,!O&&f.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center",children:f.jsx("span",{className:"text-[10px] leading-none font-bold text-red-500 drop-shadow-md",children:""})})]},T)});return f.jsxs("div",{className:"flex flex-col flex-1 min-h-0 w-full","data-testid":"alerts-list-container",children:[f.jsxs("div",{className:"sticky top-0 z-10 bg-slate-900 flex items-center justify-between px-1 shrink-0 mb-4",children:[f.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wider text-slate-500",children:"Monitoring"}),f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:r?()=>r("new"):void 0,title:"Add Alert",children:f.jsx(Z1,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"space-y-4 shrink-0 mb-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx(Af,{className:"absolute left-2 top-2.5 h-4 w-4 text-slate-500"}),f.jsx(Pi,{placeholder:"Filter alerts...",className:"pl-8 bg-slate-900 border-slate-800",value:h,onChange:S=>m(S.target.value)})]}),f.jsx("div",{className:"flex gap-1 p-1 bg-slate-900 rounded-md border border-slate-800",children:["all","active","triggered"].map(S=>f.jsx(Pe,{variant:"ghost",size:"sm",className:Ce("flex-1 text-xs capitalize h-7",c===S?"bg-slate-800 text-blue-400":"text-slate-500"),onClick:()=>u(S),children:S},S))})]}),f.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 space-y-2 pr-1",children:x.length===0?f.jsxs("div",{className:"py-2 text-center space-y-2",children:[f.jsx(Mg,{className:"h-8 w-8 text-slate-700 mx-auto"}),f.jsx("p",{className:"text-sm text-slate-500",children:"No alerts found"})]}):x.map(S=>f.jsxs(oM,{children:[f.jsx(lM,{asChild:!0,children:f.jsxs("div",{tabIndex:0,onClick:()=>g(v===S.id?null:S.id),onKeyDown:C=>{C.key.toLowerCase()==="m"&&e(S.id),(C.key==="Delete"||C.key==="Backspace")&&t(S.id),C.key==="Enter"&&s(S.symbol)},className:Ce("bg-slate-900 border border-slate-800 rounded-lg p-3 space-y-3 group hover:border-slate-700 transition-all focus:outline-none focus:ring-1 focus:ring-blue-500 cursor-pointer",v===S.id&&"border-blue-500/50 bg-slate-900/80"),children:[f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-bold text-slate-200",children:S.symbol}),S.interval&&f.jsx(qg,{variant:"outline",className:"text-[10px] uppercase h-4 px-1 text-slate-400 border-slate-600 bg-slate-800",children:S.interval}),S.indicator_name&&f.jsx(qg,{variant:"outline",className:"text-[10px] uppercase h-4 px-1 text-blue-400 border-blue-500/20 bg-blue-500/5",children:S.indicator_name.toUpperCase()}),f.jsx(qg,{variant:"outline",className:Ce("text-[10px] uppercase h-4 px-1",S.status==="active"?"text-emerald-500 border-emerald-500/20 bg-emerald-500/5":S.status==="triggered"?"text-amber-500 border-amber-500/20 bg-amber-500/5 animate-pulse":"text-slate-500 border-slate-500/20 bg-slate-500/5"),children:S.status})]}),f.jsx("div",{className:"flex items-center gap-1",title:"Notification settings - click to toggle",children:w(S.id,S.notificationSettings,o?C=>o(S.id,C):void 0)}),f.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:[S.indicator_name?(()=>{const C=`${S.indicator_name.toUpperCase()}${S.indicator_field?`.${S.indicator_field}`:""}`;if(S.enabled_conditions){const _=Object.entries(S.enabled_conditions).filter(([,N])=>N).map(([N])=>N);if(_.length>0){const N=_.map(T=>T.replace("indicator_","").replace(/_/g," ")).join(", ");return`${C} - ${N}`}}return`${C} - ${S.condition.replace("indicator_","").replace("_"," ")}`})():S.condition.replace("_"," "),S.threshold!==null&&S.threshold!==void 0&&` @ ${S.threshold}`]})]}),f.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-white",title:`View ${S.symbol} on chart`,onClick:C=>{C.stopPropagation(),s(S.symbol)},children:f.jsx(Q1,{className:"h-3.5 w-3.5"})}),f.jsx(Pe,{variant:"ghost",size:"icon",className:"h-7 w-7 text-slate-400 hover:text-white",title:`${S.status==="muted"?"Unmute":"Mute"} alert for ${S.symbol}`,onClick:C=>{C.stopPropagation(),e(S.id)},children:S.status==="muted"?f.jsx(il,{className:"h-3.5 w-3.5"}):f.jsx(Mg,{className:"h-3.5 w-3.5"})})]})]}),v===S.id&&f.jsxs("div",{className:"pt-2 border-t border-slate-800/50 space-y-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[S.statistics&&f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px]",children:[f.jsxs("div",{className:"bg-slate-950/50 p-1.5 rounded border border-slate-800/50",children:[f.jsx("p",{className:"text-slate-500 uppercase font-semibold mb-0.5",children:"Trigger count (24h)"}),f.jsx("p",{className:"text-slate-300",children:S.statistics.triggerCount24h})]}),f.jsxs("div",{className:"bg-slate-950/50 p-1.5 rounded border border-slate-800/50",children:[f.jsx("p",{className:"text-slate-500 uppercase font-semibold mb-0.5",children:"Last triggered"}),f.jsx("p",{className:"text-slate-300",children:S.statistics.lastTriggered?new Date(S.statistics.lastTriggered).toLocaleTimeString():"Never"})]})]}),S.history&&S.history.length>0&&f.jsxs("div",{className:"space-y-1.5",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-semibold",children:"Trigger History"}),f.jsx("div",{className:"space-y-1 max-h-24 overflow-auto pr-1",children:S.history.map((C,_)=>f.jsxs("div",{className:"flex justify-between text-[10px] py-1 border-b border-slate-800/30 last:border-0",children:[f.jsx("span",{className:"text-slate-400",children:new Date(C.timestamp).toLocaleString()}),f.jsxs("div",{className:"flex gap-2",children:[C.price!==void 0&&C.price!==null&&f.jsxs("span",{className:"text-slate-200 font-mono",children:["$",C.price]}),C.indicator_value!==void 0&&C.indicator_value!==null&&f.jsx("span",{className:"text-blue-400 font-mono",children:C.indicator_value.toFixed(2)})]})]},_))})]})]}),f.jsx("div",{className:"text-[10px] text-slate-600 flex justify-between items-center",children:f.jsxs("span",{children:["Created ",new Date(S.createdAt).toLocaleDateString()]})})]})}),f.jsxs(ub,{className:"bg-slate-900 border-slate-800 text-slate-300",children:[f.jsxs(Da,{className:"hover:bg-slate-800 cursor-pointer",onClick:()=>s(S.symbol),children:[f.jsx(Q1,{className:"mr-2 h-4 w-4"})," View on Chart"]}),f.jsxs(Da,{className:"hover:bg-slate-800 cursor-pointer",onClick:()=>e(S.id),children:[S.status==="muted"?f.jsx(il,{className:"mr-2 h-4 w-4"}):f.jsx(Mg,{className:"mr-2 h-4 w-4"}),S.status==="muted"?"Unmute":"Mute"]}),r&&f.jsxs(Da,{className:"hover:bg-slate-800 cursor-pointer text-amber-500 focus:text-amber-400",onClick:()=>r(S.id),children:[f.jsx(Z1,{className:"mr-2 h-4 w-4"})," Trigger (Demo)"]}),f.jsxs(Da,{className:"hover:bg-slate-800 cursor-pointer text-rose-500 focus:text-rose-400",onClick:()=>t(S.id),children:[f.jsx(lu,{className:"mr-2 h-4 w-4"})," Delete"]})]})]},S.id))})]})},W8=()=>{};var nC={};const jM=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let r=n.charCodeAt(s);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},G8=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const r=n[t++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[s++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[t++],c=n[t++],u=n[t++],h=((r&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],c=n[t++];e[s++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return e.join("")},kM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,u=c?n[r+1]:0,h=r+2<n.length,m=h?n[r+2]:0,v=o>>2,g=(o&3)<<4|u>>4;let x=(u&15)<<2|m>>6,w=m&63;h||(w=64,c||(x=64)),s.push(t[v],t[g],t[x],t[w])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):G8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const m=r<n.length?t[n.charAt(r)]:64;++r;const g=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||u==null||m==null||g==null)throw new q8;const x=o<<2|u>>4;if(s.push(x),m!==64){const w=u<<4&240|m>>2;if(s.push(w),g!==64){const S=m<<6&192|g;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class q8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y8=function(n){const e=jM(n);return kM.encodeByteArray(e,!0)},OM=function(n){return Y8(n).replace(/\./g,"")},DM=function(n){try{return kM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function K8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const X8=()=>K8().__FIREBASE_DEFAULTS__,J8=()=>{if(typeof process>"u"||typeof nC>"u")return;const n=nC.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Q8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&DM(n[1]);return e&&JSON.parse(e)},vb=()=>{try{return W8()||X8()||J8()||Q8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Z8=n=>vb()?.emulatorHosts?.[n],IM=()=>vb()?.config,LM=n=>vb()?.[`_${n}`];class eV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function tm(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tV(n){return(await fetch(n,{credentials:"include"})).ok}const Lc={};function nV(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?n.emulator.push(e):n.prod.push(e);return n}function sV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let sC=!1;function iV(n,e){if(typeof window>"u"||typeof document>"u"||!tm(window.location.host)||Lc[n]===e||Lc[n]||sC)return;Lc[n]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",o=nV().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,w){x.setAttribute("width","24"),x.setAttribute("id",w),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{sC=!0,c()},x}function v(x,w){x.setAttribute("id",w),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=sV(s),w=t("text"),S=document.getElementById(w)||document.createElement("span"),C=t("learnmore"),_=document.getElementById(C)||document.createElement("a"),N=t("preprendIcon"),T=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const M=x.element;u(M),v(_,C);const j=m();h(T,N),M.append(T,S,_,j),document.body.appendChild(M)}o?(S.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function aV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oV(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cV(){const n=An();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uV(){try{return typeof indexedDB=="object"}catch{return!1}}function dV(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}const hV="FirebaseError";class Zr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=hV,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],c=o?fV(o,s):"Error",u=`${this.serviceName}: ${c} (${r}).`;return new Zr(r,u,s)}}function fV(n,e){return n.replace(mV,(t,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const mV=/\{\$([^}]+)}/g;function pV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ll(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const r of t){if(!s.includes(r))return!1;const o=n[r],c=e[r];if(iC(o)&&iC(c)){if(!ll(o,c))return!1}else if(o!==c)return!1}for(const r of s)if(!t.includes(r))return!1;return!0}function iC(n){return n!==null&&typeof n=="object"}function Eu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ac(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,o]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function jc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function gV(n,e){const t=new vV(n,e);return t.subscribe.bind(t)}class vV{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let r;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");bV(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:s},r.next===void 0&&(r.next=Yg),r.error===void 0&&(r.error=Yg),r.complete===void 0&&(r.complete=Yg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bV(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yg(){}function Ms(n){return n&&n._delegate?n._delegate:n}class cl{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ka="[DEFAULT]";class yV{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new eV;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wV(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});s.resolve(o)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);s===u&&c.resolve(r)}return r}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const r of s)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xV(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xV(n){return n===ka?void 0:n}function wV(n){return n.instantiationMode==="EAGER"}class SV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yV(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ct;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ct||(Ct={}));const CV={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},EV=Ct.INFO,_V={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},NV=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),r=_V[e];if(r)console[r](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class PM{constructor(e){this.name=e,this._logLevel=EV,this._logHandler=NV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const TV=(n,e)=>e.some(t=>n instanceof t);let rC,aC;function MV(){return rC||(rC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RV(){return aC||(aC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zM=new WeakMap,Yv=new WeakMap,$M=new WeakMap,Kg=new WeakMap,bb=new WeakMap;function AV(n){const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(Vr(n.result)),r()},c=()=>{s(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zM.set(t,n)}).catch(()=>{}),bb.set(e,n),e}function jV(n){if(Yv.has(n))return;const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),r()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Yv.set(n,e)}let Kv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$M.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kV(n){Kv=n(Kv)}function OV(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Xg(this),e,...t);return $M.set(s,e.sort?e.sort():[e]),Vr(s)}:RV().includes(n)?function(...e){return n.apply(Xg(this),e),Vr(zM.get(this))}:function(...e){return Vr(n.apply(Xg(this),e))}}function DV(n){return typeof n=="function"?OV(n):(n instanceof IDBTransaction&&jV(n),TV(n,MV())?new Proxy(n,Kv):n)}function Vr(n){if(n instanceof IDBRequest)return AV(n);if(Kg.has(n))return Kg.get(n);const e=DV(n);return e!==n&&(Kg.set(n,e),bb.set(e,n)),e}const Xg=n=>bb.get(n);function IV(n,e,{blocked:t,upgrade:s,blocking:r,terminated:o}={}){const c=indexedDB.open(n,e),u=Vr(c);return s&&c.addEventListener("upgradeneeded",h=>{s(Vr(c.result),h.oldVersion,h.newVersion,Vr(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const LV=["get","getKey","getAll","getAllKeys","count"],PV=["put","add","delete","clear"],Jg=new Map;function oC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,r=PV.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(r||LV.includes(t)))return;const o=async function(c,...u){const h=this.transaction(c,r?"readwrite":"readonly");let m=h.store;return s&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),r&&h.done]))[0]};return Jg.set(e,o),o}kV(n=>({...n,get:(e,t,s)=>oC(e,t)||n.get(e,t,s),has:(e,t)=>!!oC(e,t)||n.has(e,t)}));class zV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($V(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function $V(n){return n.getComponent()?.type==="VERSION"}const Xv="@firebase/app",lC="0.14.6";const Yi=new PM("@firebase/app"),UV="@firebase/app-compat",BV="@firebase/analytics-compat",VV="@firebase/analytics",FV="@firebase/app-check-compat",HV="@firebase/app-check",WV="@firebase/auth",GV="@firebase/auth-compat",qV="@firebase/database",YV="@firebase/data-connect",KV="@firebase/database-compat",XV="@firebase/functions",JV="@firebase/functions-compat",QV="@firebase/installations",ZV="@firebase/installations-compat",eF="@firebase/messaging",tF="@firebase/messaging-compat",nF="@firebase/performance",sF="@firebase/performance-compat",iF="@firebase/remote-config",rF="@firebase/remote-config-compat",aF="@firebase/storage",oF="@firebase/storage-compat",lF="@firebase/firestore",cF="@firebase/ai",uF="@firebase/firestore-compat",dF="firebase",hF="12.6.0";const Jv="[DEFAULT]",fF={[Xv]:"fire-core",[UV]:"fire-core-compat",[VV]:"fire-analytics",[BV]:"fire-analytics-compat",[HV]:"fire-app-check",[FV]:"fire-app-check-compat",[WV]:"fire-auth",[GV]:"fire-auth-compat",[qV]:"fire-rtdb",[YV]:"fire-data-connect",[KV]:"fire-rtdb-compat",[XV]:"fire-fn",[JV]:"fire-fn-compat",[QV]:"fire-iid",[ZV]:"fire-iid-compat",[eF]:"fire-fcm",[tF]:"fire-fcm-compat",[nF]:"fire-perf",[sF]:"fire-perf-compat",[iF]:"fire-rc",[rF]:"fire-rc-compat",[aF]:"fire-gcs",[oF]:"fire-gcs-compat",[lF]:"fire-fst",[uF]:"fire-fst-compat",[cF]:"fire-vertex","fire-js":"fire-js",[dF]:"fire-js-all"};const Zc=new Map,mF=new Map,Qv=new Map;function cC(n,e){try{n.container.addComponent(e)}catch(t){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function eu(n){const e=n.name;if(Qv.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;Qv.set(e,n);for(const t of Zc.values())cC(t,n);for(const t of mF.values())cC(t,n);return!0}function UM(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Cs(n){return n==null?!1:n.settings!==void 0}const pF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Cu("app","Firebase",pF);class gF{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const _u=hF;function BM(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Jv,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Fr.create("bad-app-name",{appName:String(r)});if(t||(t=IM()),!t)throw Fr.create("no-options");const o=Zc.get(r);if(o){if(ll(t,o.options)&&ll(s,o.config))return o;throw Fr.create("duplicate-app",{appName:r})}const c=new SV(r);for(const h of Qv.values())c.addComponent(h);const u=new gF(t,s,c);return Zc.set(r,u),u}function vF(n=Jv){const e=Zc.get(n);if(!e&&n===Jv&&IM())return BM();if(!e)throw Fr.create("no-app",{appName:n});return e}function uC(){return Array.from(Zc.values())}function Qo(n,e,t){let s=fF[n]??n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(c.join(" "));return}eu(new cl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const bF="firebase-heartbeat-database",yF=1,tu="firebase-heartbeat-store";let Qg=null;function VM(){return Qg||(Qg=IV(bF,yF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),Qg}async function xF(n){try{const t=(await VM()).transaction(tu),s=await t.objectStore(tu).get(FM(n));return await t.done,s}catch(e){if(e instanceof Zr)Yi.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(t.message)}}}async function dC(n,e){try{const s=(await VM()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,FM(n)),await s.done}catch(t){if(t instanceof Zr)Yi.warn(t.message);else{const s=Fr.create("idb-set",{originalErrorMessage:t?.message});Yi.warn(s.message)}}}function FM(n){return`${n.name}!${n.options.appId}`}const wF=1024,SF=30;class CF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _F(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>SF){const r=NF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=hC(),{heartbeatsToSend:t,unsentEntries:s}=EF(this._heartbeatsCache.heartbeats),r=OM(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Yi.warn(e),""}}}function hC(){return new Date().toISOString().substring(0,10)}function EF(n,e=wF){const t=[];let s=n.slice();for(const r of n){const o=t.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),fC(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),fC(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class _F{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uV()?dV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fC(n){return OM(JSON.stringify({version:2,heartbeats:n})).length}function NF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function TF(n){eu(new cl("platform-logger",e=>new zV(e),"PRIVATE")),eu(new cl("heartbeat",e=>new CF(e),"PRIVATE")),Qo(Xv,lC,n),Qo(Xv,lC,"esm2020"),Qo("fire-js","")}TF("");function HM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MF=HM,WM=new Cu("auth","Firebase",HM());const af=new PM("@firebase/auth");function RF(n,...e){af.logLevel<=Ct.WARN&&af.warn(`Auth (${_u}): ${n}`,...e)}function Lh(n,...e){af.logLevel<=Ct.ERROR&&af.error(`Auth (${_u}): ${n}`,...e)}function _s(n,...e){throw xb(n,...e)}function zs(n,...e){return xb(n,...e)}function yb(n,e,t){const s={...MF(),[e]:t};return new Cu("auth","Firebase",s).create(e,{appName:n.name})}function Hi(n){return yb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GM(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&_s(n,"argument-error"),yb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xb(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return WM.create(n,...e)}function Ie(n,e,...t){if(!n)throw xb(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lh(e),new Error(e)}function Ki(n,e){n||Ui(e)}function Zv(){return typeof self<"u"&&self.location?.href||""}function AF(){return mC()==="http:"||mC()==="https:"}function mC(){return typeof self<"u"&&self.location?.protocol||null}function jF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AF()||oV()||"connection"in navigator)?navigator.onLine:!0}function kF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ki(t>e,"Short delay should be less than long delay!"),this.isMobile=rV()||lV()}get(){return jF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wb(n,e){Ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class qM{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IF=new Nu(3e4,6e4);function Xi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ji(n,e,t,s,r={}){return YM(n,r,async()=>{let o={},c={};s&&(e==="GET"?c=s:o={body:JSON.stringify(s)});const u=Eu({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:h,...o};return aV()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&tm(n.emulatorConfig.host)&&(m.credentials="include"),qM.fetch()(await KM(n,n.config.apiHost,t,u),m)})}async function YM(n,e,t){n._canInitEmulator=!1;const s={...OF,...e};try{const r=new PF(n),o=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw ch(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[h,m]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw ch(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw ch(n,"user-disabled",c);const v=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yb(n,v,m);_s(n,v)}}catch(r){if(r instanceof Zr)throw r;_s(n,"network-request-failed",{message:String(r)})}}async function Tu(n,e,t,s,r={}){const o=await Ji(n,e,t,s,r);return"mfaPendingCredential"in o&&_s(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function KM(n,e,t,s){const r=`${e}${t}?${s}`,o=n,c=o.config.emulator?wb(n.config,r):`${n.config.apiScheme}://${r}`;return DF.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function LF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(zs(this.auth,"network-request-failed")),IF.get())})}}function ch(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const r=zs(n,e,s);return r.customData._tokenResponse=t,r}function pC(n){return n!==void 0&&n.enterprise!==void 0}class zF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return LF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $F(n,e){return Ji(n,"GET","/v2/recaptchaConfig",Xi(n,e))}async function UF(n,e){return Ji(n,"POST","/v1/accounts:delete",e)}async function of(n,e){return Ji(n,"POST","/v1/accounts:lookup",e)}function Pc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BF(n,e=!1){const t=Ms(n),s=await t.getIdToken(e),r=Sb(s);Ie(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:s,authTime:Pc(Zg(r.auth_time)),issuedAtTime:Pc(Zg(r.iat)),expirationTime:Pc(Zg(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Zg(n){return Number(n)*1e3}function Sb(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const r=DM(t);return r?JSON.parse(r):(Lh("Failed to decode base64 JWT payload"),null)}catch(r){return Lh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function gC(n){const e=Sb(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function nu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Zr&&VF(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function VF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class FF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class e0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lf(n){const e=n.auth,t=await n.getIdToken(),s=await nu(n,of(e,{idToken:t}));Ie(s?.users.length,e,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?XM(r.providerUserInfo):[],c=WF(n.providerData,o),u=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!c?.length,m=u?h:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new e0(r.createdAt,r.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function HF(n){const e=Ms(n);await lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WF(n,e){return[...n.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function XM(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function GF(n,e){const t=await YM(n,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await KM(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:s};return n.emulatorConfig&&tm(n.emulatorConfig.host)&&(h.credentials="include"),qM.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function qF(n,e){return Ji(n,"POST","/v2/accounts:revokeToken",Xi(n,e))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=gC(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:r,expiresIn:o}=await GF(e,t);this.updateTokensAndExpiration(s,r,Number(o))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:r,expirationTime:o}=t,c=new Zo;return s&&(Ie(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),r&&(Ie(typeof r=="string","internal-error",{appName:e}),c.accessToken=r),o&&(Ie(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Ui("not implemented")}}function Mr(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ps{constructor({uid:e,auth:t,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new FF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new e0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BF(this,e)}reload(){return HF(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ps({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await lf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await nu(this,UF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,r=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,u=t.tenantId??void 0,h=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:w,providerData:S,stsTokenManager:C}=t;Ie(g&&C,e,"internal-error");const _=Zo.fromJSON(this.name,C);Ie(typeof g=="string",e,"internal-error"),Mr(s,e.name),Mr(r,e.name),Ie(typeof x=="boolean",e,"internal-error"),Ie(typeof w=="boolean",e,"internal-error"),Mr(o,e.name),Mr(c,e.name),Mr(u,e.name),Mr(h,e.name),Mr(m,e.name),Mr(v,e.name);const N=new Ps({uid:g,auth:e,email:r,emailVerified:x,displayName:s,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:_,createdAt:m,lastLoginAt:v});return S&&Array.isArray(S)&&(N.providerData=S.map(T=>({...T}))),h&&(N._redirectEventId=h),N}static async _fromIdTokenResponse(e,t,s=!1){const r=new Zo;r.updateFromServerResponse(t);const o=new Ps({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await lf(o),o}static async _fromGetAccountInfoResponse(e,t,s){const r=t.users[0];Ie(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?XM(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,u=new Zo;u.updateFromIdToken(s);const h=new Ps({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new e0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(h,m),h}}const vC=new Map;function Bi(n){Ki(n instanceof Function,"Expected a class definition");let e=vC.get(n);return e?(Ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vC.set(n,e),e)}class JM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JM.type="NONE";const bC=JM;function Ph(n,e,t){return`firebase:${n}:${e}:${t}`}class el{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:r,name:o}=this.auth;this.fullUserKey=Ph(this.userKey,r.apiKey,o),this.fullPersistenceKey=Ph("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await of(this.auth,{idToken:e}).catch(()=>{});return t?Ps._fromGetAccountInfoResponse(this.auth,t,e):null}return Ps._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new el(Bi(bC),e,s);const r=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||Bi(bC);const c=Ph(s,e.config.apiKey,e.name);let u=null;for(const m of t)try{const v=await m._get(c);if(v){let g;if(typeof v=="string"){const x=await of(e,{idToken:v}).catch(()=>{});if(!x)break;g=await Ps._fromGetAccountInfoResponse(e,x,v)}else g=Ps._fromJSON(e,v);m!==o&&(u=g),o=m;break}}catch{}const h=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new el(o,e,s):(o=h[0],u&&await o._set(c,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new el(o,e,s))}}function yC(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sR(e))return"Blackberry";if(iR(e))return"Webos";if(ZM(e))return"Safari";if((e.includes("chrome/")||eR(e))&&!e.includes("edge/"))return"Chrome";if(nR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function QM(n=An()){return/firefox\//i.test(n)}function ZM(n=An()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eR(n=An()){return/crios\//i.test(n)}function tR(n=An()){return/iemobile/i.test(n)}function nR(n=An()){return/android/i.test(n)}function sR(n=An()){return/blackberry/i.test(n)}function iR(n=An()){return/webos/i.test(n)}function Cb(n=An()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YF(n=An()){return Cb(n)&&!!window.navigator?.standalone}function KF(){return cV()&&document.documentMode===10}function rR(n=An()){return Cb(n)||nR(n)||iR(n)||sR(n)||/windows phone/i.test(n)||tR(n)}function aR(n,e=[]){let t;switch(n){case"Browser":t=yC(An());break;case"Worker":t=`${yC(An())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_u}/${s}`}class XF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=o=>new Promise((c,u)=>{try{const h=e(o);c(h)}catch(h){u(h)}});s.onAbort=t,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function JF(n,e={}){return Ji(n,"GET","/v2/passwordPolicy",Xi(n,e))}const QF=6;class ZF{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??QF,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class e9{constructor(e,t,s,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xC(this),this.idTokenSubscription=new xC(this),this.beforeStateQueue=new XF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await of(this,{idToken:e}),s=await Ps._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Cs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=s?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cs(this.app))return Promise.reject(Hi(this));const t=e?Ms(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cs(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JF(this),t=new ZF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await qF(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,r){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,s,r);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RF(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qi(n){return Ms(n)}class xC{constructor(e){this.auth=e,this.observer=null,this.addObserver=gV(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t9(n){nm=n}function oR(n){return nm.loadJS(n)}function n9(){return nm.recaptchaEnterpriseScript}function s9(){return nm.gapiScript}function i9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class r9{constructor(){this.enterprise=new a9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class a9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const o9="recaptcha-enterprise",lR="NO_RECAPTCHA";class l9{constructor(e){this.type=o9,this.auth=Qi(e)}async verify(e="verify",t=!1){async function s(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{$F(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new zF(h);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(h=>{u(h)})})}function r(o,c,u){const h=window.grecaptcha;pC(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(m=>{c(m)}).catch(()=>{c(lR)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r9().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{s(this.auth).then(u=>{if(!t&&pC(window.grecaptcha))r(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=n9();h.length!==0&&(h+=u),oR(h).then(()=>{r(u,o,c)}).catch(m=>{c(m)})}}).catch(u=>{c(u)})})}}async function wC(n,e,t,s=!1,r=!1){const o=new l9(n);let c;if(r)c=lR;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return s?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function cf(n,e,t,s,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wC(n,e,t,t==="getOobCode");return s(n,o)}else return s(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await wC(n,e,t,t==="getOobCode");return s(n,c)}else return Promise.reject(o)})}function c9(n,e){const t=UM(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),o=t.getOptions();if(ll(o,e??{}))return r;_s(r,"already-initialized")}return t.initialize({options:e})}function u9(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Bi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function d9(n,e,t){const s=Qi(n);Ie(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,o=cR(e),{host:c,port:u}=h9(e),h=u===null?"":`:${u}`,m={url:`${o}//${c}${h}/`},v=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ie(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ie(ll(m,s.config.emulator)&&ll(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,tm(c)?(tV(`${o}//${c}${h}`),iV("Auth",!0)):f9()}function cR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function h9(n){const e=cR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const o=r[1];return{host:o,port:SC(s.substr(o.length+1))}}else{const[o,c]=s.split(":");return{host:o,port:SC(c)}}}function SC(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function f9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Eb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function m9(n,e){return Ji(n,"POST","/v1/accounts:signUp",e)}async function p9(n,e){return Tu(n,"POST","/v1/accounts:signInWithPassword",Xi(n,e))}async function uR(n,e){return Ji(n,"POST","/v1/accounts:sendOobCode",Xi(n,e))}async function g9(n,e){return uR(n,e)}async function v9(n,e){return uR(n,e)}async function b9(n,e){return Tu(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}async function y9(n,e){return Tu(n,"POST","/v1/accounts:signInWithEmailLink",Xi(n,e))}class su extends Eb{constructor(e,t,s,r=null){super("password",s),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new su(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new su(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cf(e,t,"signInWithPassword",p9);case"emailLink":return b9(e,{email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cf(e,s,"signUpPassword",m9);case"emailLink":return y9(e,{idToken:t,email:this._email,oobCode:this._password});default:_s(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tl(n,e){return Tu(n,"POST","/v1/accounts:signInWithIdp",Xi(n,e))}const x9="http://localhost";class Ba extends Eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_s("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...o}=t;if(!s||!r)return null;const c=new Ba(s,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return tl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,tl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tl(e,t)}buildRequest(){const e={requestUri:x9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}function w9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S9(n){const e=Ac(jc(n)).link,t=e?Ac(jc(e)).deep_link_id:null,s=Ac(jc(n)).deep_link_id;return(s?Ac(jc(s)).link:null)||s||t||e||n}class _b{constructor(e){const t=Ac(jc(e)),s=t.apiKey??null,r=t.oobCode??null,o=w9(t.mode??null);Ie(s&&r&&o,"argument-error"),this.apiKey=s,this.operation=o,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=S9(e);try{return new _b(t)}catch{return null}}}class _l{constructor(){this.providerId=_l.PROVIDER_ID}static credential(e,t){return su._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=_b.parseLink(t);return Ie(s,"argument-error"),su._fromEmailAndCode(e,s.code,s.tenantId)}}_l.PROVIDER_ID="password";_l.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class sm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mu extends sm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dr extends Mu{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";class zi extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ba._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zi.credential(t,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";class Ir extends Mu{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";class Lr extends Mu{constructor(){super("twitter.com")}static credential(e,t){return Ba._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Lr.credential(t,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";async function C9(n,e){return Tu(n,"POST","/v1/accounts:signUp",Xi(n,e))}class Va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,r=!1){const o=await Ps._fromIdTokenResponse(e,s,r),c=CC(s);return new Va({user:o,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const r=CC(s);return new Va({user:e,providerId:r,_tokenResponse:s,operationType:t})}}function CC(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class uf extends Zr{constructor(e,t,s,r){super(t.code,t.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,r){return new uf(e,t,s,r)}}function dR(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(n,o,e,s):o})}async function E9(n,e,t=!1){const s=await nu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Va._forOperation(n,"link",s)}async function _9(n,e,t=!1){const{auth:s}=n;if(Cs(s.app))return Promise.reject(Hi(s));const r="reauthenticate";try{const o=await nu(n,dR(s,r,e,n),t);Ie(o.idToken,s,"internal-error");const c=Sb(o.idToken);Ie(c,s,"internal-error");const{sub:u}=c;return Ie(n.uid===u,s,"user-mismatch"),Va._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&_s(s,"user-mismatch"),o}}async function hR(n,e,t=!1){if(Cs(n.app))return Promise.reject(Hi(n));const s="signIn",r=await dR(n,s,e),o=await Va._fromIdTokenResponse(n,s,r);return t||await n._updateCurrentUser(o.user),o}async function N9(n,e){return hR(Qi(n),e)}async function fR(n){const e=Qi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function T9(n,e,t){const s=Qi(n);await cf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",v9)}async function M9(n,e,t){if(Cs(n.app))return Promise.reject(Hi(n));const s=Qi(n),c=await cf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C9).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&fR(n),h}),u=await Va._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(u.user),u}function R9(n,e,t){return Cs(n.app)?Promise.reject(Hi(n)):N9(Ms(n),_l.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fR(n),s})}async function EC(n,e){const t=Ms(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await g9(t.auth,r);o!==n.email&&await n.reload()}function A9(n,e){return Ms(n).setPersistence(e)}function mR(n,e,t,s){return Ms(n).onIdTokenChanged(e,t,s)}function j9(n,e,t){return Ms(n).beforeAuthStateChanged(e,t)}function pR(n,e,t,s){return Ms(n).onAuthStateChanged(e,t,s)}function uh(n){return Ms(n).signOut()}const df="__sak";class gR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const k9=1e3,O9=10;class vR extends gR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),r=this.localCache[t];s!==r&&e(t,r,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const s=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);KF()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,O9):r()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},k9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vR.type="LOCAL";const bR=vR;class yR extends gR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yR.type="SESSION";const xR=yR;function D9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const s=new im(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:r,data:o}=t.data,c=this.handlersMap[r];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const u=Array.from(c).map(async m=>m(t.origin,o)),h=await D9(u);t.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];function Nb(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class I9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((u,h)=>{const m=Nb("",20);r.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},s);c={messageChannel:r,onMessage(g){const x=g;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function oi(){return window}function L9(n){oi().location.href=n}function wR(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function P9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z9(){return navigator?.serviceWorker?.controller||null}function $9(){return wR()?self:null}const SR="firebaseLocalStorageDb",U9=1,hf="firebaseLocalStorage",CR="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rm(n,e){return n.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function B9(){const n=indexedDB.deleteDatabase(SR);return new Ru(n).toPromise()}function t0(){const n=indexedDB.open(SR,U9);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(hf,{keyPath:CR})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(hf)?e(s):(s.close(),await B9(),e(await t0()))})})}async function _C(n,e,t){const s=rm(n,!0).put({[CR]:e,value:t});return new Ru(s).toPromise()}async function V9(n,e){const t=rm(n,!1).get(e),s=await new Ru(t).toPromise();return s===void 0?null:s.value}function NC(n,e){const t=rm(n,!0).delete(e);return new Ru(t).toPromise()}const F9=800,H9=3;class ER{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>H9)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance($9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P9(),!this.activeServiceWorker)return;this.sender=new I9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t0();return await _C(e,df,"1"),await NC(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>_C(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>V9(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NC(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=rm(r,!1).getAll();return new Ru(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ER.type="LOCAL";const W9=ER;new Nu(3e4,6e4);function Tb(n,e){return e?Bi(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Mb extends Eb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function G9(n){return hR(n.auth,new Mb(n),n.bypassAuthState)}function q9(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),_9(t,new Mb(n),n.bypassAuthState)}async function Y9(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),E9(t,new Mb(n),n.bypassAuthState)}class _R{constructor(e,t,s,r,o=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:r,tenantId:o,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:s,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return Y9;case"reauthViaPopup":case"reauthViaRedirect":return q9;default:_s(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const K9=new Nu(2e3,1e4);async function X9(n,e,t){if(Cs(n.app))return Promise.reject(zs(n,"operation-not-supported-in-this-environment"));const s=Qi(n);GM(n,e,sm);const r=Tb(s,t);return new Pr(s,"signInViaPopup",e,r).executeNotNull()}async function J9(n,e,t){const s=Ms(n);GM(s.auth,e,sm);const r=Tb(s.auth,t);return new Pr(s.auth,"linkViaPopup",e,r,s).executeNotNull()}class Pr extends _R{constructor(e,t,s,r,o){super(e,t,r,o),this.provider=s,this.authWindow=null,this.pollId=null,Pr.currentPopupAction&&Pr.currentPopupAction.cancel(),Pr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Nb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K9.get())};e()}}Pr.currentPopupAction=null;const Q9="pendingRedirect",zh=new Map;class Z9 extends _R{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=zh.get(this.auth._key());if(!e){try{const s=await eH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}zh.set(this.auth._key(),e)}return this.bypassAuthState||zh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eH(n,e){const t=sH(e),s=nH(n);if(!await s._isAvailable())return!1;const r=await s._get(t)==="true";return await s._remove(t),r}function tH(n,e){zh.set(n._key(),e)}function nH(n){return Bi(n._redirectPersistence)}function sH(n){return Ph(Q9,n.config.apiKey,n.name)}async function iH(n,e,t=!1){if(Cs(n.app))return Promise.reject(Hi(n));const s=Qi(n),r=Tb(s,e),c=await new Z9(s,r,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const rH=600*1e3;class aH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!NR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(zs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rH&&this.cachedEventUids.clear(),this.cachedEventUids.has(TC(e))}saveEventToCache(e){this.cachedEventUids.add(TC(e)),this.lastProcessedEventTime=Date.now()}}function TC(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function NR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function oH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NR(n);default:return!1}}async function lH(n,e={}){return Ji(n,"GET","/v1/projects",e)}const cH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uH=/^https?/;async function dH(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lH(n);for(const t of e)try{if(hH(t))return}catch{}_s(n,"unauthorized-domain")}function hH(n){const e=Zv(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!uH.test(t))return!1;if(cH.test(n))return s===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}const fH=new Nu(3e4,6e4);function MC(){const n=oi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mH(n){return new Promise((e,t)=>{function s(){MC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MC(),t(zs(n,"network-request-failed"))},timeout:fH.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)s();else{const r=i9("iframefcb");return oi()[r]=()=>{gapi.load?s():t(zs(n,"network-request-failed"))},oR(`${s9()}?onload=${r}`).catch(o=>t(o))}}).catch(e=>{throw $h=null,e})}let $h=null;function pH(n){return $h=$h||mH(n),$h}const gH=new Nu(5e3,15e3),vH="__/auth/iframe",bH="emulator/auth/iframe",yH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wH(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wb(e,bH):`https://${n.config.authDomain}/${vH}`,s={apiKey:e.apiKey,appName:n.name,v:_u},r=xH.get(n.config.apiHost);r&&(s.eid=r);const o=n._getFrameworks();return o.length&&(s.fw=o.join(",")),`${t}?${Eu(s).slice(1)}`}async function SH(n){const e=await pH(n),t=oi().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:wH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yH,dontclear:!0},s=>new Promise(async(r,o)=>{await s.restyle({setHideOnLeave:!1});const c=zs(n,"network-request-failed"),u=oi().setTimeout(()=>{o(c)},gH.get());function h(){oi().clearTimeout(u),r(s)}s.ping(h).then(h,()=>{o(c)})}))}const CH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EH=500,_H=600,NH="_blank",TH="http://localhost";class RC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MH(n,e,t,s=EH,r=_H){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let u="";const h={...CH,width:s.toString(),height:r.toString(),top:o,left:c},m=An().toLowerCase();t&&(u=eR(m)?NH:t),QM(m)&&(e=e||TH,h.scrollbars="yes");const v=Object.entries(h).reduce((x,[w,S])=>`${x}${w}=${S},`,"");if(YF(m)&&u!=="_self")return RH(e||"",u),new RC(null);const g=window.open(e||"",u,v);Ie(g,n,"popup-blocked");try{g.focus()}catch{}return new RC(g)}function RH(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const AH="__/auth/handler",jH="emulator/auth/handler",kH=encodeURIComponent("fac");async function AC(n,e,t,s,r,o){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:_u,eventId:r};if(e instanceof sm){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",pV(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,g]of Object.entries({}))c[v]=g}if(e instanceof Mu){const v=e.getScopes().filter(g=>g!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const v of Object.keys(u))u[v]===void 0&&delete u[v];const h=await n._getAppCheckToken(),m=h?`#${kH}=${encodeURIComponent(h)}`:"";return`${OH(n)}?${Eu(u).slice(1)}${m}`}function OH({config:n}){return n.emulator?wb(n,jH):`https://${n.authDomain}/${AH}`}const ev="webStorageSupport";class DH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xR,this._completeRedirectFn=iH,this._overrideRedirectResult=tH}async _openPopup(e,t,s,r){Ki(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await AC(e,t,s,Zv(),r);return MH(e,o,Nb())}async _openRedirect(e,t,s,r){await this._originValidation(e);const o=await AC(e,t,s,Zv(),r);return L9(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Ki(o,"If manager is not set, promise should be"),o)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await SH(e),s=new aH(e);return t.register("authEvent",r=>(Ie(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ev,{type:ev},r=>{const o=r?.[0]?.[ev];o!==void 0&&t(!!o),_s(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rR()||ZM()||Cb()}}const IH=DH;var jC="@firebase/auth",kC="1.12.0";class LH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zH(n){eu(new cl("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=s.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aR(n)},m=new e9(s,r,o,h);return u9(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),eu(new cl("auth-internal",e=>{const t=Qi(e.getProvider("auth").getImmediate());return(s=>new LH(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qo(jC,kC,PH(n)),Qo(jC,kC,"esm2020")}const $H=300,UH=LM("authIdTokenMaxAge")||$H;let OC=null;const BH=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>UH)return;const r=t?.token;OC!==r&&(OC=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function VH(n=vF()){const e=UM(n,"auth");if(e.isInitialized())return e.getImmediate();const t=c9(n,{popupRedirectResolver:IH,persistence:[W9,bR,xR]}),s=LM("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(s,location.origin);if(location.origin===o.origin){const c=BH(o.toString());j9(t,c,()=>c(t.currentUser)),mR(t,u=>c(u))}}const r=Z8("auth");return r&&d9(t,`http://${r}`),t}function FH(){return document.getElementsByTagName("head")?.[0]??document}t9({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=r=>{const o=zs("internal-error");o.customData=r,t(o)},s.type="text/javascript",s.charset="UTF-8",FH().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zH("Browser");const TR="https://polishedcharts-backend.onrender.com";let dh=null,hh=null,DC=null;async function HH(){const{auth:n}=await ti(async()=>{const{auth:e}=await Promise.resolve().then(()=>aj);return{auth:e}},void 0);return dh||(dh=new Promise(e=>{const t=pR(n,()=>{t(),setTimeout(e,10)});setTimeout(()=>{t(),e()},1e4)}),dh)}async function WH(){await HH();const{auth:n}=await ti(async()=>{const{auth:t}=await Promise.resolve().then(()=>aj);return{auth:t}},void 0),e=n.currentUser;if(!e)return null;try{return await e.getIdToken()}catch{return null}}async function Rs(){const n=await WH();return hh&&DC===n||(DC=n,hh=$t.create({baseURL:`${TR}/api/v1`,headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`}}})),hh}async function zo(n){return(await $t.post(`${TR}/api/v1/auth/sign-in`,{id_token:n})).data}async function GH(){await(await Rs()).post("/auth/sign-out")}async function qH(n){return(await(await Rs()).post("/merge/sync",n)).data}function YH(){const e=localStorage.getItem("polishedcharts_data");if(!e)return[];try{return JSON.parse(e).alerts||[]}catch(t){return console.error("Failed to parse guest alerts:",t),[]}}const MR=async n=>(await Ts.post("/alerts/",n)).data,KH=async n=>{const e={};return n?.symbol!==void 0&&(e.symbol=n.symbol),n?.symbolId!==void 0&&(e.symbol_id=n.symbolId),n?.isActive!==void 0&&(e.is_active=n.isActive),(await Ts.get("/alerts/",{params:e})).data},RR=async(n,e)=>(await Ts.put(`/alerts/${n}`,e)).data,XH=async n=>(await Ts.post(`/alerts/${n}/mute`)).data,JH=async n=>(await Ts.post(`/alerts/${n}/unmute`)).data,QH=async n=>{await Ts.delete(`/alerts/${n}`)},AR=async n=>{const e={limit:n?.limit,offset:n?.offset??0};return n?.symbol!==void 0?e.symbol=n.symbol:n?.symbolId!==void 0&&(e.symbol_id=n.symbolId),(await Ts.get("/alerts/triggers/recent",{params:e})).data},jR=async n=>{await Ts.delete(`/alerts/triggers/${n}`)},kR=async n=>(await Ts.get("/alerts/indicator-conditions",{params:{indicator_name:n,_t:Date.now()}})).data,Rb=async(n,e)=>{await(await Rs()).patch(`/notifications/alert-settings/${n}`,e)},ZH=async n=>(await(await Rs()).get(`/notifications/alert-settings/${n}`)).data,Ra=Object.freeze(Object.defineProperty({__proto__:null,createAlert:MR,deleteAlert:QH,deleteTrigger:jR,getAlertNotificationSettings:ZH,getGuestAlerts:YH,getIndicatorConditions:kR,getRecentTriggers:AR,listAlerts:KH,muteAlert:XH,unmuteAlert:JH,updateAlert:RR,updateAlertNotificationSettings:Rb},Symbol.toStringTag,{value:"Module"}));function e7(n){const e=new Date(n),s=new Date().getTime()-e.getTime(),r=Math.floor(s/6e4);return r<1?"Just now":r<60?`${r}m ago`:r<1440?`${Math.floor(r/60)}h ago`:e.toLocaleDateString()}function t7(n){return n==null?"-":`$${n.toFixed(2)}`}function n7({symbol:n,className:e}){const[t,s]=p.useState([]),[r,o]=p.useState(!1),[c,u]=p.useState(null),[h,m]=p.useState(new Set),v=p.useCallback(async()=>{o(!0),u(null);try{const x=await AR({symbol:n,limit:500});s(x)}catch(x){console.error("Failed to load trigger log:",x),u(x instanceof Error?x.message:"Failed to load trigger log")}finally{o(!1)}},[n]),g=p.useCallback(async x=>{m(w=>new Set([...w,x]));try{await jR(x),s(w=>w.filter(S=>S.id!==x))}catch(w){console.error("Failed to delete trigger:",w),u(w instanceof Error?w.message:"Failed to delete trigger")}finally{m(w=>{const S=new Set(w);return S.delete(x),S})}},[]);return p.useEffect(()=>{v();const x=setInterval(v,3e4);return()=>clearInterval(x)},[v]),f.jsxs("div",{className:Ce("flex flex-col flex-1 min-h-0",e),children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-slate-800",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(J1,{className:"h-4 w-4 text-slate-400"}),f.jsx("h2",{className:"text-sm font-semibold text-slate-300",children:"Trigger Log"}),f.jsx("span",{className:"text-xs text-slate-500",children:"(All Symbols)"})]}),f.jsx("button",{onClick:v,disabled:r,className:Ce("p-1.5 rounded transition-colors","hover:bg-slate-800 text-slate-400 hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Refresh log",children:f.jsx(W_,{className:Ce("h-4 w-4",r&&"animate-spin")})})]}),c&&f.jsx("div",{className:"mx-4 mt-2 rounded border border-red-500/50 bg-red-500/10 px-3 py-2 text-sm text-red-400",children:c}),f.jsx("div",{className:"flex-1 overflow-auto min-h-0",children:t.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[f.jsx(J1,{className:"h-12 w-12 mb-2 opacity-50"}),f.jsx("p",{className:"text-sm",children:"No trigger events yet"}),f.jsx("p",{className:"text-xs",children:"Alerts will appear here when they trigger"})]}):f.jsx("table",{className:"w-full text-sm",children:f.jsx("tbody",{children:t.map(x=>f.jsx("tr",{className:"border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors group",children:f.jsx("td",{className:"p-2",children:f.jsxs("div",{className:"space-y-0.5",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[f.jsx("span",{className:"text-xs font-semibold text-slate-200 whitespace-nowrap",children:x.alert_label?.split(" ")[0]||"N/A"}),f.jsx("span",{className:"text-xs text-slate-400 truncate",title:x.alert_label||"Unknown Alert",children:x.alert_label||"Unknown Alert"}),x.trigger_type==="upper"?f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-500/10 text-red-400 text-xs font-medium whitespace-nowrap",children:[f.jsx(Av,{className:"h-3 w-3"}),"Sell"]}):x.trigger_type==="lower"?f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-500/10 text-green-400 text-xs font-medium whitespace-nowrap",children:[f.jsx(cL,{className:"h-3 w-3"}),"Buy"]}):f.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full bg-slate-500/10 text-slate-400 text-xs whitespace-nowrap",children:x.trigger_type||"Unknown"})]}),f.jsx("button",{onClick:()=>g(x.id),disabled:h.has(x.id),className:Ce("p-1 rounded transition-colors flex-shrink-0","text-slate-500 hover:bg-red-500/20 hover:text-red-400","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Delete trigger",children:f.jsx(lu,{className:Ce("h-3.5 w-3.5",h.has(x.id)&&"animate-pulse")})})]}),f.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[f.jsx("span",{className:"text-slate-500 whitespace-nowrap",children:e7(x.triggered_at)}),f.jsx("span",{className:"font-mono whitespace-nowrap text-slate-200",children:t7(x.observed_price)})]})]})})},x.id))})})}),t.length>0&&f.jsxs("div",{className:"px-4 py-2 border-t border-slate-800 text-xs text-slate-500",children:["Showing ",t.length," most recent triggers"]})]})}const s7=({alerts:n,symbol:e,onToggleMute:t,onDelete:s,onSelect:r,onTriggerDemo:o})=>{const[c,u]=p.useState("alerts"),[h,m]=p.useState(n);p.useEffect(()=>{m(n)},[n]);const v=p.useCallback(async(g,x)=>{const w=h.find(M=>M.id===g);if(!w)return;const _=!(w.notificationSettings?.[x==="toast"?"toastEnabled":x==="sound"?"soundEnabled":"telegramEnabled"]??!1),N={};x==="toast"?N.toastEnabled=_:x==="sound"?N.soundEnabled=_:x==="telegram"&&(N.telegramEnabled=_);const T=h.map(M=>M.id===g?{...M,notificationSettings:{...M.notificationSettings,...N}}:M);m(T);try{await Rb(String(g),N),Sg.success(`${x} ${_?"enabled":"disabled"}`)}catch(M){m(h),console.error("Failed to update notification settings:",M),M.response?.status===401?Sg.error("Please log in to modify notification settings"):Sg.error("Failed to update notification settings")}},[h]);return f.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[f.jsxs("div",{className:"flex border-b border-slate-800",children:[f.jsx("button",{className:`px-4 py-2 text-sm font-medium ${c==="alerts"?"text-white border-b-2 border-blue-500":"text-slate-400 hover:text-slate-300"}`,onClick:()=>u("alerts"),children:"Alerts List"}),f.jsx("button",{className:`px-4 py-2 text-sm font-medium ${c==="log"?"text-white border-b-2 border-blue-500":"text-slate-400 hover:text-slate-300"}`,onClick:()=>u("log"),children:"Log"})]}),f.jsx("div",{className:"flex-1 min-h-0 pr-1 flex flex-col",children:c==="alerts"?f.jsx(H8,{alerts:h,onToggleMute:t,onDelete:s,onSelect:r,onTriggerDemo:o,onToggleNotification:v}):f.jsx(n7,{})})]})};function Et(n){var e=n.width,t=n.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(t<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:t}}function La(n,e){return n.width===e.width&&n.height===e.height}var i7=(function(){function n(e){var t=this;this._resolutionListener=function(){return t._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return n.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(n.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),n.prototype.subscribe=function(e){var t=this,s={next:e};return this._observers.push(s),{unsubscribe:function(){t._observers=t._observers.filter(function(r){return r!==s})}}},n.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},n.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},n.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},n.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(t){return t.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},n})();function r7(n){return new i7(n)}var a7=(function(){function n(e,t,s){var r;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Et({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=t??(function(o){return o}),this._allowResizeObserver=(r=s?.allowResizeObserver)!==null&&r!==void 0?r:!0,this._chooseAndInitObserver()}return n.prototype.dispose=function(){var e,t;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(t=this._devicePixelRatioObservable)===null||t===void 0||t.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(n.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bitmapSize",{get:function(){return Et({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),n.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Et(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},n.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(t){return t!==e})},Object.defineProperty(n.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),n.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},n.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(t){return t!==e})},n.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},n.prototype._resizeBitmap=function(e){var t=this.bitmapSize;La(t,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(t,e))},n.prototype._emitBitmapSizeChanged=function(e,t){var s=this;this._bitmapSizeChangedListeners.forEach(function(r){return r.call(s,e,t)})},n.prototype._suggestNewBitmapSize=function(e){var t=this._suggestedBitmapSize,s=Et(this._transformBitmapSize(e,this._canvasElementClientSize)),r=La(this.bitmapSize,s)?null:s;t===null&&r===null||t!==null&&r!==null&&La(t,r)||(this._suggestedBitmapSize=r,this._emitSuggestedBitmapSizeChanged(t,r))},n.prototype._emitSuggestedBitmapSizeChanged=function(e,t){var s=this;this._suggestedBitmapSizeChangedListeners.forEach(function(r){return r.call(s,e,t)})},n.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}l7().then(function(t){return t?e._initResizeObserver():e._initDevicePixelRatioObservable()})},n.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var t=IC(this._canvasElement);if(t===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=r7(t),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},n.prototype._invalidateBitmapSize=function(){var e,t;if(this._canvasElement!==null){var s=IC(this._canvasElement);if(s!==null){var r=(t=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:s.devicePixelRatio,o=this._canvasElement.getClientRects(),c=o[0]!==void 0?c7(o[0],r):Et({width:this._canvasElementClientSize.width*r,height:this._canvasElementClientSize.height*r});this._suggestNewBitmapSize(c)}}},n.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(t){var s=t.find(function(c){return c.target===e._canvasElement});if(!(!s||!s.devicePixelContentBoxSize||!s.devicePixelContentBoxSize[0])){var r=s.devicePixelContentBoxSize[0],o=Et({width:r.inlineSize,height:r.blockSize});e._suggestNewBitmapSize(o)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},n})();function o7(n,e){return new a7(n,e.transform,e.options)}function IC(n){return n.ownerDocument.defaultView}function l7(){return new Promise(function(n){var e=new ResizeObserver(function(t){n(t.every(function(s){return"devicePixelContentBoxSize"in s})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function c7(n,e){return Et({width:Math.round(n.left*e+n.width*e)-Math.round(n.left*e),height:Math.round(n.top*e+n.height*e)-Math.round(n.top*e)})}var u7=(function(){function n(e,t,s){if(t.width===0||t.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=t,s.width===0||s.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=s,this._context=e}return n.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},n.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(n.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),n})();function Fa(n,e){var t=n.canvasElementClientSize;if(t.width===0||t.height===0)return null;var s=n.bitmapSize;if(s.width===0||s.height===0)return null;var r=n.canvasElement.getContext("2d",e);return r===null?null:new u7(r,t,s)}const OR={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var LC,PC;function Ha(n,e){const t={0:[],1:[n.lineWidth,n.lineWidth],2:[2*n.lineWidth,2*n.lineWidth],3:[6*n.lineWidth,6*n.lineWidth],4:[n.lineWidth,4*n.lineWidth]}[e];n.setLineDash(t)}function DR(n,e,t,s){n.beginPath();const r=n.lineWidth%2?.5:0;n.moveTo(t,e+r),n.lineTo(s,e+r),n.stroke()}function gn(n,e){if(!n)throw new Error("Assertion failed"+(e?": "+e:""))}function qn(n){if(n===void 0)throw new Error("Value is undefined");return n}function ye(n){if(n===null)throw new Error("Value is null");return n}function zr(n){return ye(qn(n))}(function(n){n[n.Simple=0]="Simple",n[n.WithSteps=1]="WithSteps",n[n.Curved=2]="Curved"})(LC||(LC={})),(function(n){n[n.Solid=0]="Solid",n[n.Dotted=1]="Dotted",n[n.Dashed=2]="Dashed",n[n.LargeDashed=3]="LargeDashed",n[n.SparseDotted=4]="SparseDotted"})(PC||(PC={}));class Gt{constructor(){this.t=[]}i(e,t,s){const r={h:e,l:t,o:s===!0};this.t.push(r)}_(e){const t=this.t.findIndex((s=>e===s.h));t>-1&&this.t.splice(t,1)}u(e){this.t=this.t.filter((t=>t.l!==e))}p(e,t,s){const r=[...this.t];this.t=this.t.filter((o=>!o.o)),r.forEach((o=>o.h(e,t,s)))}v(){return this.t.length>0}m(){this.t=[]}}function cs(n,...e){for(const t of e)for(const s in t)t[s]!==void 0&&Object.prototype.hasOwnProperty.call(t,s)&&!["__proto__","constructor","prototype"].includes(s)&&(typeof t[s]!="object"||n[s]===void 0||Array.isArray(t[s])?n[s]=t[s]:cs(n[s],t[s]));return n}function ul(n){return typeof n=="number"&&isFinite(n)}function iu(n){return typeof n=="number"&&n%1==0}function Au(n){return typeof n=="string"}function fh(n){return typeof n=="boolean"}function Vi(n){const e=n;if(!e||typeof e!="object")return e;let t,s,r;for(s in t=Array.isArray(e)?[]:{},e)e.hasOwnProperty(s)&&(r=e[s],t[s]=r&&typeof r=="object"?Vi(r):r);return t}function zC(n){return n!==null}function ru(n){return n===null?void 0:n}const IR="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function ff(n,e,t){return e===void 0&&(e=IR),`${t=t!==void 0?`${t} `:""}${n}px ${e}`}class d7{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,t=this.F(),s=this.W();return e.k===t&&e.T===s||(e.k=t,e.T=s,e.P=ff(t,s),e.A=2.5/12*t,e.I=e.A,e.V=t/12*e.C,e.B=t/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function tv(n){return n<0?0:n>255?255:Math.round(n)||0}function $C(n){return .199*n[0]+.687*n[1]+.114*n[2]}let h7=class{constructor(e,t){this.q=new Map,this.j=e,t&&(this.q=t)}Y(e,t){if(e==="transparent")return e;const s=this.K(e),r=s[3];return`rgba(${s[0]}, ${s[1]}, ${s[2]}, ${t*r})`}Z(e){const t=this.K(e);return{G:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,X:$C(t)>160?"black":"white"}}J(e){return $C(this.K(e))}tt(e,t,s){const[r,o,c,u]=this.K(e),[h,m,v,g]=this.K(t),x=[tv(r+s*(h-r)),tv(o+s*(m-o)),tv(c+s*(v-c)),(w=u+s*(g-u),w<=0||w>1?Math.min(Math.max(w,0),1):Math.round(1e4*w)/1e4)];var w;return`rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]})`}K(e){const t=this.q.get(e);if(t)return t;const s=(function(c){const u=document.createElement("div");u.style.display="none",document.body.appendChild(u),u.style.color=c;const h=window.getComputedStyle(u).color;return document.body.removeChild(u),h})(e),r=s.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.j.length)for(const c of this.j){const u=c(e);if(u)return this.q.set(e,u),u}throw new Error(`Failed to parse color: ${e}`)}const o=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(e,o),o}},f7=class{constructor(){this.it=[]}st(e){this.it=e}nt(e,t,s){this.it.forEach((r=>{r.nt(e,t,s)}))}};class ea{nt(e,t,s){e.useBitmapCoordinateSpace((r=>this.et(r,t,s)))}}let m7=class extends ea{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:s}){if(this.rt===null||this.rt.lt===null)return;const r=this.rt.lt,o=this.rt,c=Math.max(1,Math.floor(t))%2/2,u=h=>{e.beginPath();for(let m=r.to-1;m>=r.from;--m){const v=o.ot[m],g=Math.round(v._t*t)+c,x=v.ut*s,w=h*s+c;e.moveTo(g,x),e.arc(g,x,w,0,2*Math.PI)}e.fill()};o.ct>0&&(e.fillStyle=o.dt,u(o.ft+o.ct)),e.fillStyle=o.vt,u(o.ft)}};function p7(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const g7={from:0,to:1};let v7=class{constructor(e,t,s){this.Mt=new f7,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=t,this.yt=s,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(p7),this.bt=this.St.map((t=>{const s=new m7;return s.ht(t),s})),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),t=this.yt.Vt(),s=this.Ct.Bt(),r=this.O.Et();this.Pt(),t.forEach(((o,c)=>{const u=this.St[c],h=o.At(s),m=o.Lt();!e&&h!==null&&o.It()&&m!==null?(u.vt=h.zt,u.ft=h.ft,u.ct=h.Ot,u.ot[0].gt=h.gt,u.ot[0].ut=o.Ft().Nt(h.gt,m.Wt),u.dt=h.Ht??this.O.Ut(u.ot[0].ut/o.Ft().$t()),u.ot[0].wt=s,u.ot[0]._t=r.qt(s),u.lt=g7):u.lt=null}))}};class b7 extends ea{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.jt===null)return;const o=this.jt.Yt.It,c=this.jt.Kt.It;if(!o&&!c)return;const u=Math.round(this.jt._t*s),h=Math.round(this.jt.ut*r);e.lineCap="butt",o&&u>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*s),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,Ha(e,this.jt.Yt.Zt),(function(m,v,g,x){m.beginPath();const w=m.lineWidth%2?.5:0;m.moveTo(v+w,g),m.lineTo(v+w,x),m.stroke()})(e,u,0,t.height)),c&&h>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*r),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,Ha(e,this.jt.Kt.Zt),DR(e,h,0,t.width))}}class y7{constructor(e,t){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new b7(this.Gt),this.Jt=e,this.yt=t}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),t=this.yt.Qt().N().crosshair,s=this.Gt;if(t.mode===2)return s.Kt.It=!1,void(s.Yt.It=!1);s.Kt.It=e&&this.Jt.ti(this.yt),s.Yt.It=e&&this.Jt.ii(),s.Kt.ct=t.horzLine.width,s.Kt.Zt=t.horzLine.style,s.Kt.R=t.horzLine.color,s.Yt.ct=t.vertLine.width,s.Yt.Zt=t.vertLine.style,s.Yt.R=t.vertLine.color,s._t=this.Jt.si(),s.ut=this.Jt.ni()}}function x7(n,e,t,s,r,o){n.fillRect(e+o,t,s-2*o,o),n.fillRect(e+o,t+r-o,s-2*o,o),n.fillRect(e,t,o,r),n.fillRect(e+s-o,t,o,r)}function am(n,e,t,s,r,o){n.save(),n.globalCompositeOperation="copy",n.fillStyle=o,n.fillRect(e,t,s,r),n.restore()}function UC(n,e,t,s,r,o){n.beginPath(),n.roundRect?n.roundRect(e,t,s,r,o):(n.lineTo(e+s-o[1],t),o[1]!==0&&n.arcTo(e+s,t,e+s,t+o[1],o[1]),n.lineTo(e+s,t+r-o[2]),o[2]!==0&&n.arcTo(e+s,t+r,e+s-o[2],t+r,o[2]),n.lineTo(e+o[3],t+r),o[3]!==0&&n.arcTo(e,t+r,e,t+r-o[3],o[3]),n.lineTo(e,t+o[0]),o[0]!==0&&n.arcTo(e,t,e+o[0],t,o[0]))}function BC(n,e,t,s,r,o,c=0,u=[0,0,0,0],h=""){if(n.save(),!c||!h||h===o)return UC(n,e,t,s,r,u),n.fillStyle=o,n.fill(),void n.restore();const m=c/2;var v;UC(n,e+m,t+m,s-c,r-c,(v=-m,u.map((g=>g===0?g:g+v)))),o!=="transparent"&&(n.fillStyle=o,n.fill()),h!=="transparent"&&(n.lineWidth=c,n.strokeStyle=h,n.closePath(),n.stroke()),n.restore()}function LR(n,e,t,s,r,o,c){n.save(),n.globalCompositeOperation="copy";const u=n.createLinearGradient(0,0,0,r);u.addColorStop(0,o),u.addColorStop(1,c),n.fillStyle=u,n.fillRect(e,t,s,r),n.restore()}let VC=class{constructor(e,t){this.ht(e,t)}ht(e,t){this.jt=e,this.ei=t}$t(e,t){return this.jt.It?e.k+e.A+e.I:0}nt(e,t,s,r){if(!this.jt.It||this.jt.ri.length===0)return;const o=this.jt.R,c=this.ei.G,u=e.useBitmapCoordinateSpace((h=>{const m=h.context;m.font=t.P;const v=this.hi(h,t,s,r),g=v.ai;return v.li?BC(m,g.oi,g._i,g.ui,g.ci,c,g.di,[g.ft,0,0,g.ft],c):BC(m,g.fi,g._i,g.ui,g.ci,c,g.di,[0,g.ft,g.ft,0],c),this.jt.pi&&(m.fillStyle=o,m.fillRect(g.fi,g.mi,g.wi-g.fi,g.gi)),this.jt.Mi&&(m.fillStyle=t.D,m.fillRect(v.li?g.bi-g.di:0,g._i,g.di,g.Si-g._i)),v}));e.useMediaCoordinateSpace((({context:h})=>{const m=u.xi;h.font=t.P,h.textAlign=u.li?"right":"left",h.textBaseline="middle",h.fillStyle=o,h.fillText(this.jt.ri,m.Ci,(m._i+m.Si)/2+m.yi)}))}hi(e,t,s,r){const{context:o,bitmapSize:c,mediaSize:u,horizontalPixelRatio:h,verticalPixelRatio:m}=e,v=this.jt.pi||!this.jt.ki?t.C:0,g=this.jt.Pi?t.S:0,x=t.A+this.ei.Ti,w=t.I+this.ei.Ri,S=t.V,C=t.B,_=this.jt.ri,N=t.k,T=s.Di(o,_),M=Math.ceil(s.Ii(o,_)),j=N+x+w,P=t.S+S+C+M+v,I=Math.max(1,Math.floor(m));let O=Math.round(j*m);O%2!=I%2&&(O+=1);const B=g>0?Math.max(1,Math.floor(g*h)):0,re=Math.round(P*h),le=Math.round(v*h),te=this.ei.Vi??this.ei.Bi??this.ei.Ei,he=Math.round(te*m)-Math.floor(.5*m),oe=Math.floor(he+I/2-O/2),ce=oe+O,ne=r==="right",k=ne?u.width-g:g,W=ne?c.width-B:B;let V,Y,me;return ne?(V=W-re,Y=W-le,me=k-v-S-g):(V=W+re,Y=W+le,me=k+v+S),{li:ne,ai:{_i:oe,mi:he,Si:ce,ui:re,ci:O,ft:2*h,di:B,oi:V,fi:W,wi:Y,gi:I,bi:c.width},xi:{_i:oe/m,Si:ce/m,Ci:me,yi:T}}}},om=class{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||VC)(this.Li,this.Ai),this.Ni=new(e||VC)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,t=!1){return Math.max(this.Oi.$t(e,t),this.Ni.$t(e,t))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}},w7=class extends om{constructor(e,t,s){super(),this.Jt=e,this.Ki=t,this.Zi=s}Yi(e,t,s){if(e.It=!1,this.Jt.N().mode===2)return;const r=this.Jt.N().horzLine;if(!r.labelVisible)return;const o=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||o===null)return;const c=this.Ki.Xi().Z(r.labelBackgroundColor);s.G=c.G,e.R=c.X;const u=2/12*this.Ki.k();s.Ti=u,s.Ri=u;const h=this.Zi(this.Ki);s.Ei=h.Ei,e.ri=this.Ki.Ji(h.gt,o),e.It=!0}};const S7=/[1-9]/g;class PR{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,t){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const s=e.useMediaCoordinateSpace((({context:x})=>(x.font=t.P,Math.round(t.Qi.Ii(x,ye(this.jt).ri,S7)))));if(s<=0)return;const r=t.ts,o=s+2*r,c=o/2,u=this.jt.ss;let h=this.jt.Ei,m=Math.floor(h-c)+.5;m<0?(h+=Math.abs(0-m),m=Math.floor(h-c)+.5):m+o>u&&(h-=Math.abs(u-(m+o)),m=Math.floor(h-c)+.5);const v=m+o,g=Math.ceil(0+t.S+t.C+t.A+t.k+t.I);e.useBitmapCoordinateSpace((({context:x,horizontalPixelRatio:w,verticalPixelRatio:S})=>{const C=ye(this.jt);x.fillStyle=C.G;const _=Math.round(m*w),N=Math.round(0*S),T=Math.round(v*w),M=Math.round(g*S),j=Math.round(2*w);if(x.beginPath(),x.moveTo(_,N),x.lineTo(_,M-j),x.arcTo(_,M,_+j,M,j),x.lineTo(T-j,M),x.arcTo(T,M,T,M-j,j),x.lineTo(T,N),x.fill(),C.pi){const P=Math.round(C.Ei*w),I=N,O=Math.round((I+t.C)*S);x.fillStyle=C.R;const B=Math.max(1,Math.floor(w)),re=Math.floor(.5*w);x.fillRect(P-re,I,B,O-I)}})),e.useMediaCoordinateSpace((({context:x})=>{const w=ye(this.jt),S=0+t.S+t.C+t.A+t.k/2;x.font=t.P,x.textAlign="left",x.textBaseline="middle",x.fillStyle=w.R;const C=t.Qi.Di(x,"Apr0");x.translate(m+r,S+C),x.fillText(w.ri,0,0)}))}}class C7{constructor(e,t,s){this.xt=!0,this.Xt=new PR,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=t,this.Zi=s}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const t=this.Ct.N().vertLine;if(!t.labelVisible)return;const s=this.ns.Et();if(s.Gi())return;e.ss=s.ss();const r=this.Zi();if(r===null)return;e.Ei=r.Ei;const o=s.es(this.Ct.Bt());e.ri=s.rs(ye(o)),e.It=!0;const c=this.ns.Xi().Z(t.labelBackgroundColor);e.G=c.G,e.R=c.X,e.pi=s.N().ticksVisible}}let zR=class{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}};var FC;(function(n){n[n.Normal=0]="Normal",n[n.Magnet=1]="Magnet",n[n.Hidden=2]="Hidden",n[n.MagnetOHLC=3]="MagnetOHLC"})(FC||(FC={}));let E7=class extends zR{constructor(e,t){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=t,this.Ts=((r,o)=>c=>{const u=o(),h=r();if(c===ye(this.yt).Rs())return{gt:h,Ei:u};{const m=ye(c.Lt());return{gt:c.Ds(u,m),Ei:u}}})((()=>this.ps),(()=>this.Cs));const s=((r,o)=>()=>{const c=this.ns.Et().Is(r()),u=o();return c&&Number.isFinite(u)?{wt:c,Ei:u}:null})((()=>this.vs),(()=>this.si()));this.Vs=new C7(this,e,s)}N(){return this.Ps}Bs(e,t){this.ys=e,this.ks=t}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,t,s){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,t,s)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const t=this.ns,s=t.Et();let r=null,o=null;for(const m of t.Us()){const v=m.qs().$s(e,-1);if(v){if(v.js===e)return e;(r===null||v.js>r)&&(r=v.js)}const g=m.qs().$s(e,1);if(g){if(g.js===e)return e;(o===null||g.js<o)&&(o=g.js)}}const c=[r,o].filter(zC);if(c.length===0)return e;const u=s.qt(e),h=c.map((m=>Math.abs(u-s.qt(m))));return c[h.indexOf(Math.min(...h))]}Ys(e){let t=this.bs.get(e);t||(t=new y7(this,e),this.bs.set(e,t));let s=this.Ss.get(e);return s||(s=new v7(this.ns,this,e),this.Ss.set(e,s)),[t,s]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,t){this.ws&&this.yt===e||this.gs.clear();const s=[];return this.yt===e&&s.push(this.Zs(this.gs,t,this.Ts)),s}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach((e=>{this.bs.get(e)?.kt(),this.Ss.get(e)?.kt()})),this.gs.forEach((e=>e.kt())),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,t,s){this.Qs(e,t,s)&&this.Ws()}Qs(e,t,s){const r=this.xs,o=this.Cs,c=this.ps,u=this.vs,h=this.yt,m=this.Js(s);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=s;const v=m!==null?m.Lt():null;return m!==null&&v!==null?(this.ps=t,this.Cs=m.Nt(t,v)):(this.ps=NaN,this.Cs=NaN),r!==this.xs||o!==this.Cs||u!==this.vs||c!==this.ps||h!==this.yt}Fs(){const e=this.ns.tn().map((s=>s.qs().sn())).filter(zC),t=e.length===0?null:Math.max(...e);this.vs=t!==null?t:NaN}Zs(e,t,s){let r=e.get(t);return r===void 0&&(r=new w7(this,t,s),e.set(t,r)),r}};function lm(n){return n==="left"||n==="right"}let Vn=class n0{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,t){const s=(function(r,o){return r===void 0?o:{an:Math.max(r.an,o.an),ln:r.ln||o.ln}})(this.nn.get(e),t);this.nn.set(e,s)}_n(){return this.rn}un(e){const t=this.nn.get(e);return t===void 0?{an:this.rn}:{an:Math.max(this.rn,t.an),ln:t.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const t of e.en)this.xn(t);this.rn=Math.max(this.rn,e.rn),e.nn.forEach(((t,s)=>{this.hn(s,t)}))}static Cn(){return new n0(2)}static yn(){return new n0(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex((t=>t.fn===5));e!==-1&&this.en.splice(e,1)}},$R=class{formatTickmarks(e){return e.map((t=>this.format(t)))}};const HC=".";function Fi(n,e){if(!ul(n))return"n/a";if(!iu(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?n.toString():("0000000000000000"+n.toString()).slice(-e)}class cm extends $R{constructor(e,t){if(super(),t||(t=1),ul(e)&&iu(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=t,this.Pn()}format(e){const t=e<0?"":"";return e=Math.abs(e),t+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const t=this.Ki/this.kn;let s=Math.floor(e),r="";const o=this.Rn!==void 0?this.Rn:NaN;if(t>1){let c=+(Math.round(e*t)-s*t).toFixed(this.Rn);c>=t&&(c-=t,s+=1),r=HC+Fi(+c.toFixed(this.Rn)*this.kn,o)}else s=Math.round(s*t)/t,o>0&&(r=HC+Fi(0,o));return s.toFixed(0)+r}}class UR extends cm{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class _7 extends $R{constructor(e){super(),this.Dn=e}format(e){let t="";return e<0&&(t="-",e=-e),e<995?t+this.In(e):e<999995?t+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),t+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),t+this.In(e/1e9)+"B")}In(e){let t;const s=Math.pow(10,this.Dn);return t=(e=Math.round(e*s)/s)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),t.replace(/(\.[1-9]*)0+$/,((r,o)=>o))}}const N7=/[2-9]/g;class mf{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,t,s){return this.Nn(e,t,s).width}Di(e,t,s){const r=this.Nn(e,t,s);return((r.actualBoundingBoxAscent||0)-(r.actualBoundingBoxDescent||0))/2}Nn(e,t,s){const r=s||N7,o=String(t).replace(r,"0");if(this.Ln.has(o))return qn(this.Ln.get(o)).Fn;if(this.Vn===this.zn){const u=this.An[this.En];delete this.An[this.En],this.Ln.delete(u),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const c=e.measureText(o);return e.restore(),c.width===0&&t.length||(this.Ln.set(o,{Fn:c,Wn:this.Bn}),this.An[this.Bn]=o,this.Vn++,this.Bn++),c}}class T7{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,t,s){this.Hn=e,this.M=t,this.Un=s}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class BR{constructor(e,t,s){this.jn=e,this.$n=new mf(50),this.Yn=t,this.O=s,this.F=-1,this.Xt=new T7(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const t=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(t===null)return null;const s=e.Xn(t);if(s==="overlay")return null;const r=this.O.Jn();return r.k!==this.F&&(this.F=r.k,this.$n.On()),this.Xt.qn(this.jn.ji(),r,s),this.Xt}}class M7 extends ea{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,t){if(!this.jt?.It)return null;const{ut:s,ct:r,te:o}=this.jt;return t>=s-r-7&&t<=s+r+7?{ie:this.jt,te:o}:null}et({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.jt===null||this.jt.It===!1)return;const o=Math.round(this.jt.ut*r);o<0||o>t.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*s),Ha(e,this.jt.Zt),DR(e,o,0,t.width))}}class Ab{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new M7,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class R7 extends Ab{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),t=e.ae().ae;if(t!==2&&t!==3)return;const s=this.ee.N();if(!s.baseLineVisible||!this.ee.It())return;const r=this.ee.Lt();r!==null&&(this.se.It=!0,this.se.ut=e.Nt(r.Wt,r.Wt),this.se.R=s.baseLineColor,this.se.ct=s.baseLineWidth,this.se.Zt=s.baseLineStyle)}}class A7 extends ea{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:s}){const r=this.jt;if(r===null)return;const o=Math.max(1,Math.floor(t)),c=o%2/2,u=Math.round(r.oe.x*t)+c,h=r.oe.y*s;e.fillStyle=r._e,e.beginPath();const m=Math.max(2,1.5*r.ue)*t;e.arc(u,h,m,0,2*Math.PI,!1),e.fill(),e.fillStyle=r.ce,e.beginPath(),e.arc(u,h,r.ft*t,0,2*Math.PI,!1),e.fill(),e.lineWidth=o,e.strokeStyle=r.de,e.beginPath(),e.arc(u,h,r.ft*t+o/2,0,2*Math.PI,!1),e.stroke()}}const j7=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class k7{constructor(e){this.Xt=new A7,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),t=this.Ce-e;if(t>0)return void(t<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),t=e.Ie(),s=this.ye.Lt();if(t===null||s===null)return;const r=this.ye.Ve(!0);if(r.Be||!t.Ee(r.js))return;const o={x:e.qt(r.js),y:this.ye.Ft().Nt(r.gt,s.Wt)},c=r.R,u=this.ye.N().lineWidth,h=this.Ae(this.Le(),c);this.Xt.ht({_e:c,ue:u,ce:h.ce,de:h.de,ft:h.ft,oe:o})}De(){const e=this.Xt.le();if(e!==null){const t=this.Ae(this.Le(),e._e);e.ce=t.ce,e.de=t.de,e.ft=t.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,t,s,r){const o=s+(r-s)*t;return this.ye.Qt().Xi().Y(e,o)}Ae(e,t){const s=e%2600/2600;let r;for(const m of j7)if(s>=m.fe&&s<=m.pe){r=m;break}gn(r!==void 0,"Last price animation internal logic error");const o=(s-r.fe)/(r.pe-r.fe);return{ce:this.ze(t,o,r.we,r.ge),de:this.ze(t,o,r.Me,r.be),ft:(c=o,u=r.ve,h=r.me,u+(h-u)*c)};var c,u,h}}class O7 extends Ab{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const t=this.ee.N();if(!t.priceLineVisible||!this.ee.It())return;const s=this.ee.Ve(t.priceLineSource===0);s.Be||(e.It=!0,e.ut=s.Ei,e.R=this.ee.Oe(s.R),e.ct=t.priceLineWidth,e.Zt=t.priceLineStyle)}}class D7 extends om{constructor(e){super(),this.Jt=e}Yi(e,t,s){e.It=!1,t.It=!1;const r=this.Jt;if(!r.It())return;const o=r.N(),c=o.lastValueVisible,u=r.Ne()!=="",h=o.seriesLastValueMode===0,m=r.Ve(!1);if(m.Be)return;c&&(e.ri=this.Fe(m,c,h),e.It=e.ri.length!==0),(u||h)&&(t.ri=this.We(m,c,u,h),t.It=t.ri.length>0);const v=r.Oe(m.R),g=this.Jt.Qt().Xi().Z(v);s.G=g.G,s.Ei=m.Ei,t.Ht=r.Qt().Ut(m.Ei/r.Ft().$t()),e.Ht=v,e.R=g.X,t.R=g.X}We(e,t,s,r){let o="";const c=this.Jt.Ne();return s&&c.length!==0&&(o+=`${c} `),t&&r&&(o+=this.Jt.Ft().He()?e.Ue:e.$e),o.trim()}Fe(e,t,s){return t?s?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function WC(n,e,t,s){const r=Number.isFinite(e),o=Number.isFinite(t);return r&&o?n(e,t):r||o?r?e:t:s}class Rn{constructor(e,t){this.qe=e,this.je=t}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Rn(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Rn(WC(Math.min,this.Ze(),e.Ze(),-1/0),WC(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!ul(e)||this.je-this.qe===0)return;const t=.5*(this.je+this.qe);let s=this.je-t,r=this.qe-t;s*=e,r*=e,this.je=t+s,this.qe=t+r}Qe(e){ul(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Rn(e.minValue,e.maxValue)}}class pf{constructor(e,t){this.sr=e,this.nr=t||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new pf(Rn.ir(e.priceRange),e.margins)}}const I7=[2,4,8,16,32,64,128,256,512],L7="Custom series with conflation reducer must have a priceValueBuilder method";class P7 extends Ab{constructor(e,t){super(e),this.hr=t}he(){const e=this.se;e.It=!1;const t=this.hr.N();if(!this.ee.It()||!t.lineVisible)return;const s=this.hr.ar();s!==null&&(e.It=!0,e.ut=s,e.R=t.color,e.ct=t.lineWidth,e.Zt=t.lineStyle,e.te=this.hr.N().id)}}class z7 extends om{constructor(e,t){super(),this.ye=e,this.hr=t}Yi(e,t,s){e.It=!1,t.It=!1;const r=this.hr.N(),o=r.axisLabelVisible,c=r.title!=="",u=this.ye;if(!o||!u.It())return;const h=this.hr.ar();if(h===null)return;c&&(t.ri=r.title,t.It=!0),t.Ht=u.Qt().Ut(h/u.Ft().$t()),e.ri=this.lr(r.price),e.It=!0;const m=this.ye.Qt().Xi().Z(r.axisLabelColor||r.color);s.G=m.G;const v=r.axisLabelTextColor||m.X;e.R=v,t.R=v,s.Ei=h}lr(e){const t=this.ye.Lt();return t===null?"":this.ye.Ft().Ji(e,t.Wt)}}class $7{constructor(e,t){this.ye=e,this.Ps=t,this._r=new P7(e,this),this.jn=new z7(e,this),this.ur=new BR(this.jn,e,e.Qt())}cr(e){cs(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,t=e.Ft();if(e.Qt().Et().Gi()||t.Gi())return null;const s=e.Lt();return s===null?null:t.Nt(this.Ps.price,s.Wt)}}class U7{constructor(){this.wr=new WeakMap}gr(e,t,s){const r=1/t*s;if(e>=r)return 1;const o=r/e,c=Math.pow(2,Math.floor(Math.log2(o)));return Math.min(c,512)}Mr(e,t,s,r=!1,o){if(e.length===0||t<=1)return e;const c=this.br(t);if(c<=1)return e;const u=this.Sr(e);let h=u.Cr.get(c);return h!==void 0||(h=this.yr(e,c,s,r,o,u.Cr),u.Cr.set(c,h)),h}kr(e,t,s,r,o=!1,c){if(s<1||e.length===0)return e;const u=this.Sr(e),h=u.Cr.get(s);if(!h)return this.Mr(e,s,r,o,c);const m=this.Pr(e,t,s,h,o,r,c);return u.Cr.set(s,m),m}br(e){if(e<=2)return 2;for(const t of I7)if(e<=t)return t;return 512}Tr(e){if(e.length===0)return 0;const t=e[0],s=e[e.length-1];return 31*e.length+17*t.js+13*s.js}yr(e,t,s,r=!1,o,c=new Map){if(t===2)return this.Rr(e,2,s,r,o);const u=t/2;let h=c.get(u);return h||(h=this.yr(e,u,s,r,o,c),c.set(u,h)),this.Dr(h,s,r,o)}Rr(e,t,s,r=!1,o){const c=this.Ir(e,t,s,r,o);return this.Vr(c,r)}Dr(e,t,s=!1,r){const o=this.Ir(e,2,t,s,r);return this.Vr(o,s)}Ir(e,t,s,r=!1,o){const c=[];for(let u=0;u<e.length;u+=t)if(e.length-u>=t){const h=this.Br(e[u],e[u+1],s,r,o);h.Er=!1,c.push(h)}else if(c.length===0)c.push(this.Ar(e[u],!0));else{const h=c[c.length-1];c[c.length-1]=this.Lr(h,e[u],s,r,o)}return c}zr(e,t){return(e??1)+(t??1)}Br(e,t,s,r=!1,o){if(!r||!s||!o){const m=e.Wt[1]>t.Wt[1]?e.Wt[1]:t.Wt[1],v=e.Wt[2]<t.Wt[2]?e.Wt[2]:t.Wt[2];return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:m,$r:v,qr:t.Wt[3],jr:this.zr(e.jr,t.jr),Yr:void 0,Er:!1}}const c=s(this.Kr(e,o),this.Kr(t,o)),u=o(c),h=u.length?u[u.length-1]:0;return{Or:e.js,Nr:t.js,Fr:e.wt,Wr:t.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],h),$r:Math.min(e.Wt[2],h),qr:h,jr:this.zr(e.jr,t.jr),Yr:c,Er:!1}}Lr(e,t,s,r=!1,o){if(!r||!s||!o)return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:e.Ur>t.Wt[1]?e.Ur:t.Wt[1],$r:e.$r<t.Wt[2]?e.$r:t.Wt[2],qr:t.Wt[3],jr:e.jr+(t.jr??1),Yr:e.Yr,Er:!1};const c=e.Yr,u=this.Kr(t,o),h=c?{data:c,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:o(c)}:null,m=h?s(h,u):u.data,v=h?o(m):u.priceValues,g=v.length?v[v.length-1]:0;return{Or:e.Or,Nr:t.js,Fr:e.Fr,Wr:t.wt,Hr:e.Hr,Ur:Math.max(e.Ur,g),$r:Math.min(e.$r,g),qr:g,jr:e.jr+(t.jr??1),Yr:m,Er:!1}}Zr(e,t,s,r,o,c,u=!1,h){const m=t===r?o:e[t];if(s-t==1)return this.Ar(m,!0);const v=t+1===r?o:e[t+1];let g=this.Br(m,v,c,u,h);for(let x=t+2;x<s;x++){const w=x===r?o:e[x];g=this.Lr(g,w,c,u,h)}return g}Kr(e,t){const s=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:t(s)}}Xr(e,t=!1){const s=t===!0,r=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[s?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:s?r?e.Yr:{wt:e.Fr}:void 0}}Vr(e,t=!1){return e.map((s=>this.Xr(s,t)))}Pr(e,t,s,r,o=!1,c,u){if(r.length===0)return r;const h=e.length-1,m=Math.floor(h/s)*s;if(Math.min(m+s,e.length)-m<s&&e.length>s){const v=e.slice();return v[v.length-1]=t,this.Mr(v,s,c,o,u)}if(Math.floor((h-1)/s)===Math.floor(h/s)||r.length===1){const v=Math.min(m+s,e.length),g=v-m;if(g<=0)return r;const x=g===1?this.Ar(m===h?t:e[m],!0):this.Zr(e,m,v,h,t,c,o,u);return r[r.length-1]=this.Xr(x,o),r}{const v=e.slice();return v[v.length-1]=t,this.Mr(v,s,c,o,u)}}Ar(e,t=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:t}}Sr(e){const t=this.Jr(e),s=this.Tr(e);return t.Qr!==s&&(t.Cr.clear(),t.Qr=s),t}Jr(e){let t=this.wr.get(e);return t===void 0&&(t={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,t)),t}}class B7 extends zR{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const V7={Bar:(n,e,t,s)=>{const r=e.upColor,o=e.downColor,c=ye(n(t,s)),u=zr(c.Wt[0])<=zr(c.Wt[3]);return{th:c.R??(u?r:o)}},Candlestick:(n,e,t,s)=>{const r=e.upColor,o=e.downColor,c=e.borderUpColor,u=e.borderDownColor,h=e.wickUpColor,m=e.wickDownColor,v=ye(n(t,s)),g=zr(v.Wt[0])<=zr(v.Wt[3]);return{th:v.R??(g?r:o),ih:v.Ht??(g?c:u),sh:v.nh??(g?h:m)}},Custom:(n,e,t,s)=>({th:ye(n(t,s)).R??e.color}),Area:(n,e,t,s)=>{const r=ye(n(t,s));return{th:r.vt??e.lineColor,vt:r.vt??e.lineColor,eh:r.eh??e.topColor,rh:r.rh??e.bottomColor}},Baseline:(n,e,t,s)=>{const r=ye(n(t,s));return{th:r.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:r.hh??e.topLineColor,ah:r.ah??e.bottomLineColor,oh:r.oh??e.topFillColor1,_h:r._h??e.topFillColor2,uh:r.uh??e.bottomFillColor1,dh:r.dh??e.bottomFillColor2}},Line:(n,e,t,s)=>{const r=ye(n(t,s));return{th:r.R??e.color,vt:r.R??e.color}},Histogram:(n,e,t,s)=>({th:ye(n(t,s)).R??e.color})};class F7{constructor(e){this.fh=(t,s)=>s!==void 0?s.Wt:this.ye.qs().ph(t),this.ye=e,this.mh=V7[e.wh()]}gh(e,t){return this.mh(this.fh,this.ye.N(),e,t)}}function VR(n,e,t,s,r=0,o=e.length){let c=o-r;for(;0<c;){const u=c>>1,h=r+u;s(e[h],t)===n?(r=h+1,c-=u+1):c=u}return r}const dl=VR.bind(null,!0),FR=VR.bind(null,!1);var GC;(function(n){n[n.NearestLeft=-1]="NearestLeft",n[n.None=0]="None",n[n.NearestRight=1]="NearestRight"})(GC||(GC={}));const Rr=30;class H7{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,t=0){const s=this.Th(e,t);return s===null?null:{...this.Rh(s),js:this.Ph(s)}}Dh(){return this.Mh}Ih(e,t,s){if(this.Gi())return null;let r=null;for(const o of s)r=mh(r,this.Vh(e,t,o));return r}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map((t=>t.js))}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,t){const s=this.Eh(e);if(s===null&&t!==0)switch(t){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return s}Ah(e){let t=this.zh(e);return t>0&&(t-=1),t!==this.Mh.length&&this.Ph(t)<e?t:null}Lh(e){const t=this.Oh(e);return t!==this.Mh.length&&e<this.Ph(t)?t:null}Eh(e){const t=this.zh(e);return t===this.Mh.length||e<this.Mh[t].js?null:t}zh(e){return dl(this.Mh,e,((t,s)=>t.js<s))}Oh(e){return FR(this.Mh,e,((t,s)=>t.js>s))}Nh(e,t,s){let r=null;for(let o=e;o<t;o++){const c=this.Mh[o].Wt[s];Number.isNaN(c)||(r===null?r={Fh:c,Wh:c}:(c<r.Fh&&(r.Fh=c),c>r.Wh&&(r.Wh=c)))}return r}Vh(e,t,s){if(this.Gi())return null;let r=null;const o=ye(this.kh()),c=ye(this.sn()),u=Math.max(e,o),h=Math.min(t,c),m=Math.ceil(u/Rr)*Rr,v=Math.max(m,Math.floor(h/Rr)*Rr);{const x=this.zh(u),w=this.Oh(Math.min(h,m,t));r=mh(r,this.Nh(x,w,s))}let g=this.bh.get(s);g===void 0&&(g=new Map,this.bh.set(s,g));for(let x=Math.max(m+1,u);x<v;x+=Rr){const w=Math.floor(x/Rr);let S=g.get(w);if(S===void 0){const C=this.zh(w*Rr),_=this.Oh((w+1)*Rr-1);S=this.Nh(C,_,s),g.set(w,S)}r=mh(r,S)}{const x=this.zh(v),w=this.Oh(h);r=mh(r,this.Nh(x,w,s))}return r}}function mh(n,e){return n===null?e:e===null?n:{Fh:Math.min(n.Fh,e.Fh),Wh:Math.max(n.Wh,e.Wh)}}function nv(){return new H7}const gf={setLineStyle:Ha};class W7{constructor(e){this.Hh=e}nt(e,t,s){this.Hh.draw(e,gf)}Uh(e,t,s){this.Hh.drawBackground?.(e,gf)}}class G7{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const t=new W7(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??"normal"}}class HR{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){this.Zh.updateAllViews?.()}Ys(){const e=this.Zh.paneViews?.()??[];if(this.Kh?.qh===e)return this.Kh.jh;const t=e.map((s=>new G7(s)));return this.Kh={qh:e,jh:t},t}Qn(e,t){return this.Zh.hitTest?.(e,t)??null}}let q7=class extends HR{ds(){return[]}};class Y7{constructor(e){this.Hh=e}nt(e,t,s){this.Hh.draw(e,gf)}Uh(e,t,s){this.Hh.drawBackground?.(e,gf)}}class qC{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const t=new Y7(e);return this.Ln={qh:e,jh:t},t}Yh(){return this.$h.zOrder?.()??"normal"}}function WR(n){return{ri:n.text(),Ei:n.coordinate(),Vi:n.fixedCoordinate?.(),R:n.textColor(),G:n.backColor(),It:n.visible?.()??!0,pi:n.tickVisible?.()??!0}}class K7{constructor(e,t){this.Xt=new PR,this.Xh=e,this.Jh=t}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...WR(this.Xh)}),this.Xt}}class X7 extends om{constructor(e,t){super(),this.Xh=e,this.Ki=t}Yi(e,t,s){const r=WR(this.Xh);s.G=r.G,e.R=r.R;const o=2/12*this.Ki.k();s.Ti=o,s.Ri=o,s.Ei=r.Ei,s.Vi=r.Vi,e.ri=r.ri,e.It=r.It,e.pi=r.pi}}class J7 extends HR{constructor(e,t){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=t}fs(){const e=this.Zh.timeAxisViews?.()??[];if(this.Qh?.qh===e)return this.Qh.jh;const t=this.ye.Qt().Et(),s=e.map((r=>new K7(r,t)));return this.Qh={qh:e,jh:s},s}Ks(){const e=this.Zh.priceAxisViews?.()??[];if(this.ta?.qh===e)return this.ta.jh;const t=this.ye.Ft(),s=e.map((r=>new X7(r,t)));return this.ta={qh:e,jh:s},s}na(){const e=this.Zh.priceAxisPaneViews?.()??[];if(this.ia?.qh===e)return this.ia.jh;const t=e.map((s=>new qC(s)));return this.ia={qh:e,jh:t},t}ea(){const e=this.Zh.timeAxisPaneViews?.()??[];if(this.sa?.qh===e)return this.sa.jh;const t=e.map((s=>new qC(s)));return this.sa={qh:e,jh:t},t}ra(e,t){return this.Zh.autoscaleInfo?.(e,t)??null}}function sv(n,e,t,s){n.forEach((r=>{e(r).forEach((o=>{o.Yh()===t&&s.push(o)}))}))}function iv(n){return n.Ys()}function Q7(n){return n.na()}function Z7(n){return n.ea()}const eW=["Area","Line","Baseline"];class um extends B7{constructor(e,t,s,r,o){super(e),this.jt=nv(),this._r=new O7(this),this.ha=[],this.aa=new R7(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new U7,this.da=new Map,this.fa=null,this.Ps=s,this.pa=t;const c=new D7(this);if(this.gs=[c],this.ur=new BR(c,this,e),eW.includes(this.pa)&&(this.la=new k7(this)),this.va(),this.$h=r(this,this.Qt(),o),this.pa==="Custom"){const u=this.$h;u.ma&&this.wa(u.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const t={Be:!0},s=this.Ft();if(this.Qt().Et().Gi()||s.Gi()||this.jt.Gi())return t;const r=this.Qt().Et().Ie(),o=this.Lt();if(r===null||o===null)return t;let c,u;if(e){const g=this.jt.Ch();if(g===null)return t;c=g,u=g.js}else{const g=this.jt.$s(r.bi(),-1);if(g===null||(c=this.jt.ph(g.js),c===null))return t;u=g.js}const h=c.Wt[3],m=this.ga().gh(u,{Wt:c}),v=s.Nt(h,o.Wt);return{Be:!1,gt:h,ri:s.Ji(h,o.Wt),Ue:s.Ma(h),$e:s.ba(h,o.Wt),R:m.th,Ei:v,js:u}}ga(){return this.oa!==null||(this.oa=new F7(this)),this.oa}N(){return this.Ps}cr(e){const t=this.Qt(),{priceScaleId:s,visible:r,priceFormat:o}=e;s!==void 0&&s!==this.Ps.priceScaleId&&t.Sa(this,s),r!==void 0&&r!==this.Ps.visible&&t.xa();const c=e.conflationThresholdFactor!==void 0;cs(this.Ps,e),c&&(this.da.clear(),this.Qt().dr()),o!==void 0&&(this.va(),t.Ca()),t.ya(this),t.ka(),this.$h.kt("options")}ht(e,t){this.jt.ht(e),this.da.clear();const s=this.Qt().Et().N();s.enableConflation&&s.precomputeConflationOnInit&&this.Pa(s.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(t&&t.Ta?this.la.Pe():e.length===0&&this.la.ke());const r=this.Qt().Kn(this);this.Qt().Ra(r),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const t=new $7(this,e);return this.ha.push(t),this.Qt().ya(this),t}Ia(e){const t=this.ha.indexOf(e);t!==-1&&this.ha.splice(t,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const t=e.Aa();return this.jt.$s(t,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const t=this.za();if(!this.da.has(t))return;const s=this.pa==="Custom",r=s&&this.fa||void 0,o=s&&this.$h.Oa?h=>{const m=h,v=this.$h.Oa(m);return Array.isArray(v)?v:[typeof v=="number"?v:0]}:void 0,c=this.ca.kr(this.jt.Dh(),e,t,r,s,o),u=nv();u.ht(c),this.da.set(t,u)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const t=this.za(),s=this.da.get(t);return s||(this.Fa(t),this.da.get(t)??this.jt)}Wa(e){const t=this.jt.ph(e);return t===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3]}:t.Wt[3]}Ha(e){const t=[];sv(this.ua,iv,"top",t);const s=this.la;return s!==null&&s.It()&&(this._a===null&&s.Re()&&(this._a=setTimeout((()=>{this._a=null,this.Qt().Ua()}),0)),s.Te(),t.unshift(s)),t}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const t=this.ha.map((s=>s.pr()));return e.push(...t),sv(this.ua,iv,"normal",e),e}qa(){return this.ja(iv,"bottom")}Ya(e){return this.ja(Q7,e)}Ka(e){return this.ja(Z7,e)}Za(e,t){return this.ua.map((s=>s.Qn(e,t))).filter((s=>s!==null))}ds(){return[this.ur,...this.ha.map((e=>e.vr()))]}Ks(e,t){if(t!==this.hs&&!this.$a())return[];const s=[...this.gs];for(const r of this.ha)s.push(r.mr());return this.ua.forEach((r=>{s.push(...r.Ks())})),s}fs(){const e=[];return this.ua.forEach((t=>{e.push(...t.fs())})),e}ra(e,t){if(this.Ps.autoscaleInfoProvider!==void 0){const s=this.Ps.autoscaleInfoProvider((()=>{const r=this.Ga(e,t);return r===null?null:r.tr()}));return pf.ir(s)}return this.Ga(e,t)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){this.$h.kt();for(const e of this.gs)e.kt();for(const e of this.ha)e.kt();this._r.kt(),this.aa.kt(),this.la?.kt(),this.ua.forEach((e=>e.Ws()))}Ft(){return ye(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const t=this.jt.ph(e);return t===null?null:{gt:t.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new J7(e,this))}el(e){this.ua=this.ua.filter((t=>t.Gh()!==e))}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!lm(this.Ft().ol())}Ga(e,t){if(!iu(e)||!iu(t)||this.jt.Gi())return null;const s=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],r=this.jt.Ih(e,t,s);let o=r!==null?new Rn(r.Fh,r.Wh):null,c=null;if(this.wh()==="Histogram"){const u=this.Ps.base,h=new Rn(u,u);o=o!==null?o.Sn(h):h}return this.ua.forEach((u=>{const h=u.ra(e,t);if(h?.priceRange){const m=new Rn(h.priceRange.minValue,h.priceRange.maxValue);o=o!==null?o.Sn(m):m}h?.margins&&(c=h.margins)})),new pf(o,c)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const t=this.Ps.crosshairMarkerBackgroundColor;if(t.length!==0)return t}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(t=>t.map(e))};break}case"volume":this.Ja=new _7(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new UR(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new cm(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,t){const s=[];return sv(this.ua,e,t,s),s}za(){const{ul:e,cl:t,dl:s}=this.fl();return this.ca.gr(e,t,s)}fl(){const e=this.Qt().Et(),t=e.ul(),s=window.devicePixelRatio||1,r=e.N().conflationThresholdFactor;return{ul:t,cl:s,dl:this.Ps.conflationThresholdFactor??r??1}}pl(e){const t=this.jt.Dh();let s;if(this.pa==="Custom"&&this.fa!==null){const o=this.rl();if(!o)throw new Error(L7);s=this.ca.Mr(t,e,this.fa,!0,(c=>o(c)))}else s=this.ca.Mr(t,e);const r=nv();return r.ht(s),r}Fa(e){const t=this.pl(e);this.da.set(e,t)}Pa(e){if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const t=this.Qt().Et().vl();for(const s of t){const r=()=>{this.ml(s)},o=typeof window=="object"&&window||typeof self=="object"&&self;o?.gl?.wl?o.gl.wl((()=>{r()}),{Ml:e}):Promise.resolve().then((()=>r()))}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const t=this.pl(e);this.da.set(e,t)}}const tW=[3],nW=[0,1,2,3];class sW{constructor(e){this.Ps=e}bl(e,t,s){let r=e;if(this.Ps.mode===0)return r;const o=s.Rs(),c=o.Lt();if(c===null)return r;const u=o.Nt(e,c),h=s.Sl().filter((v=>v instanceof um)).reduce(((v,g)=>{if(s.Zn(g)||!g.It())return v;const x=g.Ft(),w=g.qs();if(x.Gi()||!w.Ee(t))return v;const S=w.ph(t);if(S===null)return v;const C=zr(g.Lt()),_=this.Ps.mode===3?nW:tW;return v.concat(_.map((N=>x.Nt(S.Wt[N],C.Wt))))}),[]);if(h.length===0)return r;h.sort(((v,g)=>Math.abs(v-u)-Math.abs(g-u)));const m=h[0];return r=o.Ds(m,c),r}}function zc(n,e,t){return Math.min(Math.max(n,e),t)}function ph(n,e,t){return e-n<=t}class iW extends ea{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(this.jt===null)return;const o=Math.max(1,Math.floor(s));e.lineWidth=o,(function(c,u){c.save(),c.lineWidth%2&&c.translate(.5,.5),u(),c.restore()})(e,(()=>{const c=ye(this.jt);if(c.xl){e.strokeStyle=c.Cl,Ha(e,c.yl),e.beginPath();for(const u of c.kl){const h=Math.round(u.Pl*s);e.moveTo(h,-o),e.lineTo(h,t.height+o)}e.stroke()}if(c.Tl){e.strokeStyle=c.Rl,Ha(e,c.Dl),e.beginPath();for(const u of c.Il){const h=Math.round(u.Pl*r);e.moveTo(-o,h),e.lineTo(t.width+o,h)}e.stroke()}}))}}class rW{constructor(e){this.Xt=new iW,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,t={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map((s=>({Pl:s.coord})))};this.Xt.ht(t),this.xt=!1}return this.Xt}}class aW{constructor(e){this.$h=new rW(e)}pr(){return this.$h}}const rv={Bl:4,El:1e-4};function Ho(n,e){const t=100*(n-e)/e;return e<0?-t:t}function oW(n,e){const t=Ho(n.Ze(),e),s=Ho(n.Ge(),e);return new Rn(t,s)}function $c(n,e){const t=100*(n-e)/e+100;return e<0?-t:t}function lW(n,e){const t=$c(n.Ze(),e),s=$c(n.Ge(),e);return new Rn(t,s)}function vf(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const s=Math.log10(t+e.El)+e.Bl;return n<0?-s:s}function Uc(n,e){const t=Math.abs(n);if(t<1e-15)return 0;const s=Math.pow(10,t-e.Bl)-e.El;return n<0?-s:s}function Cc(n,e){if(n===null)return null;const t=vf(n.Ze(),e),s=vf(n.Ge(),e);return new Rn(t,s)}function Wo(n,e){if(n===null)return null;const t=Uc(n.Ze(),e),s=Uc(n.Ge(),e);return new Rn(t,s)}function av(n){if(n===null)return rv;const e=Math.abs(n.Ge()-n.Ze());if(e>=1||e<1e-15)return rv;const t=Math.ceil(Math.abs(Math.log10(e))),s=rv.Bl+t;return{Bl:s,El:1/Math.pow(10,s)}}class ov{constructor(e,t){if(this.Al=e,this.Ll=t,(function(s){if(s<0)return!1;if(s>1e18)return!0;for(let r=s;r>1;r/=10)if(r%10!=0)return!1;return!0})(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let s=this.Al;s!==1;){if(s%2==0)this.zl.push(2),s/=2;else{if(s%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),s/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,t,s){const r=this.Al===0?0:1/this.Al;let o=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-t)))),c=0,u=this.Ll[0];for(;;){const g=ph(o,r,1e-14)&&o>r+1e-14,x=ph(o,s*u,1e-14),w=ph(o,1,1e-14);if(!(g&&x&&w))break;o/=u,u=this.Ll[++c%this.Ll.length]}if(o<=r+1e-14&&(o=r),o=Math.max(1,o),this.zl.length>0&&(h=o,m=1,v=1e-14,Math.abs(h-m)<v))for(c=0,u=this.zl[0];ph(o,s*u,1e-14)&&o>r+1e-14;)o/=u,u=this.zl[++c%this.zl.length];var h,m,v;return o}}class YC{constructor(e,t,s,r){this.Nl=[],this.Ki=e,this.Al=t,this.Fl=s,this.Wl=r}Ol(e,t){if(e<t)throw new Error("high < low");const s=this.Ki.$t(),r=(e-t)*this.Hl()/s,o=new ov(this.Al,[2,2.5,2]),c=new ov(this.Al,[2,2,2.5]),u=new ov(this.Al,[2.5,2,2]),h=[];return h.push(o.Ol(e,t,r),c.Ol(e,t,r),u.Ol(e,t,r)),(function(m){if(m.length<1)throw Error("array is empty");let v=m[0];for(let g=1;g<m.length;++g)m[g]<v&&(v=m[g]);return v})(h)}Ul(){const e=this.Ki,t=e.Lt();if(t===null)return void(this.Nl=[]);const s=e.$t(),r=this.Fl(s-1,t),o=this.Fl(0,t),c=this.Ki.N().entireTextOnly?this.$l()/2:0,u=c,h=s-1-c,m=Math.max(r,o),v=Math.min(r,o);if(m===v)return void(this.Nl=[]);const g=this.Ol(m,v);if(this.ql(t,g,m,v,u,h),e.jl()&&this.Yl(g,v,m)){const S=this.Ki.Kl();this.Zl(t,g,u,h,S,2*S)}const x=this.Nl.map((S=>S.Gl)),w=this.Ki.Xl(x);for(let S=0;S<this.Nl.length;S++)this.Nl[S].Jl=w[S]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,t,s,r,o,c){const u=this.Nl,h=this.Ki;let m=s%t;m+=m<0?t:0;const v=s>=r?1:-1;let g=null,x=0;for(let w=s-m;w>r;w-=t){const S=this.Wl(w,e,!0);g!==null&&Math.abs(S-g)<this.Hl()||S<o||S>c||(x<u.length?(u[x].Pl=S,u[x].Jl=h.Ql(w),u[x].Gl=w):u.push({Pl:S,Jl:h.Ql(w),Gl:w}),x++,g=S,h.io()&&(t=this.Ol(w*v,r)))}u.length=x}Zl(e,t,s,r,o,c){const u=this.Nl,h=this.so(e,s,o,c),m=this.so(e,r,-c,-o),v=this.Wl(0,e,!0)-this.Wl(t,e,!0);u.length>0&&u[0].Pl-h.Pl<v/2&&u.shift(),u.length>0&&m.Pl-u[u.length-1].Pl<v/2&&u.pop(),u.unshift(h),u.push(m)}so(e,t,s,r){const o=(s+r)/2,c=this.Fl(t+s,e),u=this.Fl(t+r,e),h=Math.min(c,u),m=Math.max(c,u),v=Math.max(.1,this.Ol(m,h)),g=this.Fl(t+o,e),x=g-g%v,w=this.Wl(x,e,!0);return{Jl:this.Ki.Ql(x),Pl:w,Gl:x}}Yl(e,t,s){let r=zr(this.Ki.er());return this.Ki.io()&&(r=Wo(r,this.Ki.no())),r.Ze()-t<e&&s-r.Ge()<e}}function GR(n){return n.slice().sort(((e,t)=>ye(e._s())-ye(t._s())))}var KC;(function(n){n[n.Normal=0]="Normal",n[n.Logarithmic=1]="Logarithmic",n[n.Percentage=2]="Percentage",n[n.IndexedTo100=3]="IndexedTo100"})(KC||(KC={}));const XC=new UR,JC=new cm(100,1);class cW{constructor(e,t,s,r,o){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new Gt,this.fo=new Gt,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=JC,this.So=av(null),this.xo=e,this.Ps=t,this.Co=s,this.yo=r,this.ko=o,this.Po=new YC(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(cs(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const t=qn(e.scaleMargins.top),s=qn(e.scaleMargins.bottom);if(t<0||t>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${t}`);if(s<0||s>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${s}`);if(t+s>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${t+s}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const t=this.ae();let s=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),t.ae===1&&e.ae!==t.ae&&((function(o,c){if(o===null)return!1;const u=Uc(o.Ze(),c),h=Uc(o.Ge(),c);return isFinite(u)&&isFinite(h)})(this.sr,this.So)?(s=Wo(this.sr,this.So),s!==null&&this.Lo(s)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==t.ae&&(s=Cc(this.sr,this.So),s!==null&&this.Lo(s));const r=t.ae!==this.Ps.mode;r&&(t.ae===2||this.He())&&this._l(),r&&(t.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&t.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(t,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,t){const s=this.sr;(t||s===null&&e!==null||s!==null&&!s.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,t){return this.He()?e=Ho(e,t):this.Eo()&&(e=$c(e,t)),this.Ro(e,t)}Yo(e,t,s){this.Uo();const r=this.Ho(),o=ye(this.er()),c=o.Ze(),u=o.Ge(),h=this.Fo()-1,m=this.Ao(),v=h/(u-c),g=s===void 0?0:s.from,x=s===void 0?e.length:s.to,w=this.Ko();for(let S=g;S<x;S++){const C=e[S],_=C.gt;if(isNaN(_))continue;let N=_;w!==null&&(N=w(C.gt,t));const T=r+v*(N-c),M=m?T:this.eo-1-T;C.ut=M}}Zo(e,t,s){this.Uo();const r=this.Ho(),o=ye(this.er()),c=o.Ze(),u=o.Ge(),h=this.Fo()-1,m=this.Ao(),v=h/(u-c),g=s===void 0?0:s.from,x=s===void 0?e.length:s.to,w=this.Ko();for(let S=g;S<x;S++){const C=e[S];let _=C.Hr,N=C.Ur,T=C.$r,M=C.qr;w!==null&&(_=w(C.Hr,t),N=w(C.Ur,t),T=w(C.$r,t),M=w(C.qr,t));let j=r+v*(_-c),P=m?j:this.eo-1-j;C.Go=P,j=r+v*(N-c),P=m?j:this.eo-1-j,C.Xo=P,j=r+v*(T-c),P=m?j:this.eo-1-j,C.Jo=P,j=r+v*(M-c),P=m?j:this.eo-1-j,C.Qo=P}}Ds(e,t){const s=this.To(e,t);return this.t_(s,t)}t_(e,t){let s=e;return this.He()?s=(function(r,o){return o<0&&(r=-r),r/100*o+o})(s,t):this.Eo()&&(s=(function(r,o){return r-=100,o<0&&(r=-r),r/100*o+o})(s,t)),s}Sl(){return this.po}Dt(){return this.mo||(this.mo=GR(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const t=this.po.indexOf(e);if(t===-1)throw new Error("source is not attached to scale");this.po.splice(t,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const t of this.po){const s=t.Lt();s!==null&&(e===null||s.Ea<e.Ea)&&(e=s)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const t=this.Po.Vl();return this.wo={Vl:t,e_:e},this.do.p(),t}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=ye(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let t=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const s=ye(this.ho).Ke();t=Math.max(t,.1),s.Je(t),this.Lo(s)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=ye(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const t=ye(this.er()).Xe()/(this.Fo()-1);let s=e-this.bo;this.Ao()&&(s*=-1);const r=s*t,o=ye(this.ho).Ke();o.Qe(r),this.Lo(o,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,t){switch(this.Ps.mode){case 2:return this.c_(Ho(e,t));case 3:return this.Xa().format($c(e,t));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,ye(this.vo).Xa())}ba(e,t){return e=Ho(e,t),this.c_(e,XC)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach((e=>e.Ws()))}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const s of this.po)s._s()<e&&(e=s._s(),this.vo=s);let t=100;this.vo!==null&&(t=Math.round(this.vo.qh())),this.Ja=JC,this.He()?(this.Ja=XC,t=100):this.Eo()?(this.Ja=new cm(100,1),t=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new YC(this,t,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,t){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?vf(e,this.So):e;const s=ye(this.er()),r=this.Ho()+(this.Fo()-1)*(e-s.Ze())/s.Xe();return this.jo(r)}To(e,t){if(this.Uo(),this.Gi())return 0;const s=this.jo(e),r=ye(this.er()),o=r.Ze()+r.Xe()*((s-this.Ho())/(this.Fo()-1));return this.io()?Uc(o,this.So):o}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let t=null;const s=this.p_();let r=0,o=0;for(const h of s){if(!h.It())continue;const m=h.Lt();if(m===null)continue;const v=h.ra(e.Aa(),e.bi());let g=v&&v.er();if(g!==null){switch(this.Ps.mode){case 1:g=Cc(g,this.So);break;case 2:g=oW(g,m.Wt);break;case 3:g=lW(g,m.Wt)}if(t=t===null?g:t.Sn(ye(g)),v!==null){const x=v.rr();x!==null&&(r=Math.max(r,x.above),o=Math.max(o,x.below))}}}if(this.jl()&&(r=Math.max(r,this.Kl()),o=Math.max(o,this.Kl())),r===this.uo&&o===this.co||(this.uo=r,this.co=o,this.wo=null,this.Io()),t!==null){if(t.Ze()===t.Ge()){const h=5*this.m_();this.io()&&(t=Wo(t,this.So)),t=new Rn(t.Ze()-h,t.Ge()+h),this.io()&&(t=Cc(t,this.So))}if(this.io()){const h=Wo(t,this.So),m=av(h);if(c=m,u=this.So,c.Bl!==u.Bl||c.El!==u.El){const v=this.ho!==null?Wo(this.ho,this.So):null;this.So=m,t=Cc(h,m),v!==null&&(this.ho=Cc(v,m))}}this.Lo(t)}else this.sr===null&&(this.Lo(new Rn(-.5,.5)),this.So=av(null));var c,u}Ko(){return this.He()?Ho:this.Eo()?$c:this.io()?e=>vf(e,this.So):null}g_(e,t,s){return t===void 0?(s===void 0&&(s=this.Xa()),s.format(e)):t(e)}M_(e,t,s){return t===void 0?(s===void 0&&(s=this.Xa()),s.formatTickmarks(e)):t(e)}lr(e,t){return this.g_(e,this.yo.priceFormatter,t)}f_(e,t){const s=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(s?r=>r.map(s):void 0),t)}c_(e,t){return this.g_(e,this.yo.percentageFormatter,t)}d_(e,t){const s=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(s?r=>r.map(s):void 0),t)}}function QC(n){return n instanceof um}class ZC{constructor(e,t){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new Gt,this.ua=[],this.Jh=e,this.ns=t,this.k_=new aW(this);const s=t.N();this.P_=this.T_("left",s.leftPriceScale),this.R_=this.T_("right",s.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(s)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const t=Array.from(this.b_.values());for(const s of t){const r=ye(s[0].Ft());r.cr(e.overlayPriceScales),e.localization&&r._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?qn(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach((e=>{e.m&&e.m()})),this.ua=this.ua.filter((e=>{const t=e.Gh();return t.detached&&t.detached(),!1})),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach((t=>{if(this.Zn(t)){const s=t.Ft();s!==null&&s.No(e)}})),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(QC)}Sl(){return this.po}Zn(e){const t=e.Ft();return t===null||this.P_!==t&&this.R_!==t}i_(e,t,s){this.W_(e,t,s?e._s():this.po.length)}n_(e,t){const s=this.po.indexOf(e);gn(s!==-1,"removeDataSource: invalid data source"),this.po.splice(s,1),t||this.po.forEach(((c,u)=>c.us(u)));const r=ye(e.Ft()).ol();if(this.b_.has(r)){const c=qn(this.b_.get(r)),u=c.indexOf(e);u!==-1&&(c.splice(u,1),c.length===0&&this.b_.delete(r))}const o=e.Ft();o&&o.Sl().indexOf(e)>=0&&(o.n_(e),this.H_(o)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,t){e.h_(t)}Y_(e,t){e.a_(t),this.z_()}K_(e){e.l_()}Z_(e,t){e.o_(t)}G_(e,t){e.__(t),this.z_()}X_(e){e.u_()}z_(){this.po.forEach((e=>{e.Ws()}))}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const t=this.Jh.Ie();e.Do({ln:!0}),t!==null&&e.v_(t),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach((e=>{this.Zn(e)&&this.H_(e.Ft())})),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=GR(this.po)),this.mo}su(e,t){t=zc(t,0,this.po.length-1);const s=this.po.indexOf(e);gn(s!==-1,"setSeriesOrder: invalid data source"),this.po.splice(s,1),this.po.splice(t,0,e),this.po.forEach(((r,o)=>r.us(o))),this.mo=null;for(const r of[this.P_,this.R_])r.s_(),r._l();this.ns.dr()}Vt(){return this.Dt().filter(QC)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new q7(e))}el(e){this.ua=this.ua.filter((t=>t.Gh()!==e)),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,t){return this.ua.map((s=>s.Qn(e,t))).filter((s=>s!==null))}J_(e){const t=e.p_();if(t&&t.length>0&&!this.Jh.Gi()){const s=this.Jh.Ie();s!==null&&e.v_(s)}e.Ws()}W_(e,t,s){let r=this.V_(t);if(r===null&&(r=this.T_(t,this.ns.N().overlayPriceScales)),this.po.splice(s,0,e),!lm(t)){const o=this.b_.get(t)||[];o.push(e),this.b_.set(t,o)}e.us(s),r.i_(e),e.cs(r),this.H_(r),this.mo=null}D_(e,t,s){t.ae!==s.ae&&this.J_(e)}T_(e,t){const s={visible:!0,autoScale:!0,...Vi(t)},r=new cW(e,s,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return r.No(this.$t()),r}}function gh(n){return{hu:n.hu,au:{te:n.lu.externalId},ou:n.lu.cursorStyle}}function uW(n,e,t,s){for(const r of n){const o=r.Tt(s);if(o!==null&&o.Qn){const c=o.Qn(e,t);if(c!==null)return{_u:r,au:c}}}return null}function dW(n){return n.Ys!==void 0}function qR(n,e,t){const s=[n,...n.Dt()],r=(function(o,c,u){let h,m;for(const x of o){const w=x.Za?.(c,u)??[];for(const S of w)v=S.zOrder,g=h?.zOrder,(!g||v==="top"&&g!=="top"||v==="normal"&&g==="bottom")&&(h=S,m=x)}var v,g;return h&&m?{lu:h,hu:m}:null})(s,e,t);if(r?.lu.zOrder==="top")return gh(r);for(const o of s){if(r&&r.hu===o&&r.lu.zOrder!=="bottom"&&!r.lu.isBackground)return gh(r);if(dW(o)){const c=uW(o.Ys(n),e,t,n);if(c!==null)return{hu:o,_u:c._u,au:c.au}}if(r&&r.hu===o&&r.lu.zOrder!=="bottom"&&r.lu.isBackground)return gh(r)}return r?.lu?gh(r):null}class hW{constructor(e,t,s=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=t,this.zn=s}du(e){const t=e.time,s=this.cu.cacheKey(t),r=this.Ln.get(s);if(r!==void 0)return r.fu;if(this.Vn===this.zn){const c=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(qn(c)),this.En++,this.Vn--}const o=this.uu(e);return this.Ln.set(s,{fu:o,Wn:this.Bn}),this.An.set(this.Bn,s),this.Vn++,this.Bn++,o}}class Bc{constructor(e,t){gn(e<=t,"right should be >= left"),this.pu=e,this.vu=t}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function eE(n,e){return n===null||e===null?n===e:n.Ye(e)}class fW{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,t){this.Su(t),this.Ln=null;for(let s=t;s<e.length;++s){const r=e[s];let o=this.wu.get(r.timeWeight);o===void 0&&(o=[],this.wu.set(r.timeWeight,o)),o.push({index:s,time:r.time,weight:r.timeWeight,originalTime:r.originalTime})}}xu(e,t,s,r,o){const c=Math.ceil(t/e);return this.Ln!==null&&this.Ln.Cu===c&&o===this.Ln.yu&&s===this.Ln.ku||(this.Ln={yu:o,ku:s,Vl:this.Pu(c,s,r),Cu:c}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const t=[];this.wu.forEach(((s,r)=>{e<=s[0].index?t.push(r):s.splice(dl(s,e,(o=>o.index<e)),1/0)}));for(const s of t)this.wu.delete(s)}Pu(e,t,s){let r=[];const o=c=>!t||s.has(c.index);for(const c of Array.from(this.wu.keys()).sort(((u,h)=>h-u))){if(!this.wu.get(c))continue;const u=r;r=[];const h=u.length;let m=0;const v=qn(this.wu.get(c)),g=v.length;let x=1/0,w=-1/0;for(let S=0;S<g;S++){const C=v[S],_=C.index;for(;m<h;){const N=u[m],T=N.index;if(!(T<_&&o(N))){x=T;break}m++,r.push(N),w=T,x=1/0}if(x-_>=e&&_-w>=e&&o(C))r.push(C),w=_;else if(this.gu)return u}for(;m<h;m++)o(u[m])&&r.push(u[m])}return r}}class nl{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new Bc(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new nl(null)}}function mW(n,e){return n.weight>e.weight?n:e}class pW{constructor(e,t,s,r){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new fW,this.Au=new Map,this.Lu=nl.Iu(),this.zu=!0,this.Ou=new Gt,this.Nu=new Gt,this.Fu=new Gt,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=t,this.yo=s,this.Yu=t.rightOffset,this.Ku=t.barSpacing,this.ns=e,this.Zu(t),this.cu=r,this.Gu(),this.Eu.Mu(t.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){cs(this.yo,e),this.tc(),this.Gu()}cr(e,t){cs(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){return this.Bu[e]?.time??null}es(e){return this.Bu[e]??null}ec(e,t){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return t?this.Bu.length-1:null;const s=dl(this.Bu,this.cu.key(e),((r,o)=>this.cu.key(r.time)<o));return this.cu.key(e)<this.cu.key(this.Bu[s].time)?t?s:null:s}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const t={from:e.Aa(),to:e.bi()};return this.oc(t)}oc(e){const t=Math.round(e.from),s=Math.round(e.to),r=ye(this._c()),o=ye(this.uc());return{from:ye(this.es(Math.max(r,t))),to:ye(this.es(Math.min(o,s)))}}cc(e){return{from:ye(this.ec(e.from,!0)),to:ye(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const t=this.ac(),s=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&s!==0){const r=this.Ku*e/s;this.Ku=r}if(this.Ps.fixLeftEdge&&t!==null&&t.Aa()<=0){const r=s-e;this.Yu-=Math.round(r/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!iu(e))return 0;const t=this.vc()+this.Yu-e;return this.S_-(t+.5)*this.Ku-1}mc(e,t){const s=this.vc(),r=t===void 0?0:t.from,o=t===void 0?e.length:t.to;for(let c=r;c<o;c++){const u=e[c].wt,h=s+this.Yu-u,m=this.S_-(h+.5)*this.Ku-1;e[c]._t=m}}wc(e,t){const s=Math.ceil(this.gc(e));return t&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(s)?this.bc(s):s}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const t=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&t!==0){const s=this.Yu*t/this.Ku;this.Yu=s}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,t=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),s=Math.round(t/e),r=ye(this.Ie()),o=Math.max(r.Aa(),r.Aa()-s),c=Math.max(r.bi(),r.bi()-s),u=this.Eu.xu(e,t,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),h=this._c()+s,m=this.uc()-s,v=this.yc(),g=this.Ps.fixLeftEdge||v,x=this.Ps.fixRightEdge||v;let w=0;for(const S of u){if(!(o<=S.index&&S.index<=c))continue;let C;w<this.qu.length?(C=this.qu[w],C.coord=this.qt(S.index),C.label=this.kc(S),C.weight=S.weight):(C={needAlignCoordinate:!1,coord:this.qt(S.index),label:this.kc(S),weight:S.weight},this.qu.push(C)),this.Ku>t/2&&!v?C.needAlignCoordinate=!1:C.needAlignCoordinate=g&&S.index<=h||x&&S.index>=m,w++}return this.qu.length=w,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,t){const s=this.gc(e),r=this.ul(),o=r+t*(r/10);this.gn(o),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(s-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const t=zc(this.S_-e,0,this.S_),s=zc(this.S_-ye(this.Mo),0,this.S_);t!==0&&s!==0&&this.gn(this.Wu.ul*t/s)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const t=(this.bo-e)/this.ul();this.Yu=ye(this.Wu).Cc+t,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,t=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(t)||t<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const s=this.Yu,r=performance.now();this.ns.vn({Ec:o=>(o-r)/t>=1,Ac:o=>{const c=(o-r)/t;return c>=1?e:s+(e-s)*c}})}kt(e,t){this.zu=!0,this.Bu=e,this.Eu.bu(e,t),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,t){const s=e.mu(),r=t&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-r)/s),this.Yu=e.bi()-this.vc(),t&&(this.Yu=r?r/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),t=this.uc();if(e===null||t===null)return;const s=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new Bc(e,t+s),!0)}Wc(e){const t=new Bc(e.from,e.to);this.Nc(t)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const t of e)for(const s of t.ll())this.Uu.set(s,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),t=this.Ps.minBarSpacing;if(t>=e)return[1];const s=[1];let r=2;for(;r<=512;)t<e/r&&s.push(r),r*=2;return s}yc(){const e=this.ns.N().handleScroll,t=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||t.axisDoubleClickReset.time||t.axisPressedMouseMove.time||t.mouseWheel||t.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const t=this.Uc(e),s=this.vc()+this.Yu-t;return Math.round(1e6*s)/1e6}xc(e){const t=this.Ku;this.Ku=e,this.dc(),t!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(nl.Iu());const e=this.vc(),t=this.S_/this.Ku,s=this.Yu+e,r=new Bc(s-t+1,s);this.qc(new nl(r))}dc(){const e=zc(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const t=e/this.Ku,s=Math.pow(2,Math.floor(Math.log2(t)));this.ju=Math.min(s,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const t=this.Zc();this.Yu>t&&(this.Yu=t,this.zu=!0)}Kc(){const e=this._c(),t=this.Vu;return e===null||t===null?null:e-t-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let t=this.Au.get(e.weight);return t===void 0&&(t=new hW((s=>this.Gc(s)),this.cu),this.Au.set(e.weight,t)),t.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const t=this.Lu;this.Lu=e,eE(t.Ru(),this.Lu.Ru())||this.Ou.p(),eE(t.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const t=this.Ie();if(t===null)return;const s=t.Aa()-e;if(s<0){const r=this.Yu-s-1;this.Mn(r)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const t=(function*(r){const o=Math.round(r),c=o<r;let u=1;for(;;)c?(yield o+u,yield o-u):(yield o-u,yield o+u),u++})(e),s=this.uc();for(;s;){const r=t.next().value;if(this.Uu.get(r))return r;if(r<0||r>s)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const t=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(t)}}}var tE,nE,sE,bf,iE;(function(n){n[n.OnTouchEnd=0]="OnTouchEnd",n[n.OnNextTap=1]="OnNextTap"})(tE||(tE={}));class gW{constructor(e,t,s){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new Gt,this.nd=new Gt,this.ed=null,this.rd=e,this.Ps=t,this.cu=s,this.ko=new h7(this.Ps.layout.colorParsers),this.hd=new d7(this),this.Jh=new pW(this,t.timeScale,this.Ps.localization,s),this.Ct=new E7(this,t.crosshair),this.ad=new sW(t.crosshair),t.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(Vn.yn())}dr(){this.dd(Vn.Cn())}Ua(){this.dd(new Vn(1))}ya(e){const t=this.fd(e);this.dd(t)}pd(){return this.td}vd(e){if(this.td?.hu===e?.hu&&this.td?.au?.te===e?.au?.te)return;const t=this.td;this.td=e,t!==null&&this.ya(t.hu),e!==null&&e.hu!==t?.hu&&this.ya(e.hu)}N(){return this.Ps}cr(e){cs(this.Ps,e),this.Xc.forEach((t=>t.I_(e))),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,t,s=0){const r=this.Xc[s];if(r===void 0)return;if(e==="left")return cs(this.Ps,{leftPriceScale:t}),r.I_({leftPriceScale:t}),this.sd.p(),void this.Ca();if(e==="right")return cs(this.Ps,{rightPriceScale:t}),r.I_({rightPriceScale:t}),this.sd.p(),void this.Ca();const o=this.wd(e,s);o!==null&&(o.Ft.cr(t),this.sd.p())}wd(e,t){const s=this.Xc[t];if(s===void 0)return null;const r=s.V_(e);return r!==null?{Gs:s,Ft:r}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,t){e.No(t),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach((t=>t.L_(e))),this.Sc()}Sd(e){this.Xc.length!==1&&(gn(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,t){if(this.Xc.length<2)return;gn(e>=0&&e<this.Xc.length,"Invalid pane index");const s=this.Xc[e],r=this.Xc.reduce(((g,x)=>g+x.E_()),0),o=this.Xc.reduce(((g,x)=>g+x.$t()),0),c=o-30*(this.Xc.length-1);t=Math.min(c,Math.max(30,t));const u=r/o,h=s.$t();s.A_(t*u);let m=t-h,v=this.Xc.length-1;for(const g of this.Xc)if(g!==s){const x=Math.min(c,Math.max(30,g.$t()-m/v));m-=g.$t()-x,v-=1;const w=x*u;g.A_(w)}this.Ca()}Cd(e,t){gn(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index");const s=this.Xc[e],r=this.Xc[t];this.Xc[e]=r,this.Xc[t]=s,this.Ca()}yd(e,t){if(gn(e>=0&&e<this.Xc.length&&t>=0&&t<this.Xc.length,"Invalid pane index"),e===t)return;const[s]=this.Xc.splice(e,1);this.Xc.splice(t,0,s),this.Ca()}j_(e,t,s){e.j_(t,s)}Y_(e,t,s){e.Y_(t,s),this.ka(),this.dd(this.kd(e,2))}K_(e,t){e.K_(t),this.dd(this.kd(e,2))}Z_(e,t,s){t.Vo()||e.Z_(t,s)}G_(e,t,s){t.Vo()||(e.G_(t,s),this.ka(),this.dd(this.kd(e,2)))}X_(e,t){t.Vo()||(e.X_(t),this.dd(this.kd(e,2)))}Q_(e,t){e.Q_(t),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,t){const s=this.Et();if(s.Gi()||t===0)return;const r=s.ss();e=Math.max(1,Math.min(e,r)),s.Rc(e,t),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter((e=>e.It()))),this.Qc}xa(){this.Qc=null}Ad(e,t,s,r,o){this.Ct.Bs(e,t);let c=NaN,u=this.Jh.wc(e,!0);const h=this.Jh.Ie();h!==null&&(u=Math.min(Math.max(h.Aa(),u),h.bi())),u=this.Ct.Hs(u);const m=r.Rs(),v=m.Lt();if(v!==null&&(c=m.Ds(t,v)),c=this.ad.bl(c,u,r),this.Ct.zs(u,c,r),this.Ua(),!o){const g=qR(r,e,t);this.vd(g&&{hu:g.hu,au:g.au,ou:g.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:t},s)}}Ld(e,t,s){const r=s.Rs(),o=r.Lt(),c=r.Nt(e,ye(o)),u=this.Jh.ec(t,!0),h=this.Jh.qt(ye(u));this.Ad(h,c,null,s,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const t=this.Ct.As(),s=this.Ct.Ls();this.Ad(t,s,null,e)}this.Ct.Ws()}Od(e,t,s){const r=this.Jh.Is(0);t!==void 0&&s!==void 0&&this.Jh.kt(t,s);const o=this.Jh.Is(0),c=this.Jh.vc(),u=this.Jh.Ie();if(u!==null&&r!==null&&o!==null){const h=u.Ee(c),m=this.cu.key(r)>this.cu.key(o),v=e!==null&&e>c&&!m,g=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,x=h&&(s!==void 0||g)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(v&&!x){const w=e-c;this.Jh.Mn(this.Jh.Cc()-w)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if((function(s){return s instanceof ZC})(e))return e;const t=this.Xc.find((s=>s.Dt().includes(e)));return t===void 0?null:t}Sc(){this.Xc.forEach((e=>e.iu())),this.ka()}m(){this.Xc.forEach((e=>e.m())),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,t){const s=this.ld(t);this.Wd(e,s),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const t=this.Kn(e),s=this.Jc.indexOf(e);gn(s!==-1,"Series not found");const r=ye(t);this.Jc.splice(s,1),r.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(r)}Sa(e,t){const s=ye(this.Kn(e));s.n_(e,!0),s.i_(e,t,!0)}Fc(){const e=Vn.Cn();e.cn(),this.dd(e)}$d(e){const t=Vn.Cn();t.pn(e),this.dd(t)}wn(){const e=Vn.Cn();e.wn(),this.dd(e)}gn(e){const t=Vn.Cn();t.gn(e),this.dd(t)}Mn(e){const t=Vn.Cn();t.Mn(e),this.dd(t)}vn(e){const t=Vn.Cn();t.vn(e),this.dd(t)}dn(){const e=Vn.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,t){if(gn(t>=0,"Index should be greater or equal to 0"),t===this.Yd(e))return;const s=ye(this.Kn(e));s.n_(e);const r=this.ld(t);this.Wd(e,r),s.Sl().length===0&&this.Ud(s),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const t=this.ud,s=this.od;if(t===s)return t;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==s||this.ed.rh!==t)this.ed={eh:s,rh:t,Zd:new Map};else{const o=this.ed.Zd.get(e);if(o!==void 0)return o}const r=this.ko.tt(s,t,e/100);return this.ed.Zd.set(e,r),r}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const t=new ZC(this.Jh,this);this.Xc.push(t);const s=e??this.Xc.length-1,r=Vn.yn();return r.hn(s,{an:0,ln:!0}),this.dd(r),t}ld(e){return gn(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex((t=>t.F_().includes(e)))}kd(e,t){const s=new Vn(t);if(e!==null){const r=this.Xc.indexOf(e);s.hn(r,{an:t})}return s}fd(e,t){return t===void 0&&(t=2),this.kd(this.Kn(e),t)}dd(e){this.rd&&this.rd(e),this.Xc.forEach((t=>t.eu().pr().kt()))}Wd(e,t){const s=e.N().priceScaleId,r=s!==void 0?s:this.qd();t.i_(e,r),lm(r)||e.cr(e.N())}_d(e){const t=this.Ps.layout;return t.background.type==="gradient"?e===0?t.background.topColor:t.background.bottomColor:t.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function YR(n){if(n>=1)return 0;let e=0;for(;e<8;e++){const t=Math.round(n);if(Math.abs(t-n)<1e-8)return e;n*=10}return e}function s0(n){return!ul(n)&&!Au(n)}function KR(n){return ul(n)}(function(n){n[n.Disabled=0]="Disabled",n[n.Continuous=1]="Continuous",n[n.OnDataUpdate=2]="OnDataUpdate"})(nE||(nE={})),(function(n){n[n.LastBar=0]="LastBar",n[n.LastVisible=1]="LastVisible"})(sE||(sE={})),(function(n){n.Solid="solid",n.VerticalGradient="gradient"})(bf||(bf={})),(function(n){n[n.Year=0]="Year",n[n.Month=1]="Month",n[n.DayOfMonth=2]="DayOfMonth",n[n.Time=3]="Time",n[n.TimeWithSeconds=4]="TimeWithSeconds"})(iE||(iE={}));const rE=n=>n.getUTCFullYear();function vW(n,e,t){return e.replace(/yyyy/g,(s=>Fi(rE(s),4))(n)).replace(/yy/g,(s=>Fi(rE(s)%100,2))(n)).replace(/MMMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"long"}))(n,t)).replace(/MMM/g,((s,r)=>new Date(s.getUTCFullYear(),s.getUTCMonth(),1).toLocaleString(r,{month:"short"}))(n,t)).replace(/MM/g,(s=>Fi((r=>r.getUTCMonth()+1)(s),2))(n)).replace(/dd/g,(s=>Fi((r=>r.getUTCDate())(s),2))(n))}class XR{constructor(e="yyyy-MM-dd",t="default"){this.Qd=e,this.tf=t}du(e){return vW(e,this.Qd,this.tf)}}class bW{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",Fi(e.getUTCHours(),2)).replace("%m",Fi(e.getUTCMinutes(),2)).replace("%s",Fi(e.getUTCSeconds(),2))}}const yW={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class xW{constructor(e={}){const t={...yW,...e};this.hf=new XR(t.sf,t.rf),this.af=new bW(t.nf),this.lf=t.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function vh(n){return 60*n*60*1e3}function lv(n){return 60*n*1e3}const bh=[{_f:(aE=1,1e3*aE),uf:10},{_f:lv(1),uf:20},{_f:lv(5),uf:21},{_f:lv(30),uf:22},{_f:vh(1),uf:30},{_f:vh(3),uf:31},{_f:vh(6),uf:32},{_f:vh(12),uf:33}];var aE;function oE(n,e){if(n.getUTCFullYear()!==e.getUTCFullYear())return 70;if(n.getUTCMonth()!==e.getUTCMonth())return 60;if(n.getUTCDate()!==e.getUTCDate())return 50;for(let t=bh.length-1;t>=0;--t)if(Math.floor(e.getTime()/bh[t]._f)!==Math.floor(n.getTime()/bh[t]._f))return bh[t].uf;return 0}function cv(n){let e=n;if(Au(n)&&(e=jb(n)),!s0(e))throw new Error("time must be of type BusinessDay");const t=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(t.getTime()/1e3),df:e}}function lE(n){if(!KR(n))throw new Error("time must be of type isUTCTimestamp");return{cf:n}}function jb(n){const e=new Date(n);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${n}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function cE(n){Au(n.time)&&(n.time=jb(n.time))}class uE{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?(function(t){t.forEach(cE)})(e):cE(e)}createConverterToInternalObj(e){return ye((function(t){return t.length===0?null:s0(t[0].time)||Au(t[0].time)?cv:lE})(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const t=e;return t.df===void 0?new Date(1e3*t.cf).getTime():new Date(Date.UTC(t.df.year,t.df.month-1,t.df.day)).getTime()}convertHorzItemToInternal(e){return KR(t=e)?lE(t):s0(t)?cv(t):cv(jb(t));var t}updateFormatter(e){if(!this.Ps)return;const t=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new xW({sf:t,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new XR(t,e.locale)}formatHorzItem(e){const t=e;return this.ff.du(new Date(1e3*t.cf))}formatTickmark(e,t){const s=(function(o,c,u){switch(o){case 0:case 10:return c?u?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return c?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),r=this.Ps.timeScale;if(r.tickMarkFormatter!==void 0){const o=r.tickMarkFormatter(e.originalTime,s,t.locale);if(o!==null)return o}return(function(o,c,u){const h={};switch(c){case 0:h.year="numeric";break;case 1:h.month="short";break;case 2:h.day="numeric";break;case 3:h.hour12=!1,h.hour="2-digit",h.minute="2-digit";break;case 4:h.hour12=!1,h.hour="2-digit",h.minute="2-digit",h.second="2-digit"}const m=o.df===void 0?new Date(1e3*o.cf):new Date(Date.UTC(o.df.year,o.df.month-1,o.df.day));return new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()).toLocaleString(u,h)})(e.time,s,t.locale)}maxTickMarkWeight(e){let t=e.reduce(mW,e[0]).weight;return t>30&&t<50&&(t=30),t}fillWeightsForPoints(e,t){(function(s,r=0){if(s.length===0)return;let o=r===0?null:s[r-1].time.cf,c=o!==null?new Date(1e3*o):null,u=0;for(let h=r;h<s.length;++h){const m=s[h],v=new Date(1e3*m.time.cf);c!==null&&(m.timeWeight=oE(v,c)),u+=m.time.cf-(o||m.time.cf),o=m.time.cf,c=v}if(r===0&&s.length>1){const h=Math.ceil(u/(s.length-1)),m=new Date(1e3*(s[0].time.cf-h));s[0].timeWeight=oE(new Date(1e3*s[0].time.cf),m)}})(e,t)}static pf(e){return cs({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const hl=typeof window<"u";function dE(){return!!hl&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function uv(){return!!hl&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function i0(n){return n+n%2}function wW(n){hl&&window.chrome!==void 0&&n.addEventListener("mousedown",(e=>{if(e.button===1)return e.preventDefault(),!1}))}class dm{constructor(e,t,s){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!uv(),this.Uf=r=>{this.$f(r)},this.qf=r=>{if(this.jf(r)){const o=this.Yf(r);if(++this.gf,this.Mf&&this.gf>1){const{Kf:c}=this.Zf(Zs(r),this.bf);c<30&&!this.Tf&&this.Gf(o,this.Jf.Xf),this.Qf()}}else{const o=this.Yf(r);if(++this.vf,this.mf&&this.vf>1){const{Kf:c}=this.Zf(Zs(r),this.wf);c<5&&!this.Pf&&this.tp(o,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=t,this.Ps=s,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const t=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",t)},this.np.addEventListener("mousemove",t),this.jf(e))return;const s=this.Yf(e);this.tp(s,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const t=this.Yf(e);this.tp(t,this.Jf.op),this.Hf=!0}_p(e){const t=dv(e.changedTouches,ye(this.Wf));if(t===null||(this.Ff=yh(e),this.Af!==null)||this.Of)return;this.zf=!0;const s=this.Zf(Zs(t),ye(this.yf)),{up:r,cp:o,Kf:c}=s;if(this.kf||!(c<5)){if(!this.kf){const u=.5*r,h=o>=u&&!this.Ps.dp(),m=u>o&&!this.Ps.fp();h||m||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const u=this.Yf(e,t);this.Gf(u,this.Jf.pp),$o(e)}}}vp(e){if(e.button!==0)return;const t=this.Zf(Zs(e),ye(this.Cf)),{Kf:s}=t;if(s>=5&&(this.Pf=!0,this.sp()),this.Pf){const r=this.Yf(e);this.tp(r,this.Jf.mp)}}Zf(e,t){const s=Math.abs(t._t-e._t),r=Math.abs(t.ut-e.ut);return{up:s,cp:r,Kf:s+r}}wp(e){let t=dv(e.changedTouches,ye(this.Wf));if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t===null)return;this.Wf=null,this.Ff=yh(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const s=this.Yf(e,t);if(this.Gf(s,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:r}=this.Zf(Zs(t),this.bf);r<30&&!this.Tf&&this.Gf(s,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(s,this.Jf.Mp),this.Jf.Mp&&$o(e));this.gf===0&&$o(e),e.touches.length===0&&this.xf&&(this.xf=!1,$o(e))}$f(e){if(e.button!==0)return;const t=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),dE()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(t,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:s}=this.Zf(Zs(e),this.wf);s<5&&!this.Pf&&this.tp(t,this.Jf.ip),this.sp()}else this.Pf||this.tp(t,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const t=e.changedTouches[0];this.Wf=t.identifier,this.Ff=yh(e);const s=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Zs(t),this.Ef&&(this.Ef(),this.Ef=null);{const o=this._p.bind(this),c=this.wp.bind(this);this.Ef=()=>{s.removeEventListener("touchmove",o),s.removeEventListener("touchend",c)},s.addEventListener("touchmove",o,{passive:!1}),s.addEventListener("touchend",c,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const r=this.Yf(e,t);this.Gf(r,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Zs(t))}kp(e){if(e.button!==0)return;const t=this.np.ownerDocument.documentElement;dE()&&t.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Zs(e),this.Bf&&(this.Bf(),this.Bf=null);{const r=this.vp.bind(this),o=this.$f.bind(this);this.Bf=()=>{t.removeEventListener("mousemove",r),t.removeEventListener("mouseup",o)},t.addEventListener("mousemove",r),t.addEventListener("mouseup",o)}if(this.Nf=!0,this.jf(e))return;const s=this.Yf(e);this.tp(s,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Zs(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,t=s=>{this.Jf.Tp&&(s.composed&&this.np.contains(s.composedPath()[0])||s.target&&this.np.contains(s.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",t)},this.Rf=()=>{e.removeEventListener("mousedown",t)},e.addEventListener("mousedown",t),e.addEventListener("touchstart",t,{passive:!0})}uv()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),wW(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",(()=>{}),{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",(e=>this.Ep(e.touches)),{passive:!0}),this.np.addEventListener("touchmove",(e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const t=hE(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,t),$o(e)}}),{passive:!1}),this.np.addEventListener("touchend",(e=>{this.Ep(e.touches)})))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const t=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,ut:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this.Lf=hE(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const t=this.Yf(e);this.tp(t,this.Jf.zp),this.Hf=!uv()}Cp(e){const t=dv(e.touches,ye(this.Wf));if(t===null)return;const s=this.Yf(e,t);this.Gf(s,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:yh(e)<this.Ff+500}Gf(e,t){t&&t.call(this.Jf,e)}tp(e,t){t&&t.call(this.Jf,e)}Yf(e,t){const s=t||e,r=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:s.clientX,clientY:s.clientY,pageX:s.pageX,pageY:s.pageY,screenX:s.screenX,screenY:s.screenY,localX:s.clientX-r.left,localY:s.clientY-r.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:s.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&$o(e)}}}}function hE(n,e){const t=n.clientX-e.clientX,s=n.clientY-e.clientY;return Math.sqrt(t*t+s*s)}function $o(n){n.cancelable&&n.preventDefault()}function Zs(n){return{_t:n.pageX,ut:n.pageY}}function yh(n){return n.timeStamp||performance.now()}function dv(n,e){for(let t=0;t<n.length;++t)if(n[t].identifier===e)return n[t];return null}class SW{constructor(e,t,s){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[t],this.Gp=e.Zp()[s],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Et({width:this.Kp.sv().width,height:1})}nv(){return Et({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,t,s){const r=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(t,s,r.width,r.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),t=e.style;t.position="fixed",t.display="none",t.zIndex="49",t.top="0",t.left="0",t.width="100%",t.height="100%",t.cursor="row-resize",this.Jp.appendChild(e);const s=document.createElement("div"),r=s.style;r.position="absolute",r.zIndex="50",r.top="-4px",r.height="9px",r.width="100%",r.backgroundColor="",r.cursor="row-resize",this.Jp.appendChild(s);const o={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new dm(s,o,{dp:()=>!1,fp:()=>!0}),this.Up={hv:s,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const t=this.Kp.cv().E_()+this.Gp.cv().E_(),s=t/(this.Kp.sv().height+this.Gp.sv().height),r=30*s;t<=2*r||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:t-r,vv:t,mv:s,wv:r},this.Up.rv.style.display="block")}_v(e){const t=this.jp;if(t===null)return;const s=(e.pageY-t.dv)*t.mv,r=zc(t.fv+s,t.wv,t.pv);this.Kp.cv().A_(r),this.Gp.cv().A_(t.vv-r),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function hv(n,e){return n.gv-e.gv}function fv(n,e,t){const s=(n.gv-e.gv)/(n.wt-e.wt);return Math.sign(s)*Math.min(Math.abs(s),t)}class CW{constructor(e,t,s,r){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=t,this.Rv=s,this.kn=r}Dv(e,t){if(this.Mv!==null){if(this.Mv.wt===t)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:t,gv:e}}fe(e,t){if(this.Mv===null||this.bv===null||t-this.Mv.wt>50)return;let s=0;const r=fv(this.Mv,this.bv,this.Tv),o=hv(this.Mv,this.bv),c=[r],u=[o];if(s+=o,this.Sv!==null){const m=fv(this.bv,this.Sv,this.Tv);if(Math.sign(m)===Math.sign(r)){const v=hv(this.bv,this.Sv);if(c.push(m),u.push(v),s+=v,this.xv!==null){const g=fv(this.Sv,this.xv,this.Tv);if(Math.sign(g)===Math.sign(r)){const x=hv(this.Sv,this.xv);c.push(g),u.push(x),s+=x}}}}let h=0;for(let m=0;m<c.length;++m)h+=u[m]/s*c[m];Math.abs(h)<this.Pv||(this.Cv={gv:e,wt:t},this.kv=h,this.yv=(function(m,v){const g=Math.log(v);return Math.log(1*g/-m)/g})(Math.abs(h),this.Rv))}Ac(e){const t=ye(this.Cv),s=e-t.wt;return t.gv+this.kv*(Math.pow(this.Rv,s)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const t=e-ye(this.Cv).wt;return Math.min(t,this.yv)}}class EW{constructor(e,t){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=t,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Wa(n,e){const t=ye(n.ownerDocument).createElement("canvas");n.appendChild(t);const s=o7(t,{options:{allowResizeObserver:!0},transform:(r,o)=>({width:Math.max(r.width,o.width),height:Math.max(r.height,o.height)})});return s.resizeCanvasElement(e),s}function Ga(n){n.width=1,n.height=1,n.getContext("2d")?.clearRect(0,0,1,1)}function r0(n,e,t,s){n.Uh&&n.Uh(e,t,s)}function Uh(n,e,t,s){n.nt(e,t,s)}function a0(n,e,t,s){const r=n(t,s);for(const o of r){const c=o.Tt(s);c!==null&&e(c)}}function mv(n,e){return t=>(function(s){return s.Ft!==void 0})(t)?(t.Ft()?.ol()??"")!==e?[]:t.Ya?.(n)??[]:[]}function fE(n,e,t,s){if(!n.length)return;let r=0;const o=n[0].$t(s,!0);let c=e===1?t/2-(n[0].Hi()-o/2):n[0].Hi()-o/2-t/2;c=Math.max(0,c);for(let u=1;u<n.length;u++){const h=n[u],m=n[u-1],v=m.$t(s,!1),g=h.Hi(),x=m.Hi();if(e===1?g>x-v:g<x+v){const w=x-v*e;h.Ui(w);const S=w-e*v/2;if((e===1?S<0:S>t)&&c>0){const C=e===1?-1-S:S-t,_=Math.min(C,c);for(let N=r;N<n.length;N++)n[N].Ui(n[N].Hi()+e*_);c-=_}}else r=u,c=e===1?x-v-g:g-(x+v)}}class mE{constructor(e,t,s,r){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new mf(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=t,this.Co=t.layout,this.hd=s,this.Jv=r==="left",this.Qv=mv("normal",r),this.tm=mv("top",r),this.im=mv("bottom",r),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Wa(this.Jp,Et({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const o=this.sm.canvasElement;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.nm=Wa(this.Jp,Et({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const c=this.nm.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0";const u={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new dm(this.nm.canvasElement,u,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ga(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ga(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const t=this.lm(),s=ye(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));s.save();const r=this.Ki.Vl();s.font=this._m(),r.length>0&&(e=Math.max(this.qv.Ii(s,r[0].Jl),this.qv.Ii(s,r[r.length-1].Jl)));const o=this.um();for(let m=o.length;m--;){const v=this.qv.Ii(s,o[m].ri());v>e&&(e=v)}const c=this.Ki.Lt();if(c!==null&&this.Uv!==null&&(u=this.Ps.crosshair).mode!==2&&u.horzLine.visible&&u.horzLine.labelVisible){const m=this.Ki.Ds(1,c),v=this.Ki.Ds(this.Uv.height-2,c);e=Math.max(e,this.qv.Ii(s,this.Ki.Ji(Math.floor(Math.min(m,v))+.11111111111111,c)),this.qv.Ii(s,this.Ki.Ji(Math.ceil(Math.max(m,v))-.11111111111111,c)))}var u;s.restore();const h=e||34;return i0(Math.ceil(t.S+t.C+t.V+t.B+5+h))}dm(e){this.Uv!==null&&La(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return ye(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,ye(this.Ft()))}pm(e){if(this.Uv===null)return;const t={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const r=Fa(this.sm,t);r!==null&&(r.useBitmapCoordinateSpace((o=>{this.wm(o),this.gm(o)})),this.yt.Mm(r,this.im),this.bm(r),this.yt.Mm(r,this.Qv),this.Sm(r))}this.nm.applySuggestedBitmapSize();const s=Fa(this.nm,t);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this.xm(s),this.yt.Mm(s,this.tm))}nv(){return this.sm.bitmapSize}ev(e,t,s,r){const o=this.nv();if(o.width>0&&o.height>0&&(e.drawImage(this.sm.canvasElement,t,s),r)){const c=this.nm.canvasElement;e.drawImage(c,t,s)}}kt(){this.Ki?.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),s=this.yt.cv();this.$v=!0,t.j_(s,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),s=this.yt.cv(),r=this.Ki;t.Y_(s,r,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),t=this.yt.cv(),s=this.Ki;this.$v&&(this.$v=!1,e.K_(t,s))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const t=this.yt.Gv().Qt(),s=this.yt.cv();this.$v=!1,t.K_(s,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],t=this.Ki===null?void 0:this.Ki;return(s=>{for(let r=0;r<s.length;++r){const o=s[r].Ks(this.yt.cv(),t);for(let c=0;c<o.length;c++)e.push(o[c])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:t}){const{width:s,height:r}=t,o=this.yt.cv().Qt(),c=o.$(),u=o.Kd();c===u?am(e,0,0,s,r,c):LR(e,0,0,s,r,c,u)}gm({context:e,bitmapSize:t,horizontalPixelRatio:s}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const r=Math.max(1,Math.floor(this.lm().S*s));let o;o=this.Jv?t.width-r:0,e.fillRect(o,0,r,t.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const t=this.Ki.Vl(),s=this.Ki.N(),r=this.lm(),o=this.Jv?this.Uv.width-r.C:0;s.borderVisible&&s.ticksVisible&&e.useBitmapCoordinateSpace((({context:c,horizontalPixelRatio:u,verticalPixelRatio:h})=>{c.fillStyle=s.borderColor;const m=Math.max(1,Math.floor(h)),v=Math.floor(.5*h),g=Math.round(r.C*u);c.beginPath();for(const x of t)c.rect(Math.floor(o*u),Math.round(x.Pl*h)-v,g,m);c.fill()})),e.useMediaCoordinateSpace((({context:c})=>{c.font=this._m(),c.fillStyle=s.textColor??this.Co.textColor,c.textAlign=this.Jv?"right":"left",c.textBaseline="middle";const u=this.Jv?Math.round(o-r.V):Math.round(o+r.C+r.V),h=t.map((m=>this.qv.Di(c,m.Jl)));for(let m=t.length;m--;){const v=t[m];c.fillText(v.Jl,u,v.Pl+h[m])}}))}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const t=[],s=this.Ki.Dt().slice(),r=this.yt.cv(),o=this.lm();this.Ki===r.Gn()&&this.yt.cv().Dt().forEach((h=>{r.Zn(h)&&s.push(h)}));const c=this.Ki.Sl()[0],u=this.Ki;s.forEach((h=>{const m=h.Ks(r,u);m.forEach((v=>{v.$i()&&v.Wi()===null&&(v.Ui(null),t.push(v))})),c===h&&m.length>0&&(e=m[0].Ei())})),this.Ki.N().alignLabels&&this.ym(t,o,e)}ym(e,t,s){if(this.Uv===null)return;const r=e.filter((c=>c.Ei()<=s)),o=e.filter((c=>c.Ei()>s));r.sort(((c,u)=>u.Ei()-c.Ei())),r.length&&o.length&&o.push(r[0]),o.sort(((c,u)=>c.Ei()-u.Ei()));for(const c of e){const u=Math.floor(c.$t(t)/2),h=c.Ei();h>-u&&h<u&&c.Ui(u),h>this.Uv.height-u&&h<this.Uv.height+u&&c.Ui(this.Uv.height-u)}fE(r,1,this.Uv.height,t),fE(o,-1,this.Uv.height,t)}Sm(e){if(this.Uv===null)return;const t=this.um(),s=this.lm(),r=this.Jv?"right":"left";t.forEach((o=>{o.qi()&&o.Tt(ye(this.Ki)).nt(e,s,this.qv,r)}))}xm(e){if(this.Uv===null||this.Ki===null)return;const t=this.yt.Gv().Qt(),s=[],r=this.yt.cv(),o=t.gd().Ks(r,this.Ki);o.length&&s.push(o);const c=this.lm(),u=this.Jv?"right":"left";s.forEach((h=>{h.forEach((m=>{m.Tt(ye(this.Ki)).nt(e,c,this.qv,u)}))}))}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return ff(this.Co.fontSize,this.Co.fontFamily)}}function _W(n,e){return n.qa?.(e)??[]}function pE(n,e){return n.Ys?.(e)??[]}function gE(n,e){return n.ds?.(e)??[]}function NW(n,e){return n.Ha?.(e)??[]}class kb{constructor(e,t){this.Uv=Et({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new Gt,this.Vm=new Gt,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=t,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const s=document.createElement("div");s.style.width="100%",s.style.height="100%",s.style.position="relative",s.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(s),this.sm=Wa(s,Et({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=Wa(s,Et({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const o=this.nm.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new dm(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ga(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ga(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return ye(this.Nm)}qm(e){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(kb.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new EW(this.Wm,this.Lv),this.Tm.kt()):(this.Tm?.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(ye(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(ye(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const t=e.localX,s=e.localY;this.Zm(t,s,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const t=e.localX,s=e.localY;this.Zm(t,s,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const t={x:e.localX,y:e.localY};this.iw(t,t,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,t){if(!this.Lv.N().handleScale.pinch)return;const s=5*(t-this.Bm);this.Bm=t,this.ns().Td(e._t,s)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const t=this.ns().gd();this.Am!==null&&t.It()&&(this.zm={x:t.si(),y:t.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const t=e.localX,s=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const r=ye(this.zm),o=r.x+(t-this.Am.x),c=r.y+(s-this.Am.y);this.Zm(o,c,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,t){const s=this.Nm;return s===null?null:qR(s,e,t)}hw(e,t){ye(t==="left"?this.km:this.Pm).dm(Et({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){La(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=ye(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const t of e.Sl())if(e.Zn(t)){const s=t.Ft();s!==null&&e.H_(s),t.Ws()}for(const t of e.ru())t.Ws()}nv(){return this.sm.bitmapSize}ev(e,t,s,r){const o=this.nv();if(o.width>0&&o.height>0&&(e.drawImage(this.sm.canvasElement,t,s),r)){const c=this.nm.canvasElement;e!==null&&e.drawImage(c,t,s)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const t={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const r=Fa(this.sm,t);r!==null&&(r.useBitmapCoordinateSpace((o=>{this.wm(o)})),this.Nm&&(this.lw(r,_W),this.ow(r),this.lw(r,pE),this.lw(r,gE)))}this.nm.applySuggestedBitmapSize();const s=Fa(this.nm,t);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this._w(s),this.lw(s,NW),this.lw(s,gE))}uw(){return this.km}cw(){return this.Pm}Mm(e,t){this.lw(e,t)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,t){const s=t.localX,r=t.localY;e.v()&&e.p(this.ns().Et().wc(s),{x:s,y:r},t)}wm({context:e,bitmapSize:t}){const{width:s,height:r}=t,o=this.ns(),c=o.$(),u=o.Kd();c===u?am(e,0,0,s,r,u):LR(e,0,0,s,r,c,u)}ow(e){const t=ye(this.Nm),s=t.eu().pr().Tt(t);s!==null&&s.nt(e,!1)}_w(e){this.dw(e,pE,Uh,this.ns().gd())}lw(e,t){const s=ye(this.Nm),r=s.Dt(),o=s.ru();for(const c of o)this.dw(e,t,r0,c);for(const c of r)this.dw(e,t,r0,c);for(const c of o)this.dw(e,t,Uh,c);for(const c of r)this.dw(e,t,Uh,c)}dw(e,t,s,r){const o=ye(this.Nm),c=o.Qt().pd(),u=c!==null&&c.hu===r,h=c!==null&&u&&c.au!==void 0?c.au.ie:void 0;a0(t,(m=>s(m,e,u,h)),r,o)}jm(){if(this.Nm===null)return;const e=this.Lv,t=this.Nm.U_().N().visible,s=this.Nm.q_().N().visible;t||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),s||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const r=e.Qt().Nd();t&&this.km===null&&(this.km=new mE(this,e.N(),r,"left"),this.Hm.appendChild(this.km.iv())),s&&this.Pm===null&&(this.Pm=new mE(this,e.N(),r,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,t,s){e=Math.max(0,Math.min(e,this.Uv.width-1)),t=Math.max(0,Math.min(t,this.Uv.height-1)),this.ns().Ad(e,t,s,ye(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,t,s){this.Am=e,this.Lm=!1,this.Zm(t.x,t.y,s);const r=this.ns().gd();this.zm={x:r.si(),y:r.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const t=this.ns(),s=this.cv();if(t.X_(s,s.Rs()),this.Rm=null,this.Dm=!1,t.Vd(),this.Om!==null){const r=performance.now(),o=t.Et();this.Om.fe(o.Cc(),r),this.Om.Ec(r)||t.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)ye(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const t=this.ns(),s=t.Et();if(s.Gi())return;const r=this.Lv.N(),o=r.handleScroll,c=r.kineticScroll;if((!o.pressedMouseMove||e.Np)&&(!o.horzTouchDrag&&!o.vertTouchDrag||!e.Np))return;const u=this.Nm.Rs(),h=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:h,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&c.touch||!e.Np&&c.mouse){const m=s.ul();this.Om=new CW(.2/m,7/m,.997,15/m),this.Om.Dv(s.Cc(),this.Rm.cf)}else this.Om=null;u.Gi()||t.Z_(this.Nm,u,e.localY),t.Dd(e.localX),this.Dm=!0}this.Dm&&(u.Gi()||t.G_(this.Nm,u,e.localY),t.Id(e.localX),this.Om!==null&&this.Om.Dv(s.Cc(),h))}}class vE{constructor(e,t,s,r,o){this.xt=!0,this.Uv=Et({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=s.Nd,this.Ps=t,this.ww=r,this.gw=o,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Wa(this.Jp,Et({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ga(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){La(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const t=Fa(this.sm,{colorSpace:this.Ps.layout.colorSpace});t!==null&&t.useBitmapCoordinateSpace((s=>{this.wm(s),this.gm(s)}))}nv(){return this.sm.bitmapSize}ev(e,t,s){const r=this.nv();r.width>0&&r.height>0&&e.drawImage(this.sm.canvasElement,t,s)}gm({context:e,bitmapSize:t,horizontalPixelRatio:s,verticalPixelRatio:r}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const o=Math.floor(this.hd.N().S*s),c=Math.floor(this.hd.N().S*r),u=this.Jv?t.width-o:0;e.fillRect(u,0,o,c)}wm({context:e,bitmapSize:t}){am(e,0,0,t.width,t.height,this.gw())}}function Ob(n){return e=>e.Ka?.(n)??[]}const TW=Ob("normal"),MW=Ob("top"),RW=Ob("bottom");class AW{constructor(e,t){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Et({width:0,height:0}),this.xw=new Gt,this.qv=new mf(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=t,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Wa(this.kw,Et({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=Wa(this.kw,Et({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const r=this.nm.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new dm(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Ga(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Ga(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const t=this.Lv.Qt();!t.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&t.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,t,s){La(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Et({width:t,height:e.height})),this.bw!==null&&this.bw.dm(Et({width:s,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,t,s,r){const o=this.nv();if(o.width>0&&o.height>0&&(e.drawImage(this.sm.canvasElement,t,s),r)){const c=this.nm.canvasElement;e.drawImage(c,t,s)}}pm(e){if(e===0)return;const t={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const r=Fa(this.sm,t);r!==null&&(r.useBitmapCoordinateSpace((o=>{this.wm(o),this.gm(o),this.Aw(r,RW)})),this.bm(r),this.Aw(r,TW)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const s=Fa(this.nm,t);s!==null&&(s.useBitmapCoordinateSpace((({context:r,bitmapSize:o})=>{r.clearRect(0,0,o.width,o.height)})),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],s),this.Aw(s,MW))}Aw(e,t){const s=this.Lv.Qt().tn();for(const r of s)a0(t,(o=>r0(o,e,!1,void 0)),r,void 0);for(const r of s)a0(t,(o=>Uh(o,e,!1,void 0)),r,void 0)}wm({context:e,bitmapSize:t}){am(e,0,0,t.width,t.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:t,verticalPixelRatio:s}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const r=Math.max(1,Math.floor(this.Bw().S*s));e.fillRect(0,0,t.width,r)}}bm(e){const t=this.Lv.Qt().Et(),s=t.Vl();if(!s||s.length===0)return;const r=this.cu.maxTickMarkWeight(s),o=this.Bw(),c=t.N();c.borderVisible&&c.ticksVisible&&e.useBitmapCoordinateSpace((({context:u,horizontalPixelRatio:h,verticalPixelRatio:m})=>{u.strokeStyle=this.zw(),u.fillStyle=this.zw();const v=Math.max(1,Math.floor(h)),g=Math.floor(.5*h);u.beginPath();const x=Math.round(o.C*m);for(let w=s.length;w--;){const S=Math.round(s[w].coord*h);u.rect(S-g,0,v,x)}u.fill()})),e.useMediaCoordinateSpace((({context:u})=>{const h=o.S+o.C+o.A+o.k/2;u.textAlign="center",u.textBaseline="middle",u.fillStyle=this.H(),u.font=this._m();for(const m of s)if(m.weight<r){const v=m.needAlignCoordinate?this.Ow(u,m.coord,m.label):m.coord;u.fillText(m.label,v,h)}this.Lv.N().timeScale.allowBoldLabels&&(u.font=this.Nw());for(const m of s)if(m.weight>=r){const v=m.needAlignCoordinate?this.Ow(u,m.coord,m.label):m.coord;u.fillText(m.label,v,h)}}))}Ow(e,t,s){const r=this.qv.Ii(e,s),o=r/2,c=Math.floor(t-o)+.5;return c<0?t+=Math.abs(0-c):c+r>this.Uv.width&&(t-=Math.abs(this.Uv.width-(c+r))),t}Lw(e,t){const s=this.Bw();for(const r of e)for(const o of r.fs())o.Tt().nt(t,s)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return ff(this.F(),this.Ps.fontFamily)}Nw(){return ff(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new mf,Ew:0});const e=this.M,t=this._m();if(e.P!==t){const s=this.F();e.k=s,e.P=t,e.A=3*s/12,e.I=3*s/12,e.ts=9*s/12,e.L=0,e.Ew=4*s/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),t=e.N();t.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),t.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const s={Nd:this.Lv.Qt().Nd()},r=()=>t.leftPriceScale.borderVisible&&e.Et().N().borderVisible,o=()=>e.Kd();t.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new vE("left",t,s,r,o),this.Cw.appendChild(this.Mw.iv())),t.rightPriceScale.visible&&this.bw===null&&(this.bw=new vE("right",t,s,r,o),this.yw.appendChild(this.bw.iv()))}}const jW=!!hl&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((n=>n.brand.includes("Chromium")))&&!!hl&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class kW{constructor(e,t,s){var r;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new Gt,this.Vm=new Gt,this.nd=new Gt,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=t,this.cu=s,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(r=this.Vv).style.userSelect="none",r.style.webkitUserSelect="none",r.style.msUserSelect="none",r.style.MozUserSelect="none",r.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),pv(this.Ps)&&this.Jw(!0),this.ns=new gW(this.rd.bind(this),this.Ps,s),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new AW(this,this.cu),this.Zw.appendChild(this.tg.iv());const o=t.autoSize&&this.ig();let c=this.Ps.width,u=this.Ps.height;if(o||c===0||u===0){const h=e.getBoundingClientRect();c=c||h.width,u=u||h.height}this.sg(c,u),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],ye(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,t,s=!1){if(this.eo===t&&this.S_===e)return;const r=(function(u){const h=Math.floor(u.width),m=Math.floor(u.height);return Et({width:h-h%2,height:m-m%2})})(Et({width:e,height:t}));this.eo=r.height,this.S_=r.width;const o=this.eo+"px",c=this.S_+"px";ye(this.Vv).style.height=o,ye(this.Vv).style.width=c,this.Zw.style.height=o,this.Zw.style.width=c,s?this.lg(Vn.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=Vn.yn());for(let t=0;t<this.Fw.length;t++)this.Fw[t].pm(e.un(t).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){const t=pv(this.Ps);this.ns.cr(e);const s=pv(this.Ps);s!==t&&this.Jw(s),e.layout?.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const t=this.cg(null),s=document.createElement("canvas");s.width=t.width,s.height=t.height;const r=ye(s.getContext("2d"));return this.cg(r,e),s}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:ye(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return qn(this.Fw[e]).sv()}og(){this.Ww.forEach((e=>{e.kt()}))}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,t){let s=0,r=0;const o=this.Fw[0],c=(h,m)=>{let v=0;for(let g=0;g<this.Fw.length;g++){const x=this.Fw[g],w=ye(h==="left"?x.uw():x.cw()),S=w.nv();if(e!==null&&w.ev(e,m,v,t),v+=S.height,g<this.Fw.length-1){const C=this.Ww[g],_=C.nv();e!==null&&C.ev(e,m,v),v+=_.height}}};this.fg()&&(c("left",0),s+=ye(o.uw()).nv().width);for(let h=0;h<this.Fw.length;h++){const m=this.Fw[h],v=m.nv();if(e!==null&&m.ev(e,s,r,t),r+=v.height,h<this.Fw.length-1){const g=this.Ww[h],x=g.nv();e!==null&&g.ev(e,s,r),r+=x.height}}s+=o.nv().width,this.pg()&&(c("right",s),s+=ye(o.cw()).nv().width);const u=(h,m,v)=>{ye(h==="left"?this.tg.Tw():this.tg.Rw()).ev(ye(e),m,v)};if(this.Ps.timeScale.visible){const h=this.tg.nv();if(e!==null){let m=0;this.fg()&&(u("left",m,r),m=ye(o.uw()).nv().width),this.tg.ev(e,m,r,t),m+=h.width,this.pg()&&u("right",m,r)}r+=h.height}return Et({width:s,height:r})}Mg(){let e=0,t=0,s=0;for(const _ of this.Fw)this.fg()&&(t=Math.max(t,ye(_.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(s=Math.max(s,ye(_.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=_.E_();t=i0(t),s=i0(s);const r=this.S_,o=this.eo,c=Math.max(r-t-s,0),u=1*this.Ww.length,h=this.Ps.timeScale.visible;let m=h?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var v;m=(v=m)+v%2;const g=u+m,x=o<g?0:o-g,w=x/e;let S=0;const C=window.devicePixelRatio||1;for(let _=0;_<this.Fw.length;++_){const N=this.Fw[_];N.qm(this.ns.Xs()[_]);let T=0,M=0;M=_===this.Fw.length-1?Math.ceil((x-S)*C)/C:Math.round(N.E_()*w*C)/C,T=Math.max(M,2),S+=T,N.dm(Et({width:c,height:T})),this.fg()&&N.hw(t,"left"),this.pg()&&N.hw(s,"right"),N.cv()&&this.ns.bd(N.cv(),T)}this.tg.Iw(Et({width:h?c:0,height:m}),h?t:0,h?s:0),this.ns.L_(c),this.Uw!==t&&(this.Uw=t),this.$w!==s&&(this.$w=s)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return jW?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const t=this.bg(e),s=t*e.deltaX/100,r=-t*e.deltaY/100;if(e.cancelable&&e.preventDefault(),r!==0&&this.Ps.handleScale.mouseWheel){const o=Math.sign(r)*Math.min(1,Math.abs(r)),c=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(c,o)}s!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*s)}lg(e,t){const s=e._n();s===3&&this.Sg(),s!==3&&s!==2||(this.xg(e),this.Cg(e,t),this.tg.kt(),this.Fw.forEach((r=>{r.Ym()})),this.qw?._n()===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,t),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,t){for(const s of e.bn())this.xn(s,t)}xg(e){const t=this.ns.Xs();for(let s=0;s<t.length;s++)e.un(s).ln&&t[s].tu()}xn(e,t){const s=this.ns.Et();switch(e.fn){case 0:s.Fc();break;case 1:s.Wc(e.Wt);break;case 2:s.gn(e.Wt);break;case 3:s.Mn(e.Wt);break;case 4:s.Pc();break;case 5:e.Wt.Ec(t)||s.Mn(e.Wt.Ac(t))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame((t=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const s=this.qw;this.qw=null,this.lg(s,t);for(const r of s.bn())if(r.fn===5&&!r.Wt.Ec(t)){this.Qt().vn(r.Wt);break}}})))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),t=e.length,s=this.Fw.length;for(let r=t;r<s;r++){const o=qn(this.Fw.pop());this.Zw.removeChild(o.iv()),o.nw().u(this),o.ew().u(this),o.m();const c=this.Ww.pop();c!==void 0&&this.hg(c)}for(let r=s;r<t;r++){const o=new kb(this,e[r]);if(o.nw().i(this.yg.bind(this,o),this),o.ew().i(this.kg.bind(this,o),this),this.Fw.push(o),r>0){const c=new SW(this,r-1,r);this.Ww.push(c),this.Zw.insertBefore(c.iv(),this.tg.iv())}this.Zw.insertBefore(o.iv(),this.tg.iv())}for(let r=0;r<t;r++){const o=e[r],c=this.Fw[r];c.cv()!==o?c.qm(o):c.$m()}this.eg(),this.Mg()}Pg(e,t,s,r){const o=new Map;e!==null&&this.ns.tn().forEach((g=>{const x=g.qs().$s(e);x!==null&&o.set(g,x)}));let c;if(e!==null){const g=this.ns.Et().es(e)?.originalTime;g!==void 0&&(c=g)}const u=this.Qt().pd(),h=u!==null&&u.hu instanceof um?u.hu:void 0,m=u!==null&&u.au!==void 0?u.au.te:void 0,v=this.Tg(r);return{Gr:c,js:e??void 0,Rg:t??void 0,Dg:v!==-1?v:void 0,Ig:h,Vg:o,Bg:m,Eg:s??void 0}}Tg(e){let t=-1;if(e)t=this.Fw.indexOf(e);else{const s=this.Qt().gd().Gs();s!==null&&(t=this.Qt().Xs().indexOf(s))}return t}yg(e,t,s,r){this.Im.p((()=>this.Pg(t,s,r,e)))}kg(e,t,s,r){this.Vm.p((()=>this.Pg(t,s,r,e)))}Qw(e,t,s){this.mg(this.Qt().pd()?.ou??null),this.nd.p((()=>this.Pg(e,t,s)))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver((e=>{const t=e[e.length-1];t&&this.sg(t.contentRect.width,t.contentRect.height)})),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function pv(n){return!!(n.handleScroll.mouseWheel||n.handleScale.mouseWheel)}function OW(n){return n.open===void 0&&n.value===void 0}function DW(n){return(function(e){return e.open!==void 0})(n)||(function(e){return e.value!==void 0})(n)}function bE(n,e,t,s){const r=t.value,o={js:e,wt:n,Wt:[r,r,r,r],Gr:s};return t.color!==void 0&&(o.R=t.color),o}function IW(n,e,t,s){const r=t.value,o={js:e,wt:n,Wt:[r,r,r,r],Gr:s};return t.lineColor!==void 0&&(o.vt=t.lineColor),t.topColor!==void 0&&(o.eh=t.topColor),t.bottomColor!==void 0&&(o.rh=t.bottomColor),o}function LW(n,e,t,s){const r=t.value,o={js:e,wt:n,Wt:[r,r,r,r],Gr:s};return t.topLineColor!==void 0&&(o.hh=t.topLineColor),t.bottomLineColor!==void 0&&(o.ah=t.bottomLineColor),t.topFillColor1!==void 0&&(o.oh=t.topFillColor1),t.topFillColor2!==void 0&&(o._h=t.topFillColor2),t.bottomFillColor1!==void 0&&(o.uh=t.bottomFillColor1),t.bottomFillColor2!==void 0&&(o.dh=t.bottomFillColor2),o}function PW(n,e,t,s){const r={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:s};return t.color!==void 0&&(r.R=t.color),r}function zW(n,e,t,s){const r={js:e,wt:n,Wt:[t.open,t.high,t.low,t.close],Gr:s};return t.color!==void 0&&(r.R=t.color),t.borderColor!==void 0&&(r.Ht=t.borderColor),t.wickColor!==void 0&&(r.nh=t.wickColor),r}function $W(n,e,t,s,r){const o=qn(r)(t),c=Math.max(...o),u=Math.min(...o),h=o[o.length-1],m=[h,c,u,h],{time:v,color:g,...x}=t;return{js:e,wt:n,Wt:m,Gr:s,le:x,R:g}}function Uo(n){return n.Wt!==void 0}function yE(n,e){return e.customValues!==void 0&&(n.Ag=e.customValues),n}function Aa(n){return(e,t,s,r,o,c)=>(function(u,h){return h?h(u):OW(u)})(s,c)?yE({wt:e,js:t,Gr:r},s):yE(n(e,t,s,r,o),s)}function xE(n){return{Candlestick:Aa(zW),Bar:Aa(PW),Area:Aa(IW),Baseline:Aa(LW),Histogram:Aa(bE),Line:Aa(bE),Custom:Aa($W)}[n]}function wE(n){return{js:0,Lg:new Map,Ea:n}}function SE(n,e){if(n!==void 0&&n.length!==0)return{zg:e.key(n[0].wt),Og:e.key(n[n.length-1].wt)}}function CE(n){let e;return n.forEach((t=>{e===void 0&&(e=t.Gr)})),qn(e)}class UW{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,t){let s=this.Ng.size!==0,r=!1;const o=this.Fg.get(e);if(o!==void 0)if(this.Fg.size===1)s=!1,r=!0,this.Ng.clear();else for(const h of this.Hg)h.pointData.Lg.delete(e)&&(r=!0);let c=[];if(t.length!==0){const h=t.map((w=>w.time)),m=this.cu.createConverterToInternalObj(t),v=xE(e.wh()),g=e.rl(),x=e.hl();c=t.map(((w,S)=>{const C=m(w.time),_=this.cu.key(C);let N=this.Ng.get(_);N===void 0&&(N=wE(C),this.Ng.set(_,N),r=!0);const T=v(C,N.js,w,h[S],g,x);return N.Lg.set(e,T),T}))}s&&this.$g(),this.qg(e,c);let u=-1;if(r){const h=[];this.Ng.forEach((m=>{h.push({timeWeight:0,time:m.Ea,pointData:m,originalTime:CE(m.Lg)})})),h.sort(((m,v)=>this.cu.key(m.time)-this.cu.key(v.time))),u=this.jg(h)}return this.Yg(e,u,(function(h,m,v){const g=SE(h,v),x=SE(m,v);if(g!==void 0&&x!==void 0)return{Kg:!1,Ta:g.Og>=x.Og&&g.zg>=x.zg}})(this.Fg.get(e),o,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,t,s){if(s&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const r=t;(function(N){N.Gr===void 0&&(N.Gr=N.time)})(r),this.cu.preprocessData(t);const o=this.cu.createConverterToInternalObj([t])(t.time),c=this.Wg.get(e);if(!s&&c!==void 0&&this.cu.key(o)<this.cu.key(c))throw new Error(`Cannot update oldest data, last time=${c}, new time=${o}`);let u=this.Ng.get(this.cu.key(o));if(s&&u===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const h=u===void 0;u===void 0&&(u=wE(o),this.Ng.set(this.cu.key(o),u));const m=xE(e.wh()),v=e.rl(),g=e.hl(),x=m(o,u.js,t,r.Gr,v,g),w=!s&&!h&&c!==void 0&&this.cu.key(o)===this.cu.key(c);u.Lg.set(e,x),s?this.Gg(e,x,u.js):w&&e.La()&&Uo(x)?(e.kr(x),this.Xg(e,x)):this.Xg(e,x);const S={Ta:Uo(x),Kg:s};if(!h)return this.Yg(e,-1,S);const C={timeWeight:0,time:u.Ea,pointData:u,originalTime:CE(u.Lg)},_=dl(this.Hg,this.cu.key(C.time),((N,T)=>this.cu.key(N.time)<T));this.Hg.splice(_,0,C);for(let N=_;N<this.Hg.length;++N)xh(this.Hg[N].pointData,N);return this.cu.fillWeightsForPoints(this.Hg,_),this.Yg(e,_,S)}Jg(e,t){const s=this.Fg.get(e);if(s===void 0||t<=0)return[[],this.Qg()];t=Math.min(t,s.length);const r=s.splice(-t).reverse();s.length===0?this.Wg.delete(e):this.Wg.set(e,s[s.length-1].wt);for(const o of r){const c=this.Ng.get(this.cu.key(o.wt));if(c&&(c.Lg.delete(e),c.Lg.size===0)){this.Ng.delete(this.cu.key(c.Ea)),this.Hg.splice(c.js,1);for(let u=c.js;u<this.Hg.length;++u)xh(this.Hg[u].pointData,u)}}return[r,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,t){let s=this.Fg.get(e);s===void 0&&(s=[],this.Fg.set(e,s));const r=s.length!==0?s[s.length-1]:null;r===null||this.cu.key(t.wt)>this.cu.key(r.wt)?Uo(t)&&s.push(t):Uo(t)?s[s.length-1]=t:s.splice(-1,1),this.Wg.set(e,t.wt)}Gg(e,t,s){const r=this.Fg.get(e);if(r===void 0)return;const o=dl(r,s,((c,u)=>c.js<u));Uo(t)?r[o]=t:r.splice(o,1)}qg(e,t){t.length!==0?(this.Fg.set(e,t.filter(Uo)),this.Wg.set(e,t[t.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let t=-1;for(let s=0;s<this.Hg.length&&s<e.length;++s){const r=this.Hg[s],o=e[s];if(this.cu.key(r.time)!==this.cu.key(o.time)){t=s;break}o.timeWeight=r.timeWeight,xh(o.pointData,s)}if(t===-1&&this.Hg.length!==e.length&&(t=Math.min(this.Hg.length,e.length)),t===-1)return-1;for(let s=t;s<e.length;++s)xh(e[s].pointData,s);return this.cu.fillWeightsForPoints(e,t),this.Hg=e,t}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach((t=>{t.length!==0&&(e=Math.max(e,t[t.length-1].js))})),e}Yg(e,t,s){const r=this.Qg();if(t!==-1)this.Fg.forEach(((o,c)=>{r.F_.set(c,{le:o,iM:c===e?s:void 0})})),this.Fg.has(e)||r.F_.set(e,{le:[],iM:s}),r.Et.sM=this.Hg,r.Et.nM=t;else{const o=this.Fg.get(e);r.F_.set(e,{le:o||[],iM:s})}return r}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function xh(n,e){n.js=e,n.Lg.forEach((t=>{t.js=e}))}function BW(n,e){return n.wt<e}function VW(n,e){return e<n.wt}function FW(n,e,t){const s=e.Aa(),r=e.bi(),o=dl(n,s,BW),c=FR(n,r,VW);if(!t)return{from:o,to:c};let u=o,h=c;return o>0&&o<n.length&&n[o].wt>=s&&(u=o-1),c>0&&c<n.length&&n[c-1].wt<=r&&(h=c+1),{from:u,to:h}}class Db{constructor(e,t,s){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=t,this._M=s}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map((e=>({...e,...this.ee.ga().gh(e.wt)})))}fM(){this.lM=null}uM(){const e=this.re.Et(),t=e.N().enableConflation?e.Hc():0;t!==this.oM&&(this.rM=!0,this.oM=t),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),t=this.re.Et();if(this.fM(),t.Gi()||e.Gi())return;const s=t.Ie();if(s===null||this.ee.qs().yh()===0)return;const r=this.ee.Lt();r!==null&&(this.lM=FW(this.aM,s,this._M),this.mM(e,t,r.Wt),this.wM())}}class HW{constructor(e,t){this.gM=e,this.Ki=t}nt(e,t,s){this.gM.draw(e,this.Ki,t,s)}}class WW extends Db{constructor(e,t,s){super(e,t,!1),this.$h=s,this.cM=new HW(this.$h.renderer(),(r=>{const o=e.Lt();return o===null?null:e.Ft().Nt(r,o.Wt)}))}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((t=>({wt:t.js,_t:NaN,...e.gh(t.js),MM:t.le})))}mM(e,t){t.mc(this.aM,ru(this.lM))}wM(){this.$h.update({bars:this.aM.map(GW),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function GW(n){return{x:n._t,time:n.wt,originalData:n.MM,barColor:n.th}}const qW={color:"#2196f3"},YW=(n,e,t)=>{const s=zr(t);return new WW(n,e,s)};function Ib(n){const e={value:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function EE(n){const e=Ib(n);return n.R!==void 0&&(e.color=n.R),e}function KW(n){const e=Ib(n);return n.vt!==void 0&&(e.lineColor=n.vt),n.eh!==void 0&&(e.topColor=n.eh),n.rh!==void 0&&(e.bottomColor=n.rh),e}function XW(n){const e=Ib(n);return n.hh!==void 0&&(e.topLineColor=n.hh),n.ah!==void 0&&(e.bottomLineColor=n.ah),n.oh!==void 0&&(e.topFillColor1=n.oh),n._h!==void 0&&(e.topFillColor2=n._h),n.uh!==void 0&&(e.bottomFillColor1=n.uh),n.dh!==void 0&&(e.bottomFillColor2=n.dh),e}function JR(n){const e={open:n.Wt[0],high:n.Wt[1],low:n.Wt[2],close:n.Wt[3],time:n.Gr};return n.Ag!==void 0&&(e.customValues=n.Ag),e}function JW(n){const e=JR(n);return n.R!==void 0&&(e.color=n.R),e}function QW(n){const e=JR(n),{R:t,Ht:s,nh:r}=n;return t!==void 0&&(e.color=t),s!==void 0&&(e.borderColor=s),r!==void 0&&(e.wickColor=r),e}function Bh(n){return{Area:KW,Line:EE,Baseline:XW,Histogram:EE,Bar:JW,Candlestick:QW,Custom:ZW}[n]}function ZW(n){const e=n.Gr;return{...n.le,time:e}}const eG={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},tG={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},nG={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:IR,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},gv={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},sG={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function _E(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:nG,crosshair:eG,grid:tG,overlayPriceScales:{...gv},leftPriceScale:{...gv,visible:!1},rightPriceScale:{...gv,visible:!0},timeScale:sG,localization:{locale:hl?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class QR{constructor(e,t,s){this.Yp=e,this.bM=t,this.SM=s??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return lm(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Rn(e.from,e.to))}getVisibleRange(){let e,t,s=this.Ki().er();if(s===null)return null;if(this.Ki().io()){const r=this.Ki().m_(),o=YR(r);s=Wo(s,this.Ki().no()),e=Number((Math.round(s.Ze()/r)*r).toFixed(o)),t=Number((Math.round(s.Ge()/r)*r).toFixed(o))}else e=s.Ze(),t=s.Ge();return{from:e,to:t}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return ye(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class iG{constructor(e,t,s,r){this.Yp=e,this.yt=s,this.xM=t,this.CM=r}getHeight(){return this.yt.$t()}setHeight(e){const t=this.Yp.Qt(),s=t.Gd(this.yt);t.xd(s,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const t=this.paneIndex();t!==e&&(gn(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(t,e))}getSeries(){return this.yt.F_().map((e=>this.xM(e)))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new QR(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,t={},s=0){return this.CM.addCustomSeries(e,t,s)}addSeries(e,t={}){return this.CM.addSeries(e,t,this.paneIndex())}}const rG={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class NE{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class aG{constructor(e,t,s,r,o,c){this.kM=new Gt,this.ee=e,this.PM=t,this.TM=s,this.cu=o,this.CM=r,this.RM=c}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Nt(e,t.Wt)}coordinateToPrice(e){const t=this.ee.Lt();return t===null?null:this.ee.Ft().Ds(e,t.Wt)}barsInLogicalRange(e){if(e===null)return null;const t=new nl(new Bc(e.from,e.to)).Ru(),s=this.ee.qs();if(s.Gi())return null;const r=s.$s(t.Aa(),1),o=s.$s(t.bi(),-1),c=ye(s.kh()),u=ye(s.sn());if(r!==null&&o!==null&&r.js>o.js)return{barsBefore:e.from-c,barsAfter:u-e.to};const h={barsBefore:r===null||r.js===c?e.from-c:r.js-c,barsAfter:o===null||o.js===u?u-e.to:u-o.js};return r!==null&&o!==null&&(h.from=r.Gr,h.to=o.Gr),h}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,t=!1){this.ee.wh(),this.PM.VM(this.ee,e,t),this.IM("update")}pop(e=1){const t=this.PM.BM(this.ee,e);t.length!==0&&this.IM("update");const s=Bh(this.seriesType());return t.map((r=>s(r)))}dataByIndex(e,t){const s=this.ee.qs().$s(e,t);return s===null?null:Bh(this.seriesType())(s)}data(){const e=Bh(this.seriesType());return this.ee.qs().Dh().map((t=>e(t)))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return Vi(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const t=cs(Vi(rG),e),s=this.ee.Da(t);return new NE(s)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map((e=>new NE(e)))}seriesType(){return this.ee.wh()}lastValueData(e){const t=this.ee.Ve(e);return t.Be?{noData:!0}:{noData:!1,price:t.gt,color:t.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,t=ye(this.ee.Qt().Kn(e));return this.RM(t)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const t=this.ee.Qt().Kn(this.ee);t!==null&&t.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class oG{constructor(e,t,s){this.EM=new Gt,this.Nu=new Gt,this.xw=new Gt,this.ns=e,this.Jh=e.Et(),this.tg=t,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=s}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,t){t?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const t={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},s=this.Jh.cc(t);this.ns.$d(s)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){gn(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const t=this.ns.Et();return t.Gi()?null:t.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,t){const s=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(s,t)}timeToCoordinate(e){const t=this.timeToIndex(e,!1);return t===null?null:this.Jh.qt(t)}coordinateToTime(e){const t=this.ns.Et(),s=t.wc(e),r=t.es(s);return r===null?null:r.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...Vi(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function TE(n){return(function(e){if(fh(e.handleScale)){const s=e.handleScale;e.handleScale={axisDoubleClickReset:{time:s,price:s},axisPressedMouseMove:{time:s,price:s},mouseWheel:s,pinch:s}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:s,axisDoubleClickReset:r}=e.handleScale;fh(s)&&(e.handleScale.axisPressedMouseMove={time:s,price:s}),fh(r)&&(e.handleScale.axisDoubleClickReset={time:r,price:r})}const t=e.handleScroll;fh(t)&&(e.handleScroll={horzTouchDrag:t,vertTouchDrag:t,mouseWheel:t,pressedMouseMove:t})})(n),n}class lG{constructor(e,t,s){this.OM=new Map,this.NM=new Map,this.FM=new Gt,this.WM=new Gt,this.HM=new Gt,this.Xc=new WeakMap,this.UM=new UW(t);const r=s===void 0?Vi(_E()):cs(Vi(_E()),TE(s));this.$M=t,this.Yp=new kW(e,r,t),this.Yp.nw().i((c=>{this.FM.v()&&this.FM.p(this.qM(c()))}),this),this.Yp.ew().i((c=>{this.WM.v()&&this.WM.p(this.qM(c()))}),this),this.Yp.Md().i((c=>{this.HM.v()&&this.HM.p(this.qM(c()))}),this);const o=this.Yp.Qt();this.jM=new oG(o,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,t,s){this.autoSizeActive()||this.Yp.sg(e,t,s)}addCustomSeries(e,t={},s=0){const r=(o=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...qW,...o.defaultOptions()},YM:YW,KM:o}))(zr(e));return this.ZM(r,t,s)}addSeries(e,t={},s=0){return this.ZM(e,t,s)}removeSeries(e){const t=qn(this.OM.get(e)),s=this.UM.Hd(t);this.Yp.Qt().Hd(t),this.GM(s),this.OM.delete(e),this.NM.delete(t)}DM(e,t){this.GM(this.UM.Ug(e,t))}VM(e,t,s){this.GM(this.UM.Zg(e,t,s))}BM(e,t){const[s,r]=this.UM.Jg(e,t);return s.length!==0&&this.GM(r),s}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,t=0){return new QR(this.Yp,e,t)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(TE(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,t=!1){let s,r;try{t||(s=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),r=this.Yp.ug(e)}finally{t||s===void 0||this.Yp.Qt().cr({crosshair:{mode:s}})}return r}addPane(e=!1){const t=this.Yp.Qt().Xd();return t.O_(e),this.XM(t)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,t){this.Yp.Qt().Cd(e,t)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map((e=>this.XM(e)))}paneSize(e=0){const t=this.Yp.gg(e);return{height:t.height,width:t.width}}setCrosshairPosition(e,t,s){const r=this.OM.get(s);if(r===void 0)return;const o=this.Yp.Qt().Kn(r);o!==null&&this.Yp.Qt().Ld(e,t,o)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,t={},s=0){gn(e.YM!==void 0),(function(h){if(h===void 0||h.type==="custom")return;const m=h;m.minMove!==void 0&&m.precision===void 0&&(m.precision=YR(m.minMove))})(t.priceFormat),e.type==="Candlestick"&&(function(h){h.borderColor!==void 0&&(h.borderUpColor=h.borderColor,h.borderDownColor=h.borderColor),h.wickColor!==void 0&&(h.wickUpColor=h.wickColor,h.wickDownColor=h.wickColor)})(t);const r=cs(Vi(OR),Vi(e.defaultOptions),t),o=e.YM,c=new um(this.Yp.Qt(),e.type,r,o,e.KM);this.Yp.Qt().Fd(c,s);const u=new aG(c,this,this,this,this.$M,(h=>this.XM(h)));return this.OM.set(u,c),this.NM.set(c,u),u}GM(e){const t=this.Yp.Qt();t.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach(((s,r)=>r.ht(s.le,s.iM))),t.Et().Ju(),t.Sc()}JM(e){return qn(this.NM.get(e))}qM(e){const t=new Map;e.Vg.forEach(((r,o)=>{const c=o.wh(),u=Bh(c)(r);if(c!=="Custom")gn(DW(u));else{const h=o.hl();gn(!h||h(u)===!1)}t.set(this.JM(o),u)}));const s=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:s,hoveredObjectId:e.Bg,seriesData:t,sourceEvent:e.Eg}}XM(e){let t=this.Xc.get(e);return t||(t=new iG(this.Yp,(s=>this.JM(s)),e,this),this.Xc.set(e,t)),t}}function cG(n){if(Au(n)){const e=document.getElementById(n);return gn(e!==null,`Cannot find element in DOM with id=${n}`),e}return n}function uG(n,e,t){const s=cG(n),r=new lG(s,e,t);return e.setOptions(r.options()),r}function ZR(n,e){return uG(n,new uE,uE.pf(e))}class eA extends Db{constructor(e,t){super(e,t,!0)}mM(e,t,s){t.mc(this.aM,ru(this.lM)),e.Yo(this.aM,s,ru(this.lM))}QM(e,t){return{wt:e,gt:t,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((t=>{let s;if((t.jr??1)>1){const r=t.Wt[1],o=t.Wt[2],c=t.Wt[3];s=Math.abs(r-c)>Math.abs(o-c)?r:o}else s=t.Wt[3];return this.tb(t.js,s,e)}))}}function dG(n,e,t,s,r,o,c){if(e.length===0||s.from>=e.length||s.to<=0)return;const{context:u,horizontalPixelRatio:h,verticalPixelRatio:m}=n,v=e[s.from];let g=o(n,v),x=v;if(s.to-s.from<2){const w=r/2;u.beginPath();const S={_t:v._t-w,ut:v.ut},C={_t:v._t+w,ut:v.ut};u.moveTo(S._t*h,S.ut*m),u.lineTo(C._t*h,C.ut*m),c(n,g,S,C)}else{const w=(C,_)=>{c(n,g,x,_),u.beginPath(),g=C,x=_};let S=x;u.beginPath(),u.moveTo(v._t*h,v.ut*m);for(let C=s.from+1;C<s.to;++C){S=e[C];const _=o(n,S);switch(t){case 0:u.lineTo(S._t*h,S.ut*m);break;case 1:u.lineTo(S._t*h,e[C-1].ut*m),_!==g&&(w(_,S),u.lineTo(S._t*h,e[C-1].ut*m)),u.lineTo(S._t*h,S.ut*m);break;case 2:{const[N,T]=hG(e,C-1,C);u.bezierCurveTo(N._t*h,N.ut*m,T._t*h,T.ut*m,S._t*h,S.ut*m);break}}t!==1&&_!==g&&(w(_,S),u.moveTo(S._t*h,S.ut*m))}(x!==S||x===S&&t===1)&&c(n,g,x,S)}}const ME=6;function vv(n,e){return{_t:n._t-e._t,ut:n.ut-e.ut}}function RE(n,e){return{_t:n._t/e,ut:n.ut/e}}function hG(n,e,t){const s=Math.max(0,e-1),r=Math.min(n.length-1,t+1);var o,c;return[(o=n[e],c=RE(vv(n[t],n[s]),ME),{_t:o._t+c._t,ut:o.ut+c.ut}),vv(n[t],RE(vv(n[r],n[e]),ME))]}function fG(n,e){const t=n.context;t.strokeStyle=e,t.stroke()}class mG extends ea{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:t,lt:s,ib:r,sb:o,ct:c,Zt:u,nb:h}=this.rt;if(s===null)return;const m=e.context;m.lineCap="butt",m.lineWidth=c*e.verticalPixelRatio,Ha(m,u),m.lineJoin="round";const v=this.eb.bind(this);o!==void 0&&dG(e,t,o,s,r,v,fG),h&&(function(g,x,w,S,C){if(S.to-S.from<=0)return;const{horizontalPixelRatio:_,verticalPixelRatio:N,context:T}=g;let M=null;const j=Math.max(1,Math.floor(_))%2/2,P=w*N+j;for(let I=S.to-1;I>=S.from;--I){const O=x[I];if(O){const B=C(g,O);B!==M&&(T.beginPath(),M!==null&&T.fill(),T.fillStyle=B,M=B);const re=Math.round(O._t*_)+j,le=O.ut*N;T.moveTo(re,le),T.arc(re,le,P,0,2*Math.PI)}}T.fill()})(e,t,h,s,v)}}class pG extends mG{eb(e,t){return t.vt}}class gG extends eA{constructor(){super(...arguments),this.cM=new pG}tb(e,t,s){return{...this.QM(e,t),...s.gh(e)}}wM(){const e=this.ee.N(),t={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(t)}}const Vh={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(n,e)=>new gG(n,e)};let vG=class extends Db{constructor(e,t){super(e,t,!1)}mM(e,t,s){t.mc(this.aM,ru(this.lM)),e.Zo(this.aM,s,ru(this.lM))}Lb(e,t,s){return{wt:e,Hr:t.Wt[0],Ur:t.Wt[1],$r:t.Wt[2],qr:t.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((t=>this.tb(t.js,t,e)))}},bG=class extends ea{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:t}=e;this.Ib=(function(o,c){if(o>=2.5&&o<=4)return Math.floor(3*c);const u=1-.2*Math.atan(Math.max(4,o)-4)/(.5*Math.PI),h=Math.floor(o*u*c),m=Math.floor(o*c),v=Math.min(h,m);return Math.max(Math.floor(c),v)})(this.jt.ul,t),this.Ib>=2&&Math.floor(t)%2!=this.Ib%2&&this.Ib--;const s=this.jt.qs;this.jt.zb&&this.Ob(e,s,this.jt.lt),this.jt.Mi&&this.gm(e,s,this.jt.lt);const r=this.Nb(t);(!this.jt.Mi||this.Ib>2*r)&&this.Fb(e,s,this.jt.lt)}Ob(e,t,s){if(this.jt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:c}=e;let u="",h=Math.min(Math.floor(o),Math.floor(this.jt.ul*o));h=Math.max(Math.floor(o),Math.min(h,this.Ib));const m=Math.floor(.5*h);let v=null;for(let g=s.from;g<s.to;g++){const x=t[g];x.sh!==u&&(r.fillStyle=x.sh,u=x.sh);const w=Math.round(Math.min(x.Go,x.Qo)*c),S=Math.round(Math.max(x.Go,x.Qo)*c),C=Math.round(x.Xo*c),_=Math.round(x.Jo*c);let N=Math.round(o*x._t)-m;const T=N+h-1;v!==null&&(N=Math.max(v+1,N),N=Math.min(N,T));const M=T-N+1;r.fillRect(N,C,M,w-C),r.fillRect(N,S+1,M,_-S),v=T}}Nb(e){let t=Math.floor(1*e);this.Ib<=2*t&&(t=Math.floor(.5*(this.Ib-1)));const s=Math.max(Math.floor(e),t);return this.Ib<=2*s?Math.max(Math.floor(e),Math.floor(1*e)):s}gm(e,t,s){if(this.jt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:c}=e;let u="";const h=this.Nb(o);let m=null;for(let v=s.from;v<s.to;v++){const g=t[v];g.ih!==u&&(r.fillStyle=g.ih,u=g.ih);let x=Math.round(g._t*o)-Math.floor(.5*this.Ib);const w=x+this.Ib-1,S=Math.round(Math.min(g.Go,g.Qo)*c),C=Math.round(Math.max(g.Go,g.Qo)*c);if(m!==null&&(x=Math.max(m+1,x),x=Math.min(x,w)),this.jt.ul*o>2*h)x7(r,x,S,w-x+1,C-S+1,h);else{const _=w-x+1;r.fillRect(x,S,_,C-S+1)}m=w}}Fb(e,t,s){if(this.jt===null)return;const{context:r,horizontalPixelRatio:o,verticalPixelRatio:c}=e;let u="";const h=this.Nb(o);for(let m=s.from;m<s.to;m++){const v=t[m];let g=Math.round(Math.min(v.Go,v.Qo)*c),x=Math.round(Math.max(v.Go,v.Qo)*c),w=Math.round(v._t*o)-Math.floor(.5*this.Ib),S=w+this.Ib-1;if(v.th!==u){const C=v.th;r.fillStyle=C,u=C}this.jt.Mi&&(w+=h,g+=h,S-=h,x-=h),g>x||r.fillRect(w,g,S-w+1,x-g+1)}}},yG=class extends vG{constructor(){super(...arguments),this.cM=new bG}tb(e,t,s){return{...this.Lb(e,t,s),...s.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}};const xG={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(n,e)=>new yG(n,e)};let wG=class extends ea{constructor(){super(...arguments),this.jt=null,this.Wb=[]}ht(e){this.jt=e,this.Wb=[]}et({context:e,horizontalPixelRatio:t,verticalPixelRatio:s}){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return;this.Wb.length||this.Hb(t);const r=Math.max(1,Math.floor(s)),o=Math.round(this.jt.Ub*s)-Math.floor(r/2),c=o+r;for(let u=this.jt.lt.from;u<this.jt.lt.to;u++){const h=this.jt.ot[u],m=this.Wb[u-this.jt.lt.from],v=Math.round(h.ut*s);let g,x;e.fillStyle=h.th,v<=o?(g=v,x=c):(g=o,x=v-Math.floor(r/2)+r),e.fillRect(m.Aa,g,m.bi-m.Aa+1,x-g)}}Hb(e){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return void(this.Wb=[]);const t=Math.ceil(this.jt.ul*e)<=1?0:Math.max(1,Math.floor(e)),s=Math.round(this.jt.ul*e)-t;this.Wb=new Array(this.jt.lt.to-this.jt.lt.from);for(let o=this.jt.lt.from;o<this.jt.lt.to;o++){const c=this.jt.ot[o],u=Math.round(c._t*e);let h,m;if(s%2){const v=(s-1)/2;h=u-v,m=u+v}else{const v=s/2;h=u-v,m=u+v-1}this.Wb[o-this.jt.lt.from]={Aa:h,bi:m,$b:u,oe:c._t*e,wt:c.wt}}for(let o=this.jt.lt.from+1;o<this.jt.lt.to;o++){const c=this.Wb[o-this.jt.lt.from],u=this.Wb[o-this.jt.lt.from-1];c.wt===u.wt+1&&c.Aa-u.bi!==t+1&&(u.$b>u.oe?u.bi=c.Aa-t-1:c.Aa=u.bi+t+1)}let r=Math.ceil(this.jt.ul*e);for(let o=this.jt.lt.from;o<this.jt.lt.to;o++){const c=this.Wb[o-this.jt.lt.from];c.bi<c.Aa&&(c.bi=c.Aa);const u=c.bi-c.Aa+1;r=Math.min(u,r)}if(t>0&&r<4)for(let o=this.jt.lt.from;o<this.jt.lt.to;o++){const c=this.Wb[o-this.jt.lt.from];c.bi-c.Aa+1>r&&(c.$b>c.oe?c.bi-=1:c.Aa+=1)}}},SG=class extends eA{constructor(){super(...arguments),this.cM=new wG}tb(e,t,s){return{...this.QM(e,t),...s.gh(e)}}wM(){const e={ot:this.aM,ul:this.re.Et().ul(),lt:this.lM,Ub:this.ee.Ft().Nt(this.ee.N().base,ye(this.ee.Lt()).Wt)};this.cM.ht(e)}};const o0={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},YM:(n,e)=>new SG(n,e)};({...OR});class Go{logs=[];max_logs=1e4;memorySnapshots=[];max_memory_snapshots=1e3;record(e){this.logs.push(e),this.logs.length>this.max_logs&&(this.logs=this.logs.slice(Math.floor(this.max_logs*.2)))}getLogs(e,t){if(!e&&!t)return[...this.logs];const s=e?.getTime()??0,r=t?.getTime()??Date.now();return this.logs.filter(o=>{const c=o.timestamp.getTime();return c>=s&&c<=r})}getLogsByOperation(e){return this.logs.filter(t=>t.operation===e)}getLogsByCategory(e){return this.logs.filter(t=>t.category===e)}clear(){this.logs=[]}get size(){return this.logs.length}captureMemorySnapshot(){if("memory"in performance&&performance.memory){const e=performance.memory,t={timestamp:new Date,used_bytes:e.usedJSHeapSize,total_bytes:e.totalJSHeapSize,limit_bytes:e.jsHeapSizeLimit};return this.memorySnapshots.push(t),this.memorySnapshots.length>this.max_memory_snapshots&&(this.memorySnapshots=this.memorySnapshots.slice(Math.floor(this.max_memory_snapshots*.2))),t}return null}getMemorySnapshots(e,t){if(!e&&!t)return[...this.memorySnapshots];const s=e?.getTime()??0,r=t?.getTime()??Date.now();return this.memorySnapshots.filter(o=>{const c=o.timestamp.getTime();return c>=s&&c<=r})}getMemoryStats(){if(this.memorySnapshots.length===0)return null;const e=this.memorySnapshots.map(o=>o.used_bytes),t=Math.max(...e),s=e.reduce((o,c)=>o+c,0)/e.length,r=this.memorySnapshots[this.memorySnapshots.length-1];return{current_used_bytes:r.used_bytes,current_total_bytes:r.total_bytes,peak_used_bytes:t,average_used_bytes:s,snapshots_count:this.memorySnapshots.length}}clearMemorySnapshots(){this.memorySnapshots=[]}calculatePercentile(e,t){if(e.length===0)return 0;const s=[...e].sort((o,c)=>o-c),r=Math.ceil(t/100*s.length)-1;return s[Math.max(0,r)]}calculateCategoryStats(e){if(e.length===0)return{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0};const t=e.map(r=>r.duration_ms),s=t.reduce((r,o)=>r+o,0);return{total_duration_ms:s,operation_count:e.length,average_duration_ms:s/e.length,p50_duration_ms:this.calculatePercentile(t,50),p95_duration_ms:this.calculatePercentile(t,95),p99_duration_ms:this.calculatePercentile(t,99)}}calculateByCategory(){const e=["data_fetch","calculation","rendering","ui_interaction"],t={};for(const s of e)t[s]=this.calculateCategoryStats(this.getLogsByCategory(s));return t}identifyBottlenecks(e,t,s){const r=[],o=new Map;for(const c of this.logs)o.has(c.operation)||o.set(c.operation,[]),o.get(c.operation).push(c);for(const[c,u]of o.entries()){if(u.length<t.min_sample_count)continue;const h=u[0].category,m=u.reduce((x,w)=>x+w.duration_ms,0),v=s>0?m/s*100:0,g=t.operation_thresholds[c];if(g){const x=m/u.length;if(x>g){r.push({operation:c,category:h,reason:"threshold_exceeded",total_duration_ms:m,percent_of_total:v,impact:x>g*2?"critical":"high"});continue}}if(v>t.max_operation_contribution_percent){r.push({operation:c,category:h,reason:"high_contribution",total_duration_ms:m,percent_of_total:v,impact:v>t.max_operation_contribution_percent*2?"critical":"high"});continue}}return r.sort((c,u)=>u.total_duration_ms-c.total_duration_ms),r}createRankings(e,t){const s=new Map;for(const o of this.logs)s.has(o.operation)||s.set(o.operation,{logs:[],category:o.category}),s.get(o.operation).logs.push(o);const r=[];for(const[o,{logs:c,category:u}]of s.entries()){const h=c.reduce((m,v)=>m+v.duration_ms,0);r.push({operation:o,category:u,total_duration_ms:h,count:c.length,average_duration_ms:h/c.length,percent_of_total_load_time:t>0?h/t*100:0})}return r.sort((o,c)=>c.total_duration_ms-o.total_duration_ms),r}generateReport(e={operation_thresholds:{},max_operation_contribution_percent:20,min_sample_count:3}){const t=new Date;if(this.logs.length===0)return{generated_at:t,start_time:t,end_time:t,total_operations:0,by_category:{data_fetch:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0},calculation:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0},rendering:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0},ui_interaction:{total_duration_ms:0,operation_count:0,average_duration_ms:0,p50_duration_ms:0,p95_duration_ms:0,p99_duration_ms:0}},bottlenecks:[],rankings:[]};const s=this.calculateByCategory(),r=Object.values(s).reduce((v,g)=>v+g.total_duration_ms,0),o=this.identifyBottlenecks(s,e,r),c=this.createRankings(s,r),u=this.logs.map(v=>v.timestamp.getTime()),h=new Date(Math.min(...u)),m=new Date(Math.max(...u));return{generated_at:t,start_time:h,end_time:m,total_operations:this.logs.length,by_category:s,bottlenecks:o,rankings:c}}compare(e,t){const s=new Go,r=new Go;for(const m of e)s.record(m);for(const m of t)r.record(m);const o=s.generateReport(),c=r.generateReport(),u={},h=[];for(const m of["data_fetch","calculation","rendering","ui_interaction"]){const v=o.by_category[m],g=c.by_category[m];if(v.p95_duration_ms>0){const x=(v.p95_duration_ms-g.p95_duration_ms)/v.p95_duration_ms*100;u[m]=x,x<-10&&h.push(m)}}return{before:o.by_category,after:c.by_category,improvement:u,regressions:h}}detectRegressions(e,t,s=10){const r=new Go,o=new Go;r.logs=e,o.logs=t;const c=r.generateReport(),u=o.generateReport(),h=[];for(const m of["data_fetch","calculation","rendering","ui_interaction"]){const v=c.by_category[m].p95_duration_ms,g=u.by_category[m].p95_duration_ms;if(v>0){const x=(g-v)/v*100;x>s&&h.push(`${m}: +${x.toFixed(1)}%`)}}return h}}const l0=new Go,AE=({symbol:n,candles:e,overlays:t=[],showVolume:s=!1,volumeColorUp:r="#26a69a",volumeColorDown:o="#ef5350",volumeHeightPercent:c=15,showLastPrice:u=!0,lastPriceUpColor:h="#26a69a",lastPriceDownColor:m="#ef5350",width:v,height:g,onTimeScaleInit:x,onCrosshairMove:w,onChartReady:S,onVisibleTimeRangeChange:C,onVisibleLogicalRangeChange:_})=>{const T=p.useRef(null),M=p.useRef(null),j=p.useRef(null),P=p.useRef(null),I=p.useRef(new Map),O=p.useRef(null),B=p.useRef(""),re=p.useRef(0),le=p.useRef(null),te=p.useRef(e.length>0),he=p.useRef(null),[oe,ce]=p.useState(!0),ne=p.useRef(x),k=p.useRef(w),W=p.useRef(C),V=p.useRef(_);p.useEffect(()=>{ne.current=x},[x]),p.useEffect(()=>{k.current=w},[w]),p.useEffect(()=>{W.current=C},[C]),p.useEffect(()=>{V.current=_},[_]);const Y=()=>he.current?.();return p.useEffect(()=>{if(!M.current||!te.current)return;const me=M.current.timeScale();try{W.current&&me.unsubscribeVisibleTimeRangeChange(W.current)}catch{}W.current&&me.subscribeVisibleTimeRangeChange(W.current)},[C]),p.useEffect(()=>{if(!T.current)return;const me=`${n}-${u}`;if(B.current===me&&M.current||T.current.querySelector("canvas"))return;if(M.current){try{M.current.remove()}catch(q){console.warn("ChartComponent: Error removing chart:",q)}M.current=null}T.current.innerHTML="";const D=ZR(T.current,{layout:{background:{type:bf.Solid,color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#1e222d"},horzLines:{color:"#1e222d"}},crosshair:{mode:1,horzLine:{visible:!0,labelVisible:!0},vertLine:{visible:!0,style:0,width:1,color:"rgba(224, 227, 235, 0.1)",labelVisible:!0}},timeScale:{timeVisible:!0,secondsVisible:!1,rightOffset:5,minBarSpacing:3,fixLeftEdge:!1,fixRightEdge:!1},width:v||T.current.clientWidth,height:g||T.current.clientHeight||400});le.current=null,M.current=D;const R=D.addSeries(xG,{upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350",lastValueVisible:u,priceLineVisible:u});if(j.current=R,s){const q=D.addSeries(o0,{color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",lastValueVisible:!1,priceLineVisible:!1});P.current=q;const ae=100-c;D.priceScale("").applyOptions({scaleMargins:{top:ae/100,bottom:.05}})}ne.current?.(D.timeScale());const z=q=>{if(te.current&&!(!q||typeof q.from!="number"||typeof q.to!="number"))try{const ae=re.current-1,be=q.to>=ae;ce(be),V.current&&V.current(q)}catch{}};if(le.current=z,te.current&&D.timeScale().subscribeVisibleLogicalRangeChange(z),k.current&&D.subscribeCrosshairMove(k.current),S){const q=[R,...Array.from(I.current.values())];S(D,q)}const $=()=>{D.timeScale().applyOptions({rightOffset:5}),D.timeScale().fitContent()};he.current=$;const J=()=>$(),Q=T.current;return Q&&Q.addEventListener("dblclick",J),B.current=me,()=>{if(B.current="",he.current=null,Q&&Q.removeEventListener("dblclick",J),k.current&&D.unsubscribeCrosshairMove(k.current),W.current)try{D.timeScale().unsubscribeVisibleTimeRangeChange(W.current)}catch{}if(le.current)try{D.timeScale().unsubscribeVisibleLogicalRangeChange(le.current)}catch{}ne.current?.(null),D.remove(),T.current&&(T.current.innerHTML=""),M.current=null,j.current=null,P.current=null,O.current=null,I.current.clear()}},[n,u]),p.useEffect(()=>{if(!j.current)return;if(M.current){if(le.current)try{M.current.timeScale().unsubscribeVisibleLogicalRangeChange(le.current)}catch{}if(W.current)try{M.current.timeScale().unsubscribeVisibleTimeRangeChange(W.current)}catch{}te.current=!1}const me=performance.now();if(e.length>0){const z=e.map(Q=>({time:Math.floor(new Date(Q.timestamp).getTime()/1e3),open:Q.open,high:Q.high,low:Q.low,close:Q.close})).sort((Q,q)=>Q.time-q.time),$=z.filter((Q,q,ae)=>q>0&&Q.time===ae[q-1].time);$.length>0&&console.warn("ChartComponent: Found",$.length,"duplicate candles in input data");const J=z.filter((Q,q,ae)=>q===0||Q.time!==ae[q-1].time);re.current=J.length,j.current.setData(J),requestAnimationFrame(()=>{M.current&&(le.current&&M.current.timeScale().subscribeVisibleLogicalRangeChange(le.current),W.current&&M.current.timeScale().subscribeVisibleTimeRangeChange(W.current),te.current=!0)})}else j.current.setData([]),requestAnimationFrame(()=>{te.current=!0});const D=performance.now()-me;l0.record({id:crypto.randomUUID(),timestamp:new Date,category:"rendering",operation:"render_chart",duration_ms:D,context:{symbol:n,candle_count:e.length,overlay_count:t.length}})},[e,n,t]),p.useEffect(()=>{if(!(!P.current||!s))if(e.length>0){const R=e.map(z=>{const $=z.close>=z.open;return{time:Math.floor(new Date(z.timestamp).getTime()/1e3),value:z.volume||0,color:$?r:o}}).sort((z,$)=>z.time-$.time).filter((z,$,J)=>$===0||z.time!==J[$-1].time);P.current.setData(R)}else P.current.setData([])},[e,s,r,o]),p.useEffect(()=>{if(!j.current||!u||e.length===0)return;const me=e[e.length-1],R=me.close>=me.open?h:m;j.current.applyOptions({lastPriceColor:R})},[e,u,h,m]),p.useEffect(()=>{if(!M.current)return;const me=new Set(t.map(D=>D.id));I.current.forEach((D,R)=>{me.has(R)||(M.current.removeSeries(D),I.current.delete(R))}),t.forEach(D=>{let R=I.current.get(D.id);const z={color:D.color,lineWidth:D.lineWidth??2,lastValueVisible:D.showLastValue??!0,priceLineVisible:!1,visible:D.visible??!0};R?R.applyOptions(z):(R=M.current.addSeries(Vh,z),I.current.set(D.id,R)),R.setData(D.data)})},[t]),p.useEffect(()=>{M.current&&v&&g&&M.current.applyOptions({width:v,height:g})},[v,g]),f.jsxs("div",{className:"relative w-full h-full",children:[f.jsx("div",{ref:T,"data-testid":"chart-container",className:"w-full h-full"}),!oe&&f.jsx("div",{className:"absolute bottom-24 left-[90%] z-10 text-2xl pointer-events-none",children:f.jsx("button",{onClick:Y,className:"pointer-events-auto cursor-pointer bg-transparent hover:bg-transparent border-0 p-0",style:{color:"#d1d4dc"},title:"Return to latest",children:">>"})})]})};function CG(n,e="1d"){const t=new Date(n),s={weekday:"short",day:"numeric",month:"short",year:"2-digit"},r=t.toLocaleDateString("en-US",s).replace(",","");if(e!=="1d"&&e!=="1wk"&&e!=="1M"){const o={hour:"2-digit",minute:"2-digit",hour12:!1},c=t.toLocaleTimeString("en-US",o);return`${r} ${c}`}return r}function EG({candle:n,interval:e="1d",className:t=""}){return p.useMemo(()=>{const r=n?CG(n.timestamp,e):"";if(!n)return f.jsxs("div",{className:`flex gap-4 text-xs ${t}`,children:[f.jsx("span",{className:"text-slate-500 w-32",children:r||"---"}),f.jsx("span",{className:"text-slate-500",children:"O"}),f.jsx("span",{className:"text-slate-500",children:"H"}),f.jsx("span",{className:"text-slate-500",children:"L"}),f.jsx("span",{className:"text-slate-500",children:"C"}),f.jsx("span",{className:"text-slate-500",children:"V"})]});const c=n.close>=n.open?"text-[#26a69a]":"text-[#ef5350]";return f.jsxs("div",{className:`flex gap-4 text-xs ${t}`,children:[f.jsx("span",{className:"text-slate-300 w-32",children:r}),f.jsxs("span",{className:"text-slate-400",children:["O ",f.jsx("span",{className:"text-white ml-1",children:n.open.toFixed(2)})]}),f.jsxs("span",{className:"text-slate-400",children:["H ",f.jsx("span",{className:"text-white ml-1",children:n.high.toFixed(2)})]}),f.jsxs("span",{className:"text-slate-400",children:["L ",f.jsx("span",{className:"text-white ml-1",children:n.low.toFixed(2)})]}),f.jsxs("span",{className:"text-slate-400",children:["C ",f.jsx("span",{className:`${c} ml-1`,children:n.close.toFixed(2)})]}),f.jsxs("span",{className:"text-slate-400",children:["V ",f.jsx("span",{className:"text-white ml-1",children:n.volume.toLocaleString()})]})]})},[n,e,t])}function _G(n){if(n instanceof Date)return Math.floor(n.getTime()/1e3);if(typeof n=="string"){const t=Number(n);return isNaN(t)?Math.floor(new Date(n).getTime()/1e3):t>1e12?Math.floor(t/1e3):t}const e=Number(n);return isNaN(e)?0:e>1e12?Math.floor(e/1e3):e}function NG(n,e){return!n||!e||n.length===0?[]:e.map((r,o)=>{if(r==null)return null;const c=n[o];if(!c)return null;const u=_G(c);return isNaN(u)?null:{time:u,value:r}}).filter(r=>r!==null).sort((r,o)=>r.time-o.time).filter((r,o,c)=>o===0||r.time!==c[o-1].time)}function bv(n){return n.length===0?[]:[...n].filter(e=>e.value!==void 0&&e.value!==null&&!isNaN(e.value)).sort((e,t)=>e.time-t.time)}function TG(n){if(n.length===0)return{up:[],down:[],neutral:[]};const e=[],t=[],s=[];let r="neutral",o=[n[0]];for(let c=1;c<n.length;c++){const u=n[c-1],h=n[c];let m;h.value>u.value?m="up":h.value<u.value?m="down":m="neutral",c===1&&(r=m),m===r?o.push(h):(o.push(h),(r==="up"?e:r==="down"?t:s).push(...o),o=[h],r=m)}return o.length>0&&(r==="up"?e:r==="down"?t:s).push(...o),{up:bv(e),down:bv(t),neutral:bv(s)}}function MG(n,e,t){if(!n||!n.timestamps||!n.data)return[];let s=e;if(s||(s=["sma","ema","adxvma","value","close"].find(S=>n.data[S]),!s&&Object.keys(n.data).length>0&&(s=Object.keys(n.data)[0])),!s||!n.data[s])return console.warn("[formatIndicatorData] No valid data field found (tried: auto-detect)"),[];const r=n.data[s];if(!r||!Array.isArray(r))return[];const c=n.metadata?.series_metadata?.find(w=>w.role==="signal")?.field,u=c?n.data[c]:null,h=n.metadata?.color_schemes||{},m=t?.bullish||h.bullish||"#00FF00",v=t?.neutral||h.neutral||"#FFFF00",g=t?.bearish||h.bearish||"#ef5350",x=[];for(let w=0;w<n.timestamps.length;w++){const S=n.timestamps[w],C=r[w];if(C==null||typeof S!="number"||isNaN(S)||typeof C!="number"||isNaN(C))continue;let _;if(u&&u[w]!==null&&u[w]!==void 0){const N=u[w];N===1?_=m:N===0?_=v:N===-1&&(_=g)}x.push({time:S,value:C,color:_})}return x}function tA(n){const e=RG(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(jG);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function RG(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=OG(r),u=kG(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var AG=Symbol("radix.slottable");function jG(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===AG}function kG(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function OG(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var DG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nA=DG.reduce((n,e)=>{const t=tA(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),hm="Popover",[sA]=Ns(hm,[yl]),ju=yl(),[IG,ta]=sA(hm),iA=n=>{const{__scopePopover:e,children:t,open:s,defaultOpen:r,onOpenChange:o,modal:c=!1}=n,u=ju(e),h=p.useRef(null),[m,v]=p.useState(!1),[g,x]=Qr({prop:s,defaultProp:r??!1,onChange:o,caller:hm});return f.jsx($0,{...u,children:f.jsx(IG,{scope:e,contentId:Mn(),triggerRef:h,open:g,onOpenChange:x,onOpenToggle:p.useCallback(()=>x(w=>!w),[x]),hasCustomAnchor:m,onCustomAnchorAdd:p.useCallback(()=>v(!0),[]),onCustomAnchorRemove:p.useCallback(()=>v(!1),[]),modal:c,children:t})})};iA.displayName=hm;var rA="PopoverAnchor",LG=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=ta(rA,t),o=ju(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=r;return p.useEffect(()=>(c(),()=>u()),[c,u]),f.jsx(Lf,{...o,...s,ref:e})});LG.displayName=rA;var aA="PopoverTrigger",oA=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=ta(aA,t),o=ju(t),c=Lt(e,r.triggerRef),u=f.jsx(nA.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":hA(r.open),...s,ref:c,onClick:Ae(n.onClick,r.onOpenToggle)});return r.hasCustomAnchor?u:f.jsx(Lf,{asChild:!0,...o,children:u})});oA.displayName=aA;var Lb="PopoverPortal",[PG,zG]=sA(Lb,{forceMount:void 0}),lA=n=>{const{__scopePopover:e,forceMount:t,children:s,container:r}=n,o=ta(Lb,e);return f.jsx(PG,{scope:e,forceMount:t,children:f.jsx(Yn,{present:t||o.open,children:f.jsx(du,{asChild:!0,container:r,children:s})})})};lA.displayName=Lb;var fl="PopoverContent",cA=p.forwardRef((n,e)=>{const t=zG(fl,n.__scopePopover),{forceMount:s=t.forceMount,...r}=n,o=ta(fl,n.__scopePopover);return f.jsx(Yn,{present:s||o.open,children:o.modal?f.jsx(UG,{...r,ref:e}):f.jsx(BG,{...r,ref:e})})});cA.displayName=fl;var $G=tA("PopoverContent.RemoveScroll"),UG=p.forwardRef((n,e)=>{const t=ta(fl,n.__scopePopover),s=p.useRef(null),r=Lt(e,s),o=p.useRef(!1);return p.useEffect(()=>{const c=s.current;if(c)return V0(c)},[]),f.jsx(zf,{as:$G,allowPinchZoom:!0,children:f.jsx(uA,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(n.onCloseAutoFocus,c=>{c.preventDefault(),o.current||t.triggerRef.current?.focus()}),onPointerDownOutside:Ae(n.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,m=u.button===2||h;o.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:Ae(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),BG=p.forwardRef((n,e)=>{const t=ta(fl,n.__scopePopover),s=p.useRef(!1),r=p.useRef(!1);return f.jsx(uA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||t.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=o.target;t.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),uA=p.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:v,...g}=n,x=ta(fl,t),w=ju(t);return R0(),f.jsx(jf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:f.jsx(cu,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:v,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:m,onDismiss:()=>x.onOpenChange(!1),children:f.jsx(U0,{"data-state":hA(x.open),role:"dialog",id:x.contentId,...w,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dA="PopoverClose",VG=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=ta(dA,t);return f.jsx(nA.button,{type:"button",...s,ref:e,onClick:Ae(n.onClick,()=>r.onOpenChange(!1))})});VG.displayName=dA;var FG="PopoverArrow",HG=p.forwardRef((n,e)=>{const{__scopePopover:t,...s}=n,r=ju(t);return f.jsx(B0,{...r,...s,ref:e})});HG.displayName=FG;function hA(n){return n?"open":"closed"}var WG=iA,GG=oA,qG=lA,fA=cA;const YG=WG,KG=GG,mA=p.forwardRef(({className:n,align:e="center",sideOffset:t=4,...s},r)=>f.jsx(qG,{children:f.jsx(fA,{ref:r,align:e,sideOffset:t,className:Ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...s})}));mA.displayName=fA.displayName;function wh({icon:n,label:e,onClick:t,className:s}){return f.jsxs(RM,{children:[f.jsx(AM,{asChild:!0,children:f.jsx("button",{onClick:t,className:Ce("h-6 w-6 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",s),type:"button",children:f.jsx(n,{className:"h-3 w-3"})})}),f.jsx(gb,{children:e})]})}function XG({name:n,isVisible:e,onToggleVisibility:t,onRemove:s,onSettings:r,onAlert:o,moreActions:c,className:u,legendItems:h}){const m=e?V5:U5;return f.jsxs("div",{className:Ce("flex min-w-0 items-center gap-2 text-xs",u),children:[f.jsx("span",{className:"min-w-0 flex-1 truncate text-slate-300 font-medium",children:n}),h?.map(v=>f.jsx("span",{className:"pointer-events-none",style:{color:v.color},children:v.value.toFixed(2)},v.key)),f.jsxs("div",{className:"pointer-events-auto flex items-center gap-0.5 bg-slate-900/80 backdrop-blur-sm rounded px-1 opacity-0 transition-opacity duration-200 group-hover:opacity-100 group-focus-within:opacity-100 ml-auto",children:[f.jsx(wh,{icon:m,label:e?"Hide":"Show",onClick:t}),r&&f.jsx(wh,{icon:G_,label:"Settings",onClick:r}),o&&f.jsx(wh,{icon:il,label:"Alerts",onClick:o}),f.jsx(wh,{icon:lu,label:"Remove",onClick:s}),c&&c.length>0&&f.jsxs(YG,{children:[f.jsx(KG,{asChild:!0,children:f.jsx("button",{className:"h-6 w-6 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",children:f.jsx(P5,{className:"h-3 w-3"})})}),f.jsx(mA,{align:"start",className:"w-40 p-1",children:c.map(v=>f.jsx("button",{onClick:v.action,className:"w-full text-left px-2 py-1.5 text-sm text-slate-300 hover:bg-slate-700 rounded transition-colors",type:"button",children:v.label},v.label))})]})]})]})}function JG(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const QG=n=>{switch(n){case"success":return tq;case"info":return sq;case"warning":return nq;case"error":return iq;default:return null}},ZG=Array(12).fill(0),eq=({visible:n,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ve.createElement("div",{className:"sonner-spinner"},ZG.map((t,s)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),tq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),nq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),sq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),iq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rq=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aq=()=>{const[n,e]=ve.useState(document.hidden);return ve.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let c0=1;class oq{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...r}=e,o=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:c0++,c=this.toasts.find(h=>h.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:s}),{...h,...e,id:o,dismissible:u,title:s}):h):this.addToast({title:s,...r,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let o=s!==void 0,c;const u=r.then(async m=>{if(c=["resolve",m],ve.isValidElement(m))o=!1,this.create({id:s,type:"default",message:m});else if(cq(m)&&!m.ok){o=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,S=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(m instanceof Error){o=!1;const g=typeof t.error=="function"?await t.error(m):t.error,x=typeof t.description=="function"?await t.description(m):t.description,S=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(t.success!==void 0){o=!1;const g=typeof t.success=="function"?await t.success(m):t.success,x=typeof t.description=="function"?await t.description(m):t.description,S=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:x,...S})}}).catch(async m=>{if(c=["reject",m],t.error!==void 0){o=!1;const v=typeof t.error=="function"?await t.error(m):t.error,g=typeof t.description=="function"?await t.description(m):t.description,w=typeof v=="object"&&!ve.isValidElement(v)?v:{message:v};this.create({id:s,type:"error",description:g,...w})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),t.finally==null||t.finally.call(t)}),h=()=>new Promise((m,v)=>u.then(()=>c[0]==="reject"?v(c[1]):m(c[1])).catch(v));return typeof s!="string"&&typeof s!="number"?{unwrap:h}:Object.assign(s,{unwrap:h})},this.custom=(e,t)=>{const s=t?.id||c0++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hn=new oq,lq=(n,e)=>{const t=e?.id||c0++;return Hn.addToast({title:n,...e,id:t}),t},cq=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",uq=lq,dq=()=>Hn.toasts,hq=()=>Hn.getActiveToasts(),Fn=Object.assign(uq,{success:Hn.success,info:Hn.info,warning:Hn.warning,error:Hn.error,custom:Hn.custom,message:Hn.message,promise:Hn.promise,dismiss:Hn.dismiss,loading:Hn.loading},{getHistory:dq,getToasts:hq});JG("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Sh(n){return n.label!==void 0}const fq=3,mq="24px",pq="16px",jE=4e3,gq=356,vq=14,bq=45,yq=200;function ei(...n){return n.filter(Boolean).join(" ")}function xq(n){const[e,t]=n.split("-"),s=[];return e&&s.push(e),t&&s.push(t),s}const wq=n=>{var e,t,s,r,o,c,u,h,m;const{invert:v,toast:g,unstyled:x,interacting:w,setHeights:S,visibleToasts:C,heights:_,index:N,toasts:T,expanded:M,removeToast:j,defaultRichColors:P,closeButton:I,style:O,cancelButtonStyle:B,actionButtonStyle:re,className:le="",descriptionClassName:te="",duration:he,position:oe,gap:ce,expandByDefault:ne,classNames:k,icons:W,closeButtonAriaLabel:V="Close toast"}=n,[Y,me]=ve.useState(null),[D,R]=ve.useState(null),[z,$]=ve.useState(!1),[J,Q]=ve.useState(!1),[q,ae]=ve.useState(!1),[be,we]=ve.useState(!1),[Ve,He]=ve.useState(!1),[xt,ct]=ve.useState(0),[At,Le]=ve.useState(0),_t=ve.useRef(g.duration||he||jE),qt=ve.useRef(null),Ke=ve.useRef(null),pt=N===0,Qt=N+1<=C,ut=g.type,En=g.dismissible!==!1,Nt=g.className||"",Hs=g.descriptionClassName||"",un=ve.useMemo(()=>_.findIndex(Ee=>Ee.toastId===g.id)||0,[_,g.id]),rn=ve.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:I},[g.closeButton,I]),Ut=ve.useMemo(()=>g.duration||he||jE,[g.duration,he]),_n=ve.useRef(0),vn=ve.useRef(0),bn=ve.useRef(0),yn=ve.useRef(null),[us,Bt]=oe.split("-"),jt=ve.useMemo(()=>_.reduce((Ee,We,Oe)=>Oe>=un?Ee:Ee+We.height,0),[_,un]),kt=aq(),Zi=g.invert||v,it=ut==="loading";vn.current=ve.useMemo(()=>un*ce+jt,[un,jt]),ve.useEffect(()=>{_t.current=Ut},[Ut]),ve.useEffect(()=>{$(!0)},[]),ve.useEffect(()=>{const Ee=Ke.current;if(Ee){const We=Ee.getBoundingClientRect().height;return Le(We),S(Oe=>[{toastId:g.id,height:We,position:g.position},...Oe]),()=>S(Oe=>Oe.filter(Xe=>Xe.toastId!==g.id))}},[S,g.id]),ve.useLayoutEffect(()=>{if(!z)return;const Ee=Ke.current,We=Ee.style.height;Ee.style.height="auto";const Oe=Ee.getBoundingClientRect().height;Ee.style.height=We,Le(Oe),S(Xe=>Xe.find(rt=>rt.toastId===g.id)?Xe.map(rt=>rt.toastId===g.id?{...rt,height:Oe}:rt):[{toastId:g.id,height:Oe,position:g.position},...Xe])},[z,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const dn=ve.useCallback(()=>{Q(!0),ct(vn.current),S(Ee=>Ee.filter(We=>We.toastId!==g.id)),setTimeout(()=>{j(g)},yq)},[g,j,S,vn]);ve.useEffect(()=>{if(g.promise&&ut==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return M||w||kt?(()=>{if(bn.current<_n.current){const Xe=new Date().getTime()-_n.current;_t.current=_t.current-Xe}bn.current=new Date().getTime()})():_t.current!==1/0&&(_n.current=new Date().getTime(),Ee=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),dn()},_t.current)),()=>clearTimeout(Ee)},[M,w,g,ut,kt,dn]),ve.useEffect(()=>{g.delete&&(dn(),g.onDismiss==null||g.onDismiss.call(g,g))},[dn,g.delete]);function an(){var Ee;if(W?.loading){var We;return ve.createElement("div",{className:ei(k?.loader,g==null||(We=g.classNames)==null?void 0:We.loader,"sonner-loader"),"data-visible":ut==="loading"},W.loading)}return ve.createElement(eq,{className:ei(k?.loader,g==null||(Ee=g.classNames)==null?void 0:Ee.loader),visible:ut==="loading"})}const ds=g.icon||W?.[ut]||QG(ut);var Tt,wt;return ve.createElement("li",{tabIndex:0,ref:Ke,className:ei(le,Nt,k?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,k?.default,k?.[ut],g==null||(t=g.classNames)==null?void 0:t[ut]),"data-sonner-toast":"","data-rich-colors":(Tt=g.richColors)!=null?Tt:P,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":z,"data-promise":!!g.promise,"data-swiped":Ve,"data-removed":J,"data-visible":Qt,"data-y-position":us,"data-x-position":Bt,"data-index":N,"data-front":pt,"data-swiping":q,"data-dismissible":En,"data-type":ut,"data-invert":Zi,"data-swipe-out":be,"data-swipe-direction":D,"data-expanded":!!(M||ne&&z),"data-testid":g.testId,style:{"--index":N,"--toasts-before":N,"--z-index":T.length-N,"--offset":`${J?xt:vn.current}px`,"--initial-height":ne?"auto":`${At}px`,...O,...g.style},onDragEnd:()=>{ae(!1),me(null),yn.current=null},onPointerDown:Ee=>{Ee.button!==2&&(it||!En||(qt.current=new Date,ct(vn.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(ae(!0),yn.current={x:Ee.clientX,y:Ee.clientY})))},onPointerUp:()=>{var Ee,We,Oe;if(be||!En)return;yn.current=null;const Xe=Number(((Ee=Ke.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Mt=Number(((We=Ke.current)==null?void 0:We.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rt=new Date().getTime()-((Oe=qt.current)==null?void 0:Oe.getTime()),nt=Y==="x"?Xe:Mt,on=Math.abs(nt)/rt;if(Math.abs(nt)>=bq||on>.11){ct(vn.current),g.onDismiss==null||g.onDismiss.call(g,g),R(Y==="x"?Xe>0?"right":"left":Mt>0?"down":"up"),dn(),we(!0);return}else{var dt,ht;(dt=Ke.current)==null||dt.style.setProperty("--swipe-amount-x","0px"),(ht=Ke.current)==null||ht.style.setProperty("--swipe-amount-y","0px")}He(!1),ae(!1),me(null)},onPointerMove:Ee=>{var We,Oe,Xe;if(!yn.current||!En||((We=window.getSelection())==null?void 0:We.toString().length)>0)return;const rt=Ee.clientY-yn.current.y,nt=Ee.clientX-yn.current.x;var on;const dt=(on=n.swipeDirections)!=null?on:xq(oe);!Y&&(Math.abs(nt)>1||Math.abs(rt)>1)&&me(Math.abs(nt)>Math.abs(rt)?"x":"y");let ht={x:0,y:0};const On=Zt=>1/(1.5+Math.abs(Zt)/20);if(Y==="y"){if(dt.includes("top")||dt.includes("bottom"))if(dt.includes("top")&&rt<0||dt.includes("bottom")&&rt>0)ht.y=rt;else{const Zt=rt*On(rt);ht.y=Math.abs(Zt)<Math.abs(rt)?Zt:rt}}else if(Y==="x"&&(dt.includes("left")||dt.includes("right")))if(dt.includes("left")&&nt<0||dt.includes("right")&&nt>0)ht.x=nt;else{const Zt=nt*On(nt);ht.x=Math.abs(Zt)<Math.abs(nt)?Zt:nt}(Math.abs(ht.x)>0||Math.abs(ht.y)>0)&&He(!0),(Oe=Ke.current)==null||Oe.style.setProperty("--swipe-amount-x",`${ht.x}px`),(Xe=Ke.current)==null||Xe.style.setProperty("--swipe-amount-y",`${ht.y}px`)}},rn&&!g.jsx&&ut!=="loading"?ve.createElement("button",{"aria-label":V,"data-disabled":it,"data-close-button":!0,onClick:it||!En?()=>{}:()=>{dn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:ei(k?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(wt=W?.close)!=null?wt:rq):null,(ut||g.icon||g.promise)&&g.icon!==null&&(W?.[ut]!==null||g.icon)?ve.createElement("div",{"data-icon":"",className:ei(k?.icon,g==null||(r=g.classNames)==null?void 0:r.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||an():null,g.type!=="loading"?ds:null):null,ve.createElement("div",{"data-content":"",className:ei(k?.content,g==null||(o=g.classNames)==null?void 0:o.content)},ve.createElement("div",{"data-title":"",className:ei(k?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ve.createElement("div",{"data-description":"",className:ei(te,Hs,k?.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ve.isValidElement(g.cancel)?g.cancel:g.cancel&&Sh(g.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||B,onClick:Ee=>{Sh(g.cancel)&&En&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ee),dn())},className:ei(k?.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ve.isValidElement(g.action)?g.action:g.action&&Sh(g.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||re,onClick:Ee=>{Sh(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ee),!Ee.defaultPrevented&&dn())},className:ei(k?.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function kE(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Sq(n,e){const t={};return[n,e].forEach((s,r)=>{const o=r===1,c=o?"--mobile-offset":"--offset",u=o?pq:mq;function h(m){["top","right","bottom","left"].forEach(v=>{t[`${c}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?h(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?t[`${c}-${m}`]=u:t[`${c}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):h(u)}),t}const Cq=ve.forwardRef(function(e,t){const{id:s,invert:r,position:o="bottom-right",hotkey:c=["altKey","KeyT"],expand:u,closeButton:h,className:m,offset:v,mobileOffset:g,theme:x="light",richColors:w,duration:S,style:C,visibleToasts:_=fq,toastOptions:N,dir:T=kE(),gap:M=vq,icons:j,containerAriaLabel:P="Notifications"}=e,[I,O]=ve.useState([]),B=ve.useMemo(()=>s?I.filter(z=>z.toasterId===s):I.filter(z=>!z.toasterId),[I,s]),re=ve.useMemo(()=>Array.from(new Set([o].concat(B.filter(z=>z.position).map(z=>z.position)))),[B,o]),[le,te]=ve.useState([]),[he,oe]=ve.useState(!1),[ce,ne]=ve.useState(!1),[k,W]=ve.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=ve.useRef(null),Y=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),me=ve.useRef(null),D=ve.useRef(!1),R=ve.useCallback(z=>{O($=>{var J;return(J=$.find(Q=>Q.id===z.id))!=null&&J.delete||Hn.dismiss(z.id),$.filter(({id:Q})=>Q!==z.id)})},[]);return ve.useEffect(()=>Hn.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{O($=>$.map(J=>J.id===z.id?{...J,delete:!0}:J))});return}setTimeout(()=>{i_.flushSync(()=>{O($=>{const J=$.findIndex(Q=>Q.id===z.id);return J!==-1?[...$.slice(0,J),{...$[J],...z},...$.slice(J+1)]:[z,...$]})})})}),[I]),ve.useEffect(()=>{if(x!=="system"){W(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:$})=>{W($?"dark":"light")})}catch{z.addListener(({matches:J})=>{try{W(J?"dark":"light")}catch(Q){console.error(Q)}})}},[x]),ve.useEffect(()=>{I.length<=1&&oe(!1)},[I]),ve.useEffect(()=>{const z=$=>{var J;if(c.every(ae=>$[ae]||$.code===ae)){var q;oe(!0),(q=V.current)==null||q.focus()}$.code==="Escape"&&(document.activeElement===V.current||(J=V.current)!=null&&J.contains(document.activeElement))&&oe(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[c]),ve.useEffect(()=>{if(V.current)return()=>{me.current&&(me.current.focus({preventScroll:!0}),me.current=null,D.current=!1)}},[V.current]),ve.createElement("section",{ref:t,"aria-label":`${P} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},re.map((z,$)=>{var J;const[Q,q]=z.split("-");return B.length?ve.createElement("ol",{key:z,dir:T==="auto"?kE():T,tabIndex:-1,ref:V,className:m,"data-sonner-toaster":!0,"data-sonner-theme":k,"data-y-position":Q,"data-x-position":q,style:{"--front-toast-height":`${((J=le[0])==null?void 0:J.height)||0}px`,"--width":`${gq}px`,"--gap":`${M}px`,...C,...Sq(v,g)},onBlur:ae=>{D.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(D.current=!1,me.current&&(me.current.focus({preventScroll:!0}),me.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||D.current||(D.current=!0,me.current=ae.relatedTarget)},onMouseEnter:()=>oe(!0),onMouseMove:()=>oe(!0),onMouseLeave:()=>{ce||oe(!1)},onDragEnd:()=>oe(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},B.filter(ae=>!ae.position&&$===0||ae.position===z).map((ae,be)=>{var we,Ve;return ve.createElement(wq,{key:ae.id,icons:j,index:be,toast:ae,defaultRichColors:w,duration:(we=N?.duration)!=null?we:S,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:r,visibleToasts:_,closeButton:(Ve=N?.closeButton)!=null?Ve:h,interacting:ce,position:z,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:R,toasts:B.filter(He=>He.position==ae.position),heights:le.filter(He=>He.position==ae.position),setHeights:te,expandByDefault:u,gap:M,expanded:he,swipeDirections:e.swipeDirections})})):null}))});function Eq(n){const e=_q(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(Tq);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function _q(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=Rq(r),u=Mq(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Nq=Symbol("radix.slottable");function Tq(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Nq}function Mq(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function Rq(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Aq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pA=Aq.reduce((n,e)=>{const t=Eq(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),fm="Switch",[jq]=Ns(fm),[kq,Oq]=jq(fm),gA=p.forwardRef((n,e)=>{const{__scopeSwitch:t,name:s,checked:r,defaultChecked:o,required:c,disabled:u,value:h="on",onCheckedChange:m,form:v,...g}=n,[x,w]=p.useState(null),S=Lt(e,M=>w(M)),C=p.useRef(!1),_=x?v||!!x.closest("form"):!0,[N,T]=Qr({prop:r,defaultProp:o??!1,onChange:m,caller:fm});return f.jsxs(kq,{scope:t,checked:N,disabled:u,children:[f.jsx(pA.button,{type:"button",role:"switch","aria-checked":N,"aria-required":c,"data-state":xA(N),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:S,onClick:Ae(n.onClick,M=>{T(j=>!j),_&&(C.current=M.isPropagationStopped(),C.current||M.stopPropagation())})}),_&&f.jsx(yA,{control:x,bubbles:!C.current,name:s,value:h,checked:N,required:c,disabled:u,form:v,style:{transform:"translateX(-100%)"}})]})});gA.displayName=fm;var vA="SwitchThumb",bA=p.forwardRef((n,e)=>{const{__scopeSwitch:t,...s}=n,r=Oq(vA,t);return f.jsx(pA.span,{"data-state":xA(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});bA.displayName=vA;var Dq="SwitchBubbleInput",yA=p.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:s=!0,...r},o)=>{const c=p.useRef(null),u=Lt(c,o),h=cM(t),m=L0(e);return p.useEffect(()=>{const v=c.current;if(!v)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==t&&w){const S=new Event("click",{bubbles:s});w.call(v,t),v.dispatchEvent(S)}},[h,t,s]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...r,tabIndex:-1,ref:u,style:{...r.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yA.displayName=Dq;function xA(n){return n?"checked":"unchecked"}var Pb=gA,wA=bA;function OE(...n){return _0(Mf(n))}const Fh=ve.forwardRef(({className:n,...e},t)=>f.jsx(Pb,{className:OE("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-blue-600 data-[state=unchecked]:bg-slate-700",n),...e,ref:t,children:f.jsx(wA,{className:OE("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fh.displayName=Pb.displayName;var Iq="Label",SA=p.forwardRef((n,e)=>f.jsx(hi.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));SA.displayName=Iq;var CA=SA;function Lq(...n){return _0(Mf(n))}const ni=ve.forwardRef(({className:n,...e},t)=>f.jsx(CA,{ref:t,className:Lq("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...e}));ni.displayName=CA.displayName;function EA({open:n,onClose:e,onAlertCreated:t,symbol:s,interval:r,indicator:o,existingAlert:c,className:u}){const[h,m]=p.useState("settings"),[v,g]=p.useState([]),[x,w]=p.useState(!1),[S,C]=p.useState(null),[_,N]=p.useState({}),[T,M]=p.useState(1),[j,P]=p.useState("once_per_bar_close"),[I,O]=p.useState(!1),[B,re]=p.useState(null),[le,te]=p.useState(null),[he,oe]=p.useState(null),[ce,ne]=p.useState("bell"),[k,W]=p.useState(null);if(p.useEffect(()=>{n&&o.name&&(w(!0),C(null),kR(o.name).then(R=>{g(R.conditions);const z={};R.conditions.forEach($=>{const J=c?.enabled_conditions?.[$.condition_type]??!0,Q=c?.messages?.[$.condition_type];z[$.condition_type]={enabled:J,message:Q||V($.condition_type,$.label),threshold:0}}),N(z),c?.cooldown!==void 0&&M(c.cooldown),c?.trigger_mode&&P(c.trigger_mode)}).catch(R=>{console.error("Failed to fetch indicator conditions:",R),C(R instanceof Error?R.message:"Failed to load alert conditions")}).finally(()=>{w(!1)}))},[n,o.name,c]),p.useEffect(()=>{n&&!c&&(M(1),P("once_per_bar_close"),re(null),m("settings"))},[n,o,c]),!n)return null;function V(R,z){const $=z.toLowerCase();return $.includes("upper")||$.includes("above")||$.includes("positive")||$.includes("bullish")?"It's time to sell!":$.includes("lower")||$.includes("below")||$.includes("negative")||$.includes("bearish")?"It's time to buy!":`Alert: ${z}`}const Y=()=>{const R=Object.values(_).filter(z=>z.enabled);if(R.length===0)return re("At least one condition must be enabled"),!1;for(const z of R)if(!z.message.trim())return re("All enabled conditions must have a message"),!1;return T<1?(re("Cooldown must be at least 1 minute"),!1):T>1440?(re("Cooldown cannot exceed 24 hours (1440 minutes)"),!1):!0},me=async()=>{if(Y()){if(x||v.length===0){re("Alert conditions are still loading. Please try again.");return}O(!0),re(null);try{const R={},z={};for(const[we,Ve]of Object.entries(_))Ve.enabled&&(R[we]=!0,z[we]=Ve.message.trim());let $="indicator_above_upper";const J=Object.keys(R),Q=J.some(we=>we.includes("upper")),q=J.some(we=>we.includes("lower"));Q&&q?$="crsi_band_extremes":q?$="indicator_below_lower":$="indicator_above_upper";const ae={symbol:s,interval:r,indicator_name:o.name,indicator_field:o.field,indicator_params:o.params,enabled_conditions:R,messages:z,cooldown:T,trigger_mode:j,condition:$,threshold:0,is_active:!0};let be;c?(be=await RR(c.id,{enabled_conditions:R,messages:z,cooldown:T,trigger_mode:j}),Fn.success("Alert updated successfully")):(be=await MR(ae),Fn.success("Alert created successfully")),(le!==null||he!==null||k!==null)&&await Rb(String(be.id),{toastEnabled:le,soundEnabled:he,soundType:ce,telegramEnabled:k}),t?.(be),e()}catch(R){console.error("Failed to save alert:",R);let z=R instanceof Error?R.message:"Failed to save alert";R.response?.data?.detail&&(z=typeof R.response.data.detail=="string"?R.response.data.detail:JSON.stringify(R.response.data.detail)),re(z),Fn.error(z)}finally{O(!1)}}},D=(R,z)=>{N($=>({...$,[R]:{...$[R],...z}}))};return p.useEffect(()=>{const R=z=>{z.key==="Escape"&&!I&&e()};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,I]),x?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:f.jsx("div",{className:Ce("w-full max-w-lg rounded-lg border border-slate-700 bg-slate-800 shadow-xl p-8",u),onClick:R=>R.stopPropagation(),children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx(qo,{className:"h-8 w-8 animate-spin text-blue-500"}),f.jsx("p",{className:"text-sm text-slate-300",children:"Loading alert conditions..."})]})})}):S?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:f.jsxs("div",{className:Ce("w-full max-w-lg rounded-lg border border-slate-700 bg-slate-800 shadow-xl p-6",u),onClick:R=>R.stopPropagation(),children:[f.jsxs("div",{className:"rounded border border-red-500/50 bg-red-500/10 px-4 py-3 text-sm text-red-400",children:[f.jsx("p",{className:"font-semibold",children:"Failed to load alert conditions"}),f.jsx("p",{className:"mt-1",children:S})]}),f.jsx("div",{className:"mt-4 flex justify-end",children:f.jsx("button",{onClick:e,className:"rounded border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 transition-colors hover:bg-slate-700",children:"Close"})})]})}):f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:e,children:f.jsxs("div",{className:Ce("w-full max-w-lg rounded-lg border border-slate-700 bg-slate-800 shadow-xl",u),onClick:R=>R.stopPropagation(),children:[f.jsxs("div",{className:"flex items-center justify-between border-b border-slate-700 p-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-white",children:c?"Edit Alert":`Create Alert on ${o.displayName}`}),f.jsx("button",{onClick:e,disabled:I,className:"rounded p-1 text-slate-400 transition-colors hover:bg-slate-700 hover:text-white disabled:opacity-50",children:f.jsx(q_,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"flex border-b border-slate-700",children:[f.jsx("button",{onClick:()=>m("settings"),className:Ce("flex-1 px-4 py-2 text-sm font-medium transition-colors",h==="settings"?"border-b-2 border-blue-500 text-white":"text-slate-400 hover:text-white"),children:"Settings"}),f.jsx("button",{onClick:()=>m("message"),className:Ce("flex-1 px-4 py-2 text-sm font-medium transition-colors",h==="message"?"border-b-2 border-blue-500 text-white":"text-slate-400 hover:text-white"),children:"Message"}),f.jsx("button",{onClick:()=>m("notifications"),className:Ce("flex-1 px-4 py-2 text-sm font-medium transition-colors",h==="notifications"?"border-b-2 border-blue-500 text-white":"text-slate-400 hover:text-white"),children:"Notifications"})]}),f.jsxs("div",{className:"p-4",children:[h==="settings"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Trigger Conditions"}),f.jsx("div",{className:"space-y-2",children:v.map(R=>{const z=_[R.condition_type];return z?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[f.jsx("input",{type:"checkbox",checked:z.enabled,onChange:$=>D(R.condition_type,{enabled:$.target.checked}),className:"h-4 w-4 rounded border-slate-600 bg-slate-700 text-blue-500 focus:ring-blue-500"}),f.jsx("span",{children:R.label})]}),f.jsx("p",{className:"ml-6 text-xs text-slate-400",children:R.description}),R.requires_threshold&&z.enabled&&f.jsxs("div",{className:"ml-6 mt-1",children:[f.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Threshold value:"}),f.jsx("input",{type:"number",step:"0.01",value:z.threshold??0,onChange:$=>D(R.condition_type,{threshold:parseFloat($.target.value)||0}),className:"w-32 rounded border border-slate-600 bg-slate-700 px-2 py-1 text-sm text-white focus:border-blue-500 focus:outline-none"})]})]},R.condition_type):null})})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"cooldown",className:"block text-sm font-medium text-slate-300 mb-2",children:"Cooldown (minutes)"}),f.jsx("input",{id:"cooldown",type:"number",min:"1",max:"1440",value:T,onChange:R=>M(parseInt(R.target.value)||1),className:"w-full rounded border border-slate-600 bg-slate-700 px-3 py-2 text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"1"}),f.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Minimum 1 minute. Alert will not trigger again during this period after firing."})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"triggerMode",className:"block text-sm font-medium text-slate-300 mb-2",children:"Trigger Mode"}),f.jsxs("select",{id:"triggerMode",value:j,onChange:R=>P(R.target.value),className:"w-full rounded border border-slate-600 bg-slate-700 px-3 py-2 text-white focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[f.jsx("option",{value:"once",children:"Once (fire once and disable)"}),f.jsx("option",{value:"once_per_bar",children:"Once per bar update"}),f.jsx("option",{value:"once_per_bar_close",children:"Once per bar close"})]}),f.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:[j==="once"&&"Alert will fire once and then be automatically disabled",j==="once_per_bar"&&"Alert will fire at most once per bar update",j==="once_per_bar_close"&&"Alert will fire at most once per bar close (respects bar timestamps)"]})]})]}),h==="message"&&f.jsx("div",{className:"space-y-4",children:v.map(R=>{const z=_[R.condition_type];return z?f.jsxs("div",{children:[f.jsxs("label",{htmlFor:`msg-${R.condition_type}`,className:"block text-sm font-medium text-slate-300 mb-2",children:[R.label," Message"]}),f.jsx("input",{id:`msg-${R.condition_type}`,type:"text",value:z.message,onChange:$=>D(R.condition_type,{message:$.target.value}),disabled:!z.enabled,className:Ce("w-full rounded border bg-slate-700 px-3 py-2 text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",!z.enabled&&"opacity-50"),placeholder:V(R.condition_type,R.label)}),f.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Message shown when: ",R.description]})]},R.condition_type):null})}),h==="notifications"&&f.jsxs("div",{className:"space-y-4 p-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:'Configure how you want to be notified when this alert triggers. Leave as "Use global" to inherit your default notification preferences.'}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(ni,{htmlFor:"notif-toast",className:"text-white",children:"Toast Notification"}),f.jsx(Fh,{id:"notif-toast",checked:le??!0,onCheckedChange:R=>te(R?!0:null)})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(ni,{htmlFor:"notif-sound",className:"text-white",children:"Sound Notification"}),f.jsx(Fh,{id:"notif-sound",checked:he??!1,onCheckedChange:R=>oe(R?!0:null)})]}),he&&f.jsx("div",{className:"grid grid-cols-3 gap-2",children:["bell","alert","chime"].map(R=>f.jsx("button",{type:"button",onClick:()=>ne(R),className:`p-2 rounded text-sm border ${ce===R?"border-[#26a69a] bg-[#26a69a]/20 text-white":"border-slate-600 text-slate-400 hover:border-slate-500"}`,children:R.charAt(0).toUpperCase()+R.slice(1)},R))}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(ni,{htmlFor:"notif-telegram",className:"text-white",children:"Telegram"}),f.jsx(Fh,{id:"notif-telegram",checked:k??!1,onCheckedChange:R=>W(R?!0:null)})]}),f.jsx("p",{className:"text-xs text-slate-500",children:'Set to "Use global" (default) to inherit settings from your notification preferences. Override by changing individual settings above.'})]}),B&&f.jsx("div",{className:"mt-4 rounded border border-red-500/50 bg-red-500/10 px-3 py-2 text-sm text-red-400",children:B})]}),f.jsxs("div",{className:"flex justify-end gap-2 border-t border-slate-700 p-4",children:[f.jsx("button",{onClick:e,disabled:I,className:"rounded border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 transition-colors hover:bg-slate-700 disabled:opacity-50",children:"Cancel"}),f.jsx("button",{onClick:me,disabled:I||x||v.length===0,className:"rounded bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700 disabled:opacity-50",children:I?"Saving...":x?"Loading...":"Save"})]})]})})}const Pq=({name:n,symbol:e,interval:t,mainSeries:s,additionalSeries:r=[],candles:o=[],priceLines:c=[],height:u,width:h,scaleRanges:m,visible:v=!0,onTimeScaleInit:g,onChartInit:x,indicatorData:w,crosshairTime:S,showLastValue:C=!0,displayName:_,indicatorId:N,style:T,onSettingsClick:M,onViewSource:j,onAlertCreated:P,onRemove:I,params:O,alerts:B=[]})=>{const[re,le]=p.useState(v),[te,he]=p.useState(!1),oe=p.useMemo(()=>{if(!w)return{mainSeries:void 0,additionalSeries:[],priceLines:[]};const{data:Q,metadata:q}=w,ae=q.series_metadata[0];if(!ae)return{mainSeries:void 0,additionalSeries:[],priceLines:[]};const be=Q[ae.field];if(!be)return{mainSeries:void 0,additionalSeries:[],priceLines:[]};const we=w.timestamps.map((Le,_t)=>{const qt=be[_t];return qt==null?null:{time:Le,value:qt}}).filter(Le=>Le!==null);let Ve,He=[];if(q.color_mode==="threshold"){const Le=q.series_metadata.find(Nt=>Nt.role==="signal"),_t=Le?Q[Le.field]:null,qt=q.color_schemes?.bullish||"#26a69a",Ke=q.color_schemes?.bearish||"#ef5350",pt=q.color_schemes?.neutral||"#787b86",Qt=q.thresholds?.upper??q.thresholds?.high??70,ut=q.thresholds?.lower??q.thresholds?.low??30;Ve={data:w.timestamps.map((Nt,Hs)=>{const un=be[Hs];if(un==null)return null;const rn=_t?_t[Hs]:null,Ut=rn===1?qt:rn===0?pt:rn===-1?Ke:un>Qt?qt:un<ut?Ke:pt;return{time:Nt,value:un,color:Ut}}).filter(Nt=>Nt!==null),color:pt,displayType:"line",lineWidth:ae.line_width,visible:!0},He=[]}else if(q.color_mode==="trend"){const Le=TG(we),_t={up:q.color_schemes.bullish||"#2962ff",neutral:q.color_schemes.neutral||"#9e9e9e",down:q.color_schemes.bearish||"#ef5350"};Ve={data:Le.up,color:_t.up,displayType:"line",lineWidth:ae.line_width,visible:!0},Le.neutral.length>0&&He.push({id:`${ae.field}_neutral`,data:Le.neutral,color:_t.neutral,displayType:"line",lineWidth:ae.line_width,visible:!0}),Le.down.length>0&&He.push({id:`${ae.field}_down`,data:Le.down,color:_t.down,displayType:"line",lineWidth:ae.line_width,visible:!0})}else Ve={data:we,color:ae.line_color,displayType:"line",lineWidth:ae.line_width,visible:!0,field:ae.field};const xt=q.series_metadata.slice(1).filter(Le=>Le.role==="signal"?q.color_mode==="single":!0).map(Le=>{const _t=Q[Le.field];if(!_t)return null;const qt=w.timestamps.map((pt,Qt)=>{const ut=_t[Qt];return ut==null?null:{time:pt,value:ut}}).filter(pt=>pt!==null);let Ke="line";return Le.display_type==="histogram"&&(Ke="histogram"),{id:Le.field,data:qt,color:Le.line_color,displayType:Ke,lineWidth:Le.line_width,visible:!0,field:Le.field}}).filter(Le=>Le!==null),ct=[...He,...xt],At=(q.reference_levels||[]).map(Le=>({value:Le.value,color:Le.line_color,label:Le.line_label||`${Le.value}`,lineStyle:Le.line_style||"solid"}));if(At.length===0&&q.thresholds){const Le=q.thresholds.high??70,_t=q.thresholds.low??30;At.push({value:Le,color:"#ef5350",label:"",lineStyle:"dashed"},{value:_t,color:"#26a69a",label:"",lineStyle:"dashed"})}return{mainSeries:Ve,additionalSeries:ct,priceLines:At}},[w]),ce=p.useMemo(()=>{if(!w||w.timestamps.length===0)return null;const{timestamps:Q,data:q,metadata:ae}=w,be=Q.length-1,we=S??Q[be];let Ve=Q.indexOf(we);return Ve===-1&&(Ve=be),{items:ae.series_metadata.filter(xt=>xt.role!=="signal").map(xt=>{const ct=q[xt.field]?.[Ve];if(ct==null)return null;let At=xt.line_color;return T&&(xt.role==="main"?At=T.color||At:At=T.seriesColors?.[xt.field]||At),{key:xt.field,color:At,value:Number(ct)}}).filter(Boolean)}},[w,S,T]),ne=oe.mainSeries??s,k=oe.additionalSeries.length>0?oe.additionalSeries:r,W=oe.priceLines.length>0?oe.priceLines:c,V=p.useRef(null),Y=p.useRef(null),me=p.useRef(null),D=p.useRef(null),R=p.useRef(new Map),z=p.useRef([]),$=p.useMemo(()=>{if(!w)return null;const Q=w.metadata,q=n.toLowerCase(),ae=Q.series_metadata.find(be=>be.role==="main")||Q.series_metadata[0];return{name:q,field:ae?.field||n,params:O||{},displayName:_||n}},[w,n,_,O]),J=p.useMemo(()=>!B||B.length===0?null:B.find(Q=>{const q=JSON.stringify(Q.indicator_params||{})===JSON.stringify(O||{});return Q.indicator_name===n&&q}),[B,n,O]);return p.useEffect(()=>{if(!V.current)return;const Q=ZR(V.current,{layout:{background:{type:bf.Solid,color:"#131722"},textColor:"#d1d4dc"},grid:{vertLines:{color:"#1e222d"},horzLines:{color:"#1e222d"}},crosshair:{mode:0,horzLine:{visible:!1,labelVisible:!1},vertLine:{visible:!1,labelVisible:!1}},width:h||V.current.clientWidth,height:u||V.current.clientHeight||100,timeScale:{visible:!1,shiftVisibleRangeOnNewBar:!1},handleScroll:!1,handleScale:!1});Y.current=Q;const q=Q.addSeries(Vh,{visible:!1,lastValueVisible:!1,priceLineVisible:!1});return D.current=q,g&&g(Q.timeScale()),D.current=q,x?.(Q,q),()=>{g&&g(null),Q.remove(),Y.current=null,me.current=null,D.current=null,R.current.clear(),z.current=[]}},[n,e,t]),p.useEffect(()=>{if(!D.current||o.length===0)return;const q=o.map(ae=>({time:Math.floor(new Date(ae.timestamp).getTime()/1e3),value:0})).sort((ae,be)=>ae.time-be.time).filter((ae,be,we)=>be===0||ae.time!==we[be-1].time);D.current.setData(q)},[o]),p.useEffect(()=>{if(!Y.current)return;if(ne){const ae=ne.displayType==="line"?Vh:o0,be=ne.field||"",we=T?.seriesColors?.[be]||T?.color||ne.color;!me.current||me.current.seriesType()!==(ne.displayType==="line"?"Line":"Histogram")?(me.current&&Y.current.removeSeries(me.current),me.current=Y.current.addSeries(ae,{color:we,lineWidth:T?.lineWidth??ne.lineWidth??2,visible:ne.visible??!0,lastValueVisible:T?.showLastValue??C,priceLineVisible:!1})):me.current.applyOptions({color:we,lineWidth:T?.lineWidth??ne.lineWidth??2,visible:ne.visible??!0,lastValueVisible:T?.showLastValue??C,priceLineVisible:!1}),me.current.setData(ne.data)}else me.current&&(Y.current.removeSeries(me.current),me.current=null);const Q=new Set(k.map(ae=>ae.id));R.current.forEach((ae,be)=>{Q.has(be)||(Y.current.removeSeries(ae),R.current.delete(be))}),k.forEach(ae=>{const be=ae.id;let we=R.current.get(be);const Ve=T?.seriesColors?.[ae.field||""]||ae.color;we?we.applyOptions({color:Ve,lineWidth:ae.lineWidth??1,visible:ae.visible??!0,lastValueVisible:C,priceLineVisible:!1}):(we=Y.current.addSeries(ae.displayType==="line"?Vh:o0,{color:Ve,lineWidth:ae.lineWidth??1,visible:ae.visible??!0,lastValueVisible:C,priceLineVisible:!1}),R.current.set(be,we)),we.setData(ae.data)});const q=me.current||(R.current.size>0?R.current.values().next().value:null);q&&(z.current.forEach(ae=>{try{q.removePriceLine(ae)}catch{}}),z.current=[],W.forEach(ae=>{const be=ae.lineStyle==="dashed"?2:ae.lineStyle==="dotted"?3:ae.lineStyle==="dashdot"?4:0,we=q.createPriceLine({price:ae.value,color:ae.color,lineWidth:1,lineStyle:be,axisLabelVisible:!1,title:""});z.current.push(we)}))},[ne,k,W,C,T]),p.useEffect(()=>{Y.current&&(Y.current.priceScale("right").applyOptions({autoScale:!0,scaleMargins:{top:.1,bottom:.1}}),m&&Y.current.priceScale("right").applyOptions({autoScale:!1,visiblePriceRange:{from:m.min,to:m.max}}))},[m]),p.useEffect(()=>{if(Y.current){const Q={};h&&(Q.width=h),u&&(Q.height=u),Y.current.applyOptions(Q)}},[h,u]),re?f.jsxs("div",{className:"relative w-full h-full",children:[f.jsx("div",{ref:V,"data-testid":`indicator-pane-${n}`,className:"w-full h-full"}),f.jsx("div",{className:"group absolute left-2 right-2 top-1 z-10 flex items-center gap-2 text-xs overflow-visible",children:f.jsx(XG,{name:_||n,isVisible:re,onToggleVisibility:()=>le(!re),onRemove:I||(()=>{}),onSettings:M,onAlert:()=>he(!0),moreActions:[...j?[{label:"View Source",action:j}]:[],...J?[{label:"Edit alert on "+(_||n)+"...",action:()=>he(!0)}]:[]],legendItems:ce?.items})}),te&&$&&f.jsx(EA,{open:te,onClose:()=>he(!1),onAlertCreated:()=>{P?.(),he(!1)},symbol:e,interval:t,indicator:$,existingAlert:J})]}):null},_A="trading_alert_layouts",NA="trading_alert_alerts",u0=n=>{localStorage.setItem(_A,JSON.stringify(n))},TA=()=>{const n=localStorage.getItem(_A);if(!n)return[];try{return JSON.parse(n)}catch(e){return console.error("Failed to parse layouts from localStorage",e),[]}},MA=n=>{localStorage.setItem(NA,JSON.stringify(n))},RA=()=>{const n=localStorage.getItem(NA);if(!n)return[{id:"1",symbol:"IBM",condition:"price_above",threshold:150,status:"active",createdAt:new Date().toISOString()}];try{return JSON.parse(n)}catch(e){return console.error("Failed to parse alerts from localStorage",e),[{id:"1",symbol:"IBM",condition:"price_above",threshold:150,status:"active",createdAt:new Date().toISOString()}]}},zq=Object.freeze(Object.defineProperty({__proto__:null,loadAlerts:RA,loadLayouts:TA,saveAlerts:MA,saveLayouts:u0},Symbol.toStringTag,{value:"Module"}));function zb(n){if(!n)return null;const e=n.trim();return e.length>0?e:null}function $q(n){return zb(n)!==null}const Vc=async(n,e="1d",t,s)=>{const r=zb(n);if(!r)throw new Error("Symbol is required for candles API calls");const o={interval:e};return t&&(o.from=t),s&&(o.to=s),(await(await Rs()).get(`/candles/${r}`,{params:o})).data},$b=async()=>(await(await Rs()).get("/indicators/supported")).data;function AA(n,e){const t={rsi:{length:{min:2,max:200}},atr:{length:{min:2,max:200}},sma:{length:{min:2,max:500}},ema:{length:{min:2,max:500}},crsi:{period:{min:2,max:200}},macd:{fast:{min:2,max:100},slow:{min:2,max:200},signal:{min:2,max:50}},bbands:{length:{min:2,max:200},std:{min:.1,max:5}}},s={...e},r=t[n.toLowerCase()];if(r)for(const[o,c]of Object.entries(s)){const u=r[o];u&&typeof c=="number"&&(c<u.min?(console.warn(`Clamping ${n}.${o} from ${c} to min ${u.min}`),s[o]=u.min):c>u.max&&(console.warn(`Clamping ${n}.${o} from ${c} to max ${u.max}`),s[o]=u.max))}return s}const Uq=async(n,e,t="1d",s,r,o,c)=>{const u=zb(n);if(!u)throw new Error("Symbol is required for indicator API calls");const h=s?AA(e,s):void 0,m={interval:t};return h&&Object.entries(h).forEach(([x,w])=>{let S=x;x==="period"&&(S="length"),S==="dom_cycle"?m.dom_cycle=w:S==="cyclic_memory"?m.cyclic_memory=w:m[S]=w}),o&&(m.from=o),c&&(m.to=c),(await(await Rs()).get(`/indicators/${u}/${e}`,{params:m})).data},Bq=async n=>{const e=await Rs(),t=n.map(r=>{const o=r.params?AA(r.indicator_name,r.params):void 0;return{symbol:r.symbol,interval:r.interval,indicator_name:r.indicator_name,params:o,from_ts:r.from_ts,to_ts:r.to_ts}});return(await e.post("/indicators/batch",{requests:t})).data},Vq={crsi:["length"],tdfi:["length","upper","lower"],adxvma:["length"],ema:["length"],sma:["length"]};function Fq(n,e){const t=n.toUpperCase();if(!e)return t;const r=(Vq[n.toLowerCase()]??Object.keys(e).sort()).map(o=>e[o]).filter(o=>o!=null).map(o=>String(o));return r.length?`${t} (${r.join(", ")})`:t}const sl={color:"#2962ff",lineWidth:2,showLastValue:!0},jA={sma:"#ff6d00",ema:"#2962ff",tdfi:"#9e9e9e",adxvma:"#ff6d00",crsi:"#00bcd4"},kA="tradingalert_indicators_global";function Hq(n){const e=n.match(/^([a-zA-Z_]+)_(\d+(\.\d+)?)$/);if(e){const t=e[1];if(["sma","ema","dema","tema","wma","hma","vwma","kama","mama","rsi","cci","adx","aroon","mfi","willr","cmo","mom","roc","atr","stoch","stochrsi","macd","bbands","kc","donchian","uo","tsi","pgo","apo","ppo","ao","obv","fi","eri"].includes(t))return console.log(`[useIndicators] Migrating indicator name: '${n}' -> '${t}'`),t}return n}function Wq(){try{const n=localStorage.getItem(kA);if(n){const e=JSON.parse(n);let t=!1;const s=e.indicators.map(r=>{const o=r.indicatorType.name,c=Hq(o);return c!==o?(t=!0,{...r,indicatorType:{...r.indicatorType,name:c}}):r});return t&&(e.indicators=s,d0(e)),e}}catch(n){console.error("Failed to load indicators from localStorage:",n)}return{indicators:[],activeIndicatorId:null}}function d0(n){try{localStorage.setItem(kA,JSON.stringify(n))}catch(e){console.error("Failed to save indicators to localStorage:",e)}}function Gq(){return`indicator-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function DE(n){return Fq(n.name,n.params)}function qq(){const[n,e]=p.useState([]),[t,s]=p.useState(null),[r,o]=p.useState(!1),[c,u]=p.useState(null),h=p.useCallback(async()=>{if(c)return c;try{const _=await $b(),N=new Map;return _.forEach(T=>{N.set(T.name,T)}),u(N),N}catch(_){return console.error("Error fetching indicator metadata:",_),new Map}},[c]),m=p.useCallback(()=>{const _=Wq();_.indicators.filter(T=>!T.indicatorType.category||T.indicatorType.category!=="overlay"&&T.indicatorType.category!=="oscillator").length>0?h().then(T=>{const M=_.indicators.map(P=>{if(!P.indicatorType.category||P.indicatorType.category!=="overlay"&&P.indicatorType.category!=="oscillator"){const I=T.get(P.indicatorType.name);if(I&&I.category)return{...P,indicatorType:{...P.indicatorType,category:I.category}}}return P}),j={..._,indicators:M};d0(j),e(M),s(_.activeIndicatorId),o(!0)}).catch(T=>{console.error("Error updating indicator categories:",T),e(_.indicators),s(_.activeIndicatorId),o(!0)}):(e(_.indicators),s(_.activeIndicatorId),o(!0))},[h]);p.useEffect(()=>{m()},[m]);const v=p.useCallback((_,N)=>{d0({indicators:_,activeIndicatorId:N})},[]),g=p.useCallback(_=>{const N=jA?.[_.name.toLowerCase()]||sl.color,T={...sl,color:N},M={id:Gq(),indicatorType:_,name:DE(_),displaySettings:{visible:!0,height:25,position:n.length+1},focusState:"active",style:T},j=[...n,M];return e(j),v(j,t),M.id},[n,t,v]),x=p.useCallback(_=>{const N=n.filter(M=>M.id!==_),T=t===_?null:t;e(N),s(T),v(N,T)},[n,t,v]),w=p.useCallback(_=>{const N=n.map(T=>T.id===_?{...T,displaySettings:{...T.displaySettings,visible:!T.displaySettings.visible}}:T);e(N),v(N,t)},[n,t,v]),S=p.useCallback((_,N)=>{const T=n.map(M=>{if(M.id===_){const j={...M.indicatorType,params:{...M.indicatorType.params,...N}},P=DE(j);return{...M,indicatorType:j,name:P}}return M});e(T),v(T,t)},[n,t,v]),C=p.useCallback((_,N)=>{const T=n.map(M=>M.id===_?{...M,style:{...M.style||sl,...N}}:M);e(T),v(T,t)},[n,t,v]);return{indicators:n,activeIndicatorId:t,isLoaded:r,addIndicator:g,removeIndicator:x,toggleIndicator:w,updateIndicatorParams:S,updateIndicatorStyle:C,setActiveIndicatorId:p.useCallback(_=>{s(_),v(n,_)},[n,v])}}const OA=p.createContext(void 0);function Yq({children:n}){const e=qq();return f.jsx(OA.Provider,{value:e,children:n})}function DA(){const n=p.useContext(OA);if(!n)throw new Error("useIndicatorContext must be used within an IndicatorProvider");return n}function IA(n){const e=Kq(n),t=p.forwardRef((s,r)=>{const{children:o,...c}=s,u=p.Children.toArray(o),h=u.find(Jq);if(h){const m=h.props.children,v=u.map(g=>g===h?p.Children.count(m)>1?p.Children.only(null):p.isValidElement(m)?m.props.children:null:g);return f.jsx(e,{...c,ref:r,children:p.isValidElement(m)?p.cloneElement(m,void 0,v):null})}return f.jsx(e,{...c,ref:r,children:o})});return t.displayName=`${n}.Slot`,t}function Kq(n){const e=p.forwardRef((t,s)=>{const{children:r,...o}=t;if(p.isValidElement(r)){const c=Zq(r),u=Qq(o,r.props);return r.type!==p.Fragment&&(u.ref=s?Rt(s,c):c),p.cloneElement(r,u)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Xq=Symbol("radix.slottable");function Jq(n){return p.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Xq}function Qq(n,e){const t={...e};for(const s in e){const r=n[s],o=e[s];/^on[A-Z]/.test(s)?r&&o?t[s]=(...u)=>{const h=o(...u);return r(...u),h}:r&&(t[s]=r):s==="style"?t[s]={...r,...o}:s==="className"&&(t[s]=[r,o].filter(Boolean).join(" "))}return{...n,...t}}function Zq(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var eY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ku=eY.reduce((n,e)=>{const t=IA(`Primitive.${e}`),s=p.forwardRef((r,o)=>{const{asChild:c,...u}=r,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...u,ref:o})});return s.displayName=`Primitive.${e}`,{...n,[e]:s}},{}),mm="Dialog",[LA]=Ns(mm),[tY,Fs]=LA(mm),PA=n=>{const{__scopeDialog:e,children:t,open:s,defaultOpen:r,onOpenChange:o,modal:c=!0}=n,u=p.useRef(null),h=p.useRef(null),[m,v]=Qr({prop:s,defaultProp:r??!1,onChange:o,caller:mm});return f.jsx(tY,{scope:e,triggerRef:u,contentRef:h,contentId:Mn(),titleId:Mn(),descriptionId:Mn(),open:m,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(g=>!g),[v]),modal:c,children:t})};PA.displayName=mm;var zA="DialogTrigger",nY=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Fs(zA,t),o=Lt(e,r.triggerRef);return f.jsx(ku.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Vb(r.open),...s,ref:o,onClick:Ae(n.onClick,r.onOpenToggle)})});nY.displayName=zA;var Ub="DialogPortal",[sY,$A]=LA(Ub,{forceMount:void 0}),UA=n=>{const{__scopeDialog:e,forceMount:t,children:s,container:r}=n,o=Fs(Ub,e);return f.jsx(sY,{scope:e,forceMount:t,children:p.Children.map(s,c=>f.jsx(Yn,{present:t||o.open,children:f.jsx(du,{asChild:!0,container:r,children:c})}))})};UA.displayName=Ub;var yf="DialogOverlay",BA=p.forwardRef((n,e)=>{const t=$A(yf,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,o=Fs(yf,n.__scopeDialog);return o.modal?f.jsx(Yn,{present:s||o.open,children:f.jsx(rY,{...r,ref:e})}):null});BA.displayName=yf;var iY=IA("DialogOverlay.RemoveScroll"),rY=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Fs(yf,t);return f.jsx(zf,{as:iY,allowPinchZoom:!0,shards:[r.contentRef],children:f.jsx(ku.div,{"data-state":Vb(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),qa="DialogContent",VA=p.forwardRef((n,e)=>{const t=$A(qa,n.__scopeDialog),{forceMount:s=t.forceMount,...r}=n,o=Fs(qa,n.__scopeDialog);return f.jsx(Yn,{present:s||o.open,children:o.modal?f.jsx(aY,{...r,ref:e}):f.jsx(oY,{...r,ref:e})})});VA.displayName=qa;var aY=p.forwardRef((n,e)=>{const t=Fs(qa,n.__scopeDialog),s=p.useRef(null),r=Lt(e,t.contentRef,s);return p.useEffect(()=>{const o=s.current;if(o)return V0(o)},[]),f.jsx(FA,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(n.onCloseAutoFocus,o=>{o.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Ae(n.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Ae(n.onFocusOutside,o=>o.preventDefault())})}),oY=p.forwardRef((n,e)=>{const t=Fs(qa,n.__scopeDialog),s=p.useRef(!1),r=p.useRef(!1);return f.jsx(FA,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||t.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=o.target;t.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),FA=p.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,...c}=n,u=Fs(qa,t),h=p.useRef(null),m=Lt(e,h);return R0(),f.jsxs(f.Fragment,{children:[f.jsx(jf,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:f.jsx(cu,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Vb(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(lY,{titleId:u.titleId}),f.jsx(uY,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Bb="DialogTitle",HA=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Fs(Bb,t);return f.jsx(ku.h2,{id:r.titleId,...s,ref:e})});HA.displayName=Bb;var WA="DialogDescription",GA=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Fs(WA,t);return f.jsx(ku.p,{id:r.descriptionId,...s,ref:e})});GA.displayName=WA;var qA="DialogClose",YA=p.forwardRef((n,e)=>{const{__scopeDialog:t,...s}=n,r=Fs(qA,t);return f.jsx(ku.button,{type:"button",...s,ref:e,onClick:Ae(n.onClick,()=>r.onOpenChange(!1))})});YA.displayName=qA;function Vb(n){return n?"open":"closed"}var KA="DialogTitleWarning",[oJ,XA]=jD(KA,{contentName:qa,titleName:Bb,docsSlug:"dialog"}),lY=({titleId:n})=>{const e=XA(KA),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},cY="DialogDescriptionWarning",uY=({contentRef:n,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XA(cY).contentName}}.`;return p.useEffect(()=>{const r=n.current?.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,n,e]),null},Fb=PA,Hb=UA,pm=BA,gm=VA,Wb=HA,Gb=GA,JA=YA;const Pa=Fb,dY=Hb,QA=p.forwardRef(({className:n,...e},t)=>f.jsx(pm,{ref:t,className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));QA.displayName=pm.displayName;const Hr=p.forwardRef(({className:n,children:e,...t},s)=>f.jsxs(dY,{children:[f.jsx(QA,{}),f.jsxs(gm,{ref:s,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,f.jsxs(JA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(q_,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hr.displayName=gm.displayName;const za=({className:n,...e})=>f.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});za.displayName="DialogHeader";const ZA=({className:n,...e})=>f.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});ZA.displayName="DialogFooter";const Wr=p.forwardRef(({className:n,...e},t)=>f.jsx(Wb,{ref:t,className:Ce("text-lg font-semibold leading-none tracking-tight",n),...e}));Wr.displayName=Wb.displayName;const Gr=p.forwardRef(({className:n,...e},t)=>f.jsx(Gb,{ref:t,className:Ce("text-sm text-muted-foreground",n),...e}));Gr.displayName=Gb.displayName;function hY(n){const e="metadata"in n?n.metadata:null;if(e&&e.series_metadata&&e.series_metadata.length>0){const s=e.series_metadata[0];if(s?.label)return s.label}let t;return"indicatorType"in n?t=n.indicatorType.name:"name"in n?t=n.name:t=n.displayName||"INDICATOR",t.toUpperCase()}function fY(n){const e=Object.entries(n).filter(([s,r])=>!(r==null||typeof r=="number"&&(r===0||["offset","drift","signal"].includes(s)&&r===0)||typeof r=="string"&&r===""));return e.length===0?"":`(${e.map(([s,r])=>`${s}=${r}`).join(", ")})`}function mY(n){const e={};if(Array.isArray(n.parameters))for(const t of n.parameters)e[t.name]=t.default;else for(const[t,s]of Object.entries(n.parameters))typeof s=="object"&&s!==null&&"default"in s?e[t]=s.default:e[t]=s;return{category:n.category,name:n.name,params:e}}function pY({open:n,onOpenChange:e,onAddOverlayInstance:t}){const{addIndicator:s}=DA(),[r,o]=ve.useState("all"),[c,u]=p.useState([]),[h,m]=p.useState(!1);p.useEffect(()=>{n&&c.length===0&&(m(!0),$b().then(g=>{u(g),m(!1)}).catch(g=>{console.error("Failed to load indicators:",g),m(!1)}))},[n,c.length]);const v=c.filter(g=>r==="all"?!0:g.category===r);return f.jsx(Pa,{open:n,onOpenChange:e,children:f.jsxs(Hr,{className:"bg-[#1e222d] border-[#2a2e39] text-slate-200 max-w-md",children:[f.jsxs(za,{children:[f.jsx(Wr,{className:"text-lg font-semibold text-white",children:"Add Indicator"}),f.jsx(Gr,{className:"text-slate-400",children:"Select an indicator to add to your chart"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx(Pe,{variant:r==="all"?"default":"ghost",size:"sm",onClick:()=>o("all"),className:r==="all"?"bg-[#26a69a] text-white":"text-slate-400 hover:text-white",children:"All"}),f.jsx(Pe,{variant:r==="overlay"?"default":"ghost",size:"sm",onClick:()=>o("overlay"),className:r==="overlay"?"bg-[#26a69a] text-white":"text-slate-400 hover:text-white",children:"Overlays"}),f.jsx(Pe,{variant:r==="oscillator"?"default":"ghost",size:"sm",onClick:()=>o("oscillator"),className:r==="oscillator"?"bg-[#26a69a] text-white":"text-slate-400 hover:text-white",children:"Oscillators"})]}),h&&f.jsx("div",{className:"text-center py-8 text-slate-400",children:"Loading indicators..."}),!h&&f.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1",children:v.length===0?f.jsx("div",{className:"text-center py-8 text-slate-500",children:"No indicators available"}):v.map(g=>{const x=mY(g),w=g.category==="overlay",S=hY(g),C=fY(x.params);return f.jsxs("button",{onClick:()=>{w&&t?t(g.name,x.params):s(x),e(!1)},className:"w-full flex items-center justify-between px-3 py-2 rounded hover:bg-[#2a2e39] transition-colors text-left",children:[f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("span",{className:"text-sm text-slate-200",children:[S,C&&f.jsx("span",{className:"text-slate-500 text-xs ml-1",children:C})]}),f.jsx("span",{className:"text-xs text-slate-500 text-left",children:g.description})]}),f.jsx("span",{className:"text-xs text-slate-500 capitalize ml-2",children:g.category})]},g.name)})}),f.jsx("div",{className:"flex justify-end pt-2",children:f.jsx(Pe,{variant:"ghost",onClick:()=>e(!1),className:"text-slate-400 hover:text-white",children:"Cancel"})})]})]})})}class IE extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.props.onError?.(e,t)}render(){return this.state.hasError?this.props.fallback||f.jsx("div",{className:"flex items-center justify-center h-full w-full bg-slate-900 p-8",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:"text-rose-500 text-4xl",children:""}),f.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:"Something went wrong"}),f.jsx("p",{className:"text-sm text-slate-400 max-w-md",children:this.state.error?.message||"An error occurred while loading chart data"}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Reload Page"})]})}):this.props.children}}function LE(){return crypto.randomUUID()}async function h0(n,e,t,s){const r=performance.now(),o=new Date;try{const c=await t(),u=performance.now()-r;return l0.record({id:LE(),timestamp:o,category:e,operation:n,duration_ms:u,context:s||{}}),c}catch(c){const u=performance.now()-r;throw l0.record({id:LE(),timestamp:o,category:e,operation:n,duration_ms:u,context:{...s,error:!0,error_message:c instanceof Error?c.message:String(c)}}),c}}function yv(n){const e=n.match(/^([a-zA-Z_]+)_(\d+(\.\d+)?)$/);if(e){const t=e[1];if(["sma","ema","dema","tema","wma","hma","vwma","kama","mama","rsi","cci","adx","aroon","mfi","willr","cmo","mom","roc","atr","stoch","stochrsi","macd","bbands","kc","donchian","uo","tsi","pgo","apo","ppo","ao","obv","fi","eri"].includes(t))return t}return n}function xv(n){const e=JSON.stringify(n.indicatorType.params);return`${n.id}:${e}`}function gY(n,e,t,s,r,o){const[c,u]=p.useState({}),[h,m]=p.useState(!1),[v,g]=p.useState(null),x=p.useRef({});x.current=c;const w=p.useRef(new Set),S=p.useRef(""),C=p.useRef(0);p.useRef(null);const _=p.useCallback(async N=>{try{const T=yv(N.indicatorType.name),M=MD(e,t,T,N.indicatorType.params,r?.from,r?.to);if(M)return{id:N.id,data:M};console.log("[API] Fetching indicator from API:",T,"range:",r?.from,"to",r?.to);const j=await h0(`calculate_${T}`,"calculation",()=>Uq(e,T,t,N.indicatorType.params,void 0,r?.from,r?.to),{symbol:e,indicator:T,interval:t,params:JSON.stringify(N.indicatorType.params)});return j&&$1(e,t,T,N.indicatorType.params,j,r?.from,r?.to),{id:N.id,data:j}}catch(T){const M=T instanceof Error&&"response"in T?T.response?.data?.detail||T.message:T instanceof Error?T.message:"Unknown error";return console.error(`Failed to fetch data for ${N.indicatorType.name}:`,M),{id:N.id,data:null}}},[e,t,r]);return p.useEffect(()=>{if(!(o&&o.length>0))return;if(!$q(e)){w.current.clear(),u({});return}if(n.length===0){u({}),w.current.clear();return}const T=`${e}:${t}`,M=S.current!==T,j=s&&s!==C.current;(M||j)&&(j&&console.log("[useIndicatorData] dataVersion changed from",C.current,"to",s,"- clearing fetchedRefs to trigger refetch with extended range"),M&&(S.current=T),w.current.clear());const P=n.filter(le=>{const te=xv(le);return!w.current.has(te)});if(n.every(le=>{const te=xv(le);return w.current.has(te)&&x.current[le.id]!==void 0})&&!M&&P.length===0&&s===C.current)return;j&&(C.current=s);const O={...x.current},B=n.filter(le=>!O[le.id]).map(le=>le.id);B.length>0&&(B.forEach(le=>{O[le]=null}),u(O)),(async()=>{m(!0),g(null),console.log(`%c[T3 START] Fetching ${n.length} indicators for ${e} ${t}`,"color: #9C27B0; font-weight: bold");const te={...x.current},he=[];for(const oe of n){const ce=xv(oe);w.current.has(ce)||(he.push(oe),w.current.add(ce))}if(he.length>0){if(he.length>1)try{console.log(`[Batch] Fetching ${he.length} indicators via batch endpoint`);const ce=he.map(k=>({symbol:e,interval:t,indicator_name:yv(k.indicatorType.name),params:k.indicatorType.params,from_ts:r?.from,to_ts:r?.to})),ne=await Bq(ce);for(let k=0;k<he.length;k++){const W=he[k],V=ne.results[k];if(V){const Y=yv(W.indicatorType.name);$1(e,t,Y,W.indicatorType.params,V,r?.from,r?.to),te[W.id]=V}else{const Y=ne.errors.find(me=>me.index===k);Y&&console.error(`[Batch] Failed to fetch ${W.indicatorType.name}:`,Y.error),te[W.id]=null}}console.log(`[Batch] Completed: ${ne.cache_hits} cache hits, ${ne.cache_misses} cache misses, ${ne.total_duration_ms}ms`)}catch(ce){console.error("[Batch] Batch fetch failed, falling back to individual fetches:",ce);const ne=he.map(W=>_(W)),k=await Promise.all(ne);for(const{id:W,data:V}of k)te[W]=V}else{const ce=he.map(k=>_(k)),ne=await Promise.all(ce);for(const{id:k,data:W}of ne)te[k]=W}u(te)}console.log(`%c[T4 DONE] Fetched ${n.length} indicators for ${e} ${t}`,"color: #9C27B0; font-weight: bold"),m(!1)})()},[n,e,t,s,_,r,o]),c}function PE(n,e,t,s,r,o){const c=gY(n,e,t,s,r,o),[u,h]=p.useState(!1),[m,v]=p.useState(null);return p.useEffect(()=>{if(n.length===0){h(!1),v(null);return}const g=n.every(w=>c[w.id]!==void 0),x=n.some(w=>c[w.id]===null);g?(h(!1),v(x?"Some indicators failed to load":null)):h(!0)},[n,c]),{...c,isLoading:u,error:m}}const zE="indicator_migration_v1",f0="tradingalert_indicators",vY="tradingalert_indicators_global",Hh="indicatorlist",$E="indicatorlistglobal",UE="indicatorinstance";function bY(){const[n,e]=p.useState(!1),[t,s]=p.useState(!1);return p.useEffect(()=>{if(localStorage.getItem(zE)){s(!0);return}const c=setTimeout(()=>{console.log("[useIndicatorMigration] Starting migration from per-symbol to global storage..."),e(!0);try{console.log("[useIndicatorMigration] Step 1: Creating backups..."),yY(),console.log("[useIndicatorMigration] Step 2: Migrating pane indicators..."),xY(),console.log("[useIndicatorMigration] Step 3: Migrating overlay instances..."),wY(),localStorage.setItem(zE,Date.now().toString()),console.log("[useIndicatorMigration] Migration complete!"),s(!0)}catch(u){console.error("[useIndicatorMigration] Migration failed:",u)}finally{e(!1)}},100);return()=>clearTimeout(c)},[]),{isMigrating:n,migrationComplete:t}}function yY(){const n=localStorage.getItem(f0);n&&(localStorage.setItem(`${f0}_backup`,n),console.log("[useIndicatorMigration] Backed up pane indicators"));const t=Object.keys(localStorage).filter(s=>s.startsWith(Hh));t.forEach(s=>{const r=localStorage.getItem(s);r&&localStorage.setItem(`${s}_backup`,r)}),console.log(`[useIndicatorMigration] Backed up ${t.length} overlay lists`)}function xY(){const n=localStorage.getItem(f0);if(!n){console.log("[useIndicatorMigration] No existing pane indicators found");return}try{const e=JSON.parse(n),t=Object.keys(e);if(t.length===0){console.log("[useIndicatorMigration] No symbols with pane indicators");return}console.log(`[useIndicatorMigration] Migrating pane indicators from ${t.length} symbols:`,t);const s=new Map;t.forEach(m=>{const v=e[m];v?.indicators&&v.indicators.forEach(g=>{const x=`${g.indicatorType.name}_${JSON.stringify(g.indicatorType.params)}`;s.has(x)||s.set(x,[]),s.get(x).push({symbol:m,indicator:g})})});const r=[];s.forEach((m,v)=>{if(m.length>0){const g=m[m.length-1];r.push(g.indicator),console.log(`[useIndicatorMigration] Merged indicator ${v} from ${m.length} symbols`)}});const o=new Map;t.forEach(m=>{const v=e[m];if(v?.activeIndicatorId){const g=o.get(v.activeIndicatorId)||0;o.set(v.activeIndicatorId,g+1)}});let c=null,u=0;o.forEach((m,v)=>{m>u&&(u=m,c=v)});const h={indicators:r,activeIndicatorId:c};localStorage.setItem(vY,JSON.stringify(h)),console.log(`[useIndicatorMigration] Migrated ${r.length} pane indicators to global storage`)}catch(e){throw console.error("[useIndicatorMigration] Failed to migrate pane indicators:",e),e}}function wY(){const e=Object.keys(localStorage).filter(o=>o.startsWith(Hh)&&!o.includes("_backup")&&o!==Hh&&o!==$E);if(e.length===0){console.log("[useIndicatorMigration] No existing overlay lists found");return}console.log(`[useIndicatorMigration] Found ${e.length} overlay lists to migrate`);const t=new Set,s={};e.forEach(o=>{try{const c=o.substring(Hh.length),u=localStorage.getItem(o);if(u){const m=JSON.parse(u).instances||[];console.log(`[useIndicatorMigration] Found ${m.length} instances for symbol ${c}`),m.forEach(v=>{t.add(v),s[v]||(s[v]=[]),s[v].push(c)}),m.forEach(v=>{const g=`${UE}${v}`,x=localStorage.getItem(g);x&&localStorage.setItem(`${g}_backup`,x)})}}catch(c){console.error(`[useIndicatorMigration] Failed to process list ${o}:`,c)}}),console.log(`[useIndicatorMigration] Removing symbol field from ${t.size} instances`),t.forEach(o=>{const c=`${UE}${o}`,u=localStorage.getItem(c);if(u)try{const h=JSON.parse(u);delete h.symbol,localStorage.setItem(c,JSON.stringify(h))}catch(h){console.error(`[useIndicatorMigration] Failed to update instance ${o}:`,h)}});const r={instances:Array.from(t),updatedAt:new Date().toISOString()};localStorage.setItem($E,JSON.stringify(r)),console.log(`[useIndicatorMigration] Migrated ${t.size} overlay instances to global list`)}function SY(){const[n,e]=p.useState(null),[t,s]=p.useState(null),[r,o]=p.useState(WebSocket.CLOSED),c=p.useRef(null),u=p.useCallback(v=>{c.current&&c.current.readyState===WebSocket.OPEN?c.current.close():c.current=null;const g=new WebSocket(v);c.current=g,e(g),g.onopen=()=>{o(g.readyState)},g.onmessage=x=>{s(x)},g.onclose=()=>{o(g.readyState),c.current=null,e(null)},g.onerror=x=>{}},[]),h=p.useCallback(()=>{c.current&&c.current.readyState===WebSocket.OPEN&&c.current.close()},[]),m=p.useCallback(v=>{c.current&&c.current.readyState===WebSocket.OPEN&&c.current.send(v)},[]);return p.useEffect(()=>()=>{c.current&&c.current.readyState===WebSocket.OPEN?c.current.close():c.current=null},[]),{socket:n,connect:u,disconnect:h,sendMessage:m,lastMessage:t,readyState:r}}const CY=9,EY=30,_Y=16,NY=0,TY=4,MY={"1m":5e3,"5m":5e3,"15m":15e3,"1h":15e3,"1d":36e5,"1w":3e5,"1wk":3e5};function ej(n,e){let t;const s=()=>{t=window.setTimeout(()=>{n(),t=window.setTimeout(s,e)},e)};return s(),{id:t??0,interval:e,callback:n,cancel:()=>{t!==void 0&&clearTimeout(t)}}}function xf(n){n&&n.cancel()}function RY(n){const e=n.toLowerCase().replace("wk","w");return MY[e]??6e4}function AY(){const n=new Date,e=n.getUTCHours(),t=n.getUTCMinutes(),s=n.getUTCDay(),r=(e-5+24)%24;if(s===0||s===6)return!1;const o=CY*60+EY,c=_Y*60+NY,u=r*60+t;return u>=o&&u<c}function jY(n){const e=RY(n);return AY()?e:e*TY}const kY={maxSize:20,ttl:6e4,memoryBudget:50*1024*1024};function wv(n,e){return`${n.toLowerCase()}:${e}`}function Sv(n){return n.length*100}class OY{cache=new Map;config;currentMemory=0;constructor(e={}){this.config={...kY,...e}}get(e,t){const s=wv(e,t),r=this.cache.get(s);if(!r)return null;const o=Date.now();return o-r.timestamp>this.config.ttl?(this.remove(s),null):(r.accessCount++,r.lastAccess=o,r.candles)}set(e,t,s){const r=wv(e,t),o=Sv(s),c=this.cache.get(r);for(c&&(this.currentMemory-=Sv(c.candles));(this.cache.size>=this.config.maxSize||this.currentMemory+o>this.config.memoryBudget)&&this.cache.size>0;)this.evictLRU();const u=s.length>0?s[s.length-1].timestamp:"";this.cache.set(r,{candles:s,timestamp:Date.now(),latestTimestamp:u,accessCount:0,lastAccess:Date.now()}),this.currentMemory+=o}remove(e){const t=this.cache.get(e);t&&(this.currentMemory-=Sv(t.candles),this.cache.delete(e))}evictLRU(){let e=null,t=1/0;for(const[s,r]of this.cache.entries())r.lastAccess<t&&(t=r.lastAccess,e=s);e&&this.remove(e)}invalidate(e){const t=e.toLowerCase()+":",s=[];for(const r of this.cache.keys())r.startsWith(t)&&s.push(r);for(const r of s)this.remove(r)}clear(){this.cache.clear(),this.currentMemory=0}has(e,t){const s=wv(e,t),r=this.cache.get(s);return r?Date.now()-r.timestamp>this.config.ttl?(this.remove(s),!1):!0:!1}getStats(){let e=0;for(const t of this.cache.values())e+=t.accessCount;return{entries:this.cache.size,maxSize:this.config.maxSize,memoryUsed:this.currentMemory,memoryBudget:this.config.memoryBudget,hitRate:e>0?1:0,ttl:this.config.ttl}}cleanup(){const e=Date.now(),t=[];for(const[s,r]of this.cache.entries())e-r.timestamp>this.config.ttl&&t.push(s);for(const s of t)this.remove(s);return t.length}}const tj=new OY;function DY(n,e){return tj.get(n,e)}function wf(n,e,t){tj.set(n,e,t)}const IY="TradingAlertDB",LY=1,Ar="candles",PY=3e5,Sf={async init(){return new Promise((n,e)=>{const t=indexedDB.open(IY,LY);t.onerror=()=>e(t.error),t.onsuccess=()=>n(t.result),t.onupgradeneeded=s=>{const r=s.target.result;if(!r.objectStoreNames.contains(Ar)){const o=r.createObjectStore(Ar,{keyPath:"id"});o.createIndex("symbol","symbol",{unique:!1}),o.createIndex("interval","interval",{unique:!1})}}})},async get(n,e){const t=await this.init(),s=`${n}:${e}`;return new Promise((r,o)=>{const u=t.transaction(Ar,"readonly").objectStore(Ar).get(s);u.onsuccess=()=>{const h=u.result;if(!h){r(null);return}if(Date.now()-h.timestamp>PY){this.delete(n,e).then(()=>r(null));return}r(h)},u.onerror=()=>o(u.error)})},async set(n,e,t){const s=await this.init(),r={id:`${n}:${e}`,symbol:n,interval:e,candles:t,timestamp:Date.now()};return new Promise((o,c)=>{const u=s.transaction(Ar,"readwrite");u.objectStore(Ar).put(r),u.oncomplete=()=>o(),u.onerror=()=>c(u.error)})},async delete(n,e){const t=await this.init(),s=`${n}:${e}`;return new Promise((r,o)=>{const c=t.transaction(Ar,"readwrite");c.objectStore(Ar).delete(s),c.oncomplete=()=>r(),c.onerror=()=>o(c.error)})}};async function zY(n,e,t){const s=DY(n,e);if(s&&s.length>0)return s;const r=await Sf.get(n,e);if(r&&r.candles.length>0)return wf(n,e,r.candles),r.candles;const o=await t();return wf(n,e,o),await Sf.set(n,e,o),o}async function $Y(n,e,t,s){const r=new Set(t.map(u=>u.timestamp)),o=s.filter(u=>!r.has(u.timestamp)),c=[...t,...o].sort((u,h)=>new Date(u.timestamp).getTime()-new Date(h.timestamp).getTime());return wf(n,e,c),await Sf.set(n,e,c),c}async function UY(n,e,t){wf(n,e,t),await Sf.set(n,e,t)}function BY(n){return!n||typeof n!="string"?!1:/^[A-Za-z0-9=.^_-]{1,20}$/.test(n)}function VY(n,e="1d"){const[t,s]=p.useState({candles:[],isLoading:!0,isRefreshing:!1,error:null,lastUpdate:null,isStale:!1,hasMore:!0}),[r,o]=p.useState(0),c=p.useRef(null),u=p.useRef(n),h=p.useRef(e),m=p.useRef(null),v=p.useRef(null),g=p.useRef(null),x=p.useCallback(async(C=!1)=>{if(!(n!==u.current||e!==h.current)){if(!BY(n)){s(_=>({..._,isLoading:!1,isRefreshing:!1,error:`Invalid symbol format: "${n}". Please use a valid stock symbol.`}));return}s(_=>({..._,isLoading:!C,isRefreshing:C,error:null})),console.log(`%c[T2 START] Fetching candles for ${n} ${e}`,"color: #FF9800; font-weight: bold");try{const _=await h0("fetch_candles","data_fetch",()=>zY(n,e,async()=>await Vc(n,e)),{symbol:n,interval:e,is_refresh:C});console.log(`%c[T2 DONE] Fetched ${_.length} candles for ${n} ${e}`,"color: #FF9800; font-weight: bold"),s(N=>({...N,candles:_,isLoading:!1,isRefreshing:!1,error:null,lastUpdate:new Date,isStale:!1}))}catch(_){s(N=>({...N,isLoading:!1,isRefreshing:!1,error:_ instanceof Error?_.message:"Failed to fetch candles"}))}}},[n,e]),w=p.useCallback(()=>{x(!1)},[x]),S=p.useCallback(async(C,_)=>{if(!(n!==u.current||e!==h.current)){s(N=>({...N,isRefreshing:!0,error:null}));try{const N=await h0("fetch_candles_backfill","data_fetch",()=>Vc(n,e,C,_),{symbol:n,interval:e,from:C,to:_}),T=await $Y(n,e,t.candles,N);Nh(n),o(M=>M+1),s(M=>({...M,candles:T,isRefreshing:!1,lastUpdate:new Date,hasMore:N.length>0}))}catch(N){s(T=>({...T,isRefreshing:!1,error:N instanceof Error?N.message:"Failed to fetch backfill data"}))}}},[n,e,t.candles]);return p.useEffect(()=>(m.current&&clearTimeout(m.current),v.current=n,g.current=e,m.current=setTimeout(()=>{const C=v.current,_=g.current;if(C===n&&_===e){u.current=C,h.current=_,c.current&&(xf(c.current),c.current=null),x();const N=jY(_);c.current=ej(()=>{x(!0)},N)}},300),()=>{m.current&&clearTimeout(m.current),c.current&&(xf(c.current),c.current=null)}),[n,e,x]),{...t,refresh:w,fetchCandlesWithRange:S,dataVersion:r}}function FY({symbol:n,interval:e,children:t}){const s=VY(n,e);return f.jsx(f.Fragment,{children:t(s)})}const nj="polishedcharts_data";function vm(){const n=localStorage.getItem(nj);if(!n)return{schemaVersion:1,alerts:[],watchlist:{uuid:crypto.randomUUID(),symbols:[],sort_order:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},layouts:[]};try{const e=JSON.parse(n);return e.watchlist||(e.watchlist={uuid:crypto.randomUUID(),symbols:[],sort_order:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},e.schemaVersion=e.schemaVersion||1),e}catch(e){return console.error("Failed to parse localStorage:",e),{schemaVersion:1,alerts:[],watchlist:{uuid:crypto.randomUUID(),symbols:[],sort_order:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},layouts:[]}}}function qb(n){n.watchlist.updated_at=new Date().toISOString(),localStorage.setItem(nj,JSON.stringify(n))}function HY(){return vm().watchlist}function WY(n){const e=n.toUpperCase().trim(),t=vm();return t.watchlist.symbols.includes(e)?"already_present":(t.watchlist.symbols.push(e),t.watchlist.sort_order.includes(e)||t.watchlist.sort_order.push(e),qb(t),"added")}function GY(n){const e=n.toUpperCase().trim(),t=vm();t.watchlist.symbols=t.watchlist.symbols.filter(s=>s!==e),t.watchlist.sort_order=t.watchlist.sort_order.filter(s=>s!==e),qb(t)}function qY(n){const e=vm(),t=n.filter(s=>e.watchlist.symbols.includes(s));e.watchlist.sort_order=t,qb(e)}const YY=async n=>{if(n.length<1||n.length>5)throw new Error("Query must be between 1 and 5 characters");return(await Ts.get("/symbols/search",{params:{q:n}})).data},KY=async()=>(await(await Rs()).get("/watchlist")).data,XY=async n=>{const e=n.toUpperCase().trim();return(await(await Rs()).post("/watchlist",{symbol:e})).data},JY=async n=>{const e=n.toUpperCase().trim();await(await Rs()).delete(`/watchlist/${e}`)},QY=async n=>(await(await Rs()).put("/watchlist/order",{ordered_symbols:n})).data,ZY=async n=>{try{const e=n.join(",");return(await Ts.get(`/candles/latest_prices/${e}`)).data}catch(e){return console.error("Error fetching latest prices:",e),n.map(t=>({symbol:t,error:"Failed to fetch data"}))}},eK=18e5;function tK(n){const[e,t]=p.useState({entries:[],isLoading:!1,isRefreshing:!1,errors:new Map,lastUpdate:null}),s=p.useRef(null),r=p.useRef(n),o=p.useCallback(async(u=!1)=>{if(n.length===0){t(h=>({...h,isLoading:!1,isRefreshing:!1,entries:[],errors:new Map}));return}if(JSON.stringify(n)===JSON.stringify(r.current)){t(h=>({...h,isLoading:!u,isRefreshing:u,errors:new Map}));try{const h=await ZY(n),m=new Map,v=new Map;for(const x of h)x.error&&v.set(x.symbol,x.error),m.set(x.symbol,x);const g=n.map(x=>m.get(x)||{symbol:x,price:void 0,changePercent:void 0});t(x=>({...x,entries:g,isLoading:!1,isRefreshing:!1,errors:v,lastUpdate:new Date}))}catch(h){const m=n.map(v=>({symbol:v,price:void 0,changePercent:void 0}));t(v=>({...v,entries:m,isLoading:!1,isRefreshing:!1,errors:new Map(n.map(g=>[g,h instanceof Error?h.message:"Failed to fetch prices"])),lastUpdate:new Date}))}}},[n]),c=p.useCallback(()=>{o(!1)},[o]);return p.useEffect(()=>{if(r.current=[...n],s.current&&(xf(s.current),s.current=null),n.length===0){t(u=>({...u,isLoading:!1,isRefreshing:!1,entries:[],errors:new Map,lastUpdate:null}));return}return o(),s.current=ej(()=>{o(!0)},eK),()=>{s.current&&(xf(s.current),s.current=null)}},[n,o]),{...e,refresh:c}}function nK({symbols:n,children:e}){const t=tK(n);return f.jsx(f.Fragment,{children:e(t)})}var sK="firebase",iK="12.7.0";Qo(sK,iK,"app");const rK={apiKey:"AIzaSyBwTLxoLcoezdhZV5q4f-pFapDKYHpTxpk",authDomain:"polishedcharts.firebaseapp.com",projectId:"polishedcharts",storageBucket:"polishedcharts.firebasestorage.app",messagingSenderId:"470947462742",appId:"1:470947462742:web:9fc4a574e9a8c337ad45f7"},sj=uC().length===0?BM(rK):uC()[0],as=VH(sj);as.useDeviceLanguage();const ml=new zi;ml.addScope("email");ml.addScope("profile");async function ij(){return ml.setCustomParameters({prompt:"select_account"}),await X9(as,ml)}async function rj(){}rj();const aj=Object.freeze(Object.defineProperty({__proto__:null,app:sj,auth:as,connectAuthEmulatorIfEnabled:rj,googleProvider:ml,signInWithGoogle:ij},Symbol.toStringTag,{value:"Module"})),Ec=1;class aK extends Error{code;originalError;constructor(e,t,s){super(e),this.name="AuthError",this.code=t,this.originalError=s}}class oK extends aK{existingEmail;existingProvider;attemptedProvider;constructor(e,t,s){super(`Account already exists with ${t}. Please sign in with ${t} to link your ${s} account.`,"auth/account-exists-with-different-credential"),this.name="ProviderLinkingError",this.existingEmail=e,this.existingProvider=t,this.attemptedProvider=s}}const Ch="polishedcharts_data";async function lK(n){const e={schemaVersion:n.schemaVersion,alerts:n.alerts,watchlist:n.watchlist,layouts:n.layouts};return await qH(e)}function Yb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function Kb(){return new Date().toISOString()}function cK(n){const e=Kb();return{uuid:n.uuid||Yb(),symbol:n.symbol||"",condition:n.condition||"above",target:n.target??0,enabled:n.enabled??!0,created_at:n.created_at||e,updated_at:n.updated_at||e}}function Fc(n){const e=Kb();return{uuid:n.uuid||Yb(),symbols:n.symbols||[],sort_order:n.sort_order||n.symbols||[],created_at:n.created_at||e,updated_at:n.updated_at||e}}function uK(n){const e=Kb();return{uuid:n.uuid||Yb(),name:n.name||"My Layout",config:n.config||{indicators:[],chartSettings:{interval:"1d",chartType:"candlestick"}},created_at:n.created_at||e,updated_at:n.updated_at||e}}const dK=[{version:1,migrate:n=>{const e=(n.alerts||[]).map(cK),t=n.watchlist?Fc(n.watchlist):Fc({}),s=(n.layouts||[]).map(uK);return{schemaVersion:1,alerts:e,watchlist:t,layouts:s}}}];function hK(n){let e=n;const t=n?.schemaVersion||0;for(const s of dK)t<s.version&&(console.log(`Running localStorage migration: v${t} -> v${s.version}`),e=s.migrate(e),e.schemaVersion=s.version);return e}function fK(){const[n,e]=p.useState(null),[t,s]=p.useState(!0),[r,o]=p.useState(!1);p.useEffect(()=>{try{const m=localStorage.getItem(Ch);let v;m?v=JSON.parse(m):v={schemaVersion:Ec,alerts:[],watchlist:Fc({}),layouts:[]};const g=hK(v);m&&JSON.stringify(g)!==m&&localStorage.setItem(Ch,JSON.stringify(g)),e(g),o(!0)}catch(m){console.error("Failed to load localStorage:",m);const v={schemaVersion:Ec,alerts:[],watchlist:Fc({}),layouts:[]};e(v),o(!0)}finally{s(!1)}},[]);const c=p.useCallback(m=>{try{m.schemaVersion=Ec,localStorage.setItem(Ch,JSON.stringify(m)),e(m)}catch(v){throw console.error("Failed to save localStorage:",v),v}},[]),u=p.useCallback(()=>{try{localStorage.removeItem(Ch);const m={schemaVersion:Ec,alerts:[],watchlist:Fc({}),layouts:[]};e(m)}catch(m){throw console.error("Failed to clear localStorage:",m),m}},[]),h=p.useCallback(()=>n?.schemaVersion||Ec,[n]);return{data:n,isLoading:t,isLoaded:r,save:c,clear:u,getSchemaVersion:h}}const oj=p.createContext(void 0);function mK({children:n}){const[e,t]=p.useState(null),[s,r]=p.useState(null),[o,c]=p.useState(!0),[u,h]=p.useState(null),[m,v]=p.useState(null),[g,x]=p.useState(null),{data:w,isLoading:S,clear:C}=fK(),_=!!e&&!!s,N=e?.emailVerified??!1;p.useEffect(()=>{let oe,ce;return(async()=>{try{await A9(as,bR),oe=pR(as,async k=>{if(t(k),k)try{const W=await k.getIdToken(),V=await zo(W);r(V)}catch(W){console.error("Failed to fetch user profile:",W),await uh(as),t(null),r(null)}else r(null);c(!1)},k=>{console.error("Auth state change error:",k),h(k.message),c(!1)}),ce=mR(as,async k=>{if(k)try{const W=await k.getIdToken(),V=await zo(W);r(V),console.log("[T062] Token refreshed successfully")}catch(W){console.error("[T063] Token refresh failed, switching to guest mode:",W),await uh(as),t(null),r(null),h("Session expired. Please sign in again to sync your data.")}},k=>{console.error("[T063] Token refresh error:",k),t(null),r(null)})}catch(k){console.error("Failed to initialize auth:",k),c(!1)}})(),()=>{oe&&oe(),ce&&ce()}},[]);const T=async(oe,ce)=>{h(null),c(!0);try{const k=await(await R9(as,oe,ce)).user.getIdToken(),W=await zo(k);r(W),w&&await te(w)}catch(ne){const k=ne.message||"Authentication failed. If an account exists, check your email for verification or password reset options";throw h(k),ne}finally{c(!1)}},M=async(oe,ce)=>{h(null),c(!0);try{if(ce.length<8)throw new Error("Password should be at least 8 characters.");const ne=await M9(as,oe,ce);await EC(ne.user);const k=await ne.user.getIdToken(),W=await zo(k);r(W),w&&await te(w)}catch(ne){const k=ne.message||"An error occurred during sign-up. Please try again.";throw h(k),ne}finally{c(!1)}},j=async()=>{h(null),x(null),c(!0);try{const ce=await(await ij()).user.getIdToken(),ne=await zo(ce);r(ne),w&&await te(w),v(null)}catch(oe){if(oe.code==="auth/account-exists-with-different-credential"){const ce=oe.customData?.email||e?.email||"",ne=oe.credential;if(ne){v(ne);const k=new oK(ce,"password","google.com");x(k)}h(oe.message)}else{const ce=oe.message||"An error occurred during sign-in. Please try again.";h(ce)}throw oe}finally{c(!1)}},P=async()=>{h(null),c(!0);try{if(e){const oe=await e.getIdToken();await GH()}await uh(as),t(null),r(null)}catch(oe){console.error("Sign out error:",oe),await uh(as),t(null),r(null)}finally{c(!1)}},I=async()=>{if(h(null),!e)throw new Error("No user is currently signed in.");try{await EC(e)}catch(oe){const ce=oe.message||"Failed to send verification email. Please try again.";throw h(ce),oe}},O=async oe=>{h(null);try{await T9(as,oe)}catch(ce){const ne=ce.message||"Failed to send password reset email. Please try again.";throw h(ne),ce}},B=()=>{h(null)},re=()=>{x(null),v(null)},le=async()=>{if(h(null),c(!0),!e||!m){h("No pending provider credential to link. Please try signing in again."),c(!1);return}try{const oe=await J9(e,ml);console.log("[T068] Provider linked successfully:",oe.providerId);const ce=await e.getIdToken(),ne=await zo(ce);r(ne),w&&await te(w),v(null),x(null)}catch(oe){throw console.error("[T068] Provider linking failed:",oe),oe.code==="auth/credential-already-in-use"||oe.code==="auth/provider-already-linked"?h("This provider is already linked to your account."):h(oe.message||"Failed to link provider. Please try again."),oe}finally{c(!1)}},te=async oe=>{try{const ce={schemaVersion:oe.schemaVersion,alerts:oe.alerts,watchlist:oe.watchlist,layouts:oe.layouts},ne=await lK(ce);(ne.stats.alerts.added>0||ne.stats.alerts.updated>0||ne.stats.watchlist.added>0||ne.stats.watchlist.updated>0||ne.stats.layouts.added>0||ne.stats.layouts.updated>0)&&await C()}catch(ce){console.error("Failed to merge guest data:",ce)}},he={user:e,userProfile:s,isAuthenticated:_,isEmailVerified:N,isLoading:o||S,error:u,pendingProviderCredential:m,providerLinkingError:g,signIn:T,signUp:M,signInWithGoogle:j,signOut:P,resendVerificationEmail:I,resetPassword:O,clearError:B,linkProvider:le,clearProviderLinkingError:re};return f.jsx(oj.Provider,{value:he,children:n})}function pK(){const n=p.useContext(oj);if(!n)throw new Error("useAuthContext must be used within an AuthProvider");return n}const Nl=pK;function gK({open:n,onOpenChange:e,onOpenSignInDialog:t}){const{providerLinkingError:s,linkProvider:r,isLoading:o,error:c,clearError:u,clearProviderLinkingError:h}=Nl();p.useEffect(()=>{n||h()},[n,h]);const m=p.useCallback(()=>{e(!1),t()},[e,t]),v=p.useCallback(async()=>{try{await r(),e(!1)}catch(C){console.error("Provider linking failed:",C)}},[r,e]),g=p.useCallback(()=>{h(),e(!1)},[h,e]),x=s?.existingEmail||"",w=s?.attemptedProvider==="google.com"?"Google":"this provider",S=s?.existingProvider==="password"?"email and password":"another provider";return f.jsx(Pa,{open:n,onOpenChange:e,children:f.jsxs(Hr,{className:"sm:max-w-[425px]",children:[f.jsxs(za,{children:[f.jsx(Wr,{children:"Link Your Accounts"}),f.jsx(Gr,{asChild:!0,children:f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("p",{children:["An account with email ",f.jsx("strong",{children:x})," already exists."]}),f.jsxs("p",{children:["You previously created an account using ",f.jsx("strong",{children:S}),". To add ",w," sign-in to your account, please:"]}),f.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-muted-foreground",children:[f.jsx("li",{children:"Sign in with your email and password below"}),f.jsxs("li",{children:['Then click "Link Accounts" to connect ',w]})]})]})})]}),c&&f.jsx("div",{className:"rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:c}),f.jsxs(ZA,{className:"flex-col sm:flex-col gap-2",children:[f.jsx(Pe,{onClick:m,disabled:o,className:"w-full",children:o?f.jsxs(f.Fragment,{children:[f.jsx(qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Sign In with Email"}),s&&f.jsx(Pe,{onClick:v,disabled:o,variant:"outline",className:"w-full",children:o?f.jsxs(f.Fragment,{children:[f.jsx(qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Linking..."]}):`Link ${w} Account`}),f.jsx(Pe,{onClick:g,disabled:o,variant:"ghost",className:"w-full",children:"Cancel"})]})]})})}function lj({open:n,onOpenChange:e,defaultTab:t="sign-in"}){const{signIn:s,signUp:r,signInWithGoogle:o,resetPassword:c,isLoading:u,error:h,clearError:m,providerLinkingError:v}=Nl(),[g,x]=p.useState(""),[w,S]=p.useState(""),[C,_]=p.useState(""),[N,T]=p.useState(""),[M,j]=p.useState(""),[P,I]=p.useState(""),[O,B]=p.useState(!1),[re,le]=p.useState(!1),[te,he]=p.useState(!1),[oe,ce]=p.useState(t),[ne,k]=p.useState(!1);p.useEffect(()=>{n?ce(t):(x(""),S(""),_(""),T(""),j(""),I(""),B(!1),le(!1),he(!1),k(!1),m())},[n,t,m]),p.useEffect(()=>{v&&k(!0)},[v]);const W=p.useCallback(async z=>{z.preventDefault(),m();try{await s(g,w),e(!1)}catch{}},[g,w,s,m,e]),V=p.useCallback(async z=>{if(z.preventDefault(),m(),N===M)try{await r(C,N),he(!0),setTimeout(()=>{e(!1),he(!1)},3e3)}catch{}},[C,N,M,r,m,e]),Y=p.useCallback(async()=>{m();try{await o(),e(!1)}catch{}},[o,m,e]),me=p.useCallback(async z=>{z.preventDefault(),m();try{await c(P),le(!0)}catch{}},[P,c,m]),D=p.useCallback(()=>{B(!1),le(!1),I(""),m()},[m]),R=p.useCallback(()=>{k(!1)},[]);return f.jsxs(f.Fragment,{children:[f.jsx(Pa,{open:n,onOpenChange:e,children:f.jsxs(Hr,{className:"sm:max-w-[425px]",children:[f.jsxs(za,{children:[f.jsx(Wr,{children:O?"Reset Password":"Welcome to PolishedCharts"}),f.jsx(Gr,{children:O?"Enter your email to receive a password reset link.":"Sign in to access your alerts and watchlist, or create a new account."})]}),h&&f.jsx("div",{className:"rounded-md bg-destructive/15 p-3 text-sm text-destructive",children:h}),te&&f.jsx("div",{className:"rounded-md bg-green-500/15 p-3 text-sm text-green-700 dark:text-green-400",children:"Verification email sent! Please check your inbox and click the link to verify your account."}),re&&f.jsx("div",{className:"rounded-md bg-green-500/15 p-3 text-sm text-green-700 dark:text-green-400",children:"If an account exists with this email, we sent an email with instructions to reset your password."}),O?f.jsxs("form",{onSubmit:me,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(ni,{htmlFor:"reset-email",children:"Email"}),f.jsx(Pi,{id:"reset-email",type:"email",placeholder:"name@example.com",value:P,onChange:z=>I(z.target.value),required:!0,disabled:u})]}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx(Pe,{type:"submit",disabled:u,className:"w-full",children:u?f.jsxs(f.Fragment,{children:[f.jsx(qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Email"}),f.jsx(Pe,{type:"button",variant:"ghost",onClick:D,disabled:u,className:"w-full",children:"Back to Sign In"})]})]}):f.jsxs(N0,{value:oe,onValueChange:z=>ce(z),children:[f.jsxs(Rf,{className:"grid w-full grid-cols-2",children:[f.jsx($r,{value:"sign-in",children:"Sign In"}),f.jsx($r,{value:"sign-up",children:"Sign Up"})]}),f.jsx(Ur,{value:"sign-in",className:"space-y-4",children:f.jsxs("form",{onSubmit:W,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(ni,{htmlFor:"signin-email",children:"Email"}),f.jsx(Pi,{id:"signin-email",type:"email",placeholder:"name@example.com",value:g,onChange:z=>x(z.target.value),required:!0,disabled:u})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(ni,{htmlFor:"signin-password",children:"Password"}),f.jsx("button",{type:"button",onClick:()=>B(!0),className:"text-xs text-muted-foreground hover:text-foreground",children:"Forgot password?"})]}),f.jsx(Pi,{id:"signin-password",type:"password",placeholder:"Enter your password",value:w,onChange:z=>S(z.target.value),required:!0,disabled:u})]}),f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsx(Pe,{type:"submit",disabled:u,className:"w-full",children:u?f.jsxs(f.Fragment,{children:[f.jsx(qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),f.jsxs(Pe,{type:"button",variant:"outline",onClick:Y,disabled:u,className:"w-full",children:[f.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})]})}),f.jsx(Ur,{value:"sign-up",className:"space-y-4",children:f.jsxs("form",{onSubmit:V,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(ni,{htmlFor:"signup-email",children:"Email"}),f.jsx(Pi,{id:"signup-email",type:"email",placeholder:"name@example.com",value:C,onChange:z=>_(z.target.value),required:!0,disabled:u})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(ni,{htmlFor:"signup-password",children:"Password"}),f.jsx(Pi,{id:"signup-password",type:"password",placeholder:"Min. 8 characters",value:N,onChange:z=>T(z.target.value),required:!0,minLength:8,disabled:u}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long."})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(ni,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),f.jsx(Pi,{id:"signup-confirm-password",type:"password",placeholder:"Re-enter your password",value:M,onChange:z=>j(z.target.value),required:!0,disabled:u})]}),f.jsx(Pe,{type:"submit",disabled:u||N!==M,className:"w-full",children:u?f.jsxs(f.Fragment,{children:[f.jsx(qo,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),f.jsxs(Pe,{type:"button",variant:"outline",onClick:Y,disabled:u,className:"w-full",children:[f.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})]})})]})]})}),f.jsx(gK,{open:ne,onOpenChange:k,onOpenSignInDialog:R})]})}const vK=({email:n,photoUrl:e})=>{if(e)return f.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",overflow:"hidden",backgroundColor:"rgba(255,255,255,0.1)"},children:f.jsx("img",{src:e,alt:n||"User",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center 20%"},referrerPolicy:"no-referrer"})});const t=n?.charAt(0).toUpperCase()||"U";return f.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground text-base font-medium",children:t})};function bK({className:n}){const{userProfile:e,signOut:t,isLoading:s}=Nl(),r=async()=>{try{await t()}catch(o){console.error("Sign out error:",o)}};return e?f.jsxs(Ah,{children:[f.jsx(jh,{asChild:!0,children:f.jsx(Pe,{variant:"ghost",className:`relative h-12 w-12 rounded-full p-0 ${n||""}`,children:f.jsx(vK,{email:e.email,photoUrl:e.photo_url})})}),f.jsxs(kc,{className:"w-56",align:"end",forceMount:!0,children:[f.jsx(Fo,{className:"font-normal",children:f.jsxs("div",{className:"flex flex-col space-y-1",children:[f.jsx("p",{className:"text-sm font-medium leading-none",children:e.email}),f.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e.email_verified?"Verified":"Unverified"})]})}),f.jsx(Xo,{}),f.jsxs(O6,{children:[f.jsxs(ws,{children:[f.jsx(mL,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Profile"})]}),f.jsxs(ws,{children:[f.jsx(X5,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:e.email_verified?"Email Verified":"Verify Email"})]})]}),f.jsx(Xo,{}),f.jsxs(ws,{onClick:r,disabled:s,className:"text-destructive focus:text-destructive",children:[f.jsx(Y5,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Sign out"})]})]})]}):null}var BE=1,yK=.9,xK=.8,wK=.17,Cv=.1,Ev=.999,SK=.9999,CK=.99,EK=/[\\\/_+.#"@\[\(\{&]/,_K=/[\\\/_+.#"@\[\(\{&]/g,NK=/[\s-]/,cj=/[\s-]/g;function m0(n,e,t,s,r,o,c){if(o===e.length)return r===n.length?BE:CK;var u=`${r},${o}`;if(c[u]!==void 0)return c[u];for(var h=s.charAt(o),m=t.indexOf(h,r),v=0,g,x,w,S;m>=0;)g=m0(n,e,t,s,m+1,o+1,c),g>v&&(m===r?g*=BE:EK.test(n.charAt(m-1))?(g*=xK,w=n.slice(r,m-1).match(_K),w&&r>0&&(g*=Math.pow(Ev,w.length))):NK.test(n.charAt(m-1))?(g*=yK,S=n.slice(r,m-1).match(cj),S&&r>0&&(g*=Math.pow(Ev,S.length))):(g*=wK,r>0&&(g*=Math.pow(Ev,m-r))),n.charAt(m)!==e.charAt(o)&&(g*=SK)),(g<Cv&&t.charAt(m-1)===s.charAt(o+1)||s.charAt(o+1)===s.charAt(o)&&t.charAt(m-1)!==s.charAt(o))&&(x=m0(n,e,t,s,m+1,o+2,c),x*Cv>g&&(g=x*Cv)),g>v&&(v=g),m=t.indexOf(h,m+1);return c[u]=v,v}function VE(n){return n.toLowerCase().replace(cj," ")}function TK(n,e,t){return n=t&&t.length>0?`${n+" "+t.join(" ")}`:n,m0(n,e,VE(n),VE(e),0,0,{})}var _c='[cmdk-group=""]',_v='[cmdk-group-items=""]',MK='[cmdk-group-heading=""]',uj='[cmdk-item=""]',FE=`${uj}:not([aria-disabled="true"])`,p0="cmdk-item-select",Bo="data-value",RK=(n,e,t)=>TK(n,e,t),dj=p.createContext(void 0),Ou=()=>p.useContext(dj),hj=p.createContext(void 0),Xb=()=>p.useContext(hj),fj=p.createContext(void 0),mj=p.forwardRef((n,e)=>{let t=Vo(()=>{var R,z;return{search:"",value:(z=(R=n.value)!=null?R:n.defaultValue)!=null?z:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Vo(()=>new Set),r=Vo(()=>new Map),o=Vo(()=>new Map),c=Vo(()=>new Set),u=pj(n),{label:h,children:m,value:v,onValueChange:g,filter:x,shouldFilter:w,loop:S,disablePointerSelection:C=!1,vimBindings:_=!0,...N}=n,T=Mn(),M=Mn(),j=Mn(),P=p.useRef(null),I=UK();Ya(()=>{if(v!==void 0){let R=v.trim();t.current.value=R,O.emit()}},[v]),Ya(()=>{I(6,oe)},[]);let O=p.useMemo(()=>({subscribe:R=>(c.current.add(R),()=>c.current.delete(R)),snapshot:()=>t.current,setState:(R,z,$)=>{var J,Q,q,ae;if(!Object.is(t.current[R],z)){if(t.current[R]=z,R==="search")he(),le(),I(1,te);else if(R==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let be=document.getElementById(j);be?be.focus():(J=document.getElementById(T))==null||J.focus()}if(I(7,()=>{var be;t.current.selectedItemId=(be=ce())==null?void 0:be.id,O.emit()}),$||I(5,oe),((Q=u.current)==null?void 0:Q.value)!==void 0){let be=z??"";(ae=(q=u.current).onValueChange)==null||ae.call(q,be);return}}O.emit()}},emit:()=>{c.current.forEach(R=>R())}}),[]),B=p.useMemo(()=>({value:(R,z,$)=>{var J;z!==((J=o.current.get(R))==null?void 0:J.value)&&(o.current.set(R,{value:z,keywords:$}),t.current.filtered.items.set(R,re(z,$)),I(2,()=>{le(),O.emit()}))},item:(R,z)=>(s.current.add(R),z&&(r.current.has(z)?r.current.get(z).add(R):r.current.set(z,new Set([R]))),I(3,()=>{he(),le(),t.current.value||te(),O.emit()}),()=>{o.current.delete(R),s.current.delete(R),t.current.filtered.items.delete(R);let $=ce();I(4,()=>{he(),$?.getAttribute("id")===R&&te(),O.emit()})}),group:R=>(r.current.has(R)||r.current.set(R,new Set),()=>{o.current.delete(R),r.current.delete(R)}),filter:()=>u.current.shouldFilter,label:h||n["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:T,inputId:j,labelId:M,listInnerRef:P}),[]);function re(R,z){var $,J;let Q=(J=($=u.current)==null?void 0:$.filter)!=null?J:RK;return R?Q(R,t.current.search,z):0}function le(){if(!t.current.search||u.current.shouldFilter===!1)return;let R=t.current.filtered.items,z=[];t.current.filtered.groups.forEach(J=>{let Q=r.current.get(J),q=0;Q.forEach(ae=>{let be=R.get(ae);q=Math.max(be,q)}),z.push([J,q])});let $=P.current;ne().sort((J,Q)=>{var q,ae;let be=J.getAttribute("id"),we=Q.getAttribute("id");return((q=R.get(we))!=null?q:0)-((ae=R.get(be))!=null?ae:0)}).forEach(J=>{let Q=J.closest(_v);Q?Q.appendChild(J.parentElement===Q?J:J.closest(`${_v} > *`)):$.appendChild(J.parentElement===$?J:J.closest(`${_v} > *`))}),z.sort((J,Q)=>Q[1]-J[1]).forEach(J=>{var Q;let q=(Q=P.current)==null?void 0:Q.querySelector(`${_c}[${Bo}="${encodeURIComponent(J[0])}"]`);q?.parentElement.appendChild(q)})}function te(){let R=ne().find($=>$.getAttribute("aria-disabled")!=="true"),z=R?.getAttribute(Bo);O.setState("value",z||void 0)}function he(){var R,z,$,J;if(!t.current.search||u.current.shouldFilter===!1){t.current.filtered.count=s.current.size;return}t.current.filtered.groups=new Set;let Q=0;for(let q of s.current){let ae=(z=(R=o.current.get(q))==null?void 0:R.value)!=null?z:"",be=(J=($=o.current.get(q))==null?void 0:$.keywords)!=null?J:[],we=re(ae,be);t.current.filtered.items.set(q,we),we>0&&Q++}for(let[q,ae]of r.current)for(let be of ae)if(t.current.filtered.items.get(be)>0){t.current.filtered.groups.add(q);break}t.current.filtered.count=Q}function oe(){var R,z,$;let J=ce();J&&(((R=J.parentElement)==null?void 0:R.firstChild)===J&&(($=(z=J.closest(_c))==null?void 0:z.querySelector(MK))==null||$.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function ce(){var R;return(R=P.current)==null?void 0:R.querySelector(`${uj}[aria-selected="true"]`)}function ne(){var R;return Array.from(((R=P.current)==null?void 0:R.querySelectorAll(FE))||[])}function k(R){let z=ne()[R];z&&O.setState("value",z.getAttribute(Bo))}function W(R){var z;let $=ce(),J=ne(),Q=J.findIndex(ae=>ae===$),q=J[Q+R];(z=u.current)!=null&&z.loop&&(q=Q+R<0?J[J.length-1]:Q+R===J.length?J[0]:J[Q+R]),q&&O.setState("value",q.getAttribute(Bo))}function V(R){let z=ce(),$=z?.closest(_c),J;for(;$&&!J;)$=R>0?zK($,_c):$K($,_c),J=$?.querySelector(FE);J?O.setState("value",J.getAttribute(Bo)):W(R)}let Y=()=>k(ne().length-1),me=R=>{R.preventDefault(),R.metaKey?Y():R.altKey?V(1):W(1)},D=R=>{R.preventDefault(),R.metaKey?k(0):R.altKey?V(-1):W(-1)};return p.createElement(hi.div,{ref:e,tabIndex:-1,...N,"cmdk-root":"",onKeyDown:R=>{var z;(z=N.onKeyDown)==null||z.call(N,R);let $=R.nativeEvent.isComposing||R.keyCode===229;if(!(R.defaultPrevented||$))switch(R.key){case"n":case"j":{_&&R.ctrlKey&&me(R);break}case"ArrowDown":{me(R);break}case"p":case"k":{_&&R.ctrlKey&&D(R);break}case"ArrowUp":{D(R);break}case"Home":{R.preventDefault(),k(0);break}case"End":{R.preventDefault(),Y();break}case"Enter":{R.preventDefault();let J=ce();if(J){let Q=new Event(p0);J.dispatchEvent(Q)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:B.inputId,id:B.labelId,style:VK},h),bm(n,R=>p.createElement(hj.Provider,{value:O},p.createElement(dj.Provider,{value:B},R))))}),AK=p.forwardRef((n,e)=>{var t,s;let r=Mn(),o=p.useRef(null),c=p.useContext(fj),u=Ou(),h=pj(n),m=(s=(t=h.current)==null?void 0:t.forceMount)!=null?s:c?.forceMount;Ya(()=>{if(!m)return u.item(r,c?.id)},[m]);let v=gj(r,o,[n.value,n.children,o],n.keywords),g=Xb(),x=Xr(I=>I.value&&I.value===v.current),w=Xr(I=>m||u.filter()===!1?!0:I.search?I.filtered.items.get(r)>0:!0);p.useEffect(()=>{let I=o.current;if(!(!I||n.disabled))return I.addEventListener(p0,S),()=>I.removeEventListener(p0,S)},[w,n.onSelect,n.disabled]);function S(){var I,O;C(),(O=(I=h.current).onSelect)==null||O.call(I,v.current)}function C(){g.setState("value",v.current,!0)}if(!w)return null;let{disabled:_,value:N,onSelect:T,forceMount:M,keywords:j,...P}=n;return p.createElement(hi.div,{ref:Rt(o,e),...P,id:r,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!x,"data-disabled":!!_,"data-selected":!!x,onPointerMove:_||u.getDisablePointerSelection()?void 0:C,onClick:_?void 0:S},n.children)}),jK=p.forwardRef((n,e)=>{let{heading:t,children:s,forceMount:r,...o}=n,c=Mn(),u=p.useRef(null),h=p.useRef(null),m=Mn(),v=Ou(),g=Xr(w=>r||v.filter()===!1?!0:w.search?w.filtered.groups.has(c):!0);Ya(()=>v.group(c),[]),gj(c,u,[n.value,n.heading,h]);let x=p.useMemo(()=>({id:c,forceMount:r}),[r]);return p.createElement(hi.div,{ref:Rt(u,e),...o,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&p.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:m},t),bm(n,w=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?m:void 0},p.createElement(fj.Provider,{value:x},w))))}),kK=p.forwardRef((n,e)=>{let{alwaysRender:t,...s}=n,r=p.useRef(null),o=Xr(c=>!c.search);return!t&&!o?null:p.createElement(hi.div,{ref:Rt(r,e),...s,"cmdk-separator":"",role:"separator"})}),OK=p.forwardRef((n,e)=>{let{onValueChange:t,...s}=n,r=n.value!=null,o=Xb(),c=Xr(m=>m.search),u=Xr(m=>m.selectedItemId),h=Ou();return p.useEffect(()=>{n.value!=null&&o.setState("search",n.value)},[n.value]),p.createElement(hi.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":u,id:h.inputId,type:"text",value:r?n.value:c,onChange:m=>{r||o.setState("search",m.target.value),t?.(m.target.value)}})}),DK=p.forwardRef((n,e)=>{let{children:t,label:s="Suggestions",...r}=n,o=p.useRef(null),c=p.useRef(null),u=Xr(m=>m.selectedItemId),h=Ou();return p.useEffect(()=>{if(c.current&&o.current){let m=c.current,v=o.current,g,x=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let w=m.offsetHeight;v.style.setProperty("--cmdk-list-height",w.toFixed(1)+"px")})});return x.observe(m),()=>{cancelAnimationFrame(g),x.unobserve(m)}}},[]),p.createElement(hi.div,{ref:Rt(o,e),...r,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":s,id:h.listId},bm(n,m=>p.createElement("div",{ref:Rt(c,h.listInnerRef),"cmdk-list-sizer":""},m)))}),IK=p.forwardRef((n,e)=>{let{open:t,onOpenChange:s,overlayClassName:r,contentClassName:o,container:c,...u}=n;return p.createElement(Fb,{open:t,onOpenChange:s},p.createElement(Hb,{container:c},p.createElement(pm,{"cmdk-overlay":"",className:r}),p.createElement(gm,{"aria-label":n.label,"cmdk-dialog":"",className:o},p.createElement(mj,{ref:e,...u}))))}),LK=p.forwardRef((n,e)=>Xr(t=>t.filtered.count===0)?p.createElement(hi.div,{ref:e,...n,"cmdk-empty":"",role:"presentation"}):null),PK=p.forwardRef((n,e)=>{let{progress:t,children:s,label:r="Loading...",...o}=n;return p.createElement(hi.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},bm(n,c=>p.createElement("div",{"aria-hidden":!0},c)))}),Xn=Object.assign(mj,{List:DK,Item:AK,Input:OK,Group:jK,Separator:kK,Dialog:IK,Empty:LK,Loading:PK});function zK(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function $K(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function pj(n){let e=p.useRef(n);return Ya(()=>{e.current=n}),e}var Ya=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Vo(n){let e=p.useRef();return e.current===void 0&&(e.current=n()),e}function Xr(n){let e=Xb(),t=()=>n(e.snapshot());return p.useSyncExternalStore(e.subscribe,t,t)}function gj(n,e,t,s=[]){let r=p.useRef(),o=Ou();return Ya(()=>{var c;let u=(()=>{var m;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(m=v.current.textContent)==null?void 0:m.trim():r.current}})(),h=s.map(m=>m.trim());o.value(n,u,h),(c=e.current)==null||c.setAttribute(Bo,u),r.current=u}),r}var UK=()=>{let[n,e]=p.useState(),t=Vo(()=>new Map);return Ya(()=>{t.current.forEach(s=>s()),t.current=new Map},[n]),(s,r)=>{t.current.set(s,r),e({})}};function BK(n){let e=n.type;return typeof e=="function"?e(n.props):"render"in e?e.render(n.props):n}function bm({asChild:n,children:e},t){return n&&p.isValidElement(e)?p.cloneElement(BK(e),{ref:e.ref},t(e.props.children)):t(e)}var VK={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Jb=p.forwardRef(({className:n,...e},t)=>f.jsx(Xn,{ref:t,className:Ce("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...e}));Jb.displayName=Xn.displayName;const FK=({children:n,...e})=>f.jsx(Pa,{...e,children:f.jsxs(Hr,{className:"overflow-hidden p-0",children:[f.jsx(Wr,{className:"sr-only",children:"Command Palette"}),f.jsx(Gr,{className:"sr-only",children:"Search and execute commands."}),f.jsx(Jb,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})]})}),vj=p.forwardRef(({className:n,...e},t)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(Af,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(Xn.Input,{ref:t,className:Ce("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...e})]}));vj.displayName=Xn.Input.displayName;const bj=p.forwardRef(({className:n,...e},t)=>f.jsx(Xn.List,{ref:t,className:Ce("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...e}));bj.displayName=Xn.List.displayName;const yj=p.forwardRef((n,e)=>f.jsx(Xn.Empty,{ref:e,className:"py-6 text-center text-sm",...n}));yj.displayName=Xn.Empty.displayName;const xj=p.forwardRef(({className:n,...e},t)=>f.jsx(Xn.Group,{ref:t,className:Ce("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...e}));xj.displayName=Xn.Group.displayName;const HK=p.forwardRef(({className:n,...e},t)=>f.jsx(Xn.Separator,{ref:t,className:Ce("-mx-1 h-px bg-border",n),...e}));HK.displayName=Xn.Separator.displayName;const wj=p.forwardRef(({className:n,...e},t)=>f.jsx(Xn.Item,{ref:t,className:Ce("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n),...e}));wj.displayName=Xn.Item.displayName;const WK=({open:n,onOpenChange:e,onSelectSymbol:t,className:s})=>{const[r,o]=p.useState(""),[c,u]=p.useState(""),[h,m]=p.useState([]),[v,g]=p.useState(!1),[x,w]=p.useState(null),[S,C]=p.useState(!1),[_,N]=p.useState(null),T=p.useRef(!0);p.useEffect(()=>(T.current=!0,()=>{T.current=!1}),[]),p.useEffect(()=>{N(null)},[r]),p.useEffect(()=>{const I=setTimeout(()=>{u(r)},300);return()=>clearTimeout(I)},[r]),p.useEffect(()=>{(async()=>{if(w(null),!c||c.length<1){m([]),g(!1);return}if(c.length>5){m([]),g(!1);return}g(!0);try{const O=await YY(c);m(O)}catch(O){const B=O instanceof Error?O.message:"Search failed";w(B),m([])}finally{g(!1)}})()},[c]);const M=p.useCallback(async I=>{const O=await t(I);T.current&&(O.ok?(e(!1),o(""),m([]),w(null),C(!1),N(null)):N(O.detail))},[t,e]),j=p.useCallback(I=>{e(I),I||(o(""),m([]),w(null),C(!1),N(null))},[e]),P=p.useCallback(async I=>{C(!0),N(null);const O=I.trim().toUpperCase();try{const B=await t(O);if(!T.current)return;B.ok?(o(""),m([]),w(null),C(!1),N(null),e(!1)):N(B.detail)}finally{T.current&&C(!1)}},[t,e]);return f.jsx(FK,{open:n,onOpenChange:j,children:f.jsxs(Jb,{className:s,children:[f.jsx(vj,{placeholder:"Search symbols (e.g., AAPL)...",value:r,onValueChange:o}),f.jsxs(bj,{children:[x&&f.jsx("div",{className:"py-6 text-center text-sm text-rose-500",children:x}),v&&!x&&f.jsxs("div",{className:"py-6 text-center text-sm text-slate-500 flex items-center justify-center gap-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-slate-500 border-t-transparent"}),"Searching..."]}),!v&&!x&&c&&h.length===0&&f.jsx(yj,{children:!v&&!x&&c&&f.jsx(f.Fragment,{children:S?f.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-slate-500 border-t-transparent"}),f.jsxs("p",{className:"text-sm text-slate-500",children:["Validating ",f.jsx("span",{className:"font-bold text-slate-200",children:c})," with Yahoo Finance..."]})]}):_?f.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[f.jsx("p",{className:"text-sm text-rose-500",children:_}),f.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>N(null),children:"Try again"})]}):f.jsxs("div",{className:"flex flex-col items-center gap-3 py-4",children:[f.jsxs("p",{className:"text-sm text-slate-500",children:["No symbols found for ",f.jsxs("span",{className:"font-bold text-slate-200",children:['"',c,'"']})]}),f.jsxs(Pe,{variant:"default",size:"sm",onClick:()=>P(c),className:"gap-2",disabled:S,children:["Add ",c.toUpperCase()," to watchlist"]}),f.jsx("p",{className:"text-xs text-slate-600 max-w-[250px]",children:"Ticker will be validated with Yahoo Finance and historical data will be backfilled"})]})})}),!v&&!x&&h.length>0&&f.jsx(xj,{heading:"Results",children:h.map(I=>f.jsxs(wj,{value:I.symbol,onSelect:()=>M(I.symbol),className:"cursor-pointer",children:[f.jsx("span",{className:"font-bold text-black",children:I.symbol}),f.jsx("span",{className:"ml-2 text-slate-500 truncate",children:I.display_name})]},I.symbol))}),!v&&!x&&!c&&f.jsx("div",{className:"py-6 text-center text-sm text-slate-500",children:"Type to search for stock symbols"})]})]})})};function GK(n){return n.sort_order.map((e,t)=>({id:t,symbol:e,added_at:n.created_at,sort_order:t}))}const Sj=(n=!0)=>{const{isAuthenticated:e,user:t}=Nl(),s=!e||!t,[r,o]=p.useState([]),[c,u]=p.useState(!0),[h,m]=p.useState(null),v=p.useCallback(async()=>{u(!0),m(null);try{if(s){const _=HY();o(GK(_))}else{const _=await KY();o(_)}}catch(_){const N=_ instanceof Error?_.message:"Failed to fetch watchlist";m(N),console.error("Error fetching watchlist:",_)}finally{u(!1)}},[s]),g=p.useCallback(async _=>{u(!0),m(null);try{if(s){const N=WY(_);return await v(),N}else{const N=await XY(_);return(N.status==="added"||N.status==="already_present")&&await v(),N}}catch(N){const T=N instanceof Error?N.message:"Failed to add symbol";throw m(T),console.error("Error adding symbol:",N),N}finally{u(!1)}},[s,v]),x=p.useCallback(async _=>{u(!0),m(null);try{s?GY(_):await JY(_),await v()}catch(N){const T=N instanceof Error?N.message:"Failed to remove symbol";throw m(T),console.error("Error removing symbol:",N),N}finally{u(!1)}},[s,v]),w=p.useCallback(async _=>{u(!0),m(null);try{s?qY(_):await QY(_),await v()}catch(N){const T=N instanceof Error?N.message:"Failed to update watchlist order";throw m(T),console.error("Error updating watchlist order:",N),N}finally{u(!1)}},[s,v]),S=p.useCallback(()=>{m(null)},[]);p.useEffect(()=>{n&&v()},[n,v]),p.useEffect(()=>{n&&v()},[s,n,v]);const C=p.useMemo(()=>r.map(_=>_.symbol),[r]);return{entries:r,symbols:C,isLoading:c,error:h,refetch:v,addSymbol:g,removeSymbol:x,updateOrder:w,clearError:S,isGuest:s}};function qK(n,e,t){const s=p.useRef(!1);p.useEffect(()=>{if(n.isLoading||s.current)return;const r=n.symbols.length>0?n.symbols[0]:e==="LOADING"?"SPY":e;r!==e&&t(r),s.current=!0},[n.isLoading,n.symbols,e,t])}function YK(n){return{"1m":6e4,"2m":12e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"4h":144e5,"1d":864e5,"1wk":6048e5}[n]||864e5}function HE({candles:n,symbol:e,interval:t,hasMore:s,isFetching:r,onFetchMore:o}){const c=p.useRef(n);c.current=n;const u=p.useRef(0),h=500;return p.useCallback(v=>{if(!v||r)return;const g=Date.now();if(g-u.current<h||c.current.length===0)return;const x=c.current,w=500,S=1500;if(s&&v.from<=w){u.current=g;const C=new Date(x[0].timestamp),_=C.toISOString(),N=YK(t),T=new Date(C.getTime()-S*N);o(T.toISOString(),_)}},[e,t,s,r,o])}const Qb="indicatorinstance",Cj="indicatorlistglobal",WE=100;function KK(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function XK(n){return jA[n.toLowerCase()]||sl.color}function JK(n,e){const t=KK(),s=XK(n),r=Object.values(e).join(", "),o=`${n.toUpperCase()}(${r})`;return{id:t,indicatorType:{category:"overlay",name:n,params:e},displayName:o,style:{...sl,color:s},isVisible:!0,createdAt:new Date().toISOString()}}function Zb(n,e){try{return localStorage.setItem(n,e),!0}catch(t){return t instanceof DOMException&&(t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")?(console.warn("[useIndicatorInstances] localStorage quota exceeded, changes not persisted:",n),!1):(console.error("[useIndicatorInstances] localStorage error:",t),!1)}}function Ej(n){try{return localStorage.getItem(n)}catch(e){return console.error("[useIndicatorInstances] localStorage read error:",e),null}}function QK(n){try{return localStorage.removeItem(n),!0}catch(e){return console.error("[useIndicatorInstances] localStorage remove error:",e),!1}}function ZK(n){const e=n.match(/^([a-zA-Z_]+)_(\d+(\.\d+)?)$/);if(e){const t=e[1];if(["sma","ema","dema","tema","wma","hma","vwma","kama","mama","rsi","cci","adx","aroon","mfi","willr","cmo","mom","roc","atr","stoch","stochrsi","macd","bbands","kc","donchian","uo","tsi","pgo","apo","ppo","ao","obv","fi","eri"].includes(t))return console.log(`[useIndicatorInstances] Migrating indicator name: '${n}' -> '${t}'`),t}return n}function eX(){const n=Ej(Cj);if(!n)return null;try{return JSON.parse(n)}catch(e){return console.error("[useIndicatorInstances] Failed to parse indicator list:",e),null}}function tX(n){return Zb(Cj,JSON.stringify(n))}function nX(n){const e=`${Qb}${n}`,t=Ej(e);if(!t)return null;try{const s=JSON.parse(t);if(s.indicatorType&&s.indicatorType.name){const r=ZK(s.indicatorType.name);r!==s.indicatorType.name&&(s.indicatorType.name=r,Zb(e,JSON.stringify(s)))}return s}catch(s){return console.error("[useIndicatorInstances] Failed to parse indicator instance:",s),null}}function sX(n){const e=`${Qb}${n.id}`;return Zb(e,JSON.stringify(n))}function iX(n){const e=`${Qb}${n}`;return QK(e)}function rX(){const[n,e]=p.useState([]),[t,s]=p.useState(!1),[r,o]=p.useState(!1),c=p.useRef(new Map),u=p.useRef(null);p.useEffect(()=>{const N=eX();if(!N){e([]),s(!0);return}const T=[];for(const M of N.instances){const j=nX(M);j&&T.push(j)}e(T),s(!0)},[]);const h=p.useCallback(()=>{if(c.current.size===0)return;let N=0;for(const[T,M]of c.current)sX(M)||N++;N>0?(o(!0),console.warn(`[useIndicatorInstances] ${N} localStorage write(s) failed - changes applied for current session only`)):o(!1),c.current.clear(),u.current&&(clearTimeout(u.current),u.current=null)},[]);p.useEffect(()=>()=>{h()},[h]);const m=p.useCallback(N=>{c.current.set(N.id,N),u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{h()},WE)},[h]),v=p.useCallback(N=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{h(),tX(N)},WE)},[h]),g=p.useCallback((N,T)=>{const M=JK(N,T),j=[...n,M];e(j);const P={instances:j.map(I=>I.id),updatedAt:new Date().toISOString()};return m(M),v(P),{success:!0,instanceId:M.id}},[n,m,v]),x=p.useCallback(N=>{const T=n.filter(j=>j.id!==N);e(T),iX(N);const M={instances:T.map(j=>j.id),updatedAt:new Date().toISOString()};return v(M),!0},[n,v]),w=p.useCallback((N,T)=>{const M=n.find(O=>O.id===N);if(!M)return!1;const j={...M.style,...T},P={...M,style:j},I=n.map(O=>O.id===N?P:O);return e(I),m(P),!0},[n,m]),S=p.useCallback((N,T)=>{const M=n.find(re=>re.id===N);if(!M)return!1;const j={...M.indicatorType.params,...T},P=Object.values(j).join(", "),I=`${M.indicatorType.name.toUpperCase()}(${P})`,O={...M,indicatorType:{...M.indicatorType,params:j},displayName:I},B=n.map(re=>re.id===N?O:re);return e(B),m(O),!0},[n,m]),C=p.useCallback(N=>{const T=n.find(P=>P.id===N);if(!T)return!1;const M={...T,isVisible:!T.isVisible},j=n.map(P=>P.id===N?M:P);return e(j),m(M),!0},[n,m]),_=p.useCallback((N,T)=>{const M=n.find(I=>I.id===N);if(!M)return!1;const j={...M,...T},P=n.map(I=>I.id===N?j:I);return e(P),m(j),!0},[n,m]);return{instances:n,isLoaded:t,isOffline:r,addIndicator:g,removeIndicator:x,updateStyle:w,updateParams:S,toggleVisibility:C,updateInstance:_,flushPendingWrites:h}}function aX(n,e,t){if(t.type==="int"||t.type==="integer"){if(typeof e=="string"){const s=Number(e);if(isNaN(s)||!Number.isInteger(s))return`${n} must be an integer`;e=s}if(typeof e!="number"||!Number.isInteger(e))return`${n} must be an integer`}else if(t.type==="float"){if(typeof e=="string"){const s=Number(e);if(isNaN(s))return`${n} must be a number`;e=s}if(typeof e!="number"||isNaN(e))return`${n} must be a number`}return t.min!==void 0&&typeof e=="number"&&e<t.min?`${n} must be at least ${t.min}`:t.max!==void 0&&typeof e=="number"&&e>t.max?`${n} must be at most ${t.max}`:t.type==="str"&&typeof e=="string"&&e.trim()===""?`${n} cannot be empty`:null}function oX({params:n,parameterDefinitions:e,onParamChange:t,errors:s,disabled:r=!1,onDraftValidityChange:o}){const[c,u]=p.useState({}),[h,m]=p.useState({}),[v,g]=p.useState(new Set),x=p.useMemo(()=>e.map(j=>j.name).sort(),[e]);p.useEffect(()=>{const j={},P={};e.forEach(I=>{if(I.type==="int"||I.type==="float"){const O=n[I.name]??I.default;j[I.name]=O,v.has(I.name)||(P[I.name]=String(O))}}),m(j),u(I=>({...P,...I})),g(new Set)},[x]);const w=p.useCallback((j,P)=>{if(j===""||j==="-"||j==="."||j.endsWith("."))return{valid:!1,isPartial:!0};const I=P.type==="int"?parseInt(j,10):parseFloat(j);return isNaN(I)?{valid:!1,error:"Invalid number"}:P.min!==void 0&&I<P.min?{valid:!1,error:`Must be at least ${P.min}`,parsedValue:I}:P.max!==void 0&&I>P.max?{valid:!1,error:`Must be at most ${P.max}`,parsedValue:I}:{valid:!0,parsedValue:I}},[]),S=p.useCallback((j,P)=>{const I=c[j];if(!I||!v.has(j))return!1;const O=w(I,P);return!O.valid&&!O.isPartial},[c,v,w]),C=p.useCallback((j,P)=>{u(I=>({...I,[j]:P})),g(I=>new Set(I).add(j))},[]),_=p.useCallback(j=>{const{name:P}=j,I=c[P];if(!v.has(P))return;const O=w(I||"",j);O.valid&&O.parsedValue!==void 0?(t(P,O.parsedValue),m(B=>({...B,[P]:O.parsedValue})),u(B=>({...B,[P]:String(O.parsedValue)}))):!O.valid&&!O.isPartial||O.isPartial&&N(P)},[c,v,w,t]),N=p.useCallback(j=>{const P=h[j];P!==void 0&&(u(I=>({...I,[j]:String(P)})),g(I=>{const O=new Set(I);return O.delete(j),O}))},[h]);p.useEffect(()=>{const j=e.some(P=>P.type!=="int"&&P.type!=="float"?!1:S(P.name,P));o?.(j)},[c,e,S,o]);const T=j=>j.step!==void 0?j.step:j.type==="int"?1:.01,M=j=>{const{name:P,type:I,description:O}=j,B=n[P]??j.default,re=s[P],le=c[P],te=v.has(P),he=te&&le?w(le||"",j):null,oe=re!==void 0&&B!==""||he&&!he.valid&&!he.isPartial,ce=te&&he&&!he.valid,ne=`
      w-full px-3 py-2 rounded border text-sm
      ${oe?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-slate-700 focus:ring-blue-500 focus:border-blue-500"}
      bg-slate-800 text-white
      disabled:bg-slate-900 disabled:text-slate-500
      transition-colors
    `;if(I==="str")return f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:`param-${P}`,className:"text-sm font-medium text-slate-300",children:P}),oe&&f.jsx("span",{className:"text-xs text-red-400",children:re})]}),f.jsx("input",{id:`param-${P}`,type:"text",value:String(B??""),onChange:Y=>C(P,Y.target.value),onBlur:()=>_(j),disabled:r,className:ne,placeholder:O}),O&&f.jsx("p",{className:"text-xs text-slate-500",children:O})]},P);const k=j.min??Number.MIN_SAFE_INTEGER,W=j.max??Number.MAX_SAFE_INTEGER,V=T(j);return f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{htmlFor:`param-${P}`,className:"text-sm font-medium text-slate-300",children:P}),ce&&f.jsx(hL,{className:"w-4 h-4 text-amber-500","aria-label":"Invalid value"})]}),oe&&f.jsx("span",{className:"text-xs text-red-400",children:he?.error||re})]}),f.jsx("input",{id:`param-${P}`,type:"number",value:c[P]??String(B??""),onChange:Y=>C(P,Y.target.value),onBlur:()=>_(j),onKeyDown:Y=>{Y.key==="Enter"&&_(j),Y.key==="Escape"&&N(P)},disabled:r,min:k,max:W,step:V,className:ne}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[f.jsx("span",{children:O}),f.jsx("span",{children:j.min!==void 0&&j.max!==void 0?`Range: ${j.min} - ${j.max}`:j.min!==void 0?`Min: ${j.min}`:j.max!==void 0?`Max: ${j.max}`:null})]})]},P)};return e.length===0?f.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No parameters available for this indicator"}):f.jsx("div",{className:"space-y-4",children:e.map(M)})}function lX(n){if(!n)return!1;const e=n.replace("#","");return/^[0-9A-Fa-f]{3}$|^[0-9A-Fa-f]{6}$/.test(e)}function g0(n){if(!n)return"#000000";let e=n.replace("#","").toLowerCase();return e.length===3&&(e=e.split("").map(t=>t+t).join("")),`#${e}`}function Nc(n){return g0(n).toUpperCase()}function v0({value:n,onChange:e,disabled:t=!1,label:s,showTextInput:r=!0,className:o=""}){const[c,u]=p.useState(()=>Nc(n)),[h,m]=p.useState(!0);p.useEffect(()=>{u(Nc(n)),m(!0)},[n]);const v=p.useCallback(w=>{const S=w.target.value;u(Nc(S)),m(!0),e(S)},[e]),g=p.useCallback(w=>{if(t)return;let S=w.target.value.slice(0,6);if(!S){u(""),m(!0);return}if((S.length===3||S.length===6)&&lX(S)){const _=g0(S);u(Nc(_)),m(!0),e(_)}else u(S),m(!1)},[e,t]),x=p.useCallback(()=>{(!h||!c)&&(u(Nc(n)),m(!0))},[h,c,n]);return f.jsxs("div",{className:`flex items-center gap-2 ${o}`,children:[s&&f.jsx("label",{className:"text-sm text-slate-300",children:s}),f.jsx("div",{className:"relative flex items-center",children:f.jsx("input",{type:"color",value:g0(n),onChange:v,disabled:t,className:`
            w-10 h-10 rounded cursor-pointer border-2
            ${t?"opacity-50 cursor-not-allowed":"hover:border-slate-400"}
            ${h?"border-slate-600":"border-red-500"}
          `,"aria-label":s||"Pick a color"})}),r&&f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400",children:"#"}),f.jsx("input",{type:"text",value:c.replace("#",""),onChange:g,onBlur:x,disabled:t,maxLength:6,className:`
              w-24 px-6 py-1.5 bg-slate-800 border rounded text-sm
              focus:outline-none focus:ring-2 focus:ring-blue-500
              ${t?"opacity-50 cursor-not-allowed":""}
              ${h?"border-slate-600 text-slate-200":"border-red-500 text-red-400"}
              font-mono uppercase
            `,"aria-label":"Hex color code",placeholder:"000000"})]}),!h&&f.jsx("span",{className:"text-xs text-red-400",role:"alert",children:"Invalid hex"})]})}const cX=[{name:"Orange",value:"#ff6d00"},{name:"Blue",value:"#2962ff"},{name:"Red",value:"#ef5350"},{name:"Green",value:"#26a69a"},{name:"Cyan",value:"#00bcd4"},{name:"Yellow",value:"#ffeb3b"},{name:"Purple",value:"#aa00ff"},{name:"Gray",value:"#9e9e9e"},{name:"White",value:"#ffffff"}];function uX({showPresets:n=!0,presets:e=cX,...t}){return f.jsxs("div",{className:"space-y-3",children:[f.jsx(v0,{...t}),n&&f.jsxs("div",{className:"space-y-2",children:[f.jsx("span",{className:"text-sm text-slate-400",children:"Quick Select:"}),f.jsx("div",{className:"grid grid-cols-5 gap-2",children:e.map(s=>f.jsx("button",{type:"button",onClick:()=>t.onChange(s.value),disabled:t.disabled,className:`
                  w-full aspect-square rounded border-2 transition-all
                  ${t.disabled?"opacity-50 cursor-not-allowed":"hover:scale-105 hover:border-slate-400"}
                  ${t.value===s.value?"ring-2 ring-blue-500 ring-offset-2 ring-offset-slate-900":"border-slate-600"}
                `,style:{backgroundColor:s.value},title:s.name,"aria-label":`Select ${s.name} color`},s.value))})]})]})}const dX=[1,2,3,4];function hX(n,e){return p.useMemo(()=>{if(!n||n.length<=1)return null;const s=n.filter(r=>r.role==="signal"?e==="single":!0).sort((r,o)=>{const c=u=>u==="main"?0:u==="band"?1:u==="histogram"?2:3;return c(r.role)-c(o.role)});return s.length>0?s:null},[n,e])}function fX({instance:n,onStyleChange:e,disabled:t=!1,showLabels:s=!0,className:r="",seriesMetadata:o,indicatorMetadata:c}){const{style:u}=n,h=hX(o,c?.color_mode),m=p.useMemo(()=>c?.color_mode==="trend"&&o?.some(C=>C.role==="signal"),[c,o]),v=p.useCallback((C,_,N)=>{const T=_?{color:N}:{seriesColors:{...u.seriesColors||{},[C]:N}};e(T)},[e,u.seriesColors]),g=p.useCallback((C,_)=>{e({seriesColors:{...u.seriesColors||{},[C]:_}})},[e,u.seriesColors]),x=p.useCallback(C=>{e({color:C})},[e]),w=p.useCallback(C=>{e({lineWidth:C})},[e]),S=p.useCallback(C=>{e({showLastValue:C})},[e]);return f.jsxs("div",{className:`space-y-6 ${r}`,children:[m?f.jsxs("div",{className:"space-y-4",children:[s&&f.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Trend Colors"}),f.jsx("div",{className:"space-y-3",children:[{key:"bullish",label:"Bullish (Up)",default:"#00FF00"},{key:"neutral",label:"Neutral (Flat)",default:"#FFFF00"},{key:"bearish",label:"Bearish (Down)",default:"#ef5350"}].map(({key:C,label:_,default:N})=>{const T=u.seriesColors?.[C]||c?.color_schemes?.[C]||N;return f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:T},"aria-hidden":"true"}),f.jsx("span",{className:"text-sm text-slate-300",children:_})]}),f.jsx(v0,{value:T,onChange:M=>g(C,M),disabled:t})]},C)})}),f.jsx("p",{className:"text-xs text-slate-500",children:"Colors for uptrend, neutral, and downtrend states"})]}):h?f.jsxs("div",{className:"space-y-4",children:[s&&f.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Series Colors"}),f.jsx("div",{className:"space-y-3",children:h.map(C=>{const _=C.role==="main",N=_?u.color:u.seriesColors?.[C.field]||C.line_color;return f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:N},"aria-hidden":"true"}),f.jsx("span",{className:"text-sm text-slate-300",children:C.label}),_&&f.jsx("span",{className:"text-xs text-slate-500",children:"(main)"})]}),f.jsx(v0,{value:N,onChange:T=>v(C.field,_,T),disabled:t})]},C.field)})}),f.jsx("p",{className:"text-xs text-slate-500",children:"Customize color for each series"})]}):f.jsxs("div",{className:"space-y-3",children:[s&&f.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Line Color"}),f.jsx(uX,{value:u.color,onChange:x,disabled:t,showPresets:!0})]}),f.jsxs("div",{className:"space-y-3",children:[s&&f.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Line Width"}),f.jsx("div",{className:"flex items-center gap-2",children:dX.map(C=>f.jsxs("button",{type:"button",onClick:()=>w(C),disabled:t,className:`
                relative w-12 h-12 rounded-lg border-2 transition-all
                ${t?"opacity-50 cursor-not-allowed":"hover:border-slate-400 active:scale-95"}
                ${u.lineWidth===C?"border-blue-500 bg-blue-500/20 ring-2 ring-blue-500 ring-offset-2 ring-offset-slate-900":"border-slate-600 bg-slate-800"}
              `,"aria-label":`Line width ${C} pixel${C!==1?"s":""}`,"aria-pressed":u.lineWidth===C,children:[f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"bg-current",style:{width:"70%",height:`${C}px`,backgroundColor:u.color}})}),f.jsx("span",{className:"absolute bottom-1 right-1 text-xs font-mono text-slate-400",children:C})]},C))}),f.jsx("p",{className:"text-xs text-slate-500",children:"Line width in pixels (1-4)"})]}),f.jsxs("div",{className:"space-y-3",children:[s&&f.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Last Value Label"}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg border border-slate-600",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-slate-200",children:"Show price value on chart"}),f.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Display the last value on the price scale"})]}),f.jsx("button",{type:"button",onClick:()=>S(!u.showLastValue),disabled:t,role:"switch","aria-checked":u.showLastValue,className:`
              relative inline-flex h-6 w-11 items-center rounded-full transition-colors
              ${t?"opacity-50 cursor-not-allowed bg-slate-700":u.showLastValue?"bg-blue-600":"bg-slate-600 hover:bg-slate-500"}
            `,children:f.jsx("span",{className:`
                inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                ${u.showLastValue?"translate-x-6":"translate-x-1"}
              `})})]})]}),f.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-700",children:[f.jsx("p",{className:"text-xs font-medium text-slate-400 uppercase tracking-wide",children:"Preview"}),f.jsx("div",{className:"p-4 bg-slate-900 rounded-lg border border-slate-700",children:f.jsxs("svg",{width:"100%",height:"60",className:"overflow-visible",children:[f.jsx("line",{x1:"0",y1:"15",x2:"100",y2:"15",stroke:"#334155",strokeWidth:"1"}),f.jsx("line",{x1:"0",y1:"30",x2:"100",y2:"30",stroke:"#334155",strokeWidth:"1"}),f.jsx("line",{x1:"0",y1:"45",x2:"100",y2:"45",stroke:"#334155",strokeWidth:"1"}),f.jsx("polyline",{points:"0,45 20,35 40,40 60,20 80,25 100,15",fill:"none",stroke:u.color,strokeWidth:u.lineWidth,strokeLinecap:"round",strokeLinejoin:"round"}),u.showLastValue&&f.jsx("text",{x:"100%",y:"10",textAnchor:"end",fill:u.color,fontSize:"12",fontWeight:"600",children:"150.25"})]})}),f.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Changes apply immediately"})]})]})}function mX({visible:n,onToggle:e,disabled:t=!1,label:s="Visible",className:r}){const o=c=>{e(c)};return f.jsxs("div",{className:Ce("flex items-center gap-3",r),children:[f.jsx(Pb,{checked:n,onCheckedChange:o,disabled:t,className:Ce("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-blue-600 data-[state=unchecked]:bg-slate-700"),children:f.jsx(wA,{className:Ce("pointer-events-none block h-4 w-4 rounded-full bg-white shadow-lg ring-0 transition-transform","data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}),s&&f.jsx("label",{htmlFor:void 0,className:Ce("text-sm font-medium leading-none",t?"text-slate-500":"text-slate-300"),children:s})]})}function _j({open:n,onOpenChange:e,indicator:t,indicatorMetadata:s,onApplyChanges:r,onRemove:o,disabled:c=!1}){const[u,h]=p.useState("inputs"),[m,v]=p.useState(!1),[g,x]=p.useState(!1),[w,S]=p.useState({}),[C,_]=p.useState({}),[N,T]=p.useState({}),M=p.useMemo(()=>t?{...t.indicatorType.params,...w}:{},[t?.indicatorType?.params,w]),j=Object.keys(C).length>0,P=p.useCallback((ne,k)=>{if(!t||!s)return;S(V=>({...V,[ne]:k}));const W=s.parameters.find(V=>V.name===ne);if(W){const V=aX(ne,k,W);_(Y=>{if(V)return{...Y,[ne]:V};{const{[ne]:me,...D}=Y;return D}}),V||r?.(t.id,{indicatorType:{...t.indicatorType,params:{...t.indicatorType.params,[ne]:k}}})}},[t,s,r]),I=p.useRef(t);p.useEffect(()=>{I.current=t},[t]);const O=p.useCallback(ne=>{const k=I.current;if(!k)return;const W={...k.style,...ne};r?.(k.id,{style:W})},[r]),B=p.useCallback(ne=>{t&&r?.(t.id,{isVisible:ne})},[t,r]),re=p.useCallback(()=>{t&&(e(!1),o?.(t.id))},[t,e,o]),le=p.useCallback(ne=>{!ne&&m?x(!0):e(ne)},[m,e]),te=p.useCallback(ne=>{m&&u==="inputs"?x(!0):h(ne)},[m,u]),he=p.useCallback(()=>{v(!1),x(!1),e(!1)},[e]),oe=p.useCallback(()=>{x(!1)},[]),ce=p.useCallback(()=>{S({}),_({}),T({}),h("inputs")},[]);return p.useEffect(()=>{ce()},[t?.id,ce]),t?f.jsxs(f.Fragment,{children:[f.jsx(Pa,{open:n,onOpenChange:le,children:f.jsxs(Hr,{className:"sm:max-w-[500px] bg-slate-900 border-slate-700 text-slate-100",children:[f.jsxs(za,{children:[f.jsx(Wr,{className:"text-xl text-slate-100",children:t.displayName}),f.jsx(Gr,{className:"text-slate-400",children:"Customize indicator parameters, style, and visibility. Changes apply immediately."})]}),f.jsxs(N0,{value:u,onValueChange:te,className:"w-full",children:[f.jsxs(Rf,{className:"grid w-full grid-cols-3 bg-slate-800",children:[f.jsx($r,{value:"inputs",className:"data-[state=active]:bg-slate-700",children:"Inputs"}),f.jsx($r,{value:"style",className:"data-[state=active]:bg-slate-700",children:"Style"}),f.jsx($r,{value:"visibility",className:"data-[state=active]:bg-slate-700",children:"Visibility"})]}),f.jsx(Ur,{value:"inputs",className:"mt-4 space-y-4",children:s?.parameters&&Array.isArray(s.parameters)&&s.parameters.length>0?f.jsxs(f.Fragment,{children:[f.jsx(oX,{params:M,parameterDefinitions:s.parameters,onParamChange:P,errors:C,disabled:c,onDraftValidityChange:v}),j&&f.jsx("div",{className:"p-3 bg-red-900/20 border border-red-700 rounded-lg",children:f.jsx("p",{className:"text-sm text-red-400",children:"Please fix validation errors before continuing."})})]}):f.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No parameters available for this indicator"})}),f.jsx(Ur,{value:"style",className:"mt-4",children:f.jsx(fX,{instance:t,onStyleChange:O,disabled:c,showLabels:!0,seriesMetadata:s?.series_metadata,indicatorMetadata:s})}),f.jsx(Ur,{value:"visibility",className:"mt-4 space-y-6",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-slate-800 rounded-lg border border-slate-700",children:[f.jsx(mX,{visible:t.isVisible,onToggle:B,disabled:c,label:"Show on chart"}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:t.isVisible?"Indicator is visible on the chart":"Indicator is hidden but not removed"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Instance Info"}),f.jsxs("div",{className:"p-3 bg-slate-800 rounded-lg border border-slate-700 space-y-1",children:[f.jsxs("p",{className:"text-xs text-slate-400",children:[f.jsx("span",{className:"font-medium",children:"Type:"})," ",t.indicatorType.name.toUpperCase()]}),f.jsxs("p",{className:"text-xs text-slate-400",children:[f.jsx("span",{className:"font-medium",children:"ID:"})," ",t.id]}),f.jsxs("p",{className:"text-xs text-slate-400",children:[f.jsx("span",{className:"font-medium",children:"Symbol:"})," ",t.symbol]})]})]}),o&&f.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[f.jsx("button",{type:"button",onClick:re,disabled:c,className:"w-full px-4 py-2 bg-red-900/30 hover:bg-red-900/50 border border-red-700 text-red-400 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Remove Indicator"}),f.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"This will permanently remove this indicator instance"})]})]})})]})]})}),f.jsx(Pa,{open:g,onOpenChange:x,children:f.jsxs(Hr,{className:"bg-slate-900 border-slate-700 text-slate-100 max-w-md",children:[f.jsxs(za,{children:[f.jsx(Wr,{children:"Invalid values detected"}),f.jsx(Gr,{className:"text-slate-400",children:"You have invalid parameter values. Revert to last valid values?"})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[f.jsx(Pe,{onClick:oe,variant:"outline",className:"bg-slate-700 hover:bg-slate-600 text-white border-slate-600",children:"Keep Editing"}),f.jsx(Pe,{onClick:he,className:"bg-red-900 hover:bg-red-800 text-white",children:"Revert & Close"})]})]})})]}):f.jsx(f.Fragment,{children:f.jsx(Pa,{open:n,onOpenChange:e,children:f.jsxs(Hr,{className:"sm:max-w-[500px]",children:[f.jsxs(za,{children:[f.jsx(Wr,{children:"Indicator Settings"}),f.jsx(Gr,{children:"No indicator selected. Select an indicator from the legend to edit its settings."})]}),f.jsxs("div",{className:"py-8 text-center text-slate-500",children:[f.jsx("p",{children:"No indicator selected"}),f.jsx("p",{className:"text-sm mt-2",children:"Select an indicator from the legend to edit its settings."})]})]})})})}$t.create({baseURL:"/api/v1/notifications"});function pX({instances:n,onToggleVisibility:e,onRemove:t,onSettings:s,onViewSource:r,onAlertCreated:o,symbol:c,interval:u,className:h,crosshairTime:m,seriesDataMap:v}){const[g,x]=p.useState(!1),[w,S]=p.useState(null),C=p.useRef(new Map),_=p.useCallback(N=>{if(!m||!v)return null;const T=v[N];if(!T||T.length===0)return null;const M=T.find(j=>j.time===m);return M?M.value.toFixed(2):null},[m,v]);return n.length===0?null:f.jsxs("div",{className:h,children:[f.jsx("div",{className:"group flex gap-2 text-xs",children:n.map(N=>{const T=_(N.id);return f.jsxs("div",{ref:M=>{M&&C.current.set(N.id,M)},className:"relative group/instance inline-flex items-center gap-1",children:[f.jsxs("span",{className:"pointer-events-auto cursor-help",style:{color:N.isVisible?"#d1d4dc":"#787b86",opacity:N.isVisible?1:.5},title:N.displayName,children:[N.displayName,T&&f.jsx("span",{style:{marginLeft:"4px",opacity:.8,color:N.style.color},children:T})]}),f.jsxs("div",{className:"pointer-events-auto flex items-center gap-0.5 bg-slate-900/80 backdrop-blur-sm rounded px-1 opacity-0 transition-opacity duration-200 group-hover/instance:opacity-100",children:[f.jsx("button",{onClick:M=>{M.stopPropagation(),e(N.id)},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:N.isVisible?"Hide":"Show",children:f.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.isVisible?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})})}),s&&f.jsx("button",{onClick:M=>{M.stopPropagation(),s(N.id)},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:"Settings",children:f.jsxs("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r&&f.jsx("button",{onClick:M=>{M.stopPropagation(),x(!0),S({instance:N})},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:"Alerts",children:f.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H6"})})}),t&&f.jsx("button",{onClick:M=>{M.stopPropagation(),t(N.id)},className:"h-5 w-5 flex items-center justify-center text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",type:"button",title:"Remove",children:f.jsx("svg",{className:"h-2.5 w-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},N.id)})}),g&&w&&f.jsx(EA,{open:g,onClose:()=>x(!1),onAlertCreated:()=>{o?.(),x(!1)},symbol:c,interval:u,indicator:{name:w.instance.indicatorType.name.toLowerCase(),field:w.instance.indicatorType.name.toLowerCase(),params:w.instance.indicatorType.params,displayName:w.instance.displayName}})]})}function gX(n){if(!n)return"";let e=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e=e.replace(/(\/\/.*$)/gm,'<span class="text-slate-500 italic">$1</span>');const t=["study","indicator","strategy","plot","plotshape","plotchar","plotarrow","plotbarcolor","plotcandle","if","else","for","to","while","switch","case","var","input","ta\\.","math\\."],s=new RegExp(`\\b(${t.join("|")})\\b`,"gi");e=e.replace(s,'<span class="text-purple-400">$1</span>');const r=["sma","ema","rsi","macd","bb","atr","volume","highest","lowest","max","min","abs","sqrt","log","exp","round","floor","ceil","sign"],o=new RegExp(`\\b(${r.join("|")})\\b`,"gi");e=e.replace(o,'<span class="text-blue-400">$1</span>'),e=e.replace(/\b(\d+\.?\d*)\b/g,'<span class="text-orange-400">$1</span>'),e=e.replace(/(".*?"|'.*?')/g,'<span class="text-green-400">$1</span>');const c=["true","false","na","close","open","high","low","volume"],u=new RegExp(`\\b(${c.join("|")})\\b`,"gi");return e=e.replace(u,'<span class="text-yellow-400">$1</span>'),e}function vX({open:n,onOpenChange:e,indicatorName:t,sourceCode:s,className:r}){const[o,c]=p.useState(!1),u=p.useCallback(async()=>{if(s)try{await navigator.clipboard.writeText(s),c(!0),setTimeout(()=>{c(!1)},2e3)}catch(h){console.error("Failed to copy source code:",h)}},[s]);return f.jsx(Fb,{open:n,onOpenChange:e,children:f.jsxs(Hb,{children:[f.jsx(pm,{className:"fixed inset-0 z-50 bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),f.jsxs(gm,{className:Ce("fixed left-1/2 top-1/2 z-50 w-full max-w-2xl -translate-x-1/2 -translate-y-1/2","bg-slate-900 border border-slate-700 rounded-lg shadow-lg","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]","data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",r),children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[f.jsxs("div",{children:[f.jsxs(Wb,{className:"text-lg font-semibold text-slate-100",children:[t," - Source Code"]}),f.jsx(Gb,{className:"text-sm text-slate-400 mt-1",children:"View and copy the Pine Script source code for this indicator"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[s&&f.jsx("button",{onClick:u,className:"p-2 rounded text-slate-400 hover:text-slate-100 hover:bg-slate-800 transition-colors",title:o?"Copied!":"Copy to clipboard",children:o?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),f.jsx(JA,{className:"p-2 rounded text-slate-400 hover:text-slate-100 hover:bg-slate-800 transition-colors",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),f.jsx("div",{className:"px-6 py-4 max-h-[60vh] overflow-y-auto",children:s?f.jsx("pre",{className:"text-sm text-slate-300 font-mono whitespace-pre-wrap",children:f.jsx("code",{dangerouslySetInnerHTML:{__html:gX(s)}})}):f.jsxs("div",{className:"py-8 text-center text-slate-500",children:[f.jsx("p",{className:"text-sm",children:"Source code is not available for this indicator."}),f.jsx("p",{className:"text-xs mt-2",children:"This indicator is computed server-side. Pine Script source code will be displayed here when available."})]})})]})]})})}function bX(n){return{id:n.id,symbol:"oscillator",indicatorType:{category:"overlay",name:n.indicatorType.name,params:n.indicatorType.params},displayName:n.name,style:n.style||{...sl},isVisible:n.displaySettings.visible,createdAt:new Date().toISOString()}}function yX({open:n,onOpenChange:e,indicator:t,indicatorMetadata:s,onStyleChange:r,onParamsChange:o,onVisibilityToggle:c,onRemove:u,disabled:h=!1}){const m=p.useCallback((x,w)=>{t&&(w.style&&r&&r(x,w.style),w.indicatorType?.params&&o&&o(x,w.indicatorType.params),w.isVisible!==void 0&&c&&w.isVisible!==t.displaySettings.visible&&c(x))},[t,r,o,c]),v=p.useCallback(x=>{u?.(x)},[u]),g=p.useMemo(()=>t?bX(t):null,[t?.id,JSON.stringify(t?.style)]);return f.jsx(_j,{open:n,onOpenChange:e,indicator:g,indicatorMetadata:s,onApplyChanges:m,onRemove:v,disabled:h},t?.id||"oscillator-settings")}function xX({showInDev:n=!0,className:e=""}){const[t,s]=p.useState(null),[r,o]=p.useState(!1),[c,u]=p.useState(!1);return null}const wX=`
.performance-report-container {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1000;
}

.performance-toggle {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: #2196F3;
  color: white;
  border: none;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  transition: transform 0.2s;
}

.performance-toggle:hover {
  transform: scale(1.1);
}

.performance-report-panel {
  position: absolute;
  bottom: 60px;
  right: 0;
  width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  padding: 20px;
}

.performance-report-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.performance-report-actions {
  display: flex;
  gap: 10px;
}

.performance-report-actions button {
  padding: 8px 16px;
  border: 1px solid #ddd;
  border-radius: 4px;
  background: white;
  cursor: pointer;
}

.performance-report-actions button:hover {
  background: #f5f5f5;
}

.performance-summary {
  display: flex;
  gap: 20px;
  margin-bottom: 20px;
  padding: 15px;
  background: #f9f9f9;
  border-radius: 4px;
}

.summary-item {
  display: flex;
  flex-direction: column;
}

.summary-label {
  font-size: 12px;
  color: #666;
}

.summary-value {
  font-size: 18px;
  font-weight: 600;
}

.performance-section {
  margin-bottom: 25px;
}

.performance-section h3 {
  margin-bottom: 10px;
  font-size: 16px;
  color: #333;
}

.bottlenecks-list,
.rankings-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.bottleneck-item {
  padding: 12px;
  border-left: 4px solid #ff9800;
  background: #fff8e1;
  border-radius: 4px;
}

.bottleneck-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

.bottleneck-operation {
  font-weight: 600;
}

.bottleneck-impact {
  font-size: 12px;
  font-weight: 600;
}

.bottleneck-details {
  display: flex;
  gap: 15px;
  font-size: 14px;
  color: #666;
}

.ranking-item {
  display: flex;
  align-items: center;
  padding: 10px;
  border-bottom: 1px solid #eee;
}

.ranking-position {
  font-weight: 600;
  margin-right: 10px;
  min-width: 30px;
}

.ranking-operation {
  flex: 1;
  font-weight: 500;
}

.ranking-stats {
  display: flex;
  gap: 15px;
  font-size: 14px;
  color: #666;
}

.category-stats {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.stats-row {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background: #f9f9f9;
  border-radius: 4px;
}

.stats-label {
  font-weight: 500;
}

.stats-values {
  display: flex;
  gap: 15px;
  font-size: 14px;
}

.stats-values .p95 {
  color: #2196F3;
  font-weight: 600;
}

.success-criteria {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.criteria-met {
  padding: 10px;
  background: #e8f5e9;
  border-radius: 4px;
}

.criteria-met h4 {
  color: #4CAF50;
  margin-bottom: 8px;
}

.criteria-not-met {
  padding: 10px;
  background: #ffebee;
  border-radius: 4px;
}

.criteria-not-met h4 {
  color: #f44336;
  margin-bottom: 8px;
}

.criteria-warnings {
  padding: 10px;
  background: #fff8e1;
  border-radius: 4px;
}

.criteria-warnings h4 {
  color: #ff9800;
  margin-bottom: 8px;
}

.performance-report-empty {
  text-align: center;
  padding: 40px 20px;
  color: #666;
}

.performance-report-empty .hint {
  font-size: 14px;
  color: #999;
  margin-top: 10px;
}
`;if(typeof document<"u"&&!document.getElementById("performance-report-styles")){const n=document.createElement("style");n.id="performance-report-styles",n.textContent=wX,document.head.appendChild(n)}function GE(n){return n.trim().toLowerCase()}function Eh(n){return n.toLowerCase()}function SX(n,e){const t=GE(n);return!e.some(s=>GE(s.name)===t)}function qE(n,e){const t=n.map(c=>Eh(c.indicatorType.name)),s=e.map(c=>Eh(c.indicatorType.name)),r=Array.from(new Set([...t,...s])),o={};for(const c of n){const u=Eh(c.indicatorType.name);o[u]=c.indicatorType.params}for(const c of e){const u=Eh(c.indicatorType.name);o[u]=c.indicatorType.params}return{activeIndicators:r,indicatorParams:o}}function CX(n,e){return{id:Date.now().toString(),name:n.trim(),activeIndicators:e.activeIndicators,indicatorParams:e.indicatorParams}}function EX({symbol:n,setSymbol:e}){const[t,s]=p.useState("1d"),[r,o]=p.useState("websocket"),[c,u]=p.useState(!1),[h,m]=p.useState(!1),{userProfile:v,isAuthenticated:g,isLoading:x}=Nl(),[w,S]=p.useState(!1),[C,_]=p.useState("sign-in"),N=p.useRef(null),[T,M]=p.useState({width:0,height:0}),[j,P]=p.useState(null),I=p.useRef(new Map),{connect:O,disconnect:B,lastMessage:re}=SY(),{symbols:le,refetch:te,addSymbol:he,removeSymbol:oe,updateOrder:ce}=Sj(g),[ne,k]=p.useState([]);p.useEffect(()=>{k(L=>{const F=le.map(je=>je.toUpperCase());if(L.length===0||L.length!==F.length)return F;const Z=new Set(L.map(je=>je.toUpperCase())),de=new Set(F),ge=L.every(je=>de.has(je.toUpperCase())),xe=F.every(je=>Z.has(je));return ge&&xe&&L.length===F.length?L:F})},[le]);const W=p.useMemo(()=>ne.map(L=>({symbol:L})),[ne]),[V,Y]=p.useState(()=>RA()),[me,D]=p.useState([]),[R,z]=p.useState(null),[$,J]=p.useState([]),[Q,q]=p.useState(!1),[ae,be]=p.useState(null),[we,Ve]=p.useState(!0),He=p.useRef(null),[xt,ct]=p.useState(null),[At,Le]=p.useState(null),[_t,qt]=p.useState(null),[Ke,pt]=p.useState({}),[Qt,ut]=p.useState(!0),[En,Nt]=p.useState(!1),[Hs,un]=p.useState(!1),[rn,Ut]=p.useState(null);p.useRef(null);const _n=p.useRef(new Map),vn=p.useRef(null),[bn,yn]=p.useState(0),[us,Bt]=p.useState(!1),[jt,kt]=p.useState(null),Zi=5e4,{indicators:it,addIndicator:dn,removeIndicator:an,updateIndicatorStyle:ds,updateIndicatorParams:Tt}=DA();bY();const wt=p.useMemo(()=>{if(jt&&jt.length>0){const Z={from:jt.reduce((de,ge)=>ge.timestamp<de?ge.timestamp:de,jt[0].timestamp),to:$[$.length-1].timestamp};return console.log("[targetCandleDateRange] Backfill mode:",{pendingCount:jt.length,from:Z.from,to:Z.to,candleCount:$.length}),Z}if(ae)return console.log("[targetCandleDateRange] Using request range for cache alignment:",{from:ae.from,to:ae.to,candleCount:$.length}),ae;if($.length===0)return;const L={from:$[0].timestamp,to:$[$.length-1].timestamp};return console.log("[targetCandleDateRange] Normal mode (fallback):",{from:L.from,to:L.to,candleCount:$.length}),L},[$,jt,ae]),Ee=PE(it,n,t,bn,wt,$),We=Ee.isLoading||!1,{instances:Oe,addIndicator:Xe,removeIndicator:Mt,toggleVisibility:rt,updateInstance:nt}=rX(),[on,dt]=p.useState(!1),[ht,On]=p.useState(null),[Zt,Nn]=p.useState(!1),[Jn,Dn]=p.useState(null),[Pt,xn]=p.useState({}),[fi,na]=p.useState(null),Du=PE(Oe,n,t,bn,wt,$),Ja={},sa=Du.isLoading||!1;Object.entries(Du).forEach(([L,F])=>{L!=="isLoading"&&L!=="error"&&(Ja[L]=F)}),p.useEffect(()=>{$b().then(L=>{const F={};L.forEach(Z=>{const de={...Z,parameters:Z.parameters?Object.entries(Z.parameters).map(([ge,xe])=>({name:ge,...xe})):void 0};F[Z.name]=de}),xn(F)}).catch(L=>{console.error("Failed to load indicator metadata:",L)})},[]);const ia=p.useCallback(L=>{pt(F=>({...F,[L]:{...F[L],visible:F[L]?.visible===!1}}))},[]),Tl=p.useCallback((L,F)=>{pt(Z=>({...Z,[L]:{...Z[L],series:{...Z[L]?.series,[F]:Z[L]?.series?.[F]===!1}}}))},[]),er=p.useCallback(L=>{pt(F=>({...F,[L]:{...F[L],showLevels:F[L]?.showLevels===!1}}))},[]),tr=p.useCallback(L=>{pt(F=>({...F,[L]:{...F[L],showLastValue:!(F[L]?.showLastValue??!1)}}))},[]);p.useEffect(()=>{if(!N.current)return;const L=new ResizeObserver(F=>{if(F[0]){const{width:Z,height:de}=F[0].contentRect;M({width:Z,height:de})}});return L.observe(N.current),()=>L.disconnect()},[]),p.useEffect(()=>{x||(async()=>{if(g)try{const{listAlerts:F,getAlertNotificationSettings:Z}=await ti(async()=>{const{listAlerts:Se,getAlertNotificationSettings:Ge}=await Promise.resolve().then(()=>Ra);return{listAlerts:Se,getAlertNotificationSettings:Ge}},void 0),de=await F(),ge=de.map(async Se=>{try{const Ge=await Z(String(Se.id));return{alertId:Se.id,settings:Ge}}catch{return{alertId:Se.id,settings:null}}}),xe=await Promise.all(ge),je=new Map(xe.map(Se=>[Se.alertId,Se.settings])),_e=de.map(Se=>({id:String(Se.id),symbol:Se.symbol||"",condition:Se.condition,threshold:Se.threshold,status:Se.is_active?"active":"muted",createdAt:Se.created_at,interval:Se.interval,indicator_name:Se.indicator_name,indicator_field:Se.indicator_field,indicator_params:Se.indicator_params,enabled_conditions:Se.enabled_conditions,messages:Se.messages,notificationSettings:je.get(Se.id)??void 0}));Y(_e)}catch(F){console.error("Failed to fetch alerts from backend:",F)}})()},[g,x]),p.useEffect(()=>{if(!j)return;const L=Z=>{Z&&I.current.forEach(de=>{try{de.getVisibleRange()!==null&&de.setVisibleLogicalRange(Z)}catch(ge){console.debug("[Chart] Ignoring time scale error from indicator chart:",ge)}})};j.subscribeVisibleLogicalRangeChange(L);const F=j.getVisibleLogicalRange();return F&&I.current.forEach(Z=>{try{Z.getVisibleRange()!==null&&Z.setVisibleLogicalRange(F)}catch(de){console.debug("[Chart] Ignoring time scale error from indicator chart:",de)}}),()=>{j.unsubscribeVisibleLogicalRangeChange(L)}},[j,R?.activeIndicators,$]),p.useEffect(()=>{MA(V)},[V]),p.useEffect(()=>{if(r==="websocket"&&n&&t){const L=`ws://localhost:8000/api/v1/candles/ws/${n}?interval=${t}`;O(L)}else B();return()=>{B()}},[n,t,O,B,r]),p.useEffect(()=>{if(re&&!Qt){const L=JSON.parse(re.data);J(F=>{if(F.length===0)return F;const Z=new Map;F.forEach(_e=>{const Se=new Date(_e.timestamp).getTime();Z.set(Se,_e)});const de=new Date(L.timestamp).getTime(),ge=Z.get(de);if(ge&&ge.open===L.open&&ge.high===L.high&&ge.low===L.low&&ge.close===L.close&&ge.volume===L.volume)return F;Z.set(de,L);const je=Array.from(Z.values()).sort((_e,Se)=>new Date(_e.timestamp).getTime()-new Date(Se.timestamp).getTime());return UY(n,t,je).catch(_e=>console.warn("[Cache] Failed to sync:",_e)),je})}},[re,Qt,n,t]),p.useEffect(()=>{const L=F=>{if(F.key==="k"&&(F.metaKey||F.ctrlKey)&&(F.preventDefault(),u(Z=>!Z)),F.key==="i"&&(F.metaKey||F.ctrlKey)&&(F.preventDefault(),m(Z=>!Z)),(F.key==="="||F.key==="+")&&(F.preventDefault(),j)){const Z=j.getVisibleLogicalRange();if(Z){const ge=(Z.to-Z.from)*.8,xe=(Z.from+Z.to)/2;j.setVisibleLogicalRange({from:xe-ge/2,to:xe+ge/2})}}if((F.key==="-"||F.key==="_")&&(F.preventDefault(),j)){const Z=j.getVisibleLogicalRange();if(Z){const ge=(Z.to-Z.from)*1.2,xe=(Z.from+Z.to)/2;j.setVisibleLogicalRange({from:xe-ge/2,to:xe+ge/2})}}if(F.key==="0"&&!F.ctrlKey&&!F.metaKey){if(F.target instanceof HTMLElement&&(F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA"||F.target.contentEditable==="true"))return;F.preventDefault(),j&&j.fitContent()}F.key==="Escape"&&(c&&u(!1),h&&m(!1))};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[j,c,h]),p.useEffect(()=>{const L=TA();D(L),L.length>0?z(L[0]):z({id:"default",name:"Default Layout",activeIndicators:[],indicatorParams:{}})},[]),p.useEffect(()=>{console.log("[Initial Fetch] Triggered for symbol:",n,"interval:",t,"dataMode:",r),console.log("[Initial Fetch] useEffect executing, current candles:",$.length),Ve(!0),He.current=null,ut(!0),Ut(null),(async()=>{try{console.log("[Initial Fetch] fetchData() called for symbol:",n,"interval:",t);const F=new Date;let Z;t==="1d"||t==="1wk"?(Z=new Date(F),Z.setHours(23,59,59,999),Z.setDate(Z.getDate()-1)):Z=F;const de=Z.toISOString(),ge=700,xe=_X(t),_e=new Date(Z.getTime()-ge*xe).toISOString();be({from:_e,to:de}),console.log("[Initial Fetch] Fetching candles from",_e,"to",de);const Se=await Vc(n,t,_e,de).catch(Ge=>(console.error("[Initial Fetch] ERROR fetching candles:",Ge),[]));console.log("[Initial Fetch] Received",Se.length,"candles"),Se.length>0?(J(Se),Ut(null),Nh(n),yn(Ge=>Ge+1)):$.length===0&&(J([]),Ut(`No data available for ${n}`))}catch(F){console.error("Failed to fetch data",F),$.length===0&&Ut(`Failed to load data for ${n}. Please try again.`)}})()},[n,t]),p.useEffect(()=>{Nt($.length>0)},[$.length]),p.useEffect(()=>{const L=We||sa,F=it.length>0||Oe.length>0;un(!L||!F)},[We,sa,it.length,Oe.length]);const Ws=En&&Hs;p.useEffect(()=>{Ws&&Qt&&ut(!1)},[Ws,Qt]);const wn=p.useRef(null),Ot=p.useRef(null),mi=p.useRef(null),pi=p.useRef(null),[Gs,gi]=p.useState(!1),[Iu,Qa]=p.useState(!1),nr=p.useRef(null),Ml=p.useRef(0),ra=p.useRef(it),aa=p.useRef(Oe);ra.current=it,aa.current=Oe,p.useEffect(()=>{const L=console.log;return console.log=(...F)=>{if(L.apply(console,F),!wn.current||!Ot.current)return;const Z=F[0];if(typeof Z!="string")return;const de=Ot.current;Z.includes("[Initial Fetch] Received")&&(wn.current&&(mi.current=performance.now()),gi(!0),console.log(`%c[T2 DONE] Candles received for ${de}`,"color: #FF9800; font-weight: bold"),ra.current.length===0&&aa.current.length===0&&(console.log("%c[INDICATORS DONE] No indicators configured - immediate ready state","color: #4CAF50; font-weight: bold"),Qa(!0))),Z.includes("[T4 DONE]")&&(Ml.current++,wn.current&&(pi.current=performance.now()),nr.current&&clearTimeout(nr.current),nr.current=setTimeout(()=>{console.log(`%c[INDICATORS DONE] Total T4 DONE messages: ${Ml.current}`,"color: #4CAF50; font-weight: bold"),Qa(!0),Ml.current=0},100))},()=>{console.log=L,nr.current&&clearTimeout(nr.current)}},[]),p.useEffect(()=>{if(!(!wn.current||!Ot.current)&&Gs&&Iu){const L=Ot.current,F=wn.current;gi(!1),Qa(!1),requestAnimationFrame(()=>{const ge=performance.now()-F;console.log(`%c[T5 DONE] Chart render complete for ${L}`,"color: #2196F3; font-weight: bold");const xe=mi.current?mi.current-wn.current:0,je=pi.current&&mi.current?pi.current-mi.current:0,_e=ge-(pi.current?pi.current-wn.current:0);if(console.log(`%c[LOAD DONE] ${L} - ${ge.toFixed(0)}ms TOTAL (candles: ${xe.toFixed(0)}ms, indicators: ${je.toFixed(0)}ms, render: ${_e.toFixed(0)}ms)`,`color: ${ge<500?"#4CAF50":ge<1e3?"#FF9800":"#F44336"}; font-weight: bold; font-size: 14px`),!document.getElementById("load-time-animations")){const st=document.createElement("style");st.id="load-time-animations",st.textContent=`
                  @keyframes fadeIn {
                    from { opacity: 0; transform: translateY(-10px); }
                    to { opacity: 1; transform: translateY(0); }
                  }
                  @keyframes fadeOut {
                    from { opacity: 1; transform: translateY(0); }
                    to { opacity: 0; transform: translateY(-10px); }
                  }
                `,document.head.appendChild(st)}const Se=document.getElementById("load-time-overlay");Se&&Se.remove();const Ge=document.createElement("div");Ge.id="load-time-overlay",Ge.style.cssText=`
                position: fixed;
                top: 10px;
                right: 10px;
                background: ${ge<500?"#4CAF50":ge<1e3?"#FF9800":"#F44336"};
                color: white;
                padding: 10px 15px;
                border-radius: 5px;
                font-family: monospace;
                font-weight: bold;
                font-size: 14px;
                z-index: 10000;
                box-shadow: 0 2px 10px rgba(0,0,0,0.3);
                animation: fadeIn 0.3s ease-in;
                max-width: 300px;
              `,Ge.innerHTML=` ${L}: ${ge.toFixed(0)}ms<br><small>candles: ${xe.toFixed(0)}ms | indicators: ${je.toFixed(0)}ms | render: ${_e.toFixed(0)}ms</small>`,document.body.appendChild(Ge),setTimeout(()=>{Ge.style.animation="fadeOut 0.3s ease-out",setTimeout(()=>Ge.remove(),300)},3e3),wn.current=null,Ot.current=null,mi.current=null,pi.current=null})}},[Gs,Iu]);const As=p.useCallback(L=>{wn.current=performance.now(),Ot.current=L,console.log(`%c[T1 START] Symbol click: ${L}`,"color: #4CAF50; font-weight: bold; font-size: 14px"),J([]),e(L)},[]),In=p.useCallback(L=>{const F=L.trim();if(!F)return;if(!SX(F,me)){Fn.error(`Layout "${F}" already exists`);return}const Z=qE(it,Oe),de=CX(F,Z),ge=[...me,de];D(ge),u0(ge),z(de)},[me,it,Oe]),Lu=p.useCallback(()=>{if(!R||R.id==="default")return;const{activeIndicators:L,indicatorParams:F}=qE(it,Oe),Z={...R,activeIndicators:L,indicatorParams:F},de=me.map(ge=>ge.id===R.id?Z:ge);D(de),u0(de),z(Z)},[R,me,it,Oe]);p.useCallback(L=>{const F=Pt[L.toLowerCase()];if(!F){console.warn(`Unknown indicator: ${L}`);return}const Z=F.category;if(Z==="oscillator"){const de=it.find(ge=>ge.indicatorType.name.toLowerCase()===L.toLowerCase());if(de)an(de.id);else{const ge=R?.indicatorParams[L]||{};dn({category:"oscillator",name:L,params:ge})}}else if(Z==="overlay"){const de=Oe.find(ge=>ge.indicatorType.name.toLowerCase()===L.toLowerCase());if(de)Mt(de.id);else{const ge=R?.indicatorParams[L]||{};Xe(L,ge)}}},[it,Oe,R,Pt,dn,an,Xe,Mt]);const ym=p.useCallback(L=>{z(L);const F=new Set(it.map(xe=>xe.indicatorType.name.toLowerCase())),Z=new Set(Oe.map(xe=>xe.indicatorType.name.toLowerCase())),de=[],ge=[];for(const xe of L.activeIndicators){const je=Pt[xe.toLowerCase()];if(!je){console.warn(`Unknown indicator in layout: ${xe}`);continue}je.category==="oscillator"?de.push(xe):je.category==="overlay"&&ge.push(xe)}for(const xe of it){const je=xe.indicatorType.name.toLowerCase();de.includes(je)||an(xe.id)}for(const xe of de)if(!F.has(xe)){const je=L.indicatorParams[xe]||{};dn({category:"oscillator",name:xe,params:je})}for(const xe of Oe){const je=xe.indicatorType.name.toLowerCase();ge.includes(je)||Mt(xe.id)}for(const xe of ge)if(!Z.has(xe)){const je=L.indicatorParams[xe]||{};Xe(xe,je)}},[it,Oe,Pt,dn,an,Xe,Mt]),Rl=V.filter(L=>L.status==="triggered").length,Pu=p.useCallback(()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(L=>{console.error(`Error attempting to enable full-screen mode: ${L.message}`)})},[]),Za=p.useCallback(()=>{o(L=>L==="websocket"?"polling":"websocket")},[]),xm=p.useCallback(()=>{r==="polling"&&vn.current&&vn.current()},[r]),Ln=p.useCallback(async L=>{for(const F of L)try{await oe(F),k(Z=>Z.filter(de=>de!==F)),Fn.success(`Removed ${F} from watchlist`)}catch(Z){console.error("Failed to remove symbol:",Z),Fn.error(`Failed to remove ${F}`)}},[oe]),Al=p.useCallback(async L=>{let F;if(L.length===2){const[de,ge]=L,xe=ne.findIndex(Se=>Se.toUpperCase()===de.symbol.toUpperCase()),je=ne.findIndex(Se=>Se.toUpperCase()===ge.symbol.toUpperCase());if(xe===-1||je===-1){console.error("[REORDER] Symbol not found in orderedSymbols:",de.symbol,ge.symbol),console.error("[REORDER] orderedSymbols contains:",ne.slice(0,10),"...");return}F=ne.map(Se=>Se.toUpperCase());const[_e]=F.splice(xe,1);F.splice(je,0,_e)}else F=L.map(de=>de.symbol.toUpperCase());const Z=ne;k(F);try{await ce(F)}catch(de){console.error("Failed to persist watchlist order:",de),k(Z),Fn.error("Failed to save watchlist order. Please try again."),te()}},[ce,ne,te]),zu=p.useCallback(async L=>{const F=L.trim().toUpperCase();try{const Z=await he(F);return(typeof Z=="string"?Z:Z.status)==="already_present"?(e(F),Fn.success(`${F} is already in your watchlist`)):(e(F),Fn.success(`Added ${F} to watchlist`)),{ok:!0}}catch(Z){console.error("Failed to add symbol to watchlist:",Z);const ge=Z.response?.data?.detail||"";return ge.startsWith("invalidticker")?{ok:!1,detail:`${F} is not a valid ticker on Yahoo Finance`}:ge.startsWith("nodata")?{ok:!1,detail:`No historical data available for ${F}`}:ge.startsWith("timeout")?{ok:!1,detail:"Validation timed out. Yahoo Finance may be slow. Please try again."}:ge.startsWith("ratelimited")?{ok:!1,detail:"Rate limited by Yahoo Finance. Please wait a moment and try again."}:{ok:!1,detail:ge||`Failed to add ${F} to watchlist`}}},[he,e]),eo=p.useMemo(()=>it.filter(L=>L.indicatorType.category==="overlay"),[it]),js=p.useMemo(()=>it.filter(L=>L.indicatorType.category==="oscillator"),[it]),$u=p.useMemo(()=>js.filter(L=>Ee[L.id]&&L.displaySettings.visible&&Ke[L.id]?.visible!==!1),[js,Ee,Ke]),jl=3,vi=1,Uu=100,oa=Math.max(T.height-40,300),Bu=Math.floor(oa/Uu),qs=$u.slice(0,Bu),Vu=jl+qs.length*vi,kl=qs.length===0?oa:oa*(jl/Vu),la=qs.length>0?Math.max(oa*(vi/Vu),Uu):0,Qn=p.useMemo(()=>{const L=[];return eo.filter(F=>Ke[F.id]?.visible!==!1).forEach(F=>{const Z=Ee[F.id];if(!Z)return;const de=Z.metadata.series_metadata[0];if(!de)return;const ge=Z.data[de.field];if(!ge)return;const xe=Z.timestamps,je=Z.metadata.series_metadata.find(Se=>Se.role==="signal"),_e=je?Z.data[je.field]:null;if(_e){const Se=xe.map((hs,ua)=>{const da=ge[ua],gt=_e[ua];if(da==null)return null;const ha=hs,Il=gt===1?"#00FF00":gt===0?"#FFFF00":gt===-1?"#ef5350":de.line_color;return{time:ha,value:da,color:Il}}).filter(hs=>hs!==null),Ge=F.indicatorType.name.toLowerCase(),st=Ke[F.id]?.showLastValue??Ke[Ge]?.showLastValue??!0;L.push({id:F.id,data:Se,color:de.line_color,lineWidth:de.line_width,showLastValue:st})}else{const Se=NG(xe,ge),Ge=F.indicatorType.name.toLowerCase(),st=Ke[F.id]?.showLastValue??Ke[Ge]?.showLastValue??!0;L.push({id:F.id,data:Se,color:de.line_color,lineWidth:de.line_width,showLastValue:st})}}),L},[eo,Ee,Ke]),sr=p.useMemo(()=>{const L=[];return Oe.filter(F=>F.isVisible).forEach(F=>{const Z=Ja[F.id];if(!Z)return;if(Z.metadata.series_metadata.every(ge=>ge.role==="band")&&Z.metadata.series_metadata.length>1)Z.metadata.series_metadata.forEach(ge=>{const xe=Z.data[ge.field];if(!xe)return;const je=Z.timestamps.map((Se,Ge)=>{const st=xe[Ge];return st==null?null:{time:Se,value:st}}).filter(Se=>Se!==null),_e=F.style.seriesColors?.[ge.field]||ge.line_color;L.push({id:`${F.id}-${ge.field}`,data:je,color:_e,lineWidth:F.style.lineWidth||ge.line_width||1,showLastValue:F.style.showLastValue,visible:F.isVisible})});else{const ge=MG(Z,void 0,F.style.seriesColors);L.push({id:F.id,data:ge,color:F.style.color,lineWidth:F.style.lineWidth,showLastValue:F.style.showLastValue,visible:F.isVisible})}}),L},[Oe,Ja]),to=p.useMemo(()=>{new Set(Qn.map(F=>F.id));const L=[...Qn];return sr.forEach(F=>{const Z=L.findIndex(de=>de.id===F.id);Z>=0?L[Z]=F:L.push(F)}),L},[Qn,sr]),ir=p.useMemo(()=>{const L={};return sr.forEach(F=>{L[F.id]=F.data}),L},[sr]),bi=p.useCallback(L=>{if(!L?.sourceEvent)return;const F=L?.time;if(!F){_n.current.forEach(({chart:de})=>{try{de.clearCrosshairPosition?.()}catch{}}),qt(null);return}Le(F);const Z=$.find(de=>Math.floor(new Date(de.timestamp).getTime()/1e3)===F);qt(Z||null),js.forEach(de=>{const ge=_n.current.get(de.id);if(!ge||!ge.chart||!ge.series)return;const xe=Ee[de.id];if(!xe)return;const je=xe.metadata.series_metadata[0];if(!je)return;const _e=xe.data[je.field];if(!_e)return;const Se=xe.timestamps.indexOf(F);if(Se===-1)return;const Ge=_e[Se];if(Ge!=null)try{ge.chart.setCrosshairPosition(Ge,F,ge.series)}catch(st){console.debug("[App] Failed to set crosshair position for indicator:",de.id,st)}else try{ge.chart.clearCrosshairPosition?.()}catch{}})},[js,Ee,$]),Fu=p.useCallback(L=>{s(L.toLowerCase())},[]),Ol=p.useCallback(L=>{Dn(L),Nn(!0)},[]),Hu=p.useCallback(L=>{an(L)},[an]),ca=p.useCallback((L,F)=>{ds&&ds(L,F)},[ds]),ks=p.useCallback(L=>{na(L)},[]),Dl=p.useRef(null),yi=p.useCallback(async()=>{if(Q||!we||$.length===0)return;const L=$[0].timestamp;if(He.current!==L){He.current=L,q(!0),Bt(!0);try{const F=new Date(L),Z=F.toISOString(),de=new Date(F),xe={"1m":7,"2m":30,"5m":30,"15m":30,"30m":60,"1h":60,"4h":120,"1d":365*5,"1wk":365*10}[t]||60;de.setDate(de.getDate()-xe);const je=de.toISOString(),_e=await Vc(n,t,je,Z);if(_e.length>0)kt(_e),Nh(n),yn(Se=>Se+1);else{console.log("[fetchMoreHistory] No data returned, trying smaller window...");const Se=new Date(F);Se.setDate(Se.getDate()-xe/2);const Ge=Se.toISOString(),st=await Vc(n,t,Ge,Z);st.length>0?(kt(st),Nh(n),yn(hs=>hs+1)):(Ve(!1),console.warn(`[fetchMoreHistory] Reached beginning of available data for ${n}`),Bt(!1),kt(null))}}catch(F){console.error("Failed to fetch more history",F),Bt(!1),kt(null)}finally{q(!1)}}},[Q,we,$,n,t]);p.useEffect(()=>{Dl.current=yi},[yi]),p.useEffect(()=>{if(jt&&!We&&!sa&&us){const F=((Z,de)=>[...de,...Z].filter((je,_e,Se)=>_e===Se.findIndex(Ge=>Ge.timestamp===je.timestamp)).sort((je,_e)=>new Date(je.timestamp).getTime()-new Date(_e.timestamp).getTime()))($,jt);F.length>Zi&&(console.warn(`[Backfill] Reached maximum candle limit (${Zi})`),Ve(!1)),J(F),kt(null),Bt(!1)}},[jt,We,sa,us,$]);const Os=p.useCallback(L=>{L&&ct(L)},[$.length,n,we,Q,En]),no=HE({candles:$,symbol:n,interval:t,hasMore:we,isFetching:Q,onFetchMore:yi}),so=p.useCallback(L=>{Os(L)},[Os]),Wu=p.useCallback(L=>{no(L)},[no]);return f.jsxs(f.Fragment,{children:[f.jsx(Cq,{}),f.jsx(xX,{}),f.jsxs($8,{children:[f.jsx(yL,{alertsBadgeCount:Rl,userMenuContent:v?f.jsx(bK,{}):null,watchlistContent:f.jsx(nK,{symbols:ne,children:L=>f.jsx(V8,{items:L.entries.length>0?L.entries:W,onAddClick:()=>u(!0),onRemove:Ln,onSelect:As,onReorder:Al,isRefreshing:L.isRefreshing,lastUpdate:L.lastUpdate})}),alertsContent:f.jsx(s7,{alerts:V,symbol:n,onToggleMute:async L=>{const F=V.find(Z=>Z.id===L);if(F)try{const{muteAlert:Z,unmuteAlert:de}=await ti(async()=>{const{muteAlert:ge,unmuteAlert:xe}=await Promise.resolve().then(()=>Ra);return{muteAlert:ge,unmuteAlert:xe}},void 0);F.status==="muted"?(await de(Number(L)),Y(ge=>ge.map(xe=>xe.id===L?{...xe,status:"active"}:xe)),Fn.success("Alert unmuted")):(await Z(Number(L)),Y(ge=>ge.map(xe=>xe.id===L?{...xe,status:"muted"}:xe)),Fn.success("Alert muted"))}catch(Z){console.error("Failed to toggle mute:",Z),Fn.error("Failed to toggle mute")}},onDelete:async L=>{try{if(g){const{deleteAlert:F}=await ti(async()=>{const{deleteAlert:Z}=await Promise.resolve().then(()=>Ra);return{deleteAlert:Z}},void 0);await F(Number(L))}else{const{saveAlerts:F}=await ti(async()=>{const{saveAlerts:de}=await Promise.resolve().then(()=>zq);return{saveAlerts:de}},void 0),Z=V.filter(de=>de.id!==L);F(Z)}Y(F=>F.filter(Z=>Z.id!==L)),Fn.success("Alert deleted")}catch(F){console.error("Failed to delete alert:",F),Fn.error("Failed to delete alert")}},onSelect:e,onTriggerDemo:L=>Y(F=>F.map(Z=>Z.id===L?{...Z,status:"triggered"}:Z)),onAlertCreated:L=>Y(F=>[...F,L])}),children:f.jsxs("div",{ref:N,"data-testid":"main-viewport",className:"flex flex-col h-full w-full p-0 space-y-0",children:[f.jsx(x$,{symbol:n,interval:t,onIntervalSelect:Fu,onSymbolClick:()=>u(!0),onIndicatorsClick:()=>m(!0),onFullscreenToggle:Pu,activeLayout:R,savedLayouts:me,onLayoutSelect:ym,onLayoutSave:In,indicatorSettings:Ke,indicators:it,onToggleIndicatorVisibility:ia,onToggleSeriesVisibility:Tl,onToggleLevelsVisibility:er,onToggleLastValueVisibility:tr,onRemoveIndicator:L=>{if(it.find(de=>de.id===L)){an(L);return}const Z=it.find(de=>de.indicatorType.name.toLowerCase()===L.toLowerCase());Z?an(Z.id):console.warn(`Could not find indicator to remove: ${L}`)},dataMode:r,onDataModeToggle:Za,onManualRefresh:xm,onLayoutUpdate:Lu}),f.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[f.jsx("div",{className:"bg-[#131722] px-2 py-1 flex items-center justify-between",children:f.jsx(EG,{candle:_t,interval:t})}),f.jsxs("div",{style:{height:kl},className:"shrink-0 bg-slate-900 border-b-0 border-slate-800 relative min-h-0 overflow-hidden w-full",children:[Oe.length>0&&f.jsx("div",{className:"absolute left-2 top-1 z-10 flex gap-2 text-xs pointer-events-none",children:f.jsx(pX,{instances:Oe,symbol:n,interval:t,onToggleVisibility:L=>rt(L),onRemove:L=>Mt(L),onSettings:L=>{On(L),dt(!0)},onViewSource:L=>na(L),onAlertCreated:async()=>{try{if(g){const{listAlerts:L,getAlertNotificationSettings:F}=await ti(async()=>{const{listAlerts:_e,getAlertNotificationSettings:Se}=await Promise.resolve().then(()=>Ra);return{listAlerts:_e,getAlertNotificationSettings:Se}},void 0),Z=await L(),de=Z.map(async _e=>{try{const Se=await F(String(_e.id));return{alertId:_e.id,settings:Se}}catch{return{alertId:_e.id,settings:null}}}),ge=await Promise.all(de),xe=new Map(ge.map(_e=>[_e.alertId,_e.settings])),je=Z.map(_e=>({id:String(_e.id),symbol:_e.symbol||"",condition:_e.condition,threshold:_e.threshold,status:_e.is_active?"active":"muted",createdAt:_e.created_at,interval:_e.interval,indicator_name:_e.indicator_name,indicator_field:_e.indicator_field,indicator_params:_e.indicator_params,enabled_conditions:_e.enabled_conditions,messages:_e.messages,notificationSettings:xe.get(_e.id)??void 0}));Y(je)}else{const{getGuestAlerts:L}=await ti(async()=>{const{getGuestAlerts:de}=await Promise.resolve().then(()=>Ra);return{getGuestAlerts:de}},void 0),Z=L().map(de=>({id:de.uuid,symbol:de.symbol,condition:de.condition.replace("-","_"),threshold:de.target,status:de.enabled?"active":"muted",createdAt:de.created_at,interval:void 0,indicator_name:void 0,indicator_field:void 0,indicator_params:void 0,enabled_conditions:void 0,messages:void 0}));Y(Z)}}catch(L){console.error("Failed to refresh alerts:",L)}},crosshairTime:At,seriesDataMap:ir})}),r==="polling"?f.jsx(FY,{symbol:n,interval:t,children:L=>{vn.current=L.refresh,yn(L.dataVersion);const F=HE({candles:L.candles,symbol:n,interval:t,hasMore:L.hasMore,isFetching:L.isRefreshing,onFetchMore:L.fetchCandlesWithRange}),Z=ge=>{console.log("[Scroll] handlePollingScrollRangeChange called",{range:ge,candlesLength:L.candles.length,hasMore:L.hasMore,isRefreshing:L.isRefreshing})},de=ge=>{console.log("[Scroll] handlePollingScrollLogicalRangeChange called",{range:ge,candlesLength:L.candles.length,hasMore:L.hasMore}),F(ge)};return f.jsxs(f.Fragment,{children:[L.isLoading&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"}),f.jsx("span",{className:"text-slate-400 text-sm",children:"Loading chart data..."})]})}),L.isRefreshing&&!L.isLoading&&f.jsx("div",{className:"absolute top-2 right-2 z-10",children:f.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 px-2 py-1 rounded",children:[f.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border border-blue-400 border-t-transparent"}),f.jsx("span",{className:"text-xs text-slate-400",children:"Updating..."}),L.lastUpdate&&f.jsx("span",{className:"text-xs text-slate-500",children:L.lastUpdate.toLocaleTimeString()})]})}),!L.isRefreshing&&!L.isLoading&&L.lastUpdate&&f.jsx("div",{className:"absolute top-2 right-2 z-10",children:f.jsxs("span",{className:"text-xs text-slate-500 bg-slate-800 px-2 py-1 rounded",children:["Updated: ",L.lastUpdate.toLocaleTimeString()]})}),L.error&&!L.isLoading&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:f.jsxs("div",{className:"flex flex-col items-center gap-3 text-center px-4",children:[f.jsx("div",{className:"text-red-400 text-sm font-medium",children:L.error}),f.jsx("button",{onClick:L.refresh,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Retry"})]})}),f.jsx(IE,{fallback:f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-red-400 text-sm mb-2",children:"Chart rendering failed"}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Reload"})]})}),children:f.jsx(AE,{symbol:n,candles:L.candles,width:T.width,height:kl,onTimeScaleInit:P,onCrosshairMove:bi,overlays:to,onVisibleTimeRangeChange:Z,onVisibleLogicalRangeChange:de,showVolume:!0,showLastPrice:!0},`${n}-${t}-polling`)})]})}}):f.jsxs(f.Fragment,{children:[!Ws&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent"}),f.jsx("span",{className:"text-slate-400 text-sm",children:"Loading chart data..."})]})}),rn&&Ws&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:f.jsxs("div",{className:"flex flex-col items-center gap-3 text-center px-4",children:[f.jsx("div",{className:"text-red-400 text-sm font-medium",children:rn}),f.jsx("button",{onClick:()=>{Ut(null);const L=n;e(""),setTimeout(()=>e(L),0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Retry"})]})}),f.jsx(IE,{fallback:f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-900 z-10",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-red-400 text-sm mb-2",children:"Chart rendering failed"}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded",children:"Reload"})]})}),children:f.jsx(AE,{symbol:n,candles:$,width:T.width,height:kl,onTimeScaleInit:P,onCrosshairMove:bi,overlays:to,onVisibleTimeRangeChange:so,onVisibleLogicalRangeChange:Wu,showVolume:!0,showLastPrice:!0},`${n}-${t}`)})]})]}),qs.length>0&&f.jsx("div",{className:"flex flex-col gap-0 min-h-0 w-full",children:qs.map((L,F)=>{const Z=Ee[L.id]??void 0,de=L.displaySettings.visible&&Ke[L.id]?.visible!==!1,ge=F===qs.length-1;if(!de)return null;const xe=L.indicatorType.name.toLowerCase(),je=Ke[L.id]?.showLastValue??Ke[xe]?.showLastValue??!0;return f.jsx("div",{className:"bg-slate-900 p-1 border border-t-0 border-slate-800 w-full relative shrink-0",style:{borderRadius:ge?"0 0 0.5rem 0.5rem":"0",height:la},children:f.jsx(Pq,{name:L.name,displayName:L.name,indicatorId:L.id,style:L.style,symbol:n,interval:t,width:T.width,height:la,onTimeScaleInit:_e=>{if(_e){if(I.current.set(L.id,_e),j){const Se=j.getVisibleLogicalRange();Se&&_e.setVisibleLogicalRange(Se)}}else I.current.delete(L.id)},onChartInit:(_e,Se)=>{_n.current.set(L.id,{chart:_e,series:Se})},candles:$,indicatorData:Z,crosshairTime:At,showLastValue:je,onSettingsClick:()=>Ol(L.id),onViewSource:()=>ks(L.id),onRemove:()=>an(L.id),onAlertCreated:async()=>{try{if(g){const{listAlerts:_e,getAlertNotificationSettings:Se}=await ti(async()=>{const{listAlerts:gt,getAlertNotificationSettings:ha}=await Promise.resolve().then(()=>Ra);return{listAlerts:gt,getAlertNotificationSettings:ha}},void 0),Ge=await _e(),st=Ge.map(async gt=>{try{const ha=await Se(String(gt.id));return{alertId:gt.id,settings:ha}}catch{return{alertId:gt.id,settings:null}}}),hs=await Promise.all(st),ua=new Map(hs.map(gt=>[gt.alertId,gt.settings])),da=Ge.map(gt=>({id:String(gt.id),symbol:gt.symbol||"",condition:gt.condition,threshold:gt.threshold,status:gt.is_active?"active":"muted",createdAt:gt.created_at,interval:gt.interval,indicator_name:gt.indicator_name,indicator_field:gt.indicator_field,indicator_params:gt.indicator_params,enabled_conditions:gt.enabled_conditions,messages:gt.messages,notificationSettings:ua.get(gt.id)??void 0}));Y(da)}else{const{getGuestAlerts:_e}=await ti(async()=>{const{getGuestAlerts:st}=await Promise.resolve().then(()=>Ra);return{getGuestAlerts:st}},void 0),Ge=_e().map(st=>({id:st.uuid,symbol:st.symbol,condition:st.condition.replace("-","_"),threshold:st.target,status:st.enabled?"active":"muted",createdAt:st.created_at,interval:void 0,indicator_name:void 0,indicator_field:void 0,indicator_params:void 0,enabled_conditions:void 0,messages:void 0}));Y(Ge)}}catch(_e){console.error("Failed to refresh alerts:",_e)}},params:L.indicatorType.params,alerts:V})},L.id)})})]})]})}),f.jsx(pY,{open:h,onOpenChange:m,onAddOverlayInstance:(L,F)=>Xe(L,F)}),f.jsx(_j,{open:on,onOpenChange:dt,indicator:Oe.find(L=>L.id===ht)||null,indicatorMetadata:ht?(()=>{const L=Oe.find(de=>de.id===ht);if(!L)return;const F=Pt[L.indicatorType.name];if(!F)return;const Z={...F,...Ja[ht]?.metadata};return F.parameters&&!Array.isArray(Z.parameters)&&(Z.parameters=F.parameters),Z})():void 0,onApplyChanges:(L,F)=>{nt(L,F)},onRemove:L=>{Mt(L),dt(!1)}}),f.jsx(yX,{open:Zt,onOpenChange:Nn,indicator:it.find(L=>L.id===Jn)||null,indicatorMetadata:Jn?(()=>{const L=it.find(ge=>ge.id===Jn);if(!L)return;const F=L.indicatorType.name,Z=Pt[F];if(!Z||!Z.parameters)return;const de=Array.isArray(Z.parameters)?Z.parameters:Object.entries(Z.parameters).map(([ge,xe])=>({name:ge,type:xe.type,default:xe.default,min:xe.min,max:xe.max,step:xe.step,description:xe.description}));return{...Z.metadata||{},parameters:de,series_metadata:Ee[Jn]?.metadata.series_metadata}})():void 0,onStyleChange:ca,onParamsChange:(L,F)=>{Tt(L,F)},onVisibilityToggle:L=>{it.find(Z=>Z.id===L)&&pt(Z=>({...Z,[L]:{...Z[L],visible:Z[L]?.visible===!1}}))},onRemove:Hu}),f.jsx(vX,{open:fi!==null,onOpenChange:L=>!L&&na(null),indicator:Oe.find(L=>L.id===fi)||null}),f.jsx(WK,{open:c,onOpenChange:u,onSelectSymbol:zu}),f.jsx(lj,{open:w,onOpenChange:S,defaultTab:C})]})]})}function _X(n){return{"1m":6e4,"2m":12e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"4h":144e5,"1d":864e5,"1wk":6048e5}[n]||864e5}function NX(){const{isAuthenticated:n,isLoading:e}=Nl(),[t,s]=p.useState(!1),[r,o]=p.useState("sign-in"),c=Sj(n),[u,h]=p.useState(()=>"LOADING");return p.useEffect(()=>{const m=g=>{g.message.includes("Value is null")&&g.filename&&g.filename.includes("lightweight-charts")&&(g.preventDefault(),console.debug("[Chart] Suppressed lightweight-charts error (edge case during zoom/symbol change)"))},v=g=>{g.reason instanceof Error&&g.reason.message.includes("Value is null")&&g.reason.stack&&g.reason.stack.includes("lightweight-charts")&&(g.preventDefault(),console.debug("[Chart] Suppressed lightweight-charts promise rejection (edge case during zoom/symbol change)"))};return window.addEventListener("error",m),window.addEventListener("unhandledrejection",v),()=>{window.removeEventListener("error",m),window.removeEventListener("unhandledrejection",v)}},[]),qK({isLoading:c.isLoading,symbols:c.symbols},u,h),e?f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx("div",{children:"Loading..."})}):n?u==="LOADING"||c.isLoading?f.jsx("div",{className:"flex items-center justify-center h-screen text-slate-400",children:"Loading chart..."}):f.jsx(Yq,{children:f.jsx(EX,{symbol:u,setSymbol:h})}):f.jsxs(f.Fragment,{children:[f.jsx(AD,{onOpenChart:()=>{},onLoginClick:()=>{o("sign-in"),s(!0)},onGoogleClick:()=>{o("sign-in"),s(!0)},onEmailClick:()=>{o("sign-in"),s(!0)}}),f.jsx(lj,{open:t,onOpenChange:s,defaultTab:r})]})}OO.createRoot(document.getElementById("root")).render(f.jsxs(mK,{children:[f.jsx(wD,{position:"top-right",toastOptions:{duration:5e3,style:{background:"var(--toast-bg, #363636)",color:"var(--toast-color, #fff)"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}}),f.jsx(NX,{})]}));
